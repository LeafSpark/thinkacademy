(function(e){function t(t){for(var o,n,r=t[0],c=t[1],l=t[2],u=0,d=[];u<r.length;u++)n=r[u],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&d.push(a[n][0]),a[n]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);h&&h(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],o=!0,n=1;n<s.length;n++){var r=s[n];0!==a[r]&&(o=!1)}o&&(i.splice(t--,1),e=c(c.s=s[0]))}return e}var o={},n={largeClass:0},a={largeClass:0},i=[];function r(e){return c.p+"static/js/"+({}[e]||e)+"."+{"chunk-06ac8425":"2285f634","chunk-06d6e3d4":"f5428fc1","chunk-0c1aef76":"5542e594","chunk-0d75864e":"11f74a50","chunk-2702196d":"26c31ce4","chunk-30676b10":"bd32be6d","chunk-33b85116":"69f1a042","chunk-3d512d94":"ea614e03","chunk-45555e0e":"2206d74b","chunk-59738786":"86284cca","chunk-5db599bc":"4bca80aa","chunk-62da6eda":"39849ccd","chunk-6d17e221":"3beca26c","chunk-6f1ac684":"7ffa8264","chunk-77313808":"d8defc9e","chunk-bc172820":"98cb14c6"}[e]+".js"}function c(t){if(o[t])return o[t].exports;var s=o[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,c),s.l=!0,s.exports}c.e=function(e){var t=[],s={"chunk-06d6e3d4":1,"chunk-0c1aef76":1,"chunk-0d75864e":1,"chunk-2702196d":1,"chunk-30676b10":1,"chunk-33b85116":1,"chunk-3d512d94":1,"chunk-45555e0e":1,"chunk-59738786":1,"chunk-5db599bc":1,"chunk-62da6eda":1,"chunk-6d17e221":1,"chunk-6f1ac684":1,"chunk-77313808":1,"chunk-bc172820":1};n[e]?t.push(n[e]):0!==n[e]&&s[e]&&t.push(n[e]=new Promise((function(t,s){for(var o="static/css/"+({}[e]||e)+"."+{"chunk-06ac8425":"31d6cfe0","chunk-06d6e3d4":"bee1c60f","chunk-0c1aef76":"bb60185e","chunk-0d75864e":"0ac66689","chunk-2702196d":"0906726f","chunk-30676b10":"19621ed9","chunk-33b85116":"c7044783","chunk-3d512d94":"dc899aec","chunk-45555e0e":"2c6527a3","chunk-59738786":"ee643c42","chunk-5db599bc":"6d2f3770","chunk-62da6eda":"37aaddfe","chunk-6d17e221":"b131c954","chunk-6f1ac684":"fbe1611d","chunk-77313808":"94407e3f","chunk-bc172820":"8351e196"}[e]+".css",a=c.p+o,i=document.getElementsByTagName("link"),r=0;r<i.length;r++){var l=i[r],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===o||u===a))return t()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){l=d[r],u=l.getAttribute("data-href");if(u===o||u===a)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var o=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete n[e],h.parentNode.removeChild(h),s(i)},h.href=a;var m=document.getElementsByTagName("head")[0];m.appendChild(h)})).then((function(){n[e]=0})));var o=a[e];if(0!==o)if(o)t.push(o[2]);else{var i=new Promise((function(t,s){o=a[e]=[t,s]}));t.push(o[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=r(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(h);var s=a[e];if(0!==s){if(s){var o=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+o+": "+n+")",d.name="ChunkLoadError",d.type=o,d.request=n,s[1](d)}a[e]=void 0}};var h=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=o,c.d=function(e,t,s){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(s,o,function(t){return e[t]}.bind(null,o));return s},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="./",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var h=u;i.push([0,"chunk-vendors","chunk-common"]),s()})({0:function(e,t,s){e.exports=s("ce8d")},"0224":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYBAMAAACDuy0HAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAqUExURUdwTBSE5BSE5Q+G6hSE5Q+G8hSD5RSE5RSF5RKB4xSF5RSD5RSF5RSF5R3hsmUAAAANdFJOUwCS6Rb5BbNXeDar09MVx7XRAAABEElEQVRIx+3Xvw7BUBQG8EvTWA2MTQiJSSLegFgMEiLECxgl4hFsHWwGiyfAYLBIvICNNOJPzrtITiltVL+zGOR+8y/NzelwvqPUM7Nlnj6kurdVMO0xhcXJlvzWsCg8tYpfj+hrCu+2RRFJv6w5iMKnpoe7FJm+h61ofHjaBAEZPnAZwTn8Fd47jAaCHffHxCBMScZxyDoZxlMIU53xBMNnxisMXxnvMHxjXMTwkTE2OXIYExiNNdZYY401/kcsWpqidSxa9KIKISoncwxf3EKFjWPDuId92a1qBjZmtwSaknopK66iSiwq27IaLzoQRKeH7KhRRuqbrQSPq/BDjNYBq8zObPH5xNvaTaXz09wBJLUrWlJ9+nYAAAAASUVORK5CYII="},"026a":function(e,t,s){e.exports=s.p+"static/media/open.808a35b3.mp3"},"030f":function(e,t,s){"use strict";var o=function(){var e=this,t=e._self._c;return e.visible?t("div",{staticClass:"progressContainer"},[t("div",{staticClass:"progress"},[t("div",{staticClass:"progress-text"},[e._v(e._s(e.$t("common.uploading"))+"… "+e._s(e.percent)+"%")]),t("a-progress",{attrs:{percent:e.percent,"stroke-color":{"0%":"rgba(255,213,24,1)","100%":"rgba(255,170,10,1)"},strokeWidth:4,showInfo:!1}})],1)]):e._e()},n=[],a=(s("a9e3"),{name:"photoWallProgress",props:{visible:{type:Boolean,default:!1},percent:{type:Number,default:0}},methods:{}}),i=a,r=(s("4dec"),s("2877")),c=Object(r["a"])(i,o,n,!1,null,"38106901",null);t["a"]=c.exports},"0504":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAcCAMAAABMOI/cAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAzUExURUdwTP+rC/+qCv+rCP+pCv+rAP+qCf+rCv+qCP+qCv+rCP+rCv+tCP+rCv+rCP+rCv+rCiEaMUEAAAAQdFJOUwAq/m3JDpZ+9kNY5TrFHni/d9yZAAAAj0lEQVQoz9XSQQ6EIAwF0FKggIr2/qcVKCjONHG2w8KY/74NGADelyEyWp4ic0x6rkmKyJpI/1tG/1Pu/lPm/izSRxyPIb3vqKaUcYiRvvOhRBi8k28MUHtxHipwgC4kUHII3KALlVHIueQXgM9tFOx2aZu7AGCx+3T6CZ7rz+CocCiw1b+7aRfLrqv94V6eU2oNVnwN9MUAAAAASUVORK5CYII="},"0555":function(e,t,s){e.exports=s.p+"static/img/icon_flower_r.5dab610e.png"},"0745":function(e,t,s){},"0781":function(e,t,s){"use strict";s("7a0d")},"0a05":function(e,t){e.exports=require("constants")},"0e0e":function(e,t,s){"use strict";s("cd21")},"0ee3":function(e,t,s){"use strict";s("6530")},"14c2":function(e,t){e.exports=require("zlib")},"15c3":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAMAAABGS8AGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAACrUExURUdwTESr/0Wr/0Sp/0Sp/1vF/kSp/1Ot/0ms/0Wp/0Ks/UWt/kuv/ESr/0Wr/zyh90Op/0Sr/0Ws/0aq/0Sq/0as/0Sr/0Sq/0Sq/0Wq/0Sr/wBjvUGm/AFjvkKo/gZow0Op/0Op/0Sr/xB1zkWq/wZpxEar/0Cm/ABlvxF1z0ap/xh81gttyC+U7AttyQVowySK4ANlwDCV7SSL4whsyQBkvwBivQBkvQRowb+LDOIAAAA1dFJOUwDnmsg4AvkGF2QSDgkdWybfNTwsqjJ8w1KPSvnx7bzEzdKX+IRub62r4WL6P7HTlvii+d8cDoKygAAAA9tJREFUWMPtmVtzokAQhSPKDgz3iwiMYBQ1apIyN2b8/79sm2vAYERh94m2tHxovjoeZizm9MPDefEvx10QUEbbFSHB7vjCP1wp/usYUAL9jLKsmnGsrKSb0OD49Tv2Pb8uFcyyL6yhira8M6n3r0uy+YcNKbk3VXZVsOGb0fKO3IyswAH/LjXpxYvLv7wVF8gL/EMzLy3u8OCH5oV8RubRrnavs4qvVIPVuzqZR5ua3pjFbcF5a0neoCoZaaTmQpxCr//6tKnWR4mGKnqlXc3e+KrWmu64ZvNOKjXz6KWy0G6jnrEBQ14Km3mEj9V1Ft9RFc3siHPJvKwFFSPiuCM50HLJCG8I68j9JoPCjYQywcqRfTscdyUzclRSyQhri1N3boW8sFLJSDBKi+MuiuPCimAqoNQJk3R2uO6FmXgBa8Ivtl3cDVygia9JAMaWy1gP3IIMGl0LwAhbark9OoKzPyJGVQsjuHfT/sHJ3eMF48D6WG2VPXIwhESxIdJeTC7XGxUz8ETMN17cFRzn//biJAcX26MXMKuC6QAewAN4AA/gATyAB/AA7h38zx4Kab+PsWdW9PTgXbeix6PCfwL3eByrgFmvN4+yEkxYj4d0SkkJDhilvR3SKQ1ysCHuaZ+xAt3nxzHjsDj1F4TA/likB0gejryvjNK+ohs4/L8ekiNvckj3CGO0n7AJFBLPneIsVnD2tKPmKne/dq0ELGm+81qR3C3QA8qr4ytJECIr5pbbs2oYe38ECYw9t02jmzSw8GaMUdo9NAV1p5mXxhVJ1G35ztMnqw4L7ot5k+vp55PjaxhlgZ4prsKIsB/J9M3BNKNRuBIzJ5JED9aF/Rgx2hB63zJagHf0aDuuhVEemoJkL9Qjytjd6GzKES1DDwRLfBHzWv6WS8n3is4ui/Qxt/WtIuYFyYKhOvZYfyN5D2Ws3YCB5jF3es2bPrYdWBLyd+ItKRN1DeT5c3W4xM7nSg0jobKDPs/1mb1WJ4pUif+RpJlAni1HH8+n34ZXzfMs+Hiej5YJ19QkVBtXYCA7XLjUR/OPt+h0ru2X8Rg7RW8f85G+DDkHuBjVByEy1ibudgWiAT3/c0vN/4wAO3vyturknJv5bPiis7LD8XKp6yN91KqgUdeX49BeOaI/rfn7TRYs0xUdj7PDcDabjdu8xtAY2jbnOaJrWkIDNyHLWAG0unXWnrdarbgWBW2et3a2KmAVLF8Y6KVobWr6rqsexJZ1UFXXNw1NwSD34gwS0JKgKNbUMIxJqzKMqWVpioDly9gcDWyMsdC+sCRdoZbwBF+W/Ms7Kb4Z+hejAijwNBe/BgAAAABJRU5ErkJggg=="},1643:function(e,t,s){"use strict";s("4054")},1648:function(e,t,s){},1653:function(e,t,s){e.exports=s.p+"static/img/level-3.f0bb17a6.png"},"16ea":function(e,t,s){e.exports=s.p+"static/img/level-2.9c563624.png"},"16ff":function(e,t,s){"use strict";s("3837")},"171e":function(e,t,s){e.exports=s.p+"static/media/success.f25a37b9.mp3"},1790:function(e,t,s){},"1b52":function(e,t,s){e.exports=s.p+"static/img/icon_empty.92f4b8be.png"},"1c4c":function(e,t,s){"use strict";s("eb7b")},"1cc0":function(e,t,s){e.exports=s.p+"static/media/click.50f3e642.mp3"},"1cc8":function(e,t,s){e.exports=s.p+"static/img/em_2.2e71ba64.png"},"1e3a":function(e,t,s){e.exports=s.p+"static/img/em_4.52bb58d6.png"},"20a8":function(e,t,s){},"217d":function(e,t,s){"use strict";var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"audio-waves",class:[e.skinClass,e.size]},[e.animation?t("div",{staticClass:"waves-wrapper"},[t("span",{staticClass:"waves-item waves-animation waves1",class:e.animationTypeClass}),t("span",{staticClass:"waves-item waves-animation waves2",class:e.animationTypeClass}),t("span",{staticClass:"waves-item waves-animation waves3",class:e.animationTypeClass}),t("span",{staticClass:"waves-item waves-animation waves4",class:e.animationTypeClass}),"large"===e.size?t("span",{staticClass:"waves-item waves-animation waves5",class:e.animationTypeClass}):e._e(),"large"===e.size?t("span",{staticClass:"waves-item waves-animation waves6",class:e.animationTypeClass}):e._e()]):t("div",{staticClass:"waves-wrapper"},[t("span",{staticClass:"waves-item default-bg waves1"}),t("span",{staticClass:"waves-item default-bg waves2"}),t("span",{staticClass:"waves-item default-bg waves3"}),t("span",{staticClass:"waves-item default-bg waves4"}),"large"===e.size?t("span",{staticClass:"waves-item default-bg waves5"}):e._e(),"large"===e.size?t("span",{staticClass:"waves-item default-bg waves6"}):e._e()])])},n=[],a={props:{animation:{default:!1,type:Boolean},animationType:{default:"liner",type:String},size:{default:"large",type:String},skin:{default:"orange",type:String}},computed:{skinClass:function(){return console.info("对象函数 skinClass,filePath:renderer/components/Common/AudioWaves.vue"),"skin-".concat(this.skin)},animationTypeClass:function(){return console.info("对象函数 animationTypeClass,filePath:renderer/components/Common/AudioWaves.vue"),"animation-".concat(this.animationType)}}},i=a,r=(s("29df"),s("2877")),c=Object(r["a"])(i,o,n,!1,null,"1051bd64",null);t["a"]=c.exports},"23ef":function(e,t,s){},2457:function(e,t,s){},"27cf":function(e,t,s){},2849:function(e,t){e.exports=require("http")},"29df":function(e,t,s){"use strict";s("5ddf")},"2a04":function(e,t,s){},"2be0":function(e,t,s){e.exports=s.p+"static/img/em_11.f698fa9e.png"},"2c82":function(e,t,s){},"2c822":function(e,t,s){},"2d85":function(e,t,s){e.exports=s.p+"static/media/show.ce928199.mp3"},"2eee":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABjUExURUdwTObm79/j6N7f5t/j593d597j59/j6N/j5+Hj6N7k6eDm6d/k6N7j5+Dj6N/j6ODl6t7j6N/j593q6t/j5+vr69/j6N/j597i6eDj6eDj6Obm5t/j597j597i593h69/j5xE2Z9QAAAAgdFJOUwAL6x77Ft021EJXI0v2X70ZjMkGswKomz9sLhSCmOQ8Fss2KwAAAWFJREFUOMvtldmSgyAQRTFihLgv7TaG8P9fOS0ugFGSVKrmaVpLy/Kgze3mQsh/7MNrEypP4jJWNlxLVxQW6ztZmVifDt2w/PkEDr6DacE57+wjbk/gBoAQdRoHlMdwcViB5hgW0QEbJicTpGyOcrsw5lSDSjrf9PV76T6CkzQPlhgyG86f4Ba2Z9h1lkifdNYwyfeJNBXYacTbc772d9nzLm0nrTN4MUERY72x5j5DEUdwwsJfXt+U4JELplyz16uUd3DAtcH6N1y4LjgFzRIPMxkccGiwhGBLxQ44AoMluAgWaRf4cr9FnopKSMlNFi7rr0iOGYmWTyNhc53RYMmA6qztxEduGQn0ONrTLLljDY3X9nIKsMSZZju6qXMU4zSJlX1gxqw699Vq8oDyoZywwO8mAzhcOFCLVWQZm1vyhWc3WvNr+MLgAXitXEOyvnpjQwCPp2kcvbl9wBR/sU/9ArkPW2rk6DWrAAAAAElFTkSuQmCC"},"300d":function(e,t,s){},3030:function(e,t,s){"use strict";s("baaf")},3284:function(e,t,s){},"32a8":function(e,t,s){e.exports=s.p+"static/img/em_17.cc58f62b.png"},"348c":function(e,t,s){e.exports=s.p+"static/img/level-5.2d6ac9b7.png"},"34bb":function(e,t){e.exports=require("electron")},"34e1":function(e,t,s){"use strict";s("2a04")},"352b":function(e,t){e.exports="data:image/png;base64,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"},"35b6":function(e,t,s){"use strict";s("0745")},"35ee":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAwUExURUdwTP+rCP+rCP+rCP+rCv+qCP+qCf+rCv+rCP+rCP+rCP+pCP+rCP+rCv+vCv+rChkkFIAAAAAPdFJOUwDzGTz6bY/lt8VO85vhMGrfPZQAAADGSURBVBjTY2BgYGCKKPFtVWAAA6Yj/4HAB8Jb/d8zNWzK/10gNut/N6AgU8r/ACBn/d8HEDEvoND+S2DF1v9/KzDwfAFLMO/fuv8Ag8o3iMRvg3wnhngniMRmBv2vDP0ToBIMnD8Y6hOgEgxsfxn2g4y3/mgANPwLg38AVALEASkD6QAq+w4yACIBMgBoNESCQeUr0FKoBAPQUp4v0RAJPv8DQIf+h0joAh3KsATsEQa++15gj2xDeA7F26gBAgyqK+7goAIAOoxW60CbPMAAAAAASUVORK5CYII="},3605:function(e,t,s){e.exports=s.p+"static/img/icon_flower_l.e1cd1cbd.png"},3646:function(e,t){e.exports=require("buffer")},"36e9":function(e,t,s){"use strict";var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"photoShotContainer"},[t("div",{staticClass:"tools"},[t("div",{staticClass:"graffitiTools"},[t("i",{staticClass:"icon draw select",on:{click:e.graffitiDraw}},[e._v("画笔")]),t("i",{staticClass:"icon eraser",on:{click:e.graffitiEraser}},[e._v("橡皮擦")]),t("i",{staticClass:"icon prev",on:{click:e.graffitiPrev}},[e._v("上一步")]),t("i",{staticClass:"icon next",on:{click:e.graffitiNext}},[e._v("下一步")])]),t("div",{staticClass:"userTools"},[t("div",{staticClass:"goCamera",class:e.disableCamera,on:{click:e.goCamera}},[t("span",[e._v(e._s(e.$t("classroom.interactions.photoWall.cameraBtnName")))]),t("a-icon",{attrs:{type:"caret-right"}})],1),t("a-button",{staticClass:"submit-btn",attrs:{shape:"round"},on:{click:e.confirmSubmit}},[e._v(e._s(e.$t("common.submit")))])],1)]),t("div",{staticClass:"graffitiContainer",attrs:{id:"graffitiContainer"}}),t("photoWallDialog",{attrs:{cancelText:e.$t("common.cancel"),confirmText:e.$t("common.submit"),visible:e.dialogVisible,content:e.dialogContent},on:{cancel:e.cancel,confirm:e.confirm}})],1)},n=[],a=s("c7eb"),i=s("1da1"),r=(s("d3b7"),s("159b"),s("99af"),s("6e4d")),c=s.n(r),l=s("e39c"),u=s("75b9"),d=s("e417"),h=s("d0db"),m={name:"photoShotGraffiti",props:{cameraAccess:{style:Boolean,default:!1},closeInteractive:{style:Boolean,default:!1},options:{type:Object,default:function(){return{}}}},data:function(){return{graffiti:null,dialogVisible:!1,dialogContent:null,dialogDescription:null,graffitiInit:{dom:"graffitiContainer",width:840,height:630,quality:.8,lineColor:"#FFCF1B",background:"#111111",lineSize:2}}},components:{photoWallDialog:u["a"]},mounted:function(){var e=this;this.$nextTick(Object(i["a"])(Object(a["a"])().mark((function t(){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.a.init(e.graffitiInit);case 2:e.graffiti=t.sent,e.graffiti.setAttribute("class","penCursor"),c.a.draw();case 5:case"end":return t.stop()}}),t)}))))},computed:{disableCamera:function(){return console.info("对象函数 disableCamera,filePath:renderer/components/Classroom/CommonInteractions/photoWall/components/graffiti.vue"),!this.cameraAccess&&"disabled"}},methods:{setClass:function(e){console.info("对象函数 setClass(target)",e,"filePath:renderer/components/Classroom/CommonInteractions/photoWall/components/graffiti.vue"),e.parentNode.children.forEach((function(e){Object(l["y"])(e,"select")})),Object(l["a"])(e,"select")},goCamera:function(){console.info("对象函数 goCamera,filePath:renderer/components/Classroom/CommonInteractions/photoWall/components/graffiti.vue"),h["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"点击切换到相机",disableCamera:this.disableCamera}}),c.a.destroy(),this.graffiti=null,this.$emit("changeTakePhotoWay","camera")},graffitiDraw:function(e){console.info("对象函数 graffitiDraw(e)",e,"filePath:renderer/components/Classroom/CommonInteractions/photoWall/components/graffiti.vue"),h["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"选择画笔"}}),this.setClass(e.target),this.graffiti.setAttribute("class","penCursor"),c.a.draw()},graffitiEraser:function(e){console.info("对象函数 graffitiEraser(e)",e,"filePath:renderer/components/Classroom/CommonInteractions/photoWall/components/graffiti.vue"),h["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"选择涂鸦橡皮擦"}}),this.setClass(e.target),this.graffiti.setAttribute("class","eraserCursor"),c.a.eraser(20)},graffitiPrev:function(){console.info("对象函数 graffitiPrev,filePath:renderer/components/Classroom/CommonInteractions/photoWall/components/graffiti.vue"),h["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"选择涂鸦上一步"}}),c.a.prev()},graffitiNext:function(){console.info("对象函数 graffitiNext,filePath:renderer/components/Classroom/CommonInteractions/photoWall/components/graffiti.vue"),h["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"选择涂鸦下一步"}}),c.a.next()},createImage:function(){var e=this;return Object(i["a"])(Object(a["a"])().mark((function t(){var s;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 createImage,filePath:renderer/components/Classroom/CommonInteractions/photoWall/components/graffiti.vue"),t.next=3,c.a.createImage();case 3:s=t.sent,0===s.errCode&&e.$emit("photoData",s.data);case 5:case"end":return t.stop()}}),t)})))()},confirmSubmit:function(){console.info("对象函数 confirmSubmit,filePath:renderer/components/Classroom/CommonInteractions/photoWall/components/graffiti.vue"),h["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"点击提交涂鸦按钮"}}),this.dialogContent="\n        ".concat(this.$t("classroom.interactions.photoWall.confirmNotice")[0],"<br>\n        ").concat(this.$t("classroom.interactions.photoWall.confirmNotice")[1],"\n      "),this.dialogVisible=!0},cancel:function(){console.info("对象函数 cancel,filePath:renderer/components/Classroom/CommonInteractions/photoWall/components/graffiti.vue"),h["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"点击弹窗取消提交"}}),this.dialogVisible=!1},confirm:function(){var e=this;return Object(i["a"])(Object(a["a"])().mark((function t(){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 confirm,filePath:renderer/components/Classroom/CommonInteractions/photoWall/components/graffiti.vue"),h["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"点击弹窗确认提交"}}),e.dialogVisible=!1,t.next=5,e.createImage();case 5:Object(d["e"])("hw_classroom_interact_photograph_submit",e.options.roomMessage.roomInfo.commonOption,{interact_id:e.options.ircMsg.interactId,submit_type:2}),e.$emit("submit");case 7:case"end":return t.stop()}}),t)})))()}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/components/Classroom/CommonInteractions/photoWall/components/graffiti.vue"),c.a.destroy(),console.log("Graffiti destroy")},watch:{closeInteractive:function(e){console.info("对象函数 closeInteractive(val)",e,"filePath:renderer/components/Classroom/CommonInteractions/photoWall/components/graffiti.vue"),e&&(h["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"监听关闭互动，创建涂鸦图片"}}),this.createImage())}}},p=m,f=(s("c6a1"),s("2877")),v=Object(f["a"])(p,o,n,!1,null,"4eba0760",null);t["a"]=v.exports},"36fe":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAABMCAMAAADwSaEZAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAGbUExURUdwTP////////////////////////////////////////////////////////////////////////////////////////////+tDf85Z/87cf+PHv+6GMHH0f+1Ev6GIf/IKf81XC+N//+nA7e9yf/DIP8+ef+dG6uzwfgqR7vBzUe+//+9HP/89//HJLO7x//BHjed/7G3w/f5+/+VHD6r///PLCiA/z2h///pzv/pwFXU/6OruwZm2v6RPkS3///XMyKX7bTs//9CiTSX//9Ag//ROEKx/4eUq0zF/52ltSyH//0wUuTw+Qd04SBnzk7L//VMSEyP/t3f5SR4/5WfsQZe1a/h///n6//12v/NKP+3JDKT//96pf9+sRbvaf90l/18JP/Fjzyn/5HZ/xLvhQ7vnQztq//17z6t///H2Qjrx/+fPARW0wXq3v+Yw0/iSTbilP+uX//PcP/r8cnR0//HUv/Zl//l5ZXROkK1//dAUNXZ3wrvt/9QaP/drWSx//9ehzzjbEaFy4u129HV3f+vNrPBNAh840ol6zAAAAAXdFJOUwAefJE9B7Uu9+zl1/uPUGbBNqsO39DLbf0MuwAABNZJREFUWMOt2PlbIjcYB/DhEkQRPHBATikqIlPkWhXxoLKeqF28RSziRdXV1a26du9ud9s/u0lgrEzeDODD+5PPMH6ebyaZTBKOkyuN2mhoMnc163TNXeYmg1Gt4Z5Z7UqTjpeUzqRsr19SKFt4RrUoFXVR2g5etjq0tVNNfNVqqo3rVLXyNVSrqrO61abnayx9WxVKo+LrKJXsSFF083VVt0y/avV8naVn9oO6ma+7mtUMSyfzT0JxLH5fuCtSP+hATQvmEnbin+/f3mWzlp9wxYFsQEsV9PMS3t657QEnLouFifF6qhc0QD/u9PUFAvaA3WnBmIWF8d3SEQKNL4QNDwfsqJyiFofHm2TcQ/fs/FzWnE57WYsLoFbxLnTqYcyNG4q0rPjY4ozh1lmlkQhzu3E2rNmdWRItznqxnowKaJ4QtsfcqB41pxzW+v/4kMxfZ/n810+f3g++eoGiidmcD28eHv65XV6OwPPbYzDJD/ne3nRvenDw1TTS+twYCwQsb35DlVwf2ct8+XJ0tCU1xWjSOTpv7UVcGiXb3d3F2XCXYuz4JLm+5PGkQqHR2JZ0Ji+PfWnknBVrJNmLXdRSd19gOGv56/j45CQ5suTZC4Visd+lGF96D5TSy/kerKUJRjSUDWMnp6dJEmw0NjdFYUqCUd+0HMKsBJueLWl9AefA9enpx/MkCXYYm/uTwlrIt5anMaIhbBZnw+MDJbv+eH5+mdzzpDKHsdgUnYxvh1rJ5/qJNvh+erZcbnc2e31+eXmZKgebGqIx3E4TgGEN9QCqdwIuPiIUM+vrI0tLntQoemJzQ0O/UP9mQnMPPb/u9/f3W1G2NMbEixGCeVKpUjAA02k4NT2acy+RhhtqTae3H69mSsFCo4foiS0s0M3k1ZyRvrj/Emk9/VizVmKePdLKqaGFX+lkvJEzMLBSJ/Q+wcrBYgRbADADByxS9mdmSLYeKYaDZUrBxregl90MYjNiNoIJEVQY8+DHP4UxqJlmrou+eDVTjoZ6gWD+xY2N+dXNzYmJlZV/k7iR4+MA1sUBX8vts6ur/dzXGRztD3whnFicF7GVJGklhDVz7M+4IGyfnZG/wosYe40wpCVJMAjTcboaFhTBxCJq5uuShrDx8aOjCITVslgJl7DNidXVb9/+Xl5mLWKgDgCSYW1+fiOxmEjcMm/rgoYGVV5fAjM+ny8c9H5g3mbmmmrBiBP2eb1+v3+NvQKHXie6mZhCoYJ+h9/BxgzQi06VH2NBksshgxmhKQh4ZuhhhVEw+WRqaHIEkqFW4mAOuWRocgSmbQgLBr1+L7Ju2ZgJ/KDQWJhgKNnt2rLAuksJfupAzOt1fFiLyN3VDn6EqXKEHd/lIfEjXEM7IxGhenwlvHB5XingJVVFFQuFz/F3xapWB2OxV1FjLpfrwOWanLwpyGJaxjK0ErPZbNg7OJiU3WbLL5BFLCpqctiTBTKnksOiNpetGqaquqkQsSiJ5pLBKjYV8HanhA0QzeaSS9ZWfSNWxgbK2SZraiRriyhiiEPRbEyM2iJCm9cnWFQG0ytq3Vaj7fCPgSjJdsH4Wmrr2fBHdu5vLpAGYzp13UcRkXjh4qaeo4jGHpI09vimsQdLjT3yavBhXGOPCRt8gNngo9UGH/o+6zj6P5pZJ+h/PvSoAAAAAElFTkSuQmCC"},3837:function(e,t,s){},"3b36":function(e,t,s){},"3c93":function(e,t){e.exports=require("crypto")},"3d90":function(e,t,s){"use strict";s("1648")},"3d9b":function(e,t,s){"use strict";s("6bee")},"3de4":function(e,t,s){},"3ed8":function(e,t,s){"use strict";s("aa44")},"3f62":function(e,t,s){e.exports=s.p+"static/img/em_13.455b3233.png"},"3fa5":function(e,t){e.exports="data:image/png;base64,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"},4054:function(e,t,s){},"41cc":function(e,t,s){},"41db":function(e,t){e.exports=require("child_process")},"42cd":function(e,t){e.exports=require("assert")},"42cd9":function(e,t){e.exports=require("net")},"44c2":function(e,t,s){"use strict";s("e80b")},"456d":function(e,t,s){},"45d3":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAACNUExURUdwTP+yCv/BEP/HEf+7Df/GDf/GEP/JEv+8Dv+/D//DEP/AEP+8Dv/AD//DEP+9D/+9Dv/ED//CEP/CEP/HEf/FAP+6Df+8Dv/AD/+1DP++Df/KEf/DEP++D/+5Df/BEP/DEf/FEv+0DP+3Df+/EP+7Dv+9D/+5Dv/BEP/HEv/OFP/LFP+xC//JEv/JFGldl3UAAAAgdFJOUwAV1ELTCBY2QR35V/pfm91LI8S36ALsqoT4Lg7cj99vR10UGQAAAhhJREFUOMvt1dmyojAQBmCO7KsIBlEUEwMElOH9H286iwiI1rmaq2lurOLzL7qbRdP+17KKKMNV0zR1zURRehPVQ2W5OcdpiyuoUVOle1GXmXXbtq2kblb0cRZtYyzxh+yfBcZj9Dx7Hb/0K5sqPceE60vs6LruTCuO+ts7JpgcVkaKNINnLzHBl9UNHHrQ73i/W7H2kXf5hgn2NqKMjTFWCZYucUdEwUim84ZpyJFYc9xJi+UqG4FrNT/6hrnGPBpXrZw2HFwziJ/jAbAXutaPPE5JAJ7VTIVbaIaHboimd5ZcfKNWWYZLfJn83ZI98nB+IfR2MKd4GB7xqK1UNsmSa+yE0ZHSPh1P2o9BFlFtVqLLvSMEcg0Ydo5G/BC8Gzo1Es5LV533jzCS/rlg+y4wn18nxo0r0Ppo621JaTRJVlfy2k6qTvoBK12f9Rl6JXP9pxtIR1S2GpfP2NZFJlz16Ynvd5ndqSahbNGcH9RbF34YjMZLPMhorndIXEMlrGZQqkbL8f1x30f+rijMwjSLM8E6t5WyWsaYrbYLdh/pkxWmBOdgvac9wdqfd7Weg5zeLVd4cgrfa8/SalHNko8vP8sjOMV4q/biBKwOP78qc97mM9fJmsZAnzFKYIaJLjq6eE0TnL5hawPR7T5JN/yZDOKvr2xUHAaxHH5Tnb/lqhmlnngJbq7mr74IehjGu99/QRD6F9+pv8h/aSu8bghcAAAAAElFTkSuQmCC"},4600:function(e,t){e.exports=require("timers")},4747:function(e,t,s){},"480a":function(e,t,s){e.exports=s.p+"static/img/emoji-nav.001568dd.png"},"4a45":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABXUExURUdwTP////+rCv/////////////////////////////bk//WiP/mtf/+/P/cmP+0I/++QP+5Mv+vFf/z3P/fov/89f/46v/EU//tyv/KY//OcP/Tfv+pCkZRH2EAAAAKdFJOUwAM//+79+OCKLOCvqX1AAABnElEQVRIx5WW2bbDIAhFvZhmFDOP5f+/85LUZQdNjKcvproFRUEhjPIsSR/Sq0eaZLn4Vl5IlBdCWXwhmbyhzA7/K+QtFX8GuDmeiQh/PrzKZYTyGIeMU1EGdhP+FeA44skqEs+/y9wRUVOOblciUnf2DQBoV9s7nalwz8/KQ+t1axjqHOIhnPGaxw17o2/YhrMSBxhrAmWaTAxBQBFtdvFEcxCorAFWSx0GAHwSvVc6E40hCwws9qMhCLo0AFQ23EBtEJgI6sm0N4JnEMCND8VBYMkRmYKAnGoe91SL5ii4YfAAsm/JCEp5BzjOBPCv03gDwMOVY36CbutDgKrJarcC23gJVPtNaKpB7dLrfo/a6QLgg0Rzb9Mj72wHP4T4Oamg3S2b8QTgq0DaF5bhBKiIVk9G4AuLfqAF6D1hmeHjhlhAac0G6sqjlTdCaz19AerYd6BzQWOAxxu41mzSjElki1JDeS4O4yt3pjZVIl4VOdubxJSTVzKOS/eYxxcUkWNkyYouivFlN76ws1d43x/7OAlN77xnbj5//gEIyDXCdC6yKAAAAABJRU5ErkJggg=="},"4a82":function(e,t,s){"use strict";s("7c49")},"4b5d":function(e,t,s){var o={"./components/LargeEmojiPane/imgs/emoji-nav-normal.png":"0224","./components/LargeEmojiPane/imgs/emoji-nav-selected.png":"15c3","./components/LargeEmojiPane/imgs/emoji-nav.png":"480a","./components/LargeEmojiPane/imgs/icon_emoji_normal.png":"da52","./components/LargeEmojiPane/imgs/icon_emoji_selected.png":"c836","./components/LargeEmojiPane/imgs/icon_send.png":"0504","./components/LargeEmojiPane/imgs/lock.png":"352b","./components/LargeEmojiPane/imgs/over-show.png":"6060","./icons/em_1.png":"9e3a","./icons/em_10.png":"62bb","./icons/em_11.png":"2be0","./icons/em_12.png":"64c2","./icons/em_13.png":"3f62","./icons/em_14.png":"7648","./icons/em_15.png":"9e93","./icons/em_16.png":"909f","./icons/em_17.png":"32a8","./icons/em_18.png":"75ac","./icons/em_19.png":"5497","./icons/em_2.png":"1cc8","./icons/em_3.png":"5479","./icons/em_4.png":"1e3a","./icons/em_5.png":"f1687","./icons/em_6.png":"609f","./icons/em_7.png":"6169","./icons/em_8.png":"e9da","./icons/em_9.png":"7960","./img/avatar_default.png":"36fe","./img/icon-close.png":"9f7b","./img/icon-closed.png":"35ee","./img/icon-face-normal-hover.png":"ed04","./img/icon-face-normal.png":"9f8f","./img/icon-goback.png":"d9e5","./img/icon-more-bottom.png":"a6c9","./img/icon-private-msg-num.png":"c163","./img/icon-teacher-only-hover.png":"45d3","./img/icon-teacher-only.png":"2eee","./img/icon-teacher.png":"4a45","./img/send_error.png":"cbde","./img/toast-header.png":"e741"};function n(e){var t=a(e);return s(t)}function a(e){if(!s.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=a,e.exports=n,n.id="4b5d"},"4d4b":function(e,t,s){},"4dec":function(e,t,s){"use strict";s("c17f")},"4f1b":function(e,t,s){},"524e":function(e,t,s){},"525f":function(e,t,s){"use strict";s("20a8")},5479:function(e,t,s){e.exports=s.p+"static/img/em_3.0789b952.png"},5497:function(e,t,s){e.exports=s.p+"static/img/em_19.139186c1.png"},5880:function(e,t){e.exports=Vuex},"58cb":function(e,t,s){"use strict";s("9b27")},"59e3":function(e,t,s){},"5afe":function(e,t,s){},"5cbb":function(e,t,s){"use strict";s("2c82")},"5ddf":function(e,t,s){},"5eb4":function(e,t,s){"use strict";s("4747")},"5ef7":function(e,t,s){"use strict";s("6847")},"5fc8":function(e,t,s){"use strict";s("3284")},6060:function(e,t,s){e.exports=s.p+"static/img/over-show.53e69424.png"},"609f":function(e,t,s){e.exports=s.p+"static/img/em_6.c66380ca.png"},"60a9":function(e,t,s){e.exports=s.p+"static/media/show-rank.dc1df50e.mp3"},6126:function(e,t,s){},6169:function(e,t,s){e.exports=s.p+"static/img/em_7.965030f8.png"},"62bb":function(e,t,s){e.exports=s.p+"static/img/em_10.76e6ce92.png"},"64c2":function(e,t,s){e.exports=s.p+"static/img/em_12.5a40d8d2.png"},6530:function(e,t,s){},6847:function(e,t,s){},"68cb":function(e,t,s){"use strict";var o=s("5530"),n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mask"},[t("div",{ref:"rainCoin",style:Object(o["a"])({width:"".concat(e.getCoinWidth,"px"),height:"".concat(e.getCoinHeight,"px")},e.getCoinMargin)},[t("lottie-player",{attrs:{id:"wallCoinPlay",mode:"normal",autoplay:"",src:"./lottiefiles/redRain/coin/index.json"},on:{complete:e.onLottieComplete}})],1),t("Coin",{attrs:{x:e.coinX,y:e.coinY,coin:e.rainCoin}}),t("audio",{ref:"coinFly",attrs:{src:s("f5b3")}})],1)},a=[],i=(s("a9e3"),s("caad"),s("2532"),s("9151")),r=s("612a"),c=s("b047"),l=s.n(c),u={data:function(){return{coinX:0,coinY:0}},props:{rainCoin:{type:Number,default:0}},components:{Coin:i["a"]},computed:{containerSize:function(){return console.info("对象函数 containerSize,filePath:renderer/components/Common/FlyCoin.vue"),location.pathname.includes("largeClass.html")?(this.containerDom||this.setCoursewareAdaptation(),{width:this.containerDom.offsetWidth,height:this.containerDom.offsetHeight}):{width:r["a"].state.smallClass.coursesPosition.width,height:r["a"].state.smallClass.coursesPosition.height}},getCoinWidth:function(){console.info("对象函数 getCoinWidth,filePath:renderer/components/Common/FlyCoin.vue");var e=this.containerSize.width/this.containerSize.height;if(e>1.046){var t=229/572*this.containerSize.height;return 1.046*t}var s=240/763*this.containerSize.width;return s/1.046},getCoinHeight:function(){return console.info("对象函数 getCoinHeight,filePath:renderer/components/Common/FlyCoin.vue"),this.getCoinWidth/1.046},getCoinMargin:function(){return console.info("对象函数 getCoinMargin,filePath:renderer/components/Common/FlyCoin.vue"),{top:"".concat((this.containerSize.height-this.getCoinHeight)/2,"px"),left:"".concat((this.containerSize.width-this.getCoinWidth)/2,"px")}}},mounted:function(){var e=this;this.$nextTick((function(){var t;location.pathname.includes("largeClass.html")&&window.addEventListener("resize",e.setCoursewareAdaptation);var s=e.$refs.rainCoin.getBoundingClientRect(),o=s.left,n=s.top,a=s.width,i=s.height;e.coinX=o+(a-59)/2,e.coinY=n+(i-59)/2,null===(t=e.$refs)||void 0===t||null===(t=t.coinFly)||void 0===t||t.play()}))},destroyed:function(){console.info("对象函数 destroyed,filePath:renderer/components/Common/FlyCoin.vue"),location.pathname.includes("largeClass.html")&&window.removeEventListener("resize",this.setCoursewareAdaptation)},methods:{onLottieComplete:function(){console.info("对象函数 onLottieComplete,filePath:renderer/components/Common/FlyCoin.vue"),this.$emit("palyEnd")},setCoursewareAdaptation:l()((function(){var e=document.getElementById("interactionController");this.containerDom={offsetWidth:e.offsetWidth,offsetHeight:e.offsetHeight}}),300,{leading:!0})}},d=u,h=(s("f839"),s("2877")),m=Object(h["a"])(d,n,a,!1,null,"45b0e8e3",null);t["a"]=m.exports},"6a54":function(e,t,s){},"6bee":function(e,t,s){},"6f3a":function(e,t){e.exports=require("url")},"6f51":function(e,t,s){},"712f7":function(e,t,s){"use strict";s("6f51")},"734f":function(e,t,s){"use strict";s("23ef")},"73cb":function(e,t,s){},"75ac":function(e,t,s){e.exports=s.p+"static/img/em_18.ea6914a2.png"},"75b9":function(e,t,s){"use strict";s("a4d3"),s("e01a");var o=function(){var e=this,t=e._self._c;return t("a-modal",{staticClass:"photoShot-modal",attrs:{closable:!1,maskClosable:!1,width:e.width,destroyOnClose:!0,centered:"",zIndex:2021},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[e.title?t("h2",[e._v(e._s(e.title))]):e._e(),e.content?t("h3",{domProps:{innerHTML:e._s(e.content)}}):e._e(),e.description?t("p",{domProps:{innerHTML:e._s(e.description)}}):e._e(),t("template",{slot:"footer"},[t("button",{staticClass:"ant-btn",attrs:{type:"button"},on:{click:e.cancel}},[t("span",[e._v(e._s(e.cancelText))])]),t("a-button",{staticClass:"ant-btn-primary",attrs:{loading:e.loading},on:{click:e.confirm}},[t("span",[e._v(e._s(e.confirmText))])])],1)],2)},n=[],a=(s("a9e3"),void 0),i={name:"dialog",props:{visible:{type:Boolean,default:!0},width:{type:Number,default:380},title:{type:String,default:""},content:{type:String,default:""},description:{type:String,default:""},cancelText:{type:String,default:function(){return a.$t("common.cancel")}},confirmText:{type:String,default:function(){return a.$t("common.confirm")}},loading:{type:Boolean,default:!1},getContainer:{type:String,default:"photoWallContainer"}},data:function(){return{disabled:!1}},methods:{cancel:function(){console.info("对象函数 cancel,filePath:renderer/components/Classroom/CommonInteractions/photoWall/components/dialog.vue"),this.$emit("cancel")},confirm:function(){console.info("对象函数 confirm,filePath:renderer/components/Classroom/CommonInteractions/photoWall/components/dialog.vue"),this.disabled=!0,this.$emit("confirm")}}},r=i,c=s("2877"),l=Object(c["a"])(r,o,n,!1,null,null,null);t["a"]=l.exports},7648:function(e,t,s){e.exports=s.p+"static/img/em_14.80af00b0.png"},"77bc":function(e,t,s){},7960:function(e,t,s){e.exports=s.p+"static/img/em_9.2dfa3031.png"},"7a0d":function(e,t,s){},"7a38":function(e,t){e.exports="data:image/png;base64,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"},"7aac":function(e,t,s){},"7bec":function(e,t,s){e.exports=s.p+"static/media/coin-fly.46908c84.mp3"},"7c49":function(e,t,s){},"7d4f":function(e,t,s){"use strict";s("6126")},"80b7":function(e,t,s){"use strict";s("d6590")},"80d1":function(e,t,s){e.exports=s.p+"static/media/count-down.9e1293e4.mp3"},8239:function(e,t,s){"use strict";s("4f1b")},8292:function(e,t,s){},"82d3":function(e,t,s){"use strict";s("b618")},"832e":function(e,t,s){},8335:function(e,t,s){e.exports=s.p+"static/img/level-6.4a833258.png"},8846:function(e,t,s){"use strict";s("9858")},"8bbf":function(e,t){e.exports=Vue},"8cad":function(e,t){e.exports=require("util")},"8d9f":function(e,t,s){e.exports=s.p+"static/media/interact-fail.55547638.mp3"},"8e57":function(e,t){e.exports=require("os")},"909f":function(e,t,s){e.exports=s.p+"static/img/em_16.5f0faaf1.png"},9151:function(e,t,s){"use strict";var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"coin",style:e.coinStyle},[t("div",{staticClass:"top1",style:e.targetStyle,on:{animationend:e.addCoinStart}}),t("div",{staticClass:"top2",style:e.targetStyle}),t("div",{staticClass:"top3",style:e.targetStyle}),t("div",{staticClass:"mid1",style:e.targetStyle}),t("div",{staticClass:"mid2",style:e.targetStyle}),t("div",{staticClass:"mid3",style:e.targetStyle}),t("div",{staticClass:"bottom1",style:e.targetStyle}),t("div",{staticClass:"bottom2",style:e.targetStyle}),t("div",{staticClass:"bottom3",style:e.targetStyle})])},n=[],a=(s("a9e3"),s("caad"),s("2532"),{props:{x:{type:Number,default:0},y:{type:Number,default:0},coin:{type:Number,default:0}},computed:{coinStyle:function(){return console.info("对象函数 coinStyle,filePath:renderer/components/Classroom/CommonInteractions/redPacket/Coin.vue"),{left:"".concat(this.x,"px"),top:"".concat(this.y,"px")}},getTarget:function(){if(console.info("对象函数 getTarget,filePath:renderer/components/Classroom/CommonInteractions/redPacket/Coin.vue"),location.pathname.includes("largeClass.html")){var e=document.querySelector(".achievement-container .coins-icon");if(e)return{left:e.left,top:e.top,height:26,width:26};var t=document.querySelector(".video-local").getBoundingClientRect(),s=t.left,o=t.top;return{left:s,top:o,height:22,width:22}}return document.querySelector(".icon-coins").getBoundingClientRect()},targetX:function(){console.info("对象函数 targetX,filePath:renderer/components/Classroom/CommonInteractions/redPacket/Coin.vue");var e=this.getTarget,t=e.left,s=e.width;return t-this.x-s/2},targetY:function(){console.info("对象函数 targetY,filePath:renderer/components/Classroom/CommonInteractions/redPacket/Coin.vue");var e=this.getTarget,t=e.top,s=e.height;return this.y-t+s/2}},data:function(){return{targetStyle:{}}},methods:{addCoinStart:function(){console.info("对象函数 addCoinStart,filePath:renderer/components/Classroom/CommonInteractions/redPacket/Coin.vue"),this.$bus.$emit("addCoin",!0,this.coin)}},watch:{x:function(e){console.info("对象函数 x(val)",e,"filePath:renderer/components/Classroom/CommonInteractions/redPacket/Coin.vue"),e&&(this.targetStyle={left:"".concat(this.targetX,"px"),bottom:"".concat(this.targetY,"px")})}}}),i=a,r=(s("ab09"),s("2877")),c=Object(r["a"])(i,o,n,!1,null,"5d63d60b",null);t["a"]=c.exports},"91d3":function(e,t,s){e.exports=s.p+"static/img/level-4.63affa5a.png"},"91ec":function(e,t,s){},9234:function(e,t,s){"use strict";s("8292")},9254:function(e,t,s){"use strict";s("6a54")},"941c":function(e,t,s){var o={"./level-1.png":"967f","./level-2.png":"16ea","./level-3.png":"1653","./level-4.png":"91d3","./level-5.png":"348c","./level-6.png":"8335","./level-7.png":"c218"};function n(e){var t=a(e);return s(t)}function a(e){if(!s.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=a,e.exports=n,n.id="941c"},"954e":function(e,t){e.exports="data:image/png;base64,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"},"967f":function(e,t,s){e.exports=s.p+"static/img/level-1.da1300e7.png"},"96d9":function(e,t){function s(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}s.keys=function(){return[]},s.resolve=s,e.exports=s,s.id="96d9"},9858:function(e,t,s){},"9ac2":function(e,t){e.exports=require("stream")},"9b0f":function(e,t){e.exports=require("fs")},"9b27":function(e,t,s){},"9c56":function(e,t,s){"use strict";s("300d")},"9dc1":function(e,t,s){e.exports=s.p+"static/media/coin-box-tips.4ca42b1b.mp3"},"9e3a":function(e,t,s){e.exports=s.p+"static/img/em_1.9b8121a0.png"},"9e93":function(e,t,s){e.exports=s.p+"static/img/em_15.fca415a1.png"},"9f7b":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0BAMAAAA3VgbYAAAAAXNSR0IArs4c6QAAABhQTFRFAAAA////////////////////////////I36dXwAAAAh0Uk5TACwwNIiWl5mJgXUJAAAAZElEQVQ4y2NgGAUjCYg4gUgVRyxS7qUGDAzM4SXYpMqDGRhMy7FJqZaXGjCHlwdhkQIKB5uWg0zFBKblZekgQ7Frw6GJgcGsvDyZgVQpPAbidgYex+PxMp6AwhO8eCJlFAxfAADH7R6NY15nowAAAABJRU5ErkJggg=="},"9f8f":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABLUExURUdwTP///+Hl6v///+Hl6f///////////////////+3w8+Hl6d/j6ODk6d/j6N/j5+To7Onr7/P19f///9/k6eLm6uTn7Ons79/j519TOaIAAAAYdFJOUwAInRaTFA4aGAQ2reHJ8fxuUScSvIViSJV5UR4AAAGmSURBVEjHnVaLjoQgDFw9haII6una///SA9SzVfHBbDYxhKbTaWn7+RyhMlFCQCky9XkAJUAygLizy0p5gjK78nJqEsyi3oS8gHjpJu5MgbwBHKwy+QA7PZR8BPWO2wnDUj5E+VDriPJKvoA6JVc1Rn9vCe7UbhDRVne6c0cTeuQ3rnYR5Yga0dxExaSD3iB2Bm17LSDPa+sceW/DRYYP7Bq0RYhrlaLNA4qK8uPaTTYopy0W88EXF2iqH6+GwmLjCIz/l9oTI7ET3MngJags4pLgMa/rOq/zCYjoTAdHxvb+Y1ilgOXPlWAn7q5pPLSvCojKx8oOKUb5yKhgRjqaKUbPkWq6GS6/2M15KvyP5onF9J05AbjQvX51OLOLXyBGm+QwkDcB/oX0EtY8WU3rXLAkDUCKMKRqrGeQPAlaRgPabit3jYbGwZ4hLdiJ3uqnPv6gQL4EvOtf2yPc+PVjEcXY8yZW0j4URcN7WEYkj8PsRsfqqr2wMu2umye15aQBkDZq0oZa0vhMG9RpK0Ha8pG25iQuVGmrW+KSuK6jv2Eb/Ymso39yhUyCdLC7GgAAAABJRU5ErkJggg=="},a027:function(e,t,s){"use strict";s("7aac")},a12d:function(e,t){e.exports="data:image/png;base64,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"},a32b:function(e,t){e.exports=require("path")},a5bc:function(e,t,s){"use strict";s.d(t,"d",(function(){return l})),s.d(t,"c",(function(){return u})),s.d(t,"a",(function(){return d})),s.d(t,"b",(function(){return h}));var o=s("c7eb"),n=s("1da1"),a=s("dc21"),i=s("e39c");function r(e,t){return c.apply(this,arguments)}function c(){return c=Object(n["a"])(Object(o["a"])().mark((function e(t,s){var n,r,c;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(i["h"])(),r=n.oversea,e.next=3,Object(a["a"])({url:t,params:s,apiDomain:r});case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}var l=function(){var e=Object(n["a"])(Object(o["a"])().mark((function e(t){var s,n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s="/classroom-hub/playback/student/initEntry",e.next=3,r(s,t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(n["a"])(Object(o["a"])().mark((function e(t){var s,n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s="/api/hub/playback/info",e.next=3,r(s,t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(n["a"])(Object(o["a"])().mark((function e(t){var s,n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s="/classroom-hub/playback/student/getRoomHistoryMessage",e.next=3,r(s,t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(n["a"])(Object(o["a"])().mark((function e(t){var s,n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s="/api/playback/feedback",e.next=3,r(s,t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},a6c9:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABXUExURUdwTP+rCv+rCP+pCP+rCP+rCP+rCP+rCv+rCv+qCv+rCP+rCP+sCv+rCP+sC/+rCP+rCv+qCf+rCv+tAP+rCP+tCP+rCP+pCv+qCP+nCP+rCf+rDP+rCvlNS4gAAAAcdFJOUwBZPO/y69j65Ej3JC9RKjWmZnsPtx7Ry4kadBTPyswQAAAArklEQVQY042QSRaEIAxEo4iAI+Ksdf9zdkCB7l3XKu/nZagi+ltWml9gpCUN1X+zXkHTKKCKzAoFMRJ1EmqKbFKQnS8GnegE6OEpWw1cvriYtXForQFH5IB6DcAt3DuZHgezk+cWRyJsvjewtjvcFf4HyT/MO7DPRKMMH/K3omRqLbNSoAleTIOqfC6W1cuYcmliOyXBQz6Ad1FUCOC1neUDiLazOIBkO6vd6mT7A2AkCruEL1NeAAAAAElFTkSuQmCC"},a6e8:function(e,t,s){},a97f:function(e,t,s){e.exports=s.p+"static/media/interact-success.bd430e73.mp3"},aa44:function(e,t,s){},ab09:function(e,t,s){"use strict";s("5afe")},ac04:function(e,t){e.exports="data:image/png;base64,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"},ae97:function(e,t,s){"use strict";s.d(t,"a",(function(){return f}));var o=s("bee2"),n=s("d4ec"),a=s("262e"),i=s("2caf"),r=s("5530"),c=(s("d9e2"),{Success:0,ParaError:1,TimeOut:2,SeqRepeat:3,GslbServerError:201,AccessServerError:202,AppIDNotExist:6,AppTokenInvalid:7,UnInit:11,UnLogined:12,PathNotExist:13,SendTooFast:14,SendTooLarge:15,TaskTooMuch:16,AlreadyLogined:17,Logging:18,AlreadyInit:19,ParseError:203,NotSupport:99,OtherError:100,PsIdNotExsit:200,NicknameNotExist:401,RoomNotExist:403,JoinTooManyRooms:405,InvalidNickname:204,NicknameAlreadyExist:205,InvalidPassword:206,NotInRoom:442,TargetRoomIsFull:471,RoomData:322,RoomDataEnd:323,RoomUserList:52,KickoutRepeat:301,KickoutRequest:302,RoomUserListEnd:53}),l={Unkown:0,Unavailable:1,ServerFailed:2,Connecting:3,Connected:4,DisConnected:5},u=s("9277"),d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(n["a"])(this,e),this.ircInitOptions=t.ircInitOptions}return Object(o["a"])(e,[{key:"onLogoutNotice",value:function(e){u["a"].emit("chat",{type:"onLogoutNotice",data:Object(r["a"])({},e)})}},{key:"onNetStatusChanged",value:function(e){var t;switch(e.netStatus){case l.Unkown||0:t="Network unknown",u["a"].emit("chat",{type:"serverUnkown",data:{}});break;case l.Unavailable||1:t="Network unavailable",u["a"].emit("chat",{type:"serverUnavailable",data:{}});break;case l.ServerFailed||2:t="Server connection failed",u["a"].emit("chat",{type:"serverFailed",data:{}});break;case l.Connecting||3:t="Connecting",u["a"].emit("chat",{type:"serverConnection",data:{}});break;case l.Connected||4:t="Connection successful",u["a"].emit("chat",{type:"serverConnected",data:{}});break;case l.DisConnected||5:t="Disconnect",u["a"].emit("chat",{type:"disconnect",data:{}});break}var s=this.ircInitOptions,o=s.uid,n=s.roomlist,a=s.planId,i=void 0===a?"":a,r={elem:document.body,params:{live_id:i,uid:o,roomlist:n,loginStatus:e,errmsg:t}};u["a"].emit("logger",{type:"sys",data:{logData:r,logType:"irc"}})}},{key:"onKickoutNotice",value:function(e){e.code!==c.KickoutRepeat&&e.code!==c.KickoutRequest||u["a"].emit("chat",{type:"onKickoutNotice",data:Object(r["a"])({},e)})}}]),e}(),h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(n["a"])(this,e),this.ircInitOptions=t}return Object(o["a"])(e,[{key:"onInteraction",value:function(e,t){if("onRecvRoomMessage"===t);u["a"].emit("interaction",{type:t,data:Object(r["a"])({},e)})}},{key:"onPlayer",value:function(e,t){var s=e instanceof Array?e:Object(r["a"])({},e);u["a"].emit("player",{type:t,data:s})}},{key:"onChatMsg",value:function(e,t){u["a"].emit("chat",{type:t,data:Object(r["a"])({},e)})}},{key:"onLineNum",value:function(e,t){u["a"].emit("room",{type:t,data:Object(r["a"])({},e)})}}]),e}(),m=null,p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(n["a"])(this,e),console.log("irc",t.ircInitOptions),this.options=t,this.isLive=t.isLive,this.ircInitOptions=t.ircInitOptions,this.timeOut=5,this.ircTimer=null,this.inRoom=!1,this.init(),this.listener()}return Object(o["a"])(e,[{key:"beginTimer",value:function(){this.ircTimer=setTimeout((function(){u["a"].emit("exception",{level:"showNotice",data:402})}),1e3*this.timeOut)}},{key:"endTimer",value:function(){u["a"].emit("exception",{level:"closeNotice",data:402}),clearTimeout(this.ircTimer),this.ircTimer=null}},{key:"sendLogger",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u["a"].emit("logger",{type:"customirc",data:{logData:Object(r["a"])({options:this.ircInitOptions},t),logType:e}})}},{key:"sensorPush",value:function(e,t){u["a"].emit("logger",{type:"sensors",data:{logData:t,logType:e}})}},{key:"init",value:function(){var e=this.ircInitOptions,t=(e.roomlist,e.appId),s=e.appKey,o=e.nick,n=void 0===o?"":o,a=e.planId,i=void 0===a?"":a,r=e.liveTypeId,l=e.ircSwitch,d=e.psId,h=e.password,p=e.confService,f=void 0===p?{}:p,v=e.logService,g=void 0===v?{}:v,C=e.location,b={nickname:n,liveId:i+"",businessId:r,classId:"0",location:C||"China"};this.sendLogger("onLiveInfo",{liveInfo:b});var A=window.TalMsgClient,w=new A(t,"v3.2.1");window.ChatClient=m=w.getInstance(1);var S=m.init(t,s);this.sendLogger("ircinit",{code:S});var y="";if(S===c.Success){u["a"].get("_log")("irc 初始化 success");var P=1===l?1:0,k=m.setLiveInfo(b);if(this.sendLogger("setLiveInfo",{code:k}),k==c.Success){var I={confService:{hostname:f.hostname||"chatconf.msg.xescdn.com",url:f.url||"/chat/v1/getConfig",protocol:f.protocol||"https"},logService:{hostname:g.hostname||"log.xescdn.com",url:g.url||"/log",protocol:g.protocol||"https"}},x=m.setSdkProperties(I);if(this.sendLogger("setSdkProperties",{code:x,params:I}),x==c.Success){this.beginTimer();var O=m.loginWithMode(d,h,P,!0);this.sendLogger("loginWithMode",{code:O})}}}u["a"].emit("logger",{type:"sys",data:{logData:{msg:"irc 初始化"+y,liveInfo:b,res:S,strInfo:y},logType:"irc"}})}},{key:"listener",value:function(){if(!m)throw Error("ChatClient is not exist.");this.ChatClientListner(),this.roomListener(),this.peerListener()}},{key:"ChatClientListner",value:function(){var e=this,t=new d(this.options);m.on("onLoginResponse",(function(t){e.endTimer();var s=e.options.ircInitOptions,o=(s.uid,s.roomlist),n=(s.planId,e.options.chatOptions.ircSwitch),a=1===n?2:1;if(e.sendLogger("onLoginResponse",{code:t.code}),t.code==c.Success)if(e.inRoom)console.warn("当前已在irc房间中，无需重复加入");else{var i=m.RoomChatManager.joinChatRoomsWithJoinMode(o,a);e.sendLogger("joinChatRoomsWithJoinMode",{code:i}),m.RoomChatManager.getAllRoomData(o[0]),u["a"].emit("chat",{type:"init",data:Object(r["a"])({},e.options)}),u["a"].emit("logger",{type:"sys",data:{logData:Object(r["a"])({msg:"登录成功后初始化聊天"},e.options),logType:"chat"}}),u["a"].get("_log")("irc login success,开始初始化chat")}})),m.on("onLogoutNotice",(function(e){t.onLogoutNotice(e)})),m.on("onNetStatusChanged",(function(s){t.onNetStatusChanged(s),u["a"].emit("exception",{level:"onNetStatusChanged",data:s}),e.sendLogger("onNetStatusChanged",{code:s.netStatus,res:s})})),m.on("onSDKProvisionStatusNotice",(function(t){u["a"].emit("exception",{level:"onSDKProvisionStatusNotice",data:t}),e.sendLogger("onSDKProvisionStatusNotice",{code:t.status,res:t})})),m.on("onKickoutNotice",(function(s){t.onKickoutNotice(s),e.sendLogger("onKickoutNotice",{res:s})})),m.on=function(){throw Error("不允许继续在ChatClient进行监听事件")}}},{key:"roomListener",value:function(){var e=this,t=m.RoomChatManager,s=new h(this.options);t.on("onNetStatusChanged",(function(e){console.log("ChatClient-onNetStatusChanged",e),console.log("onNetStatusChanged",e),s.onPlayer(e,"onNetStatusChanged")})),t.on("onRecvRoomBinMessageNotice",(function(e){console.log("ChatClient-onRecvRoomBinMessageNotice",e),s.onPlayer(e,"onRecvRoomBinMessageNotice")})),t.on("onGetRoomHistoryBinMessageNotice",(function(e){console.log("ChatClient-onGetRoomHistoryBinMessageNotice",e),s.onPlayer(e,"onGetRoomHistoryBinMessageNotice")})),t.on("onRecvRoomDataUpdateNotice",(function(e){console.log("onRecvRoomDataUpdateNotice",e),s.onInteraction(e,"onRecvRoomDataUpdateNotice")})),t.on("onGetRoomDataResponse",(function(e){s.onInteraction(e,"onGetRoomDataResponse")})),t.on("onRecvRoomMessage",(function(t){console.log("ChatClient-onRecvRoomMessage",t),e.sendLogger("onRecvRoomMessage",{res:t}),s.onInteraction(t,"onRecvRoomMessage")})),t.on("onRecvRoomTopic",(function(e){console.log("ChatClient-onRecvRoomTopic",e),s.onInteraction(e,"onRecvRoomTopic")})),t.on("onJoinRoomResponse",(function(o){e.inRoom=!0,e.sendLogger("onJoinRoomResponse",{code:o.code,res:o}),u["a"].get("_log")("chat join room ".concat(JSON.stringify(o)));var n=e.options.chatOptions,a=n.ircSwitch,i=n.roomlist;1===a&&t.getRoomUserList(i,1),s.onChatMsg(o,"onJoinRoomResponse"),t.getRoomHistoryMessage(i[0],0)})),t.on("onGetRoomHistoryMessageResponse",(function(e){console.log("ChatClient-onGetRoomHistoryMessageResponse",e),s.onChatMsg(e,"onGetRoomHistoryMessageResponse")})),t.on("onJoinRoomNotice",(function(e){console.log("ChatClient-onJoinRoomNotice",e),u["a"].get("_log")("chat 他人进入聊天室通知 ".concat(JSON.stringify(e))),s.onChatMsg(e,"onJoinRoomNotice")})),t.on("onRecvRoomUserList",(function(e){console.log("ChatClient-onRecvRoomUserList",e),s.onChatMsg(e,"onRecvRoomUserList")})),t.on("onLeaveRoomNotice",(function(e){console.log("ChatClient-onLeaveRoomNotice",e),s.onChatMsg(e,"onLeaveRoomNotice")})),t.on("onSendRoomMessageResponse",(function(t){console.log("ChatClient-onSendRoomMessageResponse",t),s.onChatMsg(t,"onSendRoomMessageResponse"),e.sendLogger("onSendRoomMessageResponse",{code:t.code,res:t})})),t.on("onRoomUserCountNotice",(function(e){console.log("room---",e),s.onLineNum(e,"onRoomUserCountNotice")})),t.on("onSendRoomBinMessageResp",(function(t){e.sendLogger("onSendRoomBinMessageResp",{code:t.code,res:t})})),t.on=function(){throw Error("不允许继续在RoomChatManager上监听事件")}}},{key:"peerListener",value:function(){var e=this,t=m.PeerChatManager;t.on("onSendPeerMessageResponse",(function(t){u["a"].emit("chat",{type:"onSendPeerMessageResponse",data:Object(r["a"])({},t)}),e.sendLogger("onSendPeerMessageResponse",{code:t.code,res:t})})),t.on("onRecvPeerMessage",(function(t){e.sendLogger("onRecvPeerMessage",{res:t}),u["a"].emit("interaction",{type:"onRecvPeerMessage",data:Object(r["a"])({},t)})})),t.on=function(){throw Error("不允许继续在PeerChatManager上监听事件")}}}],[{key:"getRoomHistoryBinMessage",value:function(e){var t=e.roomid,s=e.key;m.RoomChatManager.getRoomHistoryBinMessage(t,s,"0",!0)}},{key:"sendPeerMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.content,s=e.chatMsgPriority,o=e.nickname,n=e.psid,a=m.PeerChatManager.sendPeerMessage([{nickname:o,psid:n}],JSON.stringify(t),s);return a}},{key:"sendPeerMessageWithPreMsgId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.content,s=e.chatMsgPriority,o=e.nickname,n=e.psid,a=m.PeerChatManager.sendPeerMessageWithPreMsgId([{nickname:o,psid:n}],JSON.stringify(t),s);return a}},{key:"sendRoomMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.roomlist,s=e.content,o=e.chatMsgPriority;m.RoomChatManager.sendRoomMessage(t,JSON.stringify(s),o)}},{key:"sendRoomMessageWithPreMsgId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.content,s=e.roomlist,o=e.chatMsgPriority,n=void 0===o?99:o,a=m.RoomChatManager.sendRoomMessageWithPreMsgId(s,JSON.stringify(t),n);return console.log("sendRoomMessageWithPreMsgId",a),a}},{key:"kickout",value:function(){m.logout&&m.logout()}}]),e}(),f=function(e){Object(a["a"])(s,e);var t=Object(i["a"])(s);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["a"])(this,s),t.call(this,e)}return Object(o["a"])(s)}(p)},aed8:function(e,t,s){"use strict";s("27cf")},b119:function(e,t,s){e.exports=s.p+"static/img/no-answer-bg.75322e6c.png"},b56f:function(e,t){e.exports=require("original-fs")},b618:function(e,t,s){},b658:function(e,t){e.exports=require("string_decoder")},b7af:function(e,t,s){},b985:function(e,t,s){"use strict";s("bb7f")},ba09:function(e,t){e.exports=require("tls")},ba84:function(e,t,s){},baa6:function(e,t,s){"use strict";s("ec53")},baaf:function(e,t,s){},badc:function(e,t,s){},bb7f:function(e,t,s){},bf2a:function(e,t,s){"use strict";s("2c822")},c0e9:function(e,t,s){"use strict";s("3de4")},c163:function(e,t){e.exports="data:image/png;base64,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"},c17f:function(e,t,s){},c218:function(e,t,s){e.exports=s.p+"static/img/level-7.becf0dcc.png"},c36e:function(e,t,s){"use strict";s("b7af")},c482:function(e,t,s){},c6a1:function(e,t,s){"use strict";s("a6e8")},c704:function(e,t,s){},c79b:function(e,t,s){e.exports=s.p+"static/img/icon_coin.24a2976b.png"},c7c9:function(e,t,s){"use strict";s("41cc")},c836:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAJ8UExURUdwTP7lvP7rxP/w0P7xzv/10/7owP/szP/3zv/vzv7lvvzqv/3ou/735/7u0P3syf7v2P/35/3vz/3tvf3wyvzvyf3ksv3ww//77P3otf3tu//78/3pt/312//Wxe3h1f3tvf3jt//78v/ruf721v/r1P337f/67f/psf/9+f//7//78//77fvvxf/77//Vw//78f/99//9+f3r1f/59f/32f3ruf399////3g8AP/9+f/99////f/9+/344v3tv/733/756f7xzP//+/713f3z0f356//98/388P/78+FSFv/66f312f3z0/3vw//78f335v7z1f/77f3vyP/99f722//87/3xz/zxzP/34f3wxXo9AP/58//7+P3xyf7z2P714f/JyP/U1Pvz1v3twv3rvP/JXv/MzP311/39+fztvP399v/GvP/55f+/u//16v/56/7x0f7s0P/79f355//48Pvuwfzz0/vvyP/54//Y2P/59v/Pz//v3P/s1f/37f3ktP7y3P3owv705v7y4Pvx0P/Mvv/g3P/Cwv357v3mvP7u2P/Fxf3kuP/9/f39/P/Pv/7v1Pvlsv3tzP7pyv3nvv379v7Kvf//+YlQGvzpuP3ryPvz7fn28v/x44RLE/+2tP/T0f+vrv/SwP/r6P67uP+8up9mOP3rxf7w5/7pzuXXy72cfJBcKehxKcuymf/n4f/Yyd7PwPrf1/Kmlf3tyPO8o/u3VbBsR+h8TO3k3MeHaoJDC59zSP/Pc8SpjvXEseFWHPO1oO2GNeFZH+qMZP/TffKulv/d0dWPePnRx+uTbvW3peuVcPPt6f/bl//jqeNgKu2deMOFaIU2gXUAAAA4dFJOUwBKiwpLFloIBhByl92R1rXpzeDd6fvfubW350z53eHuzc35IHL53VoW3SDZ2dnrueu5crWXIOvlYFsQ0gAABcZJREFUSMftlvlXkmkUx8Mpxa1lKsu20zZTM83eLC+HQDghAbFlYxKIbJK+UHIyfGHEJUlUEHhdX4+KZqYFuGfMtE7ZPjNNs/1Dc5+XmjkH0OzHzun+wOGXz/v93ufe595nxYp38ZZH5tbczQe+2L37s082527NfBMyY9+XFI5T34vFCpHXK+QrN+/LWC761XdsHGfjbOs5KyVWnCgSCrln1u5dFr71I1Clg81mU5RYLKoR8vl27vaVr5f9mgJRnAMR55E4cs7VF+e+RnzVOuqcC7HkYZKkPwDmgS7ic/U8wbr9S7EfHygtdWlxDkkeCpKHyMM0jaS9QiWXK3Vs/2YJ3Q8ba0opLYccCmKAHwKew2EjWoGMCwSm7YtqZ6yz2bw1LnzyIuvqLRJDLNBIW6Hw8sG4wORYvVjeuZELSHlGw2KxpkgSIzHQJ9GxicX0mQmkJkduanbl8LDNNkSF+jWInsAQHQwGOYfh0MQilDUPpFUpK5axY27u2WyNa4alAVozgdH00LUJqB1FAWxXgu9K2fvMFHBWR9/p01VVrVMIZfXjGAR57SKLdTcErQpZI2nwrdqbzDJ39AE8Pv5LXPgeYrEhYFmsScpqhXJBl/GklQ7PhmTp9I6WPhAeuUoLXxyihe+h/6wpUEa+4+ft8aQnwZ93gO2qcQQDPkkL4/0sBF+lYZGQr9cLKk0e1aak+3uZVr4ycpvO+AUNzyBWw5pBpabgeij1xTpQ3ph4vxkdLS2nkfLoDY2m/xrNYlM03G8lUY+KaLjSVFiSVK20yy3osEdGRkevT5Bx9hbNaiaHXjY4DTsKVaq0BPhgwxxKeXx0dHQMexkvaNN3xv11s67/YU9J2ZoEeHVDff2zOYO/otWFYaH5eS2i74Iu67bf76+4FBIrhHZ02jJQ/jQBXttQH7EpKDYnGAz99vzB9ev3AZ6/caf/H7/fUFFRdymCSgV1lnlUZRsS4A8a6pttjaVaTtB1c+Hpr30PHj3FsNYrVW1tbQaDoa7uUq0NOkwvNclKVM6NSXD7cKimFMeDzyWSR49//0vyKBQcu/IfazTOQsqC1PDahvbmC6FSrZZ8LEGxIJHcx8iKtja/wVBRV2c01rby6VtVqCqTJ9peHa1vjjSWwuC8CdzC9MOH0z/CnTK0xTM21tbOKk/yTNCdqjJn4oEdjLbXg2+KIv+WSKZ/OgXRRAaDLiNi64CtHUY3Ugct4pQnliotCr5tXkqLzy9MI/TUE5KOMWPcdISLMnaUgLA8sUlWRqshaSFI4w9o3Z/1QHJwLY4PRcbGInYlKjLqTedxdWJ7ZkajUKyQUAFZm/548uTPEJpduJZtPYKGvt3O5QLrUIGwmkhafGui0fZmfaNXIQJxinq1bs4dQeMLmouHpogHYLV8U/Iw6KGNK2u8RygI3Ip+oaNFohPCo0gXsR6n0yknkofBezt6op26ZiW/yCsWgboYrTiRAi1JNH8QCyU+ri4ntqSYgFmDPdH2JtAWFnlFXpEINjOEEG7xDyehO0weuE5OdZggslKN3hx3T3dne5NAyecLX4XdfgahxXDOHpXTGSMIYn3KncFwuwejHqC53DP2o3y70q6E7QaOi6WV6Ky6nWp5OWFmpF4Z2T53eLC70yRtEui5XL1ef5LHEwikNNqtisWI8oICS/Zii26Xr9fd01PdqdMBT4dUqtPJHLRlNVg2W3YyF1uT+3N8vt7w4GC1p1p2zHRMZ4K2kDlKoKucToJwA5uzavEFvScvEOjtdYdj3SXVZ8+e9cg8haghoSPlRIHFMrB+z1JPg/27zgcCYD4cjsW6YyokCYaPg2MC2J2rln6UMLO7AA/4zG4i7AzH1Gq1XC6Po5Zs5mvfQ4y8811dAd+Ar5coIMohiAIIi2U9YzkPMWZWXhdEYGDAN2A2A4ZiSxZzuW/A9HyEdw0MAG02Wyz56cw3ergy0vLztmzb9m1Ofhojc8W7eMvjX8bTq8gm7H/BAAAAAElFTkSuQmCC"},c952:function(e,t,s){"use strict";s("badc")},c953:function(e,t,s){"use strict";s("1790")},cbde:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABRUExURSwsLKlANps+NudMPPlOPv9hUv+ck/9QPv///+9MPHQ4MjouLI88NLtEOMFEONtIOlgyMEIwLv/y8v+7tf90Zv/a1qdANv+JfDQsLP/Nx//d2T1TBhMAAAELSURBVDjLpZXbEoIwDETDpaSlrYBiVf7/Q20cHmwStKP7uHNmQtJNACg0hzi5vndTDDMcamk7fFPXLirmU49MffKSGx0qciPnEh4oFdj9hIc63d/AD1wmK+qy6mPpm2EwpbN35Mt+zdnac0k6rxW+2KyLUnxhc74SeGWTpzdq2ac/CHwws81gh99LY5fzgjUgzhC4NRA4cDdArAMjTNy6EXjj7gSuDnQg0roSuIoMS9AQaCQog71Zu8moy2aU9LyaiVilKAeuK8gn1EvPMhQrBXeVoRAx22g8mxIzHlz7khJcvgpawpO2XMo37stVva71B6D+pNQfKYDmiGt+PaR58Mppbvw/x/7L7+MJbxMn5jpNKiYAAAAASUVORK5CYII="},cd21:function(e,t,s){},ce08:function(e,t,s){},ce8d:function(e,t,s){"use strict";s.r(t);s("dc5a");var o,n=s("56cd"),a=(s("3b18"),s("f64c")),i=(s("4a96"),s("a071")),r=(s("2ef0"),s("9839")),c=(s("6ba6"),s("5efb")),l=(s("1273"),s("f2ca")),u=(s("fbd8"),s("55f1")),d=(s("9d5c"),s("a600")),h=(s("fbd6"),s("160c")),m=(s("cd17"),s("ed3b")),p=(s("8fb1"),s("0c63")),f=s("c1f6"),v=(s("c618"),s("8bbf")),g=s.n(v),C=s("612a"),b=(s("9e1b"),s("ddcf")),A=s("d4ec"),w=s("bee2"),S=s("262e"),y=s("2caf"),P=s("1e89"),k=function(e){Object(S["a"])(s,e);var t=Object(y["a"])(s);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.info("函数申明 LiveFameWork(opts)",e,"filePath:renderer/components/Classroom/LargeClass/framework/index.js"),Object(A["a"])(this,s),t.call(this,e)}return Object(w["a"])(s,null,[{key:"getInstance",value:function(e){return this.instance||(this.instance=new s(e)),this.instance}}]),s}(P["a"]),I=s("c7eb"),x=s("1da1"),O=s("15fd"),T=s("d0db"),j=s("8c9b"),M=s("e417"),L=["code"],R=["code"],E=["code"],N=["code"],B=["code"],V=["code"],D=["code"],U=["code"],_=["code"],G=["code"],W=["code"],H=["code"],F=function(e){return"[object Function]"===toString.call(e)},q=function(){function e(t){Object(A["a"])(this,e),this.initLogger(t),this.liveInfo={},this.ircHaveStartSensor=!1}return Object(w["a"])(e,[{key:"initLogger",value:function(e){console.log(e,"初始化参数")}},{key:"eventHandler",value:function(e){"customirc"==e.type&&F(this[e.data.logType])&&this[e.data.logType](e.data.logData)}},{key:"onLiveInfo",value:function(e){this.liveInfo=e.liveInfo}},{key:"ircinit",value:function(e){var t=e.code,s=Object(O["a"])(e,L);Object(M["c"])({result:"start",liveInfo:this.liveInfo}),this.ircHaveStartSensor=!0,0==t?this.sendLogger("irc 调用初始化方法成功"):(this.sendLogger("irc 调用初始化方法失败,code: ".concat(t),s,"error"),Object(M["c"])({result:"fail",errorType:"初始化失败",code:t,liveInfo:this.liveInfo}))}},{key:"setLiveInfo",value:function(e){var t=e.code,s=Object(O["a"])(e,R);0==t?this.sendLogger("irc 设置直播信息成功"):(this.sendLogger("irc 设置直播信息失败,code: ".concat(t),s,"error"),Object(M["c"])({result:"fail",errorType:"设置直播信息失败",code:t,liveInfo:this.liveInfo}))}},{key:"setSdkProperties",value:function(e){var t=e.code,s=Object(O["a"])(e,E);0==t?this.sendLogger("irc 设置配置信息成功"):(this.sendLogger("irc 设置配置信息失败,code: ".concat(t),s,"error"),Object(M["c"])({result:"fail",errorType:"设置配置信息失败",code:t,liveInfo:this.liveInfo}))}},{key:"loginWithMode",value:function(e){var t=e.code,s=Object(O["a"])(e,N);0==t?this.sendLogger("irc 调用登录接口成功"):(this.sendLogger("irc 调用登录接口失败,code: ".concat(t),s,"error"),Object(M["c"])({result:"fail",errorType:"调用登录接口失败",code:t,liveInfo:this.liveInfo}))}},{key:"onSDKProvisionStatusNotice",value:function(e){var t=e.code,s=Object(O["a"])(e,B);console.log("[hw_irc_join_room]触发irc调度服务回调".concat(t)),this.ircHaveStartSensor||Object(M["c"])({result:"start",liveInfo:this.liveInfo}),this.ircHaveStartSensor=!1,0==t?this.sendLogger("irc 连接调度服务成功"):(this.sendLogger("irc 连接调度服务失败,code: ".concat(t),s,"error"),Object(M["c"])({result:"fail",errorType:"调度失败",code:t,liveInfo:this.liveInfo}))}},{key:"onLoginResponse",value:function(e){var t=e.code,s=Object(O["a"])(e,V);console.log("[hw_irc_join_room]触发登陆回调".concat(t)),0==t?this.sendLogger("irc 登陆回调返回成功"):(this.sendLogger("irc 登陆回调返回失败,code: ".concat(t),s,"error"),Object(M["c"])({result:"fail",errorType:"登录失败",code:t,liveInfo:this.liveInfo}))}},{key:"joinChatRoomsWithJoinMode",value:function(e){var t=e.code,s=Object(O["a"])(e,D);0===t?this.sendLogger("irc调用加入房间接口成功"):(this.sendLogger("irc调用加入房间接口失败,code:".concat(t),s,"error"),Object(M["c"])({result:"fail",errorType:"调用加入房间接口失败",code:t,liveInfo:this.liveInfo}))}},{key:"onNetStatusChanged",value:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(t){var s,o,n;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=t.code,Object(O["a"])(t,U),console.log("[hw_irc_join_room]触发网络状态回调".concat(s)),4==s){e.next=15;break}if(o={0:"未知",1:"网络不可用",2:"服务器连接失败",3:"服务器连接中",5:"服务器断开连接"},this.sendLogger("irc 网络状态改变,".concat(o[s]),{},3==s?"info":"error"),0!=s&&1!=s&&2!=s){e.next=12;break}return e.next=8,Object(j["a"])();case 8:n=e.sent,Object(M["c"])({result:"fail",errorType:"连接失败",code:s,msg:"".concat(n?"有网络":"没有网络"),liveInfo:this.liveInfo}),e.next=13;break;case 12:3==s&&(Object(M["c"])({result:"start",liveInfo:this.liveInfo}),this.ircHaveStartSensor=!0);case 13:e.next=16;break;case 15:this.sendLogger("irc 网络状态改变,连接成功");case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onJoinRoomResponse",value:function(e){var t=e.code,s=Object(O["a"])(e,_);console.log("[hw_irc_join_room]触发加入房间回调".concat(t)),0==t?(this.sendLogger("irc 加入房间回调成功"),Object(M["c"])({result:"success",liveInfo:this.liveInfo})):(this.sendLogger("irc 加入房间回调失败,code: ".concat(t),s,"error"),Object(M["c"])({result:"fail",errorType:"登录加入房间失败失败",code:t,liveInfo:this.liveInfo}))}},{key:"onSendRoomMessageResponse",value:function(e){var t=e.code,s=Object(O["a"])(e,G);0==t?Object(M["c"])({type:"message",result:"success",msg:"群聊"}):(Object(M["c"])({type:"message",result:"fail",errorType:"群聊消息发送失败",msg:"群聊",code:t,msgInfo:s}),this.sendLogger("irc 群聊消息发送失败,code: ".concat(t),s,"error"))}},{key:"onSendRoomBinMessageResp",value:function(e){var t=e.code,s=Object(O["a"])(e,W);0==t?Object(M["c"])({type:"message",result:"success",msg:"群聊二进制"}):(Object(M["c"])({type:"message",result:"fail",errorType:"群聊二进制消息发送失败",msg:"群聊二进制",code:t,msgInfo:s}),this.sendLogger("irc 发送二进制涂鸦消息失败,code: ".concat(t),s,"error"))}},{key:"onSendPeerMessageResponse",value:function(e){var t=e.code,s=Object(O["a"])(e,H);0==t?Object(M["c"])({type:"message",result:"success",msg:"私聊"}):(Object(M["c"])({type:"message",result:"fail",errorType:"私聊消息发送失败",msg:"私聊",code:t,msgInfo:s}),this.sendLogger("irc 发送私聊失败,code: ".concat(t),s,"error"))}},{key:"onKickoutNotice",value:function(e){this.sendLogger("irc 被其他客户端顶掉:".concat(JSON.stringify(e)),{},"error")}},{key:"onRecvRoomMessage",value:function(e){this.sendLogger("irc 收到群聊消息:".concat(JSON.stringify(e)))}},{key:"onRecvPeerMessage",value:function(e){this.sendLogger("irc 收到私聊消息:".concat(JSON.stringify(e)))}},{key:"sendLogger",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";T["a"].send({tag:T["b"].irc,level:s,content:{msg:e,params:t}})}}]),e}(),J=s("5530"),K=(s("d9e2"),s("ac1f"),s("841c"),s("e260"),s("d3b7"),s("e6cf"),s("3ca3"),s("ddb0"),s("99af"),s("caad"),s("2532"),s("b0c0"),s("25f0"),s("832e"),s("9c59")),z=s.n(K),Q=s("418d"),$=s("3cd0"),Y=s("9277"),Z=s("c342"),X=s("a5bc"),ee=s("02fc"),te=s("e39c"),se=s("099c"),oe=s("0d52"),ne=s("3898"),ae=s("92e5"),ie=s("5f9e"),re=s("2b6b"),ce=s("9ca9"),le=window.location.search,ue=function(){return Promise.resolve().then(s.bind(null,"073a"))},de=function(e){Object(S["a"])(s,e);var t=Object(y["a"])(s);function s(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(A["a"])(this,s),e=t.call(this,o),e.requestParams={},e.initModuleParams={},e.init(),ie["a"].methods.initWebVitals(),ue(),e}return Object(w["a"])(s,[{key:"init",value:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(){var t,s,o,n,a,i,r;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=(new Date).getTime(),e.next=3,this.initDom();case 3:return s=e.sent,this.app=s,e.next=7,this.getParams();case 7:return o=e.sent,T["a"].send({tag:"init",content:{msg:"初始化参数:".concat(JSON.stringify(o))}}),Y["a"].emit("roomMessage",{space:"params",data:o}),this.requestParams={bizId:o.bizId,planId:o.planId,courseId:o.classId,isParentAudition:o.isParent},this.initModuleParams={planId:o.planId,courseId:o.classId,isParentAudition:o.isParent},e.next=14,this.getInfo(o);case 14:return n=e.sent,console.log("getInfo",n),e.next=18,this.initModule();case 18:if(a=e.sent,a){e.next=21;break}throw Error("initModule接口报错");case 21:if(this.hideLoading(t,o.planId),n){e.next=26;break}return T["a"].send({tag:"init",level:"error",content:{msg:"显示失败,原因roomInfo为false"}}),this.showError(),e.abrupt("return",!1);case 26:if(this.roomInfo=n,i=n.isPlayBack,T["a"].send({tag:"userTrack",content:{msg:"大班-学生进入".concat(1==i?"回放":"直播"),tag:"init"}}),i){e.next=33;break}return r=n.configs.rtcConfig.token,e.next=33,this.initRtcEngine(r);case 33:s.room.style.display="block",i||Y["a"].emit("instance",{type:"Player",index:0,options:Object(J["a"])({dom:s.video},n)}),i&&Y["a"].emit("instance",{type:"Player",index:1,options:Object(J["a"])(Object(J["a"])({dom:s.video},n),{},{moduleInfo:a})}),Y["a"].emit("roomMessage",{space:"roomInfo",data:Object(J["a"])(Object(J["a"])({},n),{},{interactionController:s.interactionController,interactionFullPage:s.interactionFullPage,interactionLeft:s.interactionLeft,interactionGame:s.interactionGame})}),i||Y["a"].emit("instance",{type:"SignalService",options:Object(J["a"])({},n)}),i||Y["a"].emit("instance",{type:"Chat",options:Object(J["a"])(Object(J["a"])({},n),{},{dom:s.chat})}),Y["a"].emit("roomMessage",{space:"moduleInfo",data:a}),Y["a"].emit("instance",{type:"Room",index:i,options:{videoGroupDom:s.videoGroup,controllerDom:s.controller,playBackSignDom:s.playBackSign,headerDom:s.headerDom,roomModulesDom:s.roomModulesDom,roomMessage:{roomInfo:n,moduleInfo:a}}}),this.sendLogger({isPlayBack:i});case 42:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getParams",value:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(){var t,s;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(s in t=z.a.parse(le),t)/^[0-9]*$/.test(t[s])&&(t[s]=1*t[s]);return window._requestHeadersData={},e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initDom",value:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(){var t,s,o,n;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(ne["a"])();case 2:return t=e.sent,s=t.classroom.modules.systemError||{},o='\n      <div class="live-loading" id="liveLoading">\n        <div class="loading-wrapper loading-default">\n          <div class="loading-contenter">\n            <div class="loading-logo"></div>\n            <div class="loading-animation"></div>\n          </div>\n        </div>\n      </div>\n      <div class="live-error" id="liveError" style="display:none;">\n        <div class="notice-wrapper">\n          <div class="message">\n            <div id="liveErrorMainTitle" class="message-main"></div>\n            <p id="liveErrorSubTitle" class="message-sub"></p>\n          </div>\n          <div class="button-wrapper">\n            <a href="javascript:;" class="btn-orange-primary" onclick="window.location.reload();">'.concat(s.refreshButtonName,'</a>\n            <a href="javascript:;" class="btn-orange" onclick="window.history.go(-2);">').concat(s.backButtonName,'</a>\n          </div>\n        </div>\n      </div>\n      <div class="room" id="room" style="display:none;">\n        <div class="header" id="header"></div>\n        <div class="video" id="video"></div>\n        <div class="controller" id="controller"></div>\n        <div class="video-group" id="videoGroup"></div>\n        <div class="chat" id="chat"></div>\n        <div class="room-modules" id="roomModules"></div>\n      </div>\n      <div class="interaction-controller" id="interactionController"></div>\n      <div class="interaction-full-page" id="interactionFullPage"></div>\n      <div class="interaction-full-left" id="interactionLeft"></div>\n      <div class="interaction-game" id="interactionGame"></div>\n      <div class="play-back-sign" id="playBackSign"></div>\n    '),n=function(e){return document.querySelector(e)},n("#live").innerHTML=o,e.abrupt("return",{root:n("#live"),liveLoading:n("#liveLoading"),liveError:n("#liveError"),liveErrorMainTitle:n("#liveErrorMainTitle"),liveErrorSubTitle:n("#liveErrorSubTitle"),room:n("#room"),video:n("#video"),loadingImg:n("#loading-img"),interaction:n("#interaction"),chat:n("#chat"),videoGroup:n("#videoGroup"),controller:n("#controller"),interactionController:n("#interactionController"),interactionFullPage:n("#interactionFullPage"),interactionLeft:n("#interactionLeft"),interactionGame:n("#interactionGame"),playBackSign:n("#playBackSign"),headerDom:n("#header"),roomModulesDom:n("#roomModules")});case 8:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getInfo",value:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(t){var s,o,n,a,i,r,c,l,u,d,h,m,p,f,v,g,C,b,A,w,S,y,P,k,x,O,j,L,R,E,N,B,V,D,U,_,G,W,H,F,q,K,z,Q,se,oe,ne,ae,ie,ce,le,ue,de,he,me,pe,fe,ve,ge,Ce,be,Ae,we,Se,ye,Pe,ke,Ie,xe,Oe,Te,je,Me,Le,Re,Ee,Ne,Be,Ve,De,Ue,_e,Ge,We,He,Fe,qe,Je,Ke,ze,Qe,$e,Ye,Ze,Xe,et,tt;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=1800,o=900,n=0,a=0,i=0,e.next=7,Object(Z["k"])(this.requestParams);case 7:if(r=e.sent,r&&0==r.code){e.next=12;break}return this.errorTitleObj={name:"courseInformationError",code:(null===(c=r)||void 0===c?void 0:c.code)||"",msg:(null===(l=r)||void 0===l?void 0:l.msg)||"",requestParams:this.requestParams},T["a"].send({tag:"http",level:"error",content:{msg:"获取basic接口失败",params:this.requestParams,res:r}}),e.abrupt("return",!1);case 12:if(0!==r.code){e.next=38;break}if(r=r.data,r.planInfo.etime=r.planInfo.endStampTime,r.planInfo.stime=r.planInfo.startStampTime,window.__requestBasicStartTakeClassTime=r.planInfo.startStampTime,window._requestHeadersData.subjectIds=r.planInfo.subjectIds,window._requestHeadersData.gradeIds=r.planInfo.gradeIds,window._requestBasicTime=(new Date).getTime(),window._requestBasicEnterServerTime=r.nowTime,(1*r.nowTime-1*r.planInfo.etime>s||1==t.playback)&&(n=1),i=r.planInfo.stime-r.nowTime,i<o&&(a=1),u={classId:r.stuLiveInfo.classId,planId:r.stuLiveInfo.planId,isPlayBack:n,classType:t.subPlatformType,isParent:!!t.isParent,packageId:r.planInfo.packageId,from:t.from,lessonType:t.lessonType,isStartClass:!1},Object(te["C"])(r.planInfo.startStampTime,r.planInfo.endStampTime)&&(u["isStartClass"]=!0),Object(M["b"])(u),!n){e.next=38;break}return e.next=30,Object(X["d"])(this.requestParams);case 30:if(d=e.sent,d&&0===d.code){e.next=35;break}return this.errorTitleObj={name:"playbackInformationError",code:d.code,msg:d.msg,requestParams:this.requestParams},T["a"].send({tag:"http",level:"error",content:{msg:"无回放信息，显示error",playBackRes:d,requestParams:this.requestParams}}),e.abrupt("return",!1);case 35:h=r.stuInfo.goldNum,d.data.stuInfo.goldNum=h,r=d.data;case 38:if(m={},p={},!n){e.next=71;break}return f={appId:r.configs.appId,fid:r.configs.fileId,teacherId:r.teacherInfo.id,planId:this.requestParams.planId,bizId:this.requestParams.bizId},e.next=44,Object(Z["q"])(f);case 44:if(v=e.sent,v&&0==v.code){e.next=48;break}return this.errorTitleObj={name:"playbackInterfaceError",code:(null===v||void 0===v?void 0:v.code)||"",msg:(null===v||void 0===v?void 0:v.msg)||"",requestParams:f},e.abrupt("return",!1);case 48:if(g=v.data.result||[],g.length){e.next=53;break}return this.errorTitleObj={name:"playbackSourceIsNull",url:"",code:"",msg:"",requestParams:f},T["a"].send({tag:"http",level:"error",content:{msg:"回放地址列表为空，显示error",vodAddressResult:g,showVodAddressParams:f}}),e.abrupt("return",!1);case 53:if(!g||!g.length){e.next=62;break}C=0;case 55:if(!(C<=g.length)){e.next=62;break}if(!g[C].address.includes(".m3u8")){e.next=59;break}return p={address:g[C].address,protocol:Object(te["m"])(g[C].address)},e.abrupt("break",62);case 59:C++,e.next=55;break;case 62:return b=Object(J["a"])({playbackStatus:1},this.requestParams),e.next=65,Object(Z["p"])(b);case 65:if(m=e.sent,m&&0==m.code){e.next=70;break}return this.errorTitleObj={name:"playbackStampError",code:(null===(A=m)||void 0===A?void 0:A.code)||"",msg:(null===(w=m)||void 0===w?void 0:w.msg)||"",requestParams:b},T["a"].send({tag:"http",level:"error",content:{msg:"无回放打点信息，显示error",playback:m,playbackParams:b}}),e.abrupt("return",!1);case 70:m=m.data;case 71:return S=this.requestParams,y=S.bizId,P=S.stuCouId,k=r,x=k.configs,O=void 0===x?{}:x,j=k.planInfo,L=void 0===j?{}:j,R=k.stuInfo,E=void 0===R?{}:R,N=k.counselorInfo,B=void 0===N?{}:N,V=k.teacherInfo,D=void 0===V?{}:V,U=k.nowTime,_=k.stuLiveInfo,G=k.liveStatus,W=void 0===G?{}:G,H=t.fromtype,F=O.appId,q=O.appKey,K=O.ircRooms,O.fileId,z=O.videoPath,Q=O.stuIrcId,se=O.mainTeacherVideo,oe=O.counselorTeacherVideo,ne=O.reseeding,ae=O.skinType,ie=O.liveTypeId,ce=O.ircSwitch,O.protocol,le=Array.isArray(K)?K:[K],ue=E.userName,de=E.nickName,he=E.id,me=E.realName,pe=E.goldNum,fe=E.englishName,ve=E.avatar,ge=E.gradeId,console.log("stuInfo",E),Ce=E.id,be=E.id,Ae=L.id,we=L.startTime,Se=L.endTime,ye=L.stime,Pe=L.subjectIds,ke=L.gradeIds,Ie=L.name,xe=L.seriesId,Oe=L.bigImageUrl,Te=L.notice,je=L.visitNum,Me=L.mode,Le=L.pattern,Re=Object($["d"])(Pe),1!==Le&&13!==Le&&3===y&&2!==H&&Y["a"].emit("logger",{type:"sys",data:{logData:{pattern:Le,type:"Error"},logType:"ajax"}}),Ee=W.streamMode,Ne=_.classId,Be=_.teamId,Ve=_.courseId,De=_.isAudition,Ue=D.id,_e=D.name,Ge=D.avatar,We=D.spellName,He=m,Fe=He.event,qe=He.gotoClassTime,Je=He.streamTime,e.next=88,Object(ee["f"])();case 88:return Ke=e.sent,ze={mode:Me,appId:F,appKey:q,psId:Ce.toString(),password:be.toString(),stuName:ue,stuId:he,planId:Ae,isPlayBack:n,teacherId:Ue,videoPath:z,bizId:y,events:Fe,teacherName:_e,avatar:Ge,startTime:we,endTime:Se,subjectName:Ie,seriesId:xe,bigImageUrl:Oe,notice:Te,visitNum:je,spellName:We,mainTeacherVideo:se,counselorTeacherVideo:oe,stuCouId:P,reseeding:ne,classId:Ne,skinType:ae,liveTypeId:ie,nickName:de,isDisPath:!1,videoFile:p.address||"",protocol:p.protocol||"",configs:{dispatch:{"2.0":"videogslb.thethinkacademy.com"},log:"log-live.thethinkacademy.com",schoolcode:Ke}},Qe=O.ircServer||{},$e={appId:F,appKey:q,psId:Ce.toString(),password:be.toString(),nick:Q,planId:Ae,uid:he||Ue,roomlist:le,liveTypeId:ie,ircSwitch:ce,confService:Qe.confService||"",logService:Qe.logService||"",location:Qe.location||""},T["a"].send({tag:"irc",content:{msg:"ircConfig:".concat(JSON.stringify($e))}}),Ye={streamMode:Ee,mode:Me,bizId:y,subjectIds:Pe,gradeIds:ke,goldNum:pe,realName:me,nickName:de,englishName:fe,stuName:ue,nick:Q,stuId:he,roomlist:le,isPlayBack:n,planId:Ae,stime:ye,gotoClassTime:qe,streamTime:Je,psId:Ce,imgPath:ve,classId:Ne,teamId:Be,skinType:ae,courseId:Ve,isEnglish:Re,ircSwitch:ce},Ze=+new Date,Xe=1e3*U-Ze,Object(re["setTimeOffset"])(Xe),Object(re["setPlanId"])(t,!0),et=0,[0,1,2].includes(t.subPlatformType)&&(et=t.subPlatformType),tt={planInfo:L,mode:Me,stuName:ue,stuId:he,isPlayBack:n,planId:Ae,nickName:de,realName:me,englishName:fe,bizId:y,nowTime:U,stime:ye,stuIRCId:Q,subjectIds:Pe,gradeIds:ke,roomlist:le,goldNum:pe,classId:Ne,teamId:Be,stuCouId:P,skinType:ae,psId:Ce,avatar:Ge,gradeId:ge,streamMode:Ee,isEnglish:Re,liveTypeId:ie,fromType:H,timeOffset:Xe,counselorInfo:B,teacherInfo:D,configs:O,classType:et,isAudition:1===t.isParent||!!De,isParent:!!t.isParent},e.abrupt("return",Object(J["a"])(Object(J["a"])({isPlayBack:n,isLiveStart:a,countDown:i,playerOptions:ze,ircInitOptions:$e,chatOptions:Ye,commonOption:tt},r),{},{bizId:y,liveType:t.type,stuInfo:E}));case 102:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"initModule",value:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(){var t,s,o,n;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Z["n"])(this.initModuleParams);case 2:if(t=e.sent,T["a"].send({tag:"init",content:{msg:"获取初始化module".concat(JSON.stringify(t))}}),s={},console.log("initModule",s),0!==t.code){e.next=10;break}for(o=t.data.plugins,n=0;n<o.length;n++)s[o[n].moduleId]=o[n];return e.abrupt("return",s);case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"sendLogger",value:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(t){var s,o,n,a,i,r;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=t.isPlayBack,!s){e.next=3;break}return e.abrupt("return");case 3:return o=sessionStorage.getItem("click_popup_enter_classroom"),o&&sessionStorage.removeItem("click_popup_enter_classroom"),n=sessionStorage.getItem("click_enter_classroom"),n&&sessionStorage.removeItem("click_enter_classroom"),e.next=9,Object(se["b"])();case 9:return a=e.sent,e.next=12,Object(se["e"])();case 12:return i=e.sent,r={camera_isopen:"granted"===a?1:0,microphone_isopen:"granted"===i?1:0},e.next=16,T["a"].send({tag:"init",content:{msg:"学生进入课堂",cameraAccessStatus:r.camera_isopen,microphoneAccessStatus:r.microphone_isopen}});case 16:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"hideLoading",value:function(e,t){(new Date).getTime();T["a"].send({tag:"init",content:{msg:"结束loading状态"}}),this.app.liveLoading.style.display="none"}},{key:"showError",value:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(){var t,s,o,n,a,i,r,c,l,u,d,h,m,p,f,v,g,C,b,A;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getParams();case 2:return t=e.sent,s="Big Class "+(1==t.playback?"PlayBack":"ClassLiving"),o=this.errorTitleObj,n=o.name,a=o.code,i=o.msg,r=o.requestParams,e.next=7,Object(ae["a"])();case 7:return c=e.sent,l=c.uid,e.next=11,Object(ne["a"])();case 11:u=e.sent,d=u.courses.playback[n]||"",h=a?", Code: ".concat(a):"",m={courseInformationError:"/classroom-hub/classroom/student/basic",playbackInformationError:"/classroom-hub/playback/student/initEntry",playbackInterfaceError:"/classroom-hub/playback/student/showVodAddress",playbackStampError:"/classroom-hub/playback/metainfo"},p=m[n]||"",f=p?", Url: ".concat(p):"",v=i?", Msg: ".concat(i):"",g=", Uid: "+l,C=", Params: "+JSON.stringify(r),b="Scene: ".concat(s,". ")+d+h+v+f+g+C,A=u.classroom.modules.systemError||{},this.app.room.style.display="none",this.app.liveError.style.display="flex",this.app.liveErrorMainTitle.innerHTML="playbackInformationError"===n?A.noPlaybackMessage:A.message,this.app.liveErrorSubTitle.innerHTML=b;case 26:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initRtcEngine",value:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(t){var s,o,n,a;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=window.RTC_COMMON.RtcEngine,e.next=3,oe["nativeApi"].getPathByName("userData");case 3:o=e.sent,n="".concat(o,"/Logs"),T["a"].send({tag:"init",content:{msg:"大班实例化rtc",logsPath:n,token:t}}),a=new s(t,{logsPath:n}),window.RTC_COMMON.rtcEngine=a,a.on("error",(function(e,t){T["a"].send({tag:"rtc错误",level:"error",content:{msg:"错误码：".concat(e,"，错误信息：").concat(t)}})})),a.on("warning",(function(e,t){T["a"].send({tag:"rtc警告",content:{msg:"警告码：".concat(e,"，警告信息：").concat(t)},level:"warn"})}));case 10:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),s}(Q["a"]),he=function(){var e=this,t=e._self._c;return t("div",{staticClass:"live-main"},[t("div",{staticClass:"live-ppt"},[t("PptArea",{ref:"ppt",attrs:{options:e.commonOption,configs:e.configs,ircconfig:e.ircconfig,isInClass:e.isInClass}})],1),t("MediaSecurityAccess",{attrs:{visible:!0}}),0==e.classType||1==e.classType?t("LargeClassLiveVideo",{attrs:{options:e.commonOption,rtcConfig:e.configs.rtcConfig},on:{updateLiveState:e.updateLiveState}}):e._e(),2==e.classType?t("SmallClassLiveVideo",{attrs:{options:e.commonOption,rtcConfig:e.configs.rtcConfig},on:{updateLiveState:e.updateLiveState}}):e._e(),t("ScreenThumbnail")],1)},me=[],pe=function(){var e=this,t=e._self._c;return t("div",{ref:"ppt-area",staticClass:"ppt-area-container",attrs:{id:"ppt-area-container"}},[e.showCanvas&&!e.isInClass?t("div",{staticClass:"wait-teacher"},[t("div",{staticClass:"wait-dialog"},[t("div",{staticClass:"notice-content"},[e._v(" "+e._s(e.$t("classroom.largeClass.coursewareBoard.classSoonNotice"))+" ")])])]):e._e(),t("H5Courseware",{ref:"h5CoursewareMian",attrs:{ircconfig:e.ircconfig,options:e.options},on:{courseWareReady:e.courseWareReady,changePageId:e.changePageId,clear:e.clear,getCoursewareRate:e.getCoursewareRate}}),e.showCanvas?t("white-board-canvas",{ref:"WhiteBoard"}):e._e(),e.showCanvas?t("white-board-tools",{ref:"WhiteBoardTools"}):e._e(),e.showEaxmIframe?t("div",{ref:"exam-wrapper",staticClass:"exam-container"},[t("iframe",{attrs:{id:"class-examination",src:e.examUrl},on:{onload:e.handleIframeLoad}})]):e._e()],1)},fe=[],ve=(s("907a"),s("986a"),s("1d02"),s("3c5d"),s("6ce5"),s("2834"),s("4ea1"),s("159b"),s("20bf"),s("ace4"),s("5cc6"),s("9a8c"),s("a975"),s("735e"),s("c1ac"),s("d139"),s("3a7b"),s("d5d6"),s("82f8"),s("e91f"),s("60bd"),s("5f96"),s("3280"),s("3fcc"),s("ca91"),s("25a1"),s("cd26"),s("2954"),s("649e"),s("219c"),s("170b"),s("b39a"),s("72f7"),s("b64b"),s("a9e3"),s("5319"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"h5coursewareContainer",class:{topZindex:"error"===e.coursewareState}},[t("NeLoading",{attrs:{visible:"loading"===e.coursewareState}}),t("NeDialog",{attrs:{visible:"error"===e.coursewareState}},[t("h3",[e._v("Courseware failed to load")]),t("p",[e._v("Your courseware failed to load."),t("br"),e._v('Please click "Reload" to try again')]),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("button",{staticClass:"button",on:{click:e.reloadCourseWare}},[e._v("Reload")])])]),t("img",{directives:[{name:"show",rawName:"v-show",value:e.blackBoardImg,expression:"blackBoardImg"}],staticClass:"blackBoardImg",attrs:{src:e.blackBoardImg}}),t("ShowPhotoWall",{directives:[{name:"show",rawName:"v-show",value:e.photoWallImg,expression:"photoWallImg"}],attrs:{options:e.options,photoWallImg:e.photoWallImg}}),t("div",{ref:"h5courseware",staticClass:"h5courseware",attrs:{id:"h5CoursewareContent"}})],1)}),ge=[],Ce=s("2909"),be=s("b047"),Ae=s.n(be),we=s("1bff"),Se=s.n(we),ye=s("ceab"),Pe=function(){var e=this,t=e._self._c;return e.visible?t("div",{staticClass:"game-courseware-mask-bg",class:e.showCover},[e._m(0)]):e._e()},ke=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"loading-contenter"},[t("div",{staticClass:"loading-logo"}),t("div",{staticClass:"loading-animation"})])}],Ie={name:"NeLoading",props:{visible:{type:Boolean,default:!1},cover:{type:Boolean,default:!0}},computed:{showCover:function(){return console.info("对象函数 showCover,filePath:renderer/components/Classroom/LargeClass/base/players/components/h5courseware/loading/index.vue"),this.cover?"":"no-mask"}}},xe=Ie,Oe=(s("82d3"),s("2877")),Te=Object(Oe["a"])(xe,Pe,ke,!1,null,"588dbd9d",null),je=Te.exports,Me=function(){var e=this,t=e._self._c;return e.visible?t("div",{staticClass:"game-courseware-mask-bg"},[t("div",{staticClass:"dialog-contenter"},[t("div",{staticClass:"ne-dialog--body"},[e._t("default")],2),e.$slots.footer?t("div",{staticClass:"ne-dialog--footer"},[e._t("footer")],2):e._e()])]):e._e()},Le=[],Re={name:"NeLoading",props:{visible:{type:Boolean,default:!1}}},Ee=Re,Ne=(s("aed8"),Object(Oe["a"])(Ee,Me,Le,!1,null,"3a8d0640",null)),Be=Ne.exports,Ve=function(){var e=this,t=e._self._c;return t("div",{ref:"showPhotoWall",staticClass:"showPhotoWall"},[t("NeLoading",{attrs:{visible:e.photoLoading,cover:!1}}),e.photoLoading?e._e():t("img",{ref:"photoImg",attrs:{src:e.photoWallImg}})],1)},De=[],Ue=s("b795"),_e=s.n(Ue),Ge=s("954e"),We=s.n(Ge),He=s("a12d"),Fe=s.n(He),qe=s("ac04"),Je=s.n(qe),Ke=s("0555"),ze=s.n(Ke),Qe=s("3605"),$e=s.n(Qe),Ye=s("7a38"),Ze=s.n(Ye),Xe=s("3fa5"),et=s.n(Xe),tt={name:"showPhotoWall",data:function(){return{photoLoading:!0}},props:{photoWallImg:{type:String,default:""},options:{type:Object,default:{}}},components:{NeLoading:je},methods:{handlePhotoWall:function(e){var t=this;console.info("对象函数 handlePhotoWall(imgUrl)",e,"filePath:renderer/components/Classroom/LargeClass/base/players/components/h5courseware/showPhotoWall.vue"),this.photoLoading=!0,!this.options.isAudition&&this.createLikeContainer();var s=new Image;s.src=e,s.onload=function(){var e=document.getElementById("photoWallLikeContainer");e&&(e.style.display="block"),t.photoLoading=!1}},createLikeContainer:function(){return Object(x["a"])(Object(I["a"])().mark((function e(){var t,s;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.info("对象函数 createLikeContainer,filePath:renderer/components/Classroom/LargeClass/base/players/components/h5courseware/showPhotoWall.vue"),t=document.getElementById("photoWallLikeContainer"),!t){e.next=4;break}return e.abrupt("return");case 4:s=document.createElement("div"),s.setAttribute("id","photoWallLikeContainer"),s.setAttribute("class","photoWallLikeContainer"),s.innerHTML='<div class="likeBtn" id="likeBtn">\n        <img src="'.concat(et.a,'" id="heart" />\n      </div>'),document.getElementById("interactionLeft").appendChild(s),_e.a.init({icons:[$e.a,We.a,Fe.a,Je.a,Ze.a,ze.a],btnDom:"likeBtn",flyDom:"photoWallLikeContainer",className:"fly",width:200,height:600});case 10:case"end":return e.stop()}}),e)})))()},destroyLike:function(){return Object(x["a"])(Object(I["a"])().mark((function e(){var t;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.info("对象函数 destroyLike,filePath:renderer/components/Classroom/LargeClass/base/players/components/h5courseware/showPhotoWall.vue"),t=document.getElementById("photoWallLikeContainer"),t&&t.parentNode.removeChild(t),_e.a.destroy();case 4:case"end":return e.stop()}}),e)})))()}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/components/Classroom/LargeClass/base/players/components/h5courseware/showPhotoWall.vue"),this.destroyLike()},watch:{photoWallImg:function(e){console.info("对象函数 photoWallImg(val)",e,"filePath:renderer/components/Classroom/LargeClass/base/players/components/h5courseware/showPhotoWall.vue"),e?this.handlePhotoWall(e):this.destroyLike()}}},st=tt,ot=(s("c36e"),s("c952"),Object(Oe["a"])(st,Ve,De,!1,null,"be99b2e0",null)),nt=ot.exports,at=s("c5ee"),it={props:["ircconfig","playback","options"],data:function(){return{coursewareInfo:null,coursewarePlayer:null,coursewareState:"loading",blackBoardImg:null,photoWallImg:null,localUrl:null,coursewareStartLoadTime:0,pageId:0,currentCourseWareData:{}}},components:{NeLoading:je,NeDialog:Be,ShowPhotoWall:nt},created:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s,o,n,a,i,r;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=Object(te["q"])("planId"),t.next=3,oe["nativeApi"].getClientInfo();case 3:return o=t.sent,n=o.CW_SERVER_ADDRESS,a=o.CW_WEBROOT,t.next=8,Object(ye["b"])(1*s);case 8:if(i=t.sent,0===i.code){t.next=13;break}return e.coursewareState="error",e.sendLogger("接口返回错误",{courseware:i},"error"),t.abrupt("return");case 13:if(0!==i.data.list.length){t.next=17;break}return e.coursewareState="error",e.sendLogger("接口返回课件为空","error"),t.abrupt("return");case 17:if(i.data.list.forEach((function(t){16==t.id&&(e.coursewareInfo=t,e.$emit("getCoursewareRate",e.coursewareInfo.detail.rate))})),e.coursewareInfo){t.next=22;break}return e.coursewareState="error",e.sendLogger("没有主讲课件","error"),t.abrupt("return");case 22:if(2===e.coursewareInfo.detail.compressState){t.next=26;break}return e.coursewareState="error",e.sendLogger("课件没有同步完成,status:".concat(e.coursewareInfo.detail.compressState),"error"),t.abrupt("return");case 26:return t.next=28,Object(at["a"])(e.coursewareInfo.detail.baseZipUrl,e.coursewareInfo.detail.baseZipMd5,a);case 28:r=t.sent,e.sendLogger("后端返回课件信息",{baseZipUrl:e.coursewareInfo.detail.baseZipUrl,baseZipMd5:e.coursewareInfo.detail.baseZipMd5}),e.localUrl=r?"".concat(n).concat(e.coursewareInfo.detail.catalog,"/index.html"):"",e.sendLogger("课件加载地址",{localUrl:e.localUrl}),e.initCoursewareParams={role:"student",screenWidth:"100%",screenHeight:"100%",itsId:e.coursewareInfo.detail.id,localUrl:e.localUrl,remoteUrl:[e.coursewareInfo.detail.compressIndexUrl].concat(Object(Ce["a"])(e.coursewareInfo.detail.compressIndexUrlSpareList)),onEvent:e.onEvent.bind(e),showPagePercent:30,gameTip:e.$t("classroom.largeClass.coursewareBoard.gameConfig.gameTip"),gameToast:e.$t("classroom.largeClass.coursewareBoard.gameConfig.gameToast"),getLatestItsMessage:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(t){var s;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{s=s&&JSON.parse(s),t(s)}catch(o){console.error("error latest message",s)}case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getAllStoredData:e.getAllStoredData.bind(e)},e.$nextTick((function(){e.coursewarePlayer=Se.a.getPlayer("student",e.$refs.h5courseware),e.sendLogger("开始初始化课件",{itsId:e.coursewareInfo.detail.id,localUrl:e.localUrl,remoteUrl:e.initCoursewareParams.remoteUrl}),e.coursewarePlayer.init(e.initCoursewareParams)})),e.coursewareStartLoadTime=(new Date).getTime();case 35:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;this.$nextTick((function(){e.$bus.$on("liveRefresh",(function(){e.sendLogger("刷新课件","warn"),e.reloadCourseWare()})),oe["nativeApi"].setWindowAble("maximize",!0),oe["nativeApi"].setWindowAble("fullscreen",!0),oe["nativeApi"].setFullScreen(!0)}))},methods:{reloadCourseWare:function(){this.sendLogger("开始reload课件"),this.coursewarePlayer&&(this.sendLogger("重新开始初始化课件","warn"),this.coursewarePlayer.init(this.initCoursewareParams))},onEvent:function(e,t){switch(e){case"error":this.handleError(t);break;case"loadingProgress":this.handleLoadingProgress(t);break;case"statusChange":this.handleStatusChange(t);break;case"pageChangeToTeacher":break;default:this.handleDefault(e,t);break}},handleDefault:function(e,t){"catalogueChange"===e?this.sendLogger("课件event",{event:e,data:t.pages.length},"warn"):this.sendLogger("课件event",{event:e,data:t},"warn")},handleError:function(e){this.coursewareState="error",this.$emit("courseWareReady",!1),this.sendLogger("课件加载报错",{data:e},"error")},handleLoadingProgress:function(e){this.sendLogger("课件加载中",{data:e}),e.loaded/e.total*100>=this.initCoursewareParams.showPagePercent?(this.$emit("courseWareReady",!0),this.coursewareState="loaded"):this.coursewareState="loading"},handleStatusChange:function(e){this.sendLogger("课件状态改变",{data:e}),this.$bus.$emit("corewareLoadStatus",e),"loaded"===e.status&&this.sendLogger("课件加载成功")},getAllStoredData:function(e){},handleSwitchCourseware:function(e){if(e&&e.currentCourseWare){this.currentCourseWareData=e.currentCourseWare;var t=e.currentCourseWare,s=t.blackBoardType,o=t.imgUrl,n=t.jsString,a=t.photoWallImageArray,i=t.pageId;this.$bus.$emit("photoWallShow",!1),this.blackBoardImg=this.photoWallImg="",1===s&&o&&(T["a"].send({tag:"courseware",content:{msg:"显示黑板"}}),this.blackBoardImg=o),3===s&&a&&(this.photoWallImg=a[0],this.$bus.$emit("photoWallShow",!0),T["a"].send({tag:"courseware",content:{msg:"图片上墙",photoWallImg:this.photoWallImg}})),0===s&&n&&this.coursewarePlayer&&this.coursewarePlayer.handleRoomItsMessage(JSON.parse(n)),this.pageId=i,this.$emit("changePageId",i,this.currentCourseWareData)}},sendLogger:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";"string"===typeof t&&(s=t),T["a"].send({tag:"coursewareLoad",content:{msg:e,param:t},level:s})}}},rt=it,ct=(s("e4ee"),Object(Oe["a"])(rt,ve,ge,!1,null,"7ddb64f8",null)),lt=ct.exports,ut=(s("9b02"),s("7b1b")),dt=s("ae97"),ht=s("f3f2"),mt=s.n(ht),pt=(s("bcac"),s("281f")),ft=s.n(pt),vt=(s("8d67"),s("c58d")),gt=s("97a4"),Ct={name:"ppt-area",components:{H5Courseware:lt,WhiteBoardCanvas:mt.a.WhiteBoardCanvas,WhiteBoardTools:ft.a},props:["ircconfig","isInClass","options","configs"],data:function(){return{pageId:0,showCanvas:!1,examUrl:"",showEaxmIframe:!1,useInfo:window.localStorage.getItem("userInfo"),isBanned:!1,currentThickness:4,currentLineDashed:!1,eraserSize:50,containerWidth:0,containerHeight:0,currentCourseWareData:{},currentDbKey:"",canvasScale:2,coursewareRate:1}},mixins:[ut["a"]],mounted:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(vt["a"])();case 2:e.canvasScale=t.sent,e.$nextTick((function(){e.init(),window.addEventListener("resize",e.setCanvasScale),e.bindEvent()}));case 4:case"end":return t.stop()}}),t)})))()},destroy:function(){this.$bus.$off("classExamination"),window.removeEventListener("resize",this.setCanvasScale)},beforeDestroy:function(){this.$refs.WhiteBoard&&this.$refs.WhiteBoard.uninit()},watch:{showCanvas:function(e){var t=this;e&&this.$nextTick((function(){t.initBoard()}))}},methods:{init:function(){this.listenerEvent()},initBoard:function(){var e=this;this.getCurrentCanvasSize();var t={canvas:{penType:"Bspline",strokeType:"none",scale:this.canvasScale,pageChangeReport:!1,sendRoomCanvasMessage:this.sendRoomCanvasMessage.bind(this),getHistoryMessage:this.getHistoryMessage.bind(this),enableKeyboardDelete:!0,enableFittingShape:!1},common:{liveId:String(this.options.planInfo.id),role:"student",dataVersion:"1",courseId:"",userId:this.options.stuId+"",userName:this.options.nickName,screenWidth:this.containerWidth,screenHeight:this.containerHeight,roomIds:[this.options.roomlist[0]],fastFrequency:2e3,slowFrequency:3e3,serverTimestamp:+new Date+this.options.timeOffset},accessControl:{showMenu:!1,mode:"itsAndCanvas",isBanned:this.isBanned,enableHistoryMessage:!0,showCursor:!0,enableRetrySend:!0,enableLogSend:!1,enableFittingShape:!1}};if(console.log("涂鸦初始化参数",t),this.sendLogger("大班涂鸦初始化参数params: ".concat(JSON.stringify(t))),this.$refs.WhiteBoard){this.$refs.WhiteBoard.uninit(),this.$refs.WhiteBoard.init(t),this.$refs.WhiteBoard.handleMouse("default");var s=this.$refs.WhiteBoard.getMainBoardHandWritting(),o=this.$refs.WhiteBoard.getPluginManager(),n=this.$refs.WhiteBoard;this.$refs.WhiteBoardTools.handleMenuEnable(!1),this.$refs.WhiteBoardTools.init(n,s,o);var a=[11,12,13,14,15,1e3];a.forEach((function(t){1e3===t?o.registerEvent("WhiteboardResize",t,e.toolsMessageHandler("WhiteboardResize",t)):o.registerEvent("ReceiveBinaryData",t,e.toolsMessageHandler("ReceiveBinaryData",t))})),this.$refs.WhiteBoardTools.setWBToolsStatus(!1),this.currentDbKey&&this.initCatalogueInfo(this.currentDbKey)}},toolsMessageHandler:function(e,t){var s=this;return function(o){s.$refs.WhiteBoardTools.receiveBinaryData(e,t,s.pageId,o)}},initCatalogueInfo:function(e){var t=[{index:0,isHide:0,pageId:this.pageId,title:"标题",type:"course"}];try{this.$refs.WhiteBoard&&(this.$refs.WhiteBoard.handleCatalogueChange(t),this.$refs.WhiteBoard.handleResetImComingDbkey(e),this.$refs.WhiteBoard.handlePageChange(String(this.pageId)),this.$refs.WhiteBoardTools.handlePageChange(String(this.pageId)))}catch(s){console.error("initCatalogueInfo中JSON.parse异常捕获",s)}},sendRoomCanvasMessage:function(e,t){var s=window.ChatClient;s.RoomChatManager.sendRoomBinMessage([this.options.roomlist[0]],t.dbKey,t.keyMsgId,t.content),console.log("sendRoomCanvasMessage",t),this.sendLogger("sendRoomCanvasMessage: ".concat(JSON.stringify(t)))},getHistoryMessage:function(e){var t=this,s=e["info"][0].dbKey;console.log("大班课获取历史消息",this.configs,this.ircconfig,this.options),this.sendLogger("发送消息申请拉取数据dbkey: ".concat(s)),Object(gt["a"])({dbkey:s,appId:this.configs.ircAk,sk:this.configs.ircSk,businessId:3,liveId:this.options.planInfo.id,ircApiHost:this.configs.ircApiHost}).then((function(e){try{t.$refs.WhiteBoard&&t.$refs.WhiteBoard.handleRecoverHistoryMessage([{content:e}])}catch(s){console.error(s),t.sendLogger("涂鸦sdk报错 ".concat(s))}})).catch((function(e){console.log("获取历史消息err",e)}))},handleRoomCanvasMessage:function(e){this.$refs.WhiteBoard&&this.$refs.WhiteBoard.handleRoomCanvasMessage(e)},onSendRoomBinMessageResp:function(e){0===e.code?this.$refs.WhiteBoard&&this.$refs.WhiteBoard.handleSendMessageSuccess(e.dbKey,e.keyMsgId):this.$refs.WhiteBoard&&this.$refs.WhiteBoard.handleSendMessageError(e.code,e.msg,e.dbKey,e.keyMsgId)},onGetRoomHistoryBinMessageNotice:function(e){this.sendLogger("处理拉取到的涂鸦历史消息");var t=e;if(Array.isArray(t)){t.forEach((function(e,s){t[s].content=Uint8Array.from(e.content)})),console.log("newData1",t);try{this.$refs.WhiteBoard&&this.$refs.WhiteBoard.handleRecoverHistoryMessage([{content:t}])}catch(s){console.error("涂鸦sdk报错",s)}}else console.error("涂鸦历史消息格式错误")},listenerEvent:function(){var e=this;this.$bus.$on("classExamination",(function(t){if(T["a"].send({tag:"student.Interact",content:{msg:"收到课中考试互动",examinationInfo:t}}),console.log("课中考试",t),t.pub){e.$bus.$emit("setExaminationStatus",!0);var s=e.options.timeOffset,o=+new Date,n=parseInt((o+s)/1e3),a=n-t.beginTime-60,i=t.beginTime+t.totaltime-n,r=e.useInfo?JSON.parse(e.useInfo).unifiedAccessToken:"";if(1===t.status&&a<=0&&(i=t.totaltime),!e.examUrl){var c="from=live&source=pcLargeClass&classId=".concat(e.options.classId,"&studentId=").concat(e.options.stuId,"&token=").concat(r),l="duration=".concat(t.totaltime,"&completed=").concat(3===t.status?1:0,"&isLate=").concat(a>0?1:0,"&remainSeconds=").concat(i);e.examUrl="".concat(t.examUrl,"&platform=3&").concat(c,"&").concat(l),window.thinkApi.ipc.send("test:url",e.examUrl)}e.showEaxmIframe=!0,2===t.status?e.$nextTick((function(){document.getElementById("class-examination").contentWindow.postMessage({type:"updateRemainSecondsTo",data:{remainSeconds:i}},"*")})):3===t.status&&e.$nextTick((function(){document.getElementById("class-examination").contentWindow.postMessage({type:"completeExam"},"*")}))}else e.showEaxmIframe=!1,e.examUrl="",e.$bus.$emit("setExaminationStatus",!1)}))},sendSubmitEaxmToTeacher:function(){var e={roomlist:this.options.roomlist,content:{type:128,name:this.options.nickName,msg:"",submit:!0},chatMsgPriority:99};2!==this.options.classType?dt["a"].sendRoomMessage(e):this.thinkClass.SignalService.sendRoomMessage(e)},courseWareReady:function(e){var t=this;this.showCanvas=e,e&&this.$nextTick((function(){t.setCanvasScale()})),T["a"].send({tag:"init",content:{msg:"课件准备状态".concat(e)}})},getCoursewareRate:function(e){this.coursewareRate=e,this.setCanvasScale()},setCanvasScale:Ae()((function(){var e=this;this.showCanvas&&setTimeout((function(){e.getCurrentCanvasSize(),e.$refs.WhiteBoard&&e.$refs.WhiteBoard.handleResizeCanvas(e.containerWidth,e.containerHeight,!0)}),0)}),300),getCurrentCanvasSize:function(){var e=this,t=document.getElementById("ppt-area-container");this.containerWidth=Math.round(Number(window.getComputedStyle(t).width.replace("px","")));var s=Math.round(Number(window.getComputedStyle(t).height.replace("px",""))),o=9*this.containerWidth/16;this.containerHeight=3*this.containerWidth/4;var n=(s-this.containerHeight)/2,a=0;if(2!=this.coursewareRate&&n<0||s<o){console.log("通过高度计算宽度");var i=4*s/3;this.containerHeight=s,a=(this.containerWidth-i)/2,n=0,this.containerWidth=i}this.$nextTick((function(){var t=document.querySelector(".ppt-area-container .container");t.style.top="".concat(n,"px"),t.style.left="".concat(a,"px");var s=document.querySelector(".showPhotoWall");s&&(s.style.top="".concat(n,"px"),s.style.left="".concat(a,"px"),s.style.width="".concat(e.containerWidth,"px"),s.style.height="".concat(e.containerHeight,"px"));var o=document.querySelector(".blackBoardImg");o&&(o.style.top="".concat(n,"px"),o.style.left="".concat(a,"px"),o.style.width="".concat(e.containerWidth,"px"),o.style.height="".concat(e.containerHeight,"px"))})),console.log("获取当前课件区域的宽高",this.containerWidth,this.containerHeight),this.sendLogger("获取当前课件区域的宽高(宽：".concat(this.containerWidth,", 高：").concat(this.containerHeight,"）"))},clear:function(){},changePageId:function(e,t){var s=this;this.pageId=e,this.currentCourseWareData=t;var o=t.specificLiveKey,n=t.courseWareId,a=t.pageId;if(o&&n&&a){var i="".concat(o,"_").concat(n,"_").concat(a);this.currentDbKey=i,this.$nextTick((function(){s.initCatalogueInfo(i)}))}else console.error("课件信息错误",t)},sendLogger:function(e){T["a"].send({tag:"largeClass-graffiti",content:{msg:e}})},handleIframeLoad:function(){this.sendLogger("加载H5成功-大班H5考试,".concat(this.examUrl))}}},bt=Ct,At=(s("8846"),Object(Oe["a"])(bt,pe,fe,!1,null,"43c30b34",null)),wt=At.exports,St=s("3b29"),yt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"live-video-wrapper"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.teacherVideoStatus,expression:"teacherVideoStatus"}],ref:"liveVideoContainer",staticClass:"live-video-container",attrs:{id:"liveVideoContainer"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.teacherVideoStatus,expression:"!teacherVideoStatus"}],staticClass:"live-bg"}),e.audioMuteStatus?t("div",{staticClass:"microphone-container"},[t("MicrophoneStatus")],1):e._e(),e.teacherOnStageStatus?t("div",{staticClass:"teacher-on-stage"},[t("div",{staticClass:"stageTips"},[e._v(e._s(e.$t("common.onStage")))])]):e._e()])},Pt=[],kt=s("6543"),It=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.info("函数申明 _default(opts)",t,"filePath:renderer/components/Classroom/LargeClass/base/players/components/liveVideo/rtcClass.js"),Object(A["a"])(this,e),this.rtcConfig=t.rtcConfig,this.teacherVideoUid=Number(this.rtcConfig.teacherVideoUid),this.teacherAudioUid=Number(this.rtcConfig.teacherAudioUid)}return Object(w["a"])(e,[{key:"createTeacherRtcChannel",value:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(){var t,s;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=window.RTC_COMMON.rtcEngine,s=t.createChannel(),s.muteLocalAudioStream(!0),s.muteLocalVideoStream(!0),this.teacherRtcChannel=s,window.RTC_COMMON.teacherRtcChannel=s,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e,this)})));function t(){return console.info("函数申明 createTeacherRtcChannel, filePath:renderer/components/Classroom/LargeClass/base/players/components/liveVideo/rtcClass.js"),e.apply(this,arguments)}return t}()},{key:"createVideo",value:function(e){this.teacherRtcChannel.setupRemoteVideo(this.teacherVideoUid,document.getElementById(e))}},{key:"destroyVideo",value:function(){this.teacherRtcChannel.destroyRemoteVideo(this.teacherVideoUid,document.getElementById(this.teacherVideoUid))}},{key:"muteTeacherChannelAudio",value:function(e){this.teacherRtcChannel.muteAllRemoteAudioStreams(e)}}]),e}(),xt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"microphone-status"},[t("div",{staticClass:"icon-mute"}),t("dic",{staticClass:"status-text"},[e._v(" "+e._s(e.$t("classroom.largeClass.players.mute"))+" ")])],1)},Ot=[],Tt=(s("e4e0"),{}),jt=Object(Oe["a"])(Tt,xt,Ot,!1,null,"175be238",null),Mt=jt.exports,Lt={name:"liveVideo",components:{MicrophoneStatus:Mt},props:{options:{type:Object,default:function(){return{}}},rtcConfig:{type:Object,default:function(){return{}}}},data:function(){var e=this.options.teacherInfo.avatar;return{audioMuteStatus:!1,teacherAvatar:e,teacherOnStageStatus:!1,teacherVideoStatus:!0,teacherRtcSensor:null}},mounted:function(){this.init()},methods:{init:function(){this.rtcClass=new It({rtcConfig:this.rtcConfig}),this.initTeacherRtcChannel(),this.bindEvent()},bindEvent:function(){var e=this;this.$bus.$on("player.muteTeacherChannelAudio",(function(t){e.rtcClass.muteTeacherChannelAudio(t)})),this.$bus.$on("stageLeavelChannel",(function(){e.rtcClass.destroyVideo(),console.log("remotechange--teacherstage"),e.teacherVideoStatus=!1})),this.$bus.$on("teacherOnStageStatus",(function(t){e.handleTeacherOnStage(t)}))},initTeacherRtcChannel:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s,o;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.rtcClass.createTeacherRtcChannel();case 2:s=t.sent,e.sendLogger("创建主讲rtc频道"),s.on("remoteVideoStateChanged",(function(t,s,o){t==e.rtcConfig.teacherVideoUid&&1==s&&e.sendLogger("接收到主讲视频首帧, uid:".concat(t,", ").concat(e.rtcConfig.teacherVideoUid," ").concat(e.rtcConfig.teacherAudioUid," ").concat(s," ").concat(o)),console.log("remoteChange-remoteVideoStateChanged",t,e.rtcConfig.teacherVideoUid,e.rtcConfig.teacherAudioUid,s,o),t==e.rtcConfig.teacherVideoUid&&(5===o&&(e.teacherVideoStatus=!1),6===o&&(e.teacherVideoStatus=!0))})),s.on("remoteAudioStateChanged",(function(t,s,o){t==e.rtcConfig.teacherAudioUid&&(2===s&&(e.audioMuteStatus=!1),0===s&&5===o&&(e.audioMuteStatus=!0,e.sendLogger("主讲端静音, uid: ".concat(e.rtcConfig.teacherAudioUid))),2===s&&6===o&&(e.audioMuteStatus=!1,e.sendLogger("主讲端解除静音, uid: ".concat(e.rtcConfig.teacherAudioUid))))})),s.on("remoteJoinChannel",(function(t){e.sendLogger("老师频道远端用户加入回调触发, uid: ".concat(t),{teacherAudioUid:e.rtcConfig.teacherAudioUid,teacherVideoUid:e.rtcConfig.teacherVideoUid}),console.log("remoteChange--join",t),t==e.rtcConfig.teacherAudioUid&&(e.$emit("updateLiveState",1),e.sendLogger("主讲端音频加入频道")),t==e.rtcConfig.teacherVideoUid&&(e.teacherVideoStatus=!0,e.rtcClass.createVideo("liveVideoContainer"),e.sendLogger("主讲视频加入频道"))})),s.on("remoteLeaveChannel",(function(t){console.log("remoteChange--leavel",t),t==e.rtcConfig.teacherAudioUid&&(e.audioMuteStatus=!1,e.$emit("updateLiveState",0),e.sendLogger("主讲端音频离开频道, uid: ".concat(e.rtcConfig.teacherAudioUid))),t==e.rtcConfig.teacherVideoUid&&(e.teacherVideoStatus=!1,e.rtcClass.destroyVideo(),e.sendLogger("主讲视频端离开频道, uid: ".concat(e.rtcConfig.teacherVideoUid)))})),s.on("rtcStats",(function(t){e.$bus.$emit("teacherRtcChannelStats",t)})),s.on("connectionStateChanged",(function(t){console.log("[hw_rtc_join_room]主讲频道网络状态触发方法触发,code:",t),e.sendLogger("主讲频道网络状态触发方法触发,code: ".concat(t)),5==t?e.teacherRtcSensor.rtcSensorPush({result:"fail",errorType:"连接失败"}):4==t&&(e.teacherRtcSensor.isFirstJoinChannel=!1,e.teacherRtcSensor.rtcSensorPush({result:"start"}))})),s.on("localJoinChannel",(function(){console.log("[hw_rtc_join_room]主讲频道本地加入成功"),e.sendLogger("本地加入主讲频道成功"),e.teacherRtcSensor.rtcSensorPush({result:"success"})})),s.on("rejoinChannelSuccess",(function(){console.log("[hw_rtc_join_room]主讲频道重连本地加入成功"),e.sendLogger("本地重连加入主讲频道成功"),e.teacherRtcSensor.rtcSensorPush({result:"success"})})),e.teacherRtcSensor=new M["a"],console.log("[hw_rtc_join_room]加入主讲频道触发start"),e.teacherRtcSensor.rtcSensorPush({result:"start"}),o=s.joinChannel({autoSubscribeAudio:!0,autoSubscribeVideo:!0,publishLocalAudio:!1,publishLocalVideo:!1}),0==o?e.sendLogger("调用加入主讲频道成功"):(console.log("[hw_rtc_join_room]调用加入主讲频道方法触发fail"),e.sendLogger("调用加入主讲频道失败,code:".concat(o),{},"error"),e.teacherRtcSensor.rtcSensorPush({result:"fail",errorType:"调用加入房间接口失败"}));case 17:case"end":return t.stop()}}),t)})))()},handleTeacherOnStage:function(e){this.teacherOnStageStatus=e,e?(this.rtcClass.destroyVideo(),this.teacherVideoStatus=!1):(this.rtcClass.createVideo("liveVideoContainer"),this.teacherVideoStatus=!0)},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";T["a"].send({tag:"liveVideo",level:s,content:{msg:e,parmas:t}})}}},Rt=Lt,Et=(s("c0e9"),Object(Oe["a"])(Rt,yt,Pt,!1,null,"788117c6",null)),Nt=Et.exports,Bt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"live-video-wrapper"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.teacherVideoStatus,expression:"teacherVideoStatus"}],ref:"liveVideoContainer",staticClass:"live-video-container",attrs:{id:"liveVideoContainer"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.teacherVideoStatus,expression:"!teacherVideoStatus"}],staticClass:"live-bg"}),e.audioMuteStatus?t("div",{staticClass:"microphone-container"},[t("MicrophoneStatus")],1):e._e()])},Vt=[],Dt={name:"liveVideo",components:{MicrophoneStatus:Mt},props:{options:{type:Object,default:function(){return{}}},rtcConfig:{type:Object,default:function(){return{}}}},data:function(){return{audioMuteStatus:!1,teacherVideoUid:Number(this.rtcConfig.teacherVideoUid),teacherAudioUid:Number(this.rtcConfig.teacherAudioUid),teacherVideoStatus:!1}},mounted:function(){this.init()},methods:{init:function(){this.bindEvent()},bindEvent:function(){var e=this;this.$bus.$on("player.muteTeacherChannelAudio",(function(t){window.RTC_COMMON.classRtcChannel.muteRemoteAudioStream(e.teacherAudioUid,t)})),this.$bus.$on("player.smallClassRtcReady",(function(t){e.initTeacherRtcChannel(t)}))},initTeacherRtcChannel:function(e){var t=this;return Object(x["a"])(Object(I["a"])().mark((function s(){return Object(I["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:e.on("remoteVideoStateChanged",(function(s,o){s==t.teacherVideoUid&&1==o&&(setTimeout((function(){e.setupRemoteVideo(t.teacherVideoUid,document.getElementById("liveVideoContainer"))}),0),t.sendLogger("接收到主讲视频首帧, uid: ".concat(t.teacherVideoUid))),console.log("videoGroup-remoteVideoStateChanged",s,t.rtcConfig.teacherVideoUid,t.rtcConfig.teacherAudioUid,o,reason),s==t.teacherVideoUid&&(5===reason&&(t.teacherVideoStatus=!1),6===reason&&(t.teacherVideoStatus=!0))})),e.on("remoteAudioStateChanged",(function(e,s,o){console.log("remoteAudioStateChanged",e,s,o),e==t.teacherAudioUid&&(0===s&&5===o&&(t.audioMuteStatus=!0,t.sendLogger("主讲端静音, uid: ".concat(t.teacherAudioUid))),2===s&&6===o&&(t.audioMuteStatus=!1,t.sendLogger("主讲端解除静音, uid: ".concat(t.teacherAudioUid))))})),e.on("remoteJoinChannel",(function(s){s==t.teacherAudioUid&&(e.muteRemoteAudioStream(t.teacherAudioUid,!1),t.$emit("updateLiveState",1),t.sendLogger("主讲端加入频道, uid: ".concat(t.teacherAudioUid))),s==t.teacherVideoUid&&(t.teacherVideoStatus=!0,t.sendLogger("主讲视频端加入频道, uid: ".concat(t.teacherVideoUid)))})),e.on("remoteLeaveChannel",(function(s){s==t.teacherAudioUid&&(t.audioMuteStatus=!1,t.$emit("updateLiveState",0),t.sendLogger("主讲端离开频道, uid: ".concat(t.teacherAudioUid))),s==t.teacherVideoUid&&(t.teacherVideoStatus=!1,e.destroyRemoteVideo(t.teacherVideoUid,document.getElementById(t.teacherVideoUid)),t.sendLogger("主讲视频端离开频道, uid: ".concat(t.teacherVideoUid)))})),e.on("rtcStats",(function(e){t.$bus.$emit("teacherRtcChannelStats",e)}));case 5:case"end":return s.stop()}}),s)})))()},sendLogger:function(e){T["a"].send({tag:"liveVideo",content:{msg:e}})}}},Ut=Dt,_t=(s("9254"),Object(Oe["a"])(Ut,Bt,Vt,!1,null,"543835d0",null)),Gt=_t.exports,Wt=function(){var e=this,t=e._self._c;return e.thumbnailBase64?t("div",{staticClass:"thumbnail-wrapper",on:{click:function(t){return t.stopPropagation(),e.handleScreenshotPath.apply(null,arguments)}}},[t("div",{staticClass:"thumbnail-img"},[t("img",{attrs:{src:e.thumbnailBase64}})]),t("div",{staticClass:"thumbnail-text"},[e._v(" "+e._s(e.$t("classroom.modules.screenThumbnail.successNotice"))+" ")])]):e._e()},Ht=[],Ft=s("4bde"),qt={data:function(){return{thumbnailBase64:null}},mounted:function(){var e=this;this.$bus.$on("screenThumbnail",(function(t){console.info("箭头函数 监听 screenThumbnail(thumbnailBase64)",t,"filePath:renderer/components/Classroom/LargeClass/base/players/components/screenThumbnail/index.vue"),e.thumbnailBase64=t,o&&clearTimeout(o),o=setTimeout((function(){e.thumbnailBase64=null}),3e3)}))},methods:{handleScreenshotPath:function(){return Object(x["a"])(Object(I["a"])().mark((function e(){var t;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.info("对象函数 handleScreenshotPath,filePath:renderer/components/Classroom/LargeClass/base/players/components/screenThumbnail/index.vue"),e.next=3,Object(Ft["b"])();case 3:t=e.sent,oe["nativeApi"].openDirBySystem(t);case 5:case"end":return e.stop()}}),e)})))()}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/components/Classroom/LargeClass/base/players/components/screenThumbnail/index.vue"),this.$bus.$off("screenThumbnail")}},Jt=qt,Kt=(s("b985"),Object(Oe["a"])(Jt,Wt,Ht,!1,null,"5f343339",null)),zt=Kt.exports,Qt={data:function(){return{VideoErrorMap:{1:this.$t("classroom.smallClass.视频采集失败"),2:this.$t("classroom.smallClass.没有摄像头权限"),3:this.$t("classroom.smallClass.摄像头被其他应用占用"),4:this.$t("classroom.smallClass.请检查摄像头设备"),5:this.$t("classroom.smallClass.视频采集失败"),8:this.$t("classroom.smallClass.找不到可用摄像头设备")},AudioErrorMap:{2:this.$t("classroom.smallClass.没有麦克风权限"),3:this.$t("classroom.smallClass.麦克风被其他应用占用"),4:this.$t("classroom.smallClass.请检查麦克风设备"),5:this.$t("classroom.smallClass.音频采集失败"),6:this.$t("classroom.smallClass.没有可用的麦克风"),7:this.$t("classroom.smallClass.没有可用的音频播放设备"),10:this.$t("classroom.smallClass.音频采集失败")}}},methods:{showNotification:function(e,t){console.info("对象函数 showNotification(msgMap, err)",e,t,"filePath:renderer/mixins/useErrorMsg.js");var s=e[t];s&&(this.$Message.error("".concat(s,"(code:").concat(t,")")),T["a"].send({content:{msg:"本地音视频报错",errorMsg:s,errCode:t},level:"error"}))}}},$t=Qt,Yt={components:{PptArea:wt,MediaSecurityAccess:St["a"],LargeClassLiveVideo:Nt,SmallClassLiveVideo:Gt,ScreenThumbnail:zt},i18n:ne["b"],props:{configs:{type:Object,default:function(){return{}}},extraInfo:{type:Object,default:function(){return{}}},commonOption:{type:Object,default:function(){return{}}}},mixins:[$t],data:function(){return{classType:this.commonOption.classType,ircconfig:null,liveState:0}},computed:{isInClass:function(){return console.info("对象函数 isInClass,filePath:renderer/components/Classroom/LargeClass/base/players/rtc-live.vue"),1===this.liveState}},mounted:function(){this.ircconfig=this.configs,this.addRtcListener(),Object(ne["c"])()},methods:{updateLiveState:function(e){console.info("对象函数 updateLiveState(state)",e,"filePath:renderer/components/Classroom/LargeClass/base/players/rtc-live.vue"),console.log("rtc-live-updateLiveState",e),this.liveState=e},addRtcListener:function(){var e=this;console.info("对象函数 addRtcListener,filePath:renderer/components/Classroom/LargeClass/base/players/rtc-live.vue"),window.RTC_COMMON.rtcEngine.on("localVideoStateChanged",(function(t,s){console.info("箭头函数 监听 localVideoStateChanged(state, err)",t,s,"filePath:renderer/components/Classroom/LargeClass/base/players/rtc-live.vue"),e.showNotification(e.VideoErrorMap,s)})),window.RTC_COMMON.rtcEngine.on("localAudioStateChanged",(function(t,s){console.info("箭头函数 监听 localAudioStateChanged(state, err)",t,s,"filePath:renderer/components/Classroom/LargeClass/base/players/rtc-live.vue"),e.showNotification(e.AudioErrorMap,s)}))}}},Zt=Yt,Xt=(s("e4d7"),Object(Oe["a"])(Zt,he,me,!1,null,"2c94c730",null)),es=Xt.exports,ts=s("b02e"),ss=(s("068a"),function(e){Object(S["a"])(s,e);var t=Object(y["a"])(s);function s(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.info("函数申明 RTCWebLive(options)",o,"filePath:renderer/components/Classroom/LargeClass/base/players/rtc-live.js"),Object(A["a"])(this,s),e=t.call(this,o),e.initPlayer(o.dom),e}return Object(w["a"])(s,[{key:"createVuePlayer",value:function(e){var t=g.a.extend(e),s=this.createPlayerProps(),o=new t({i18n:ne["b"],propsData:s});return o.$mount(),o}},{key:"initPlayer",value:function(e){this.vm=this.createVuePlayer(es),this.render(e,this.vm)}},{key:"eventHandler",value:function(e){console.log("rtc-live-eventHandler",e);var t=e.type,s=e.data,o=this.vm.$refs.ppt,n=o.$children[0];"onRecvRoomBinMessageNotice"===t&&o.handleRoomCanvasMessage(s),"onGetRoomHistoryBinMessageNotice"===t&&o.onGetRoomHistoryBinMessageNotice(s),"canvasSwitchCourseware"===t&&n.handleSwitchCourseware(s)}},{key:"sendLogger",value:function(e,t){T["a"].send({tag:"rtc-live",content:{msg:e,params:t}})}}]),s}(ts["a"])),os=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowChat,expression:"isShowChat"}],class:e.diffClassStyle},[t("div",{staticClass:"chat-container"},[t("span",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e._v(e._s(e.peopleOnline)+e._s(e.selfChatStatus))]),t("div",{staticClass:"content-box"},[t("PrivateChat",{directives:[{name:"show",rawName:"v-show",value:e.privateMessageStatus,expression:"privateMessageStatus"}],attrs:{privateMessages:e.privateMessages,privateMessageStatus:e.privateMessageStatus,options:e.options},on:{handleSetPrivateMessage:e.handleSetPrivateMessage,closePrivateChat:e.handleClosePrivateChat}}),t("GroupChat",{directives:[{name:"show",rawName:"v-show",value:!e.privateMessageStatus,expression:"!privateMessageStatus"}],attrs:{inputStatus:e.ChatClass.inputStatus,messages:e.messages,lockTeacherMessage:e.ChatClass.lockTeacherMessage,planId:e.options.planId,options:e.options,privateMessageStatus:e.privateMessageStatus,packageId:e.options.planInfo.packageId,lottieEmojiLists:e.lottieEmojiLists},on:{handleSetMessage:e.handleSetMessage}})],1)])])},ns=[],as=(s("13d5"),s("fb6a"),{stu:1,teacher_f:2,system:3,mine:4}),is=function(e,t){return t&&"[e]em_18[e]"==e?'<i class="get-good-method"></i>':e&&e.replace(/\[e\](em\_[1-9]{1,1}[0-9]{0,1})\[e\]/g,(function(e,t){return'<img src="'.concat(s("4b5d")(ms+t+".png"),'" />')}))},rs=function(e){var t=e.substr(0,2);return"t_"===t?1:"f_"===t?0:"s_"===t||"ws_"===e.substr(0,3)?2:3},cs={CONTINUS_CORRECT:142,NORMAL_ROOM_MESSAGE:130},ls={ASSIST_TEACHER:0,MAIN_TEACHER:1,STUDENT:2,OTHERS:3},us=function(e){return"t_"===e.substr(0,2)||"f_"===e.substr(0,2)},ds=function(e){var t=0;if(document.selection){e.focus();var s=document.selection.createRange();s.moveStart("character",-e.value.length),t=s.text.length}else(e.selectionStart||"0"==e.selectionStart)&&(t=e.selectionStart);return t},hs=function(e){return e?e.replace(/\[e\]smiling\[e\]/g,"[e]em_1[e]").replace(/\[e\]grinning\[e\]/g,"[e]em_2[e]").replace(/\[e\]flushe\[e\]/g,"[e]em_3[e]").replace(/\[e\]satisfy\[e\]/g,"[e]em_4[e]").replace(/\[e\]grimacing\[e\]/g,"[e]em_5[e]").replace(/\[e\]winking\[e\]/g,"[e]em_6[e]").replace(/\[e\]sweat\[e\]/g,"[e]em_7[e]").replace(/\[e\]downcast\[e\]/g,"[e]em_8[e]").replace(/\[e\]confounded\[e\]/g,"[e]em_9[e]").replace(/\[e\]disappointed\[e\]/g,"[e]em_10[e]").replace(/\[e\]loudlyCrying\[e\]/g,"[e]em_11[e]").replace(/\[e\]tearsOfJoy\[e\]/g,"[e]em_12[e]").replace(/\[e\]dizzy\[e\]/g,"[e]em_13[e]").replace(/\[e\]pouting\[e\]/g,"[e]em_14[e]").replace(/\[e\]thumbsUp\[e\]/g,"[e]em_15[e]").replace(/\[e\]OK\[e\]/g,"[e]em_16[e]").replace(/\[e\]victory\[e\]/g,"[e]em_17[e]"):""},ms="./icons/",ps={topic:0,notice:1,privMsg:99},fs=s("bf99"),vs=s("975c"),gs=function(){var e=this,t=e._self._c;return t("div",{staticClass:"private-chat"},[t("div",{staticClass:"private-header"},[t("div",{staticClass:"header-left"},[t("div",{staticClass:"name"},[e._v(e._s(e.options.counselorInfo.name)+"("+e._s(e.assistantTitle)+")")])]),t("div",{staticClass:"header-right"},[t("img",{staticClass:"btn-close",attrs:{src:s("9f7b")},on:{click:e.closePrivateChat}})])]),t("div",{ref:"message-list",staticClass:"message-container",attrs:{id:"message-list"}},e._l(e.privateMessages,(function(s,o){return t("div",{key:o,staticClass:"item-message"},[2==s.type?t("div",{staticClass:"message-teacher teacher-f"},[t("section",[t("span",{staticClass:"name-label name"},[e._v(" "+e._s(s.name)+" ")])]),t("section",{staticClass:"message-content"},[t("span",{staticClass:"message",domProps:{innerHTML:e._s(e.replaceExpress(s.msg,!0).replace(/\n/g,"<br>"))}})])]):e._e(),s.type===e.msgUserType.mine?t("div",{staticClass:"message-student"},[t("div",{staticClass:"stu-message-content private-stu-message"},[t("section",[t("span",{staticClass:"self"},[t("span",{staticClass:"name"},[e._v(" "+e._s(e.nickName)+" ")])])]),t("section",{staticClass:"message-content"},[t("div",{staticClass:"content"},[t("span",{directives:[{name:"show",rawName:"v-show",value:s.messageStatus,expression:"item.messageStatus"}],staticClass:"send_error"}),t("span",{staticClass:"message",domProps:{innerHTML:e._s(e.replaceExpress(s.msg,!0))}})])])])]):e._e()])})),0),t("div",{staticClass:"chat-footer-container"},[t("div",{staticClass:"footer-live-box"},[t("div",{staticClass:"send-message-box"},[t("div",{staticClass:"message-box private-message-box"},[t("div",{staticClass:"input-wrap"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.privateInputText,expression:"privateInputText"}],ref:"inputBox",attrs:{type:"text",placeholder:e.$t("classroom.largeClass.chats.inputPlaceholder"),autocomplete:"off",maxlength:"200"},domProps:{value:e.privateInputText},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSetPrivateMessage.apply(null,arguments)},input:function(t){t.target.composing||(e.privateInputText=t.target.value)}}})])])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowNewMsgTip,expression:"isShowNewMsgTip"}],staticClass:"new-meg-tip",on:{click:e.handleNewMsg}},[t("i",{staticClass:"icon-more-bottom"})])])])},Cs=[],bs=(s("498a2"),s("35ac")),As={data:function(){return{nickName:"",msgTip:this.$t("classroom.largeClass.chats.msgTip"),msgUserType:as,privateInputText:"",isShowNewMsgTip:!1,assistantTitle:""}},props:{privateMessages:{default:[],type:Array},options:{type:Object,default:function(){return{}}},privateMessageStatus:{type:Boolean,default:!1}},watch:{privateMessageStatus:{handler:function(e){var t=this;this.$nextTick((function(){t.handleScrollBottom()}))},deep:!0}},methods:{replaceExpress:is,reSensorEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(M["e"])(e,this.options,t)},getUserAvatar:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s,o;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(ae["a"])();case 2:s=t.sent,o=s.nickName,e.nickName=o;case 5:case"end":return t.stop()}}),t)})))()},handleSetPrivateMessage:function(){console.log("发送私聊消息"),this.privateInputText.length&&(T["a"].send({tag:"action",content:{msg:"发送私聊消息",privateInputText:this.privateInputText}}),this.privateInputText.trim().length>0&&(this.inputBox.blur(),this.$emit("handleSetPrivateMessage",{type:as.mine,name:this.msgTip.SPEECH_MINE,msg:this.privateInputText.trim()}),this.privateInputText="",this.handleScrollBottom(),this.reSensorEvent("hw_classroom_tutor_message_reply")))},handleNewMsg:function(){T["a"].send({tag:"action",content:{msg:"点击新消息事件"}}),this.handleScrollBottom()},closePrivateChat:function(){this.$bus.$emit("chats.changePrivateMessageStatus")},handleScrollBottom:function(){var e=this;this.isShowNewMsgTip=!1,this.$nextTick((function(){var t=document.getElementById("message-list"),s=Math.round(t.scrollHeight),o=Math.round(t.clientHeight);t.scrollTop=s-o+1,t.removeEventListener("scroll",e.handleOnScroll)}))},handleOnScroll:function(){var e=document.getElementById("message-list"),t=Math.round(e.scrollHeight),s=Math.round(e.scrollTop),o=Math.round(e.clientHeight);t<=s+o+1&&(this.isShowNewMsgTip=!1,e.removeEventListener("scroll",this.handleOnScroll))},handleReceivePrivateMessage:function(){var e=document.getElementById("message-list"),t=Math.round(e.scrollHeight),s=Math.round(e.scrollTop),o=Math.round(e.clientHeight);t<=s+o+1?this.handleScrollBottom():(e.addEventListener("scroll",this.handleOnScroll),this.isShowNewMsgTip=!0)}},mounted:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s,o,n;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getUserAvatar(),e.inputBox=e.$refs.inputBox,e.handleScrollBottom(),e.$bus.$on("chats.privateMessagePush",e.handleReceivePrivateMessage),t.next=6,Object(bs["b"])();case 6:return o=t.sent,t.next=9,Object(ee["f"])();case 9:n=t.sent,e.assistantTitle=(null===o||void 0===o||null===(s=o.teacherV2[n])||void 0===s?void 0:s.assistantTitle)||"VIP Teacher";case 11:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){this.$bus.$off("chats.privateMessagePush",this.handleReceivePrivateMessage);var e=document.getElementById("message-list");e&&e.removeEventListener("scroll",this.handleOnScroll)}},ws=As,Ss=(s("7d4f"),Object(Oe["a"])(ws,gs,Cs,!1,null,"6267bf4c",null)),ys=Ss.exports,Ps=function(){var e=this,t=e._self._c;return t("div",{staticClass:"group-chat"},[t("div",{staticClass:"message-container",attrs:{id:"group-chat-list"}},e._l(e.messages,(function(s,o){return t("div",{key:s.id,staticClass:"item-message"},[s.type===e.msgUserType.teacher_f?t("div",{staticClass:"message-teacher teacher-f"},[t("section",[t("span",{staticClass:"name-label name"},[e._v(" "+e._s(s.name)+" ")])]),t("section",{staticClass:"message-content"},[t("span",{staticClass:"message",domProps:{innerHTML:e._s(e.replaceExpress(s.msg,!0))}})])]):e._e(),s.type===e.msgUserType.stu||s.type===e.msgUserType.mine?t("div",{staticClass:"message-student"},[t("div",{staticClass:"stu-message-content",class:s.isMe||s.type===e.msgUserType.mine?"self-chat-content":"others-chat-content"},[t("section",[s.type===e.msgUserType.mine||s.isMe?t("span",{staticClass:"self"},[t("span",{staticClass:"name"},[e._v(" "+e._s(e.nickName)+" ")])]):t("span",{staticClass:"others"},[t("span",{staticClass:"name"},[e._v(" "+e._s(s.name)+" ")])])]),t("section",[t("div",{staticClass:"content"},[t("span",{directives:[{name:"show",rawName:"v-show",value:s.messageStatus,expression:"item.messageStatus"}],staticClass:"send_error"}),s.isNewEmoji?t("EmoticonMessage",{attrs:{willAutoClear:!1,name:s.msg,type:s.emojiType,emojiId:s.emojiId,width:40,height:40,lottieUrl:s.lottieUrl,loopLottie:!0}}):t("div",{staticClass:"message",domProps:{innerHTML:e._s(e.replaceExpress(s.msg,!0))}})],1)])])]):e._e(),s.type===e.msgUserType.system?t("div",{staticClass:"message-system"},[t("div",{staticClass:"message-content"},[t("span",{staticClass:"message"},[e._v(e._s(s.msg))])])]):e._e()])})),0),e.showFooter?t("div",{staticClass:"chat-footer-wrapper"},[t("div",{staticClass:"chat-footer-container"},[e.options.counselorInfo&&e.options.counselorInfo.name?t("a-badge",{staticClass:"private-badge",attrs:{dot:e.showDot},on:{click:e.handleTogglePrivateChat}},[e.options.counselorInfo.avatar?t("img",{staticClass:"private-avatar",attrs:{src:e.options.counselorInfo.avatar,alt:"",srcset:""}}):e._e()]):e._e(),t("div",{staticClass:"footer-live-box"},[t("div",{staticClass:"send-message-box",class:{lock:e.needLoak}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.needLoak,expression:"needLoak"}],staticClass:"message-box message-box-lock"},[t("div",{staticClass:"chatbox-closed"},[e._v(" "+e._s(e.inputStatus.text)+" ")])]),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.needLoak,expression:"!needLoak"}],staticClass:"message-box"},[t("div",{staticClass:"input-wrap"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputStatus.text,expression:"inputStatus.text"}],ref:"inputBox",class:{disabled:e.needLoak},attrs:{type:"text",placeholder:e.$t("classroom.largeClass.chats.inputPlaceholder"),autocomplete:"off",disabled:e.needLoak,maxlength:"200"},domProps:{value:e.inputStatus.text},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSendMessage.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.inputStatus,"text",t.target.value)}}}),t("div",{staticClass:"express",class:e.showEmojiPane?"select-express":"",attrs:{id:"emoji-icon"},on:{click:e.handleShowExpress}})])])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowNewMsgTip,expression:"isShowNewMsgTip"}],staticClass:"new-meg-tip",on:{click:e.handleNewMsg}},[t("i",{staticClass:"icon-more-bottom"})]),t("div",{staticClass:"emoji-container",attrs:{id:"emoji-container-id"}},[t("LargeEmojiPane",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.closeEmojiPane,expression:"closeEmojiPane"}],ref:"emojiPaneRef",attrs:{showEmojiPane:e.showEmojiPane,lottieEmojiLists:e.lottieEmojiLists,options:e.options,packageId:e.packageId},on:{closeLargeEmojiPane:e.closeLargeEmojiPane}})],1),e.showPrivateToast?t("div",{staticClass:"private-message-container"},[t("div",{staticClass:"private-message-toast"},[t("div",{staticClass:"message-header"},[t("div",{staticClass:"header-left"},[t("div",{staticClass:"header-avatar"},[t("img",{attrs:{src:e.options.counselorInfo.avatar||e.defaultAvatar,alt:"",srcset:""}})]),t("div",{staticClass:"private-name"},[t("span",{staticClass:"private-name__name"},[e._v(e._s(e.options.counselorInfo.name))]),t("span",{staticClass:"private-name__position"},[e._v(e._s(e.assistantTitle))])])])]),t("div",{staticClass:"message-body"},[t("div",{staticClass:"private-message",domProps:{innerHTML:e._s(e.replaceExpress(e.privateMsg,!0).replace(/\n/g,"<br>"))}}),t("div",{staticClass:"message-footer-btn"},[t("a-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:e.handleReply}},[e._v(e._s(e.$t("classroom.largeClass.chats.reply")))]),t("a-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:e.handleGotIt}},[e._v(e._s(e.$t("classroom.largeClass.chats.gotIt")))])],1)])])]):e._e()],1)]):e._e()])},ks=[],Is=function(){var e=this,t=e._self._c;return e.showEmojiPane?t("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.closeEmojiPane,expression:"closeEmojiPane"}],staticClass:"emojis-pane-container",class:e.allOnStage?"allOnStage-pane-container":""},[t("section",{staticClass:"emojis-nav"},[t("ul",e._l(e.lottieEmojiLists,(function(o,n){return t("li",{key:o.emojiPackageId,staticClass:"emoji-nav-content",class:o.emojiPackageId==e.currentOrderId?"active":"",on:{click:function(t){return e.selectedEmoji(o.emojiPackageId,n)}}},[o.isLocal?t("img",{attrs:{src:s("ff63"),alt:""}}):t("img",{attrs:{src:o.picture,alt:""}})])})),0)]),t("section",{staticClass:"emojis-list"},[t("div",{ref:"scrollWrapper",staticClass:"emoji-scroll-wrapper"},e._l(e.lottieEmojiLists,(function(s){return t("div",{key:s.emojiPackageId,staticClass:"emoji-show-list",class:{"native-emoji":1==s.isLocal,"overshow-style":1==s.isOver&&1==s.overShow},style:e.synamicWidthStyle(s.isLocal,s.content.length)},[1==s.isOver&&1==s.overShow?[t("div",{staticClass:"emojiGroup-overShow"},[t("span",{staticClass:"overShow-emoji"},[t("img",{attrs:{src:s.picture}}),t("span")]),t("p",{staticClass:"overShow-tips top"},[e._v(" "+e._s(e.$t("classroom.smallClass.dynamicEmoji[0]"))+" ")]),t("p",{staticClass:"overShow-tips"},[e._v(e._s(e.$t("classroom.smallClass.dynamicEmoji[1]")))])])]:e._l(s.content,(function(o,n){return t("div",{key:n,staticClass:"emoji-group-item"},[s.isLocal?t("Emoticon",{attrs:{name:o.name,type:o.type,enableHover:!0,hoverWidth:45,hoverHeight:45,width:40,height:40},on:{handleClick:function(t){return e.handleLocalClick(arguments,s,n)}}}):t("div",{staticClass:"dynamic-emoji",on:{click:function(t){return e.handleLottieClick(o,s)}}},[t("img",{attrs:{src:o.emojiPicture,alt:""}})])],1)}))],2)})),0)])]):e._e()},xs=[],Os=(s("8a79"),s("90ea")),Ts=s("c02a"),js={name:"EmojiPane",components:{Emoticon:Os["a"]},data:function(){return{emoticonList:"",showEmojiPane:!1,nickName:"",avatar:"",currentOrderId:0,dynamicEmolist:[]}},props:{options:{type:Object,default:null},allOnStage:{type:Boolean,default:!1},showEmojiPane:{type:Boolean,default:!1},packageId:{type:Number,default:0},lottieEmojiLists:{default:[],type:Array}},computed:{},mounted:function(){this.getUserInfo()},methods:{getUserInfo:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s,o,n;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 getUserInfo,filePath:renderer/components/Classroom/LargeClass/base/chats/components/LargeEmojiPane/index.vue"),t.next=3,Object(ae["a"])();case 3:s=t.sent,o=s.nickName,n=s.avatar,e.nickName=o,e.avatar=n;case 8:case"end":return t.stop()}}),t)})))()},handleClick:function(e,t,s){console.info("对象函数 handleClick(params, emojiGroup, key)",e,t,s,"filePath:renderer/components/Classroom/LargeClass/base/chats/components/LargeEmojiPane/index.vue"),this.$bus.$emit("handleLargeNativeEmoji",e),this.$emit("closeLargeEmojiPane"),this.currentOrderId=0,Object(vs["c"])(this.options,e,t,s,this.allOnStage,this.packageId),Ts["c"]({type:4,contentType:"emoji",msg:"".concat(e.name)})},handleLocalClick:function(e,t,s){console.info("对象函数 handleLocalClick(params, emojiGroup, key)",e,t,s,"filePath:renderer/components/Classroom/LargeClass/base/chats/components/LargeEmojiPane/index.vue"),T["a"].send({tag:"action",content:{msg:"学生选择本地表情发送"}}),this.handleClick(e[0],t,s)},handleLottieClick:function(e,t){console.info("对象函数 handleLottieClick(params, emojiGroup)",e,t,"filePath:renderer/components/Classroom/LargeClass/base/chats/components/LargeEmojiPane/index.vue"),T["a"].send({tag:"action",content:{msg:"学生选择动态表情发送"}});var s=e.lottieUrl.endsWith(".json")?2:3,o=Object(J["a"])(Object(J["a"])({},e),{},{type:s,name:e.emojiName});this.handleClick(o,t)},synamicWidthStyle:function(e,t){console.info("对象函数 synamicWidthStyle(isLocal, len)",e,t,"filePath:renderer/components/Classroom/LargeClass/base/chats/components/LargeEmojiPane/index.vue");var s=488,o=300,n=70,a=(t-6)/2*n+o;return{width:"".concat(e?s:a,"px")}},selectedEmoji:function(e,t){console.info("对象函数 selectedEmoji(emojiPackageId, key)",e,t,"filePath:renderer/components/Classroom/LargeClass/base/chats/components/LargeEmojiPane/index.vue"),T["a"].send({tag:"action",content:{msg:"学生选择表情类型"}}),this.currentOrderId=e;var s=document.getElementsByClassName("emoji-show-list")[t];s&&s.scrollIntoView({inline:"center"})},changeNavPos:function(){console.info("对象函数 changeNavPos,filePath:renderer/components/Classroom/LargeClass/base/chats/components/LargeEmojiPane/index.vue"),this.currentOrderId=0}}},Ms=js,Ls=(s("712f7"),Object(Oe["a"])(Ms,Is,xs,!1,null,"7eaf38f4",null)),Rs=Ls.exports,Es=s("a5d8"),Ns=s("722b"),Bs=s("36fe"),Vs={components:{LargeEmojiPane:Rs,EmoticonMessage:Ns["a"]},props:{inputStatus:{type:Object,default:function(){return{status:5,text:this.$t("classroom.largeClass.chats.inputStatusMap")[5]}}},isPlayBack:{default:!1},planId:{default:""},allOnStage:!1,lottieEmojiLists:{default:[],type:Array},options:{type:Object,default:function(){return{}}},packageId:{type:Number,default:0},messages:{default:[],type:Array},privateMessageStatus:{default:!1,type:Boolean}},directives:{Clickoutside:Es["a"]},data:function(){return{inputBox:null,showEmojiPane:!1,rightLabel:"",showDot:!1,singleEmoji:{},emoticonType:1,emojiId:0,lottieUrl:"",nickName:"",msgTip:this.$t("classroom.largeClass.chats.msgTip"),msgUserType:as,showPrivateToast:!1,privateToastTimer:null,privateMsg:"",isShowNewMsgTip:!1,assistantTitle:""}},computed:{needLoak:function(){return 3!=this.inputStatus.status&&4!=this.inputStatus.status},msgTip:function(){return this.$t("classroom.largeClass.chats.msgTip")},showFooter:function(){return!this.options.isAudition}},watch:{needLoak:function(e){T["a"].send({tag:"action",content:{msg:"老师禁言",params:{isNeedLoak:e,showEmojiPane:this.showEmojiPane}}}),e&&this.showEmojiPane&&this.closeLargeEmojiPane()},privateMessageStatus:function(e){var t=this;this.$nextTick((function(){t.handleScrollBottom()}))}},mounted:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s,o,n;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.inputBox=e.$refs.inputBox,e.getUserAvatar(),e.showDot=!1,e.$bus.$on("chats.privateMessagePush",e.handleReceivePrivateMessage),e.$bus.$on("chats.messagePush",e.handleReceiveNewMessage),t.next=7,Object(bs["b"])();case 7:return o=t.sent,t.next=10,Object(ee["f"])();case 10:n=t.sent,e.assistantTitle=(null===o||void 0===o||null===(s=o.teacherV2[n])||void 0===s?void 0:s.assistantTitle)||"VIP Teacher",e.$nextTick((function(){e.handleScrollBottom()})),e.options.counselorInfo.avatar||(e.options.counselorInfo.avatar=Bs),document.getElementsByTagName("img").forEach((function(t){t.onerror=e.noImg}));case 15:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){this.$bus.$off("chats.privateMessagePush",this.handleReceivePrivateMessage),this.$bus.$off("chats.messagePush",this.handleReceiveNewMessage);var e=document.getElementById("group-chat-list");e&&e.removeEventListener("scroll",this.handleOnScroll)},methods:{noImg:function(e){console.log("defaultAvatar",Bs);var t=e.srcElement;t.src=Bs,t.onerror=null},replaceExpress:is,reSensorEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(M["e"])(e,this.options,t)},handleShowExpress:function(){T["a"].send({tag:"action",content:{msg:"点击表情icon切换显示隐藏",privateMessageStatus:this.privateMessageStatus,needLoak:this.needLoak}}),!this.privateMessageStatus&&this.needLoak||(this.showEmojiPane=!this.showEmojiPane,this.showEmojiPane?(this.dynamicDealPaneZindex("add"),Object(vs["b"])(this.options,this.allOnStage,this.packageId)):this.dynamicDealPaneZindex("remove"))},closeEmojiPane:function(e){var t=document.querySelector("#emoji-icon"),s=t==e.target;s?this.showEmojiPane=!0:(T["a"].send({tag:"action",content:{msg:"点击外部关闭表情弹窗"}}),this.showEmojiPane=!1,this.dynamicDealPaneZindex("remove"),this.$refs.emojiPaneRef.changeNavPos())},closeLargeEmojiPane:function(){T["a"].send({tag:"action",content:{msg:"关闭表情面板"}}),this.showEmojiPane=!1,this.dynamicDealPaneZindex("remove")},dynamicDealPaneZindex:function(e){var t=document.getElementById("emoji-container-id");"add"===e?Object(te["a"])(t,"emoji-z-index"):"remove"===e&&Object(te["y"])(t,"emoji-z-index")},handleSelectEmoji:function(e){var t=this.inputStatus.text;if(!(t.length+e.length>100)){var s=ds(this.inputBox),o=t.substring(0,s)+"[e]"+e+"[e]"+t.substring(s,t.length);this.$emit("changeInputText",o),this.inputBox.focus()}},handleSendMessage:function(){T["a"].send({tag:"action",content:{msg:"发送消息",inputStatus:this.inputStatus}});var e=this.inputStatus,t=e.text,s=e.status;t.length&&(this.handleIn3s()||(t.trim().length>0&&3===s&&(this.inputStatus.text="",this.$emit("handleSetMessage",!1,{type:as.mine,name:this.msgTip.SPEECH_MINE,msg:t.trim(),evenexc:this.rightLabel}),this.reSensorEvent("hw_classroom_chat_send"),Ts["c"]({type:as.mine,msg:t.trim()})),this.handleScrollBottom(),this.inputBox.focus()))},handleIn3s:function(){return 4===this.inputStatus.status&&(this.$emit("handleSetMessage",!1,{type:as.system,name:this.msgTip.SPEECH_SYS,msg:this.msgTip.SPEECH_INTERVAL}),!0)},handleNewMsg:function(){T["a"].send({tag:"action",content:{msg:"点击新消息事件"}}),this.handleScrollBottom()},handleTogglePrivateChat:function(){this.showPrivateToast=!1,this.showDot=!1,this.privateToastTimer&&clearTimeout(this.privateToastTimer),T["a"].send({tag:"action",content:{msg:"切换辅导私聊窗口"}}),this.$bus.$emit("chats.changePrivateMessageStatus")},getUserAvatar:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s,o;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(ae["a"])();case 2:s=t.sent,o=s.nickName,e.nickName=o;case 5:case"end":return t.stop()}}),t)})))()},handleReply:function(){T["a"].send({tag:"action",content:{msg:"点击回复按钮"}}),this.showPrivateToast=!1,this.showDot=!1,this.privateToastTimer&&clearTimeout(this.privateToastTimer),this.$bus.$emit("chats.changePrivateMessageStatus")},handleGotIt:function(){T["a"].send({tag:"action",content:{msg:"点击知道了按钮"}}),this.showPrivateToast=!1,this.showDot=!1,this.privateToastTimer&&clearTimeout(this.privateToastTimer)},handleScrollBottom:function(){var e=this;this.isShowNewMsgTip=!1,this.$nextTick((function(){var t=document.getElementById("group-chat-list");if(t){var s=Math.round(t.scrollHeight),o=Math.round(t.clientHeight);t.scrollTop=s-o+1,t.removeEventListener("scroll",e.handleOnScroll)}}))},handleOnScroll:function(){var e=document.getElementById("group-chat-list");if(e){var t=Math.round(e.scrollHeight),s=Math.round(e.scrollTop),o=Math.round(e.clientHeight);t<=s+o+1&&(this.isShowNewMsgTip=!1,e.removeEventListener("scroll",this.handleOnScroll))}},handleReceivePrivateMessage:function(e){var t=this;this.privateMessageStatus||(T["a"].send({tag:"action",content:{msg:"监听大班收到私聊消息",message:e}}),this.showPrivateToast=!0,this.showDot=!0,this.privateMsg=e,this.privateToastTimer&&clearTimeout(this.privateToastTimer),this.privateToastTimer=setTimeout((function(){t.showPrivateToast=!1}),1e4))},handleReceiveNewMessage:function(){var e=document.getElementById("group-chat-list"),t=Math.round(e.scrollHeight),s=Math.round(e.scrollTop),o=Math.round(e.clientHeight);t<=s+o+1?this.handleScrollBottom():(e.addEventListener("scroll",this.handleOnScroll),this.isShowNewMsgTip=!0)}}},Ds=Vs,Us=(s("bf2a"),Object(Oe["a"])(Ds,Ps,ks,!1,null,"ad16947e",null)),_s=Us.exports,Gs={components:{PrivateChat:ys,GroupChat:_s},props:{options:{type:Object,default:function(){return{counselorInfo:{},isPlayBack:!1,planId:""}}}},data:function(){var e=this.$t("classroom.largeClass.chats");return{msgTip:e.msgTip,smallClassSwitchType:"video",privateMessageStatus:!1,lottieEmojiLists:[],teamSwitchStatus:null,ChatClass:{inputStatus:{status:5,text:""}}}},computed:{classType:function(){return this.options.classType},showFooter:function(){return!this.options.isAudition},isShowChat:function(){return!this.classType||"video"!==this.smallClassSwitchType},diffClassStyle:function(){return 1===this.classType||2===this.classType?"small-class-chat-wrapper":0===this.classType&&!1===this.teamSwitchStatus?"chat-wrapper-no-video":0===this.classType&&!0===this.teamSwitchStatus?"chat-wrapper-video":void 0},peopleOnline:function(){var e=this.ChatClass.userList,t=e?e.length:0;return Object($["c"])()&&Object(fs["b"])({onlineNum:t}),t},messages:function(){var e=this.ChatClass.messages,t=e||[];return t},privateMessages:function(){var e=this.ChatClass.privateMessages,t=e||[];return t},inputText:function(){return this.ChatClass.inputStatus.text},selfChatStatus:function(){console.log("selfChatStatus",this.ChatClass);var e=this.ChatClass.inputStatus||{},t=e.status,s=void 0===t?5:t;return 2===s?sessionStorage.setItem("stopSpeaking",!0):sessionStorage.setItem("stopSpeaking",!1),s}},mounted:function(){var e=this;console.log("chat-index",this.options),this.$bus.$on("handleLargeNativeEmoji",(function(t){e.handleSetNewSingleEmoji(t)})),this.getTeamSwitchStatus(),this.bindEvent(),this.initDynamicEmoji()},methods:{handleOnScroll:function(){var e=document.getElementById("messagesRef"),t=1,s=e.scrollTop+e.clientHeight+t;e.scrollHeight<=s&&(this.ChatClass.hasNewMsg=!1,this.ChatClass.hasPrivateNewMsg=!1)},bindEvent:function(){var e=this;this.$bus.$on("updateTeamSwitchStatus",(function(t){e.teamSwitchStatus=t})),this.$bus.$on("chats.changePrivateMessageStatus",(function(){e.privateMessageStatus=!e.privateMessageStatus})),this.$bus.$on("switchVideoAndChat",(function(t){T["a"].send({tag:"action",content:{msg:"伪小班模式切换视频和聊天"}}),e.smallClassSwitchType=t})),this.$bus.$on("handleSwitchMessage",(function(t){e.ChatClass.lockTeacherMessage=t}))},getTeamSwitchStatus:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,window.thinkApi.ipc.invoke("getStoreValue","videoGroupSwitchStatus_".concat(e.options.planId));case 2:s=t.sent,console.log("getLiveSpecialData",s),e.teamSwitchStatus=void 0===s||s;case 5:case"end":return t.stop()}}),t)})))()},handleSetMessage:function(e,t){if(e)return this.ChatClass.messages=[],this.ChatClass.userNotInMegBottom=!1,void Y["a"].emit("logger",{type:"interactive",data:{logtype:"clearScreen",isPlayBack:this.options.isPlayBack,planId:this.options.planId}});var s=t.type,o=t.name,n=t.msg,a=t.evenexc,i=t.lottieUrl,r=t.emojiType,c=t.emojiId,l=t.isNewEmoji,u=t.emojiPicture,d=void 0===u?"":u;try{n=hs(n)}catch(h){console.error("handleSetMessage replaceExpressName",n,h)}this.ChatClass.setMessage({type:s,emojiPicture:d,name:o,msg:n,lottieUrl:i,emojiId:c,emojiType:r,isNewEmoji:l,evenexc:a})},initDynamicEmoji:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(vs["a"])().then((function(t){e.lottieEmojiLists=t}));case 2:case"end":return t.stop()}}),t)})))()},handleSetPrivateMessage:function(e){var t=e.type,s=e.name,o=e.msg;try{o=hs(o)}catch(n){console.error("handleSetPrivateMessage",o,n)}this.ChatClass.setPrivateMessage({type:t,name:s,msg:o})},handleInputText:function(e){this.ChatClass.inputStatus.text=e},handleSetNewMsgStatus:function(e){this.ChatClass.hasNewMsg=e,this.ChatClass.hasPrivateNewMsg=e},handleSetNewSingleEmoji:function(e){this.$refs.chatFooter&&this.$refs.chatFooter.handleIn3s()||this.handleSetMessage(!1,{type:as.mine,name:this.msgTip.SPEECH_MINE,msg:e.name,emojiType:e.type,emojiPicture:e.emojiPicture,emojiId:e.emojiId?e.emojiId:0,lottieUrl:e.lottieUrl?e.lottieUrl:"",isNewEmoji:!0})},handleClosePrivateChat:function(){this.privateMessageStatus=!1}},beforeDestroy:function(){this.$bus.$off("handleLargeNativeEmoji"),window.removeEventListener("scroll",this.handleOnScroll)}},Ws=Gs,Hs=(s("fdab"),Object(Oe["a"])(Ws,os,ns,!1,null,"0c7c1474",null)),Fs=Hs.exports,qs=s("bc80"),Js=(s("14d9"),s("cca6"),s("4de4"),s("d396")),Ks=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(A["a"])(this,e),this.options=t,this.msgTip=t.msgTip,this.inputStatusMap=t.inputStatusMap,this.blurTimer=null,this.isWindowBlur=!1;var s={stuInRoom:!1,teaInRoom:!1,lockTeacherMessage:!1,hasNewMsg:!1,hasPrivateNewMsg:!1,userNotInMegBottom:!0,myName:"",messages:[],privateMessages:[],encourageData:[],encourageStatus:!1,userList:[],inputStatus:{openChat:!1,peerMuteChat:!1,text:this.inputStatusMap[5],status:5},messagesRef:document.getElementById("messagesRef"),parentData:{},playBackData:{originMessages:[],streamTime:0,preventRequestCon:0,lessDataCon:0,msgEndTime:null},discussInteractionData:{},isBrokenLine:!0,sendRoomMessageFail:!1,sendPrivateMessageFail:!1},o=Object.assign(s,t);this.stuInRoom=o.stuInRoom,this.teaInRoom=o.teaInRoom,this.lockTeacherMessage=o.lockTeacherMessage,this.messages=o.messages,this.privateMessages=o.privateMessages,this.encourageData=o.encourageData,this.userList=o.userList,this.inputStatus=o.inputStatus,this.parentData=o.chatOptions,this.playBackData=o.playBackData,this.messagesRef=o.messagesRef,this.userNotInMegBottom=o.userNotInMegBottom,this.hasNewMsg=o.hasNewMsg,this.hasPrivateNewMsg=o.hasPrivateNewMsg,this.sendMsgFrom="flv",this.discussInteractionData=o.discussInteractionData,this.isBrokenLine=o.isBrokenLine,this.encourageStatus=o.encourageStatus,this.sendRoomMessageFail=o.sendRoomMessageFail,this.sendPrivateMessageFail=o.sendPrivateMessageFail,this.mode=this.parentData.streamMode,this.goodMethod=!1;var n=this.parentData.nickName;this.myName=n,this.chatNum=0,console.log("%c进入聊天main.js","color: red;")}return Object(w["a"])(e,[{key:"init",value:function(){var e=this;try{this.options.counselorInfo.id&&this.initPrivateMessagesHistory();var t=this.parentData,s=t.roomlist,o=t.planId,n=t.stuId;window.onbeforeunload=function(){if(e.stuInRoom){var t={live_id:o,uid:n,roomlist:s,loginStatus:"onbeforeunload"};Y["a"].emit("logger",{type:"sys",data:{logData:t,logType:"irc"}})}}}catch(a){console.error("%c报错信息","color: red;",a.message)}}},{key:"onRecvRoomDataUpdateNotice",value:function(e){var t=this;console.log("chat-main-onRecvRoomDataUpdateNotice",e),e.datas&&e.datas.forEach((function(e,s){var o=JSON.parse(e.value),n=o[s];switch(s){case"openchat":t.handleUpdateNoticeByOpenchat(n);break;case"peer_mute_chat":t.handleUpdateNoticeByPeerMuteChat(n);break}}))}},{key:"handleUpdateNoticeByOpenchat",value:function(e){T["a"].send({tag:"chatbox",content:{msg:e?"主讲老师开启聊天区":"主讲老师关闭聊天区"}}),e?(this.inputStatus.openChat=!0,this.inputStatus.peerMuteChat?(this.setInputStatus(2),T["a"].send({tag:"chatbox",content:{msg:"聊天区开启,但是被单独禁言"}})):(this.setInputStatus(3),T["a"].send({tag:"chatbox",content:{msg:"聊天区开启"}}))):(this.inputStatus.openChat=!1,this.setInputStatus(1),T["a"].send({tag:"chatbox",content:{msg:"聊天区关闭"}}))}},{key:"handleUpdateNoticeByPeerMuteChat",value:function(e){var t=e.stuId,s=e.mute;t==this.parentData.stuId&&(this.inputStatus.peerMuteChat=s,s?(this.setInputStatus(2),this.setMessage({type:as.system,name:this.msgTip.SPEECH_SYS,msg:this.msgTip.BAN_SPEECH}),T["a"].send({tag:"chatbox",content:{msg:"已被单独禁言"}})):(this.setMessage({type:as.system,name:this.msgTip.SPEECH_SYS,msg:this.msgTip.RELIEVE_SPEECH}),this.inputStatus.openChat?(this.setInputStatus(3),T["a"].send({tag:"chatbox",content:{msg:"解除禁言,聊天区当前开启"}})):(this.setInputStatus(1),T["a"].send({tag:"chatbox",content:{msg:"解除禁言,聊天区当前关闭"}}))))}},{key:"onGetRoomHistoryMessageResponse",value:function(e){var t=this;if(0==e.code){var s=e.content;if(s&&s.length){var o=[];s.forEach((function(e){if(e.priority===ps.privMsg){var s;try{s=JSON.parse(e.text)}catch(d){console.error(d)}var n,a,i,r,c,l={},u=rs(e.sender);if(u===ls.ASSIST_TEACHER&&(l={type:as.teacher_f,name:s.name,msg:s.msg,tutor_avatar:s.tutor_avatar}),"send_emoji"==s.ircType||"animation_emoji"==s.ircType)l={type:as.stu,name:e.sender===t.options.configs.stuIrcId?t.msgTip.SPEECH_MINE:null===(n=s.from)||void 0===n?void 0:n.username,isMe:e.sender===t.options.configs.stuIrcId,msg:s.data.name,emojiType:s.data.type,lottieUrl:(null===(a=s.data.resource)||void 0===a?void 0:a.lottieUrl)||"",emojiId:(null===(i=s.data.resource)||void 0===i?void 0:i.emojiId)||0,isNewEmoji:!0,avatar:e.sender===t.options.configs.stuIrcId?"":null===(r=s.from)||void 0===r?void 0:r.path};else if(u===ls.STUDENT&&Number(s.type)===cs.NORMAL_ROOM_MESSAGE)l={type:as.stu,name:e.sender===t.options.configs.stuIrcId?t.msgTip.SPEECH_MINE:s.name,isMe:e.sender===t.options.configs.stuIrcId,msg:s.msg,isNewEmoji:!1,avatar:(null===(c=s)||void 0===c?void 0:c.path)||""};l.id=t.chatNum++,o.push(l)}})),o.reverse(),o.length&&(this.messages=o,this.hasNewMsg=!1)}}}},{key:"onLogoutNotice",value:function(e){if(e.userInfo){var t,s=e.userInfo.nickname;t=!!us(s),t?(this.teaInRoom=!1,Y["a"].emit("interaction",{type:"onStuAndTeaStatus",data:{stuInRoom:this.stuInRoom,teaInRoom:this.teaInRoom}})):this.userList=this.userList.filter((function(e){return e!==s}))}}},{key:"recvPeerMessageT",value:function(e){this.stuInRoom=!1,Y["a"].emit("interaction",{type:"onStuAndTeaStatus",data:{stuInRoom:this.stuInRoom,teaInRoom:this.teaInRoomx}}),this.userList=[],this.setInputStatus(5),this.setMessage({type:as.system,name:this.msgTip.SPEECH_SYS,msg:this.msgTip.REMOTE_LOGIN}),g.a.prototype.$bus.$emit("live-kickout",!0)}},{key:"onKickoutNotice",value:function(e){301===e.code&&(T["a"].send({tag:"student.IRCKick"}),T["a"].send({tag:"ircStatus",content:{msg:"Kickout: ".concat(JSON.stringify(e))}}),this.recvPeerMessageT(!0))}},{key:"serverUnkown",value:function(){var e=0;g.a.prototype.$bus.$emit("ircConnectStatus",e)}},{key:"serverUnavailable",value:function(){var e=1;g.a.prototype.$bus.$emit("ircConnectStatus",e)}},{key:"serverFailed",value:function(){var e=2;g.a.prototype.$bus.$emit("ircConnectStatus",e),T["a"].send({tag:"ircStatus",content:{msg:"Connection failed"}})}},{key:"serverConnection",value:function(){console.log("%c收到serverConnection 服务器重连","color: red;");var e=3;g.a.prototype.$bus.$emit("ircConnectStatus",e),this.setMessage({type:as.system,name:this.msgTip.SPEECH_SYS,msg:this.msgTip.RECONNECT}),this.userList=[],this.isBrokenLine=!0,T["a"].send({tag:"ircStatus",content:{msg:"Connecting"}})}},{key:"serverConnected",value:function(){g.a.prototype.$Notification.destroy(),document.getElementById("interactionFullPage").removeAttribute("style");var e=4;g.a.prototype.$bus.$emit("ircConnectStatus",e),T["a"].send({tag:"ircStatus",content:{msg:"Connection successful"}})}},{key:"disconnect",value:function(){var e=5;g.a.prototype.$bus.$emit("ircConnectStatus",e),T["a"].send({tag:"ircStatus",content:{msg:"Disconnect"}}),this.messages.push({type:as.system,name:this.msgTip.SPEECH_SYS,msg:this.msgTip.CHAT_DISCONNECT})}},{key:"onJoinRoomResponse",value:function(e){console.log("%c收到加入聊天室成功","color: red;",e),0==e.code&&(this.isBrokenLine=!1,this.setMessage({type:as.system,name:this.msgTip.SPEECH_SYS,msg:this.msgTip.CONNECT}),this.setInputStatus(3),this.stuInRoom=!0,Y["a"].emit("interaction",{type:"onStuAndTeaStatus",data:{stuInRoom:this.stuInRoom,teaInRoom:this.teaInRoom}}))}},{key:"setInputStatus",value:function(e){this.inputStatus.status=e,this.inputStatus.text=this.inputStatusMap[e],1==e&&(this.inputStatus.openChat=!1),2==e&&(this.inputStatus.peerMuteChat=!0),3==e&&(this.inputStatus.openChat=!0)}},{key:"onSendRoomMessageResponse",value:function(e){var t=this;console.log("onSendRoomMessageResponse",e),this.sendRoomMessageFail=0!==e.code,this.sendRoomMessageFail&&(T["a"].send({tag:"student.IRCMsgSend",content:{msg:"SendRoomMessageResponse: ".concat(e.code," ").concat(e.info)}}),this.messages.forEach((function(s,o){s.type===as.mine&&s.preMsgId===e.preMsgId&&g.a.prototype.$set(t.messages[o],"messageStatus",t.sendRoomMessageFail)})))}},{key:"onSendPeerMessageResponse",value:function(e){var t=this;console.log("%c收到单聊消息回调","color: red;",e),this.sendPrivateMessageFail=0!==e.code,this.sendPrivateMessageFail&&(T["a"].send({tag:"student.IRCMsgSend",content:{msg:"SendPeerMessageResponse: ".concat(e.code," ").concat(e.info)}}),this.privateMessages.forEach((function(s,o){s.type===as.mine&&s.preMsgId===e.preMsgId&&g.a.prototype.$set(t.privateMessages[o],"messageStatus",t.sendPrivateMessageFail)})))}},{key:"onJoinRoomNotice",value:function(e){if(console.log("%c收到别人进入聊天室通知","color: red;",e),e.userInfo){var t=e.userInfo.nickname;if(us(t))return this.teaInRoom=!0,void Y["a"].emit("interaction",{type:"onStuAndTeaStatus",data:{stuInRoom:this.stuInRoom,teaInRoom:this.teaInRoom}});this.userList.push(e.userInfo.nickname)}}},{key:"onRecvRoomUserList",value:function(e){var t=this;if(console.log("%c收到到聊天室用户列表","color: red;",e),this.teaInRoom=!1,Y["a"].emit("interaction",{type:"onStuAndTeaStatus",data:{stuInRoom:this.stuInRoom,teaInRoom:this.teaInRoom}}),e.userList.filter((function(e){var s=e.nickname;t.userList.includes(s)||t.userList.push(s)})),53===e.code)for(var s=0;s<this.userList.length;s++)if(us(this.userList[s])){this.teaInRoom=!0,Y["a"].emit("interaction",{type:"onStuAndTeaStatus",data:{stuInRoom:this.stuInRoom,teaInRoom:this.teaInRoom}});break}}},{key:"onLeaveRoomNotice",value:function(e){if(console.log("%c收到他人离开聊天室通知","color: red;",e),e.userInfo){var t=e.userInfo.nickname;us(t)?(this.teaInRoom=!1,Y["a"].emit("interaction",{type:"onStuAndTeaStatus",data:{stuInRoom:this.stuInRoom,teaInRoom:this.teaInRoom}})):this.userList=this.userList.filter((function(e){return e!==t}))}}},{key:"onRecvRoomMessage",value:function(e){console.log("%c收到群聊消息","color: red;",e);var t=e.messagePriority,s=e.content,o=e.fromUserInfo,n=void 0===o?{}:o,a=n.nickname,i=void 0===a?"":a,r=rs(i),c=JSON.parse(s);g.a.prototype.$bus.$emit("chats.getThumbNumMsg",c),t===ps.privMsg&&this.recvRoomMessagePri(c,r,i)}},{key:"recvRoomMessagePri",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=e.type,n=e.name,a=e.msg,i=e.tutor_avatar,r=void 0===i?"":i;if(e.type!=cs.CONTINUS_CORRECT){var c={};if(1*o===cs.NORMAL_ROOM_MESSAGE)s!==this.parentData.nick||this.options.commonOption.isParent?(t===ls.ASSIST_TEACHER&&(c={type:as.teacher_f,name:n,msg:a,tutor_avatar:r}),t===ls.STUDENT&&(c={type:as.stu,name:n,msg:a,avatar:e.path||""})):console.warn("过滤掉自己的消息，因为自己的消息已经渲染过了",a);else{var l,u,d,h={type:as.stu,name:null===(l=e.from)||void 0===l?void 0:l.username,isMe:!1,msg:null===(u=e.data)||void 0===u?void 0:u.name,isNewEmoji:!0,avatar:(null===(d=e.from)||void 0===d?void 0:d.path)||""};if("send_emoji"==e.ircType&&1==e.data.type)c=h;else if("animation_emoji"==e.ircType&&(2==e.data.type||3==e.data.type)){var m,p;c=Object(J["a"])(Object(J["a"])({},h),{},{lottieUrl:(null===(m=e.data.resource)||void 0===m?void 0:m.lottieUrl)||"",emojiId:(null===(p=e.data.resource)||void 0===p?void 0:p.emojiId)||0,emojiType:e.data.type})}}this.setMessage(c)}else g.a.prototype.$bus.$emit("chats.correctMedalData",e)}},{key:"onRecvPeerMessage",value:function(e){console.log("%c收到单聊消息","color: red;",e);var t=e.msgPriority,s=e.content,o=e.fromUserInfo,n=void 0===o?{}:o,a=n.nickname,i=void 0===a?"":a,r=rs(i),c=JSON.parse(s);t===ps.privMsg&&this.recvPeerMessagePri(c,r)}},{key:"recvPeerMessagePri",value:function(e){var t=e.type,s=e.name,o=e.msg,n=e.tutor_avatar,a=e.suid;if(console.log("recvPeerMessagePri",e,this.parentData),t==cs.NORMAL_ROOM_MESSAGE&&a==this.parentData.stuId&&(this.setPrivateMessage({type:as.teacher_f,name:s,msg:o,isPrivateMsg:!0,tutor_avatar:n}),g.a.prototype.$bus.$emit("chats.privateMessagePush",o)),140==t){var i=e.parameter?e.parameter:e.msg,r=JSON.parse(i).correct_picrure_t;if(!r)return;g.a.prototype.$bus.$emit("chats.assignmentCheckedPush",r)}}},{key:"setPrivateMessage",value:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(t){var s,o,n,a,i;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.privateMessages.length>=300&&(this.privateMessages=this.privateMessages.slice(-299)),this.privateMessages.push(t),t.type!==as.mine){e.next=11;break}return e.next=5,Object(ae["a"])();case 5:s=e.sent,o=s.avatar,n=this.options.configs.tutorIrcId,a={nickname:n,content:this.baseCommonUserInfo(t,o),chatMsgPriority:ps.privMsg},i=dt["a"].sendPeerMessageWithPreMsgId(a),0!==i.code?console.log("发送单聊消息失败",i):this.privateMessages[this.privateMessages.length-1].preMsgId=i.preMsgId;case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setMessagejudge",value:function(e){this.lockTeacherMessage&&e.type===as.stu||(this.messages.length>=300&&(this.messages=this.messages.slice(-299)),e.id=this.chatNum++,this.liveJudge(e))}},{key:"liveJudge",value:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(t){var s,o,n,a,i,r,c,l,u,d,h=this;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.messages.push(t),g.a.prototype.$bus.$emit("chats.messagePush"),t.type!==as.mine){e.next=17;break}return o=this.parentData.roomlist,e.next=6,Object(ae["a"])();case 6:n=e.sent,a=n.nickName,i=n.avatar,t.isNewEmoji?(r={roomlist:o,content:{ircType:"send_emoji",data:{name:t.msg,type:t.emojiType},from:{username:a,path:i}},chatMsgPriority:ps.privMsg},1==t.emojiType?s=r:2!=t.emojiType&&3!=t.emojiType||(s=r,s.content.ircType="animation_emoji",s.content.data.resource={emojiName:t.msg,emojiId:t.emojiId,emojiPicture:t.emojiPicture,lottieUrl:t.lottieUrl})):s={roomlist:o,content:this.baseCommonUserInfo(t,i),chatMsgPriority:ps.privMsg},console.log("opts",s),c=dt["a"].sendRoomMessageWithPreMsgId(s),c&&0==c.code?this.messages[this.messages.length-1].preMsgId=c.preMsgId:console.error("大班群聊消息发送失败",c),console.log("pre",c),l=this.parentData.discussInteractionUrl,l&&this.discussInteractionData&&this.discussInteractionData.pub&&this.sendMegToInterface(this.discussInteractionData.interactId,t.msg,l),3===this.inputStatus.status&&(this.inputStatus.status=4,u=null,d=0,clearInterval(u),u=setInterval((function(){d++,d>=3&&(4===h.inputStatus.status&&(h.inputStatus.status=3),clearInterval(u),u=null)}),1e3));case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sendMegToInterface",value:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(t,s,o){var n,a,i,r,c,l,u,d,h,m;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.parentData,a=n.bizId,i=n.planId,r=n.nick,c=n.psId,l=n.imgPath,u=n.stuName,d=n.classId,h=n.teamId,e.next=3,Js["a"].post(o,{bizId:a,planId:i,interactionId:t,message:s,stuIrcId:r,psId:c,imgPath:l,name:u,classId:d,teamId:h,businessType:3});case 3:m=e.sent,m.stat||Y["a"].emit("exception",{level:"toast",data:{message:m.msg,duration:"1000"}}),Y["a"].emit("logger",{type:"interactive",data:{elem:document.body,eventtype:"live_liveroom",stable:1,sno:"100.3",logtype:"submit",ex:1===m.stat?"Y":"N",interactionId:t}});case 6:case"end":return e.stop()}}),e,this)})));function t(t,s,o){return e.apply(this,arguments)}return t}()},{key:"setMessage",value:function(e){this.setMessagejudge(e)}},{key:"baseCommonUserInfo",value:function(e,t){return{from:this.sendMsgFrom,name:this.myName,msg:e.msg,type:130,evenexc:e.evenexc,path:t}}},{key:"getBaseTime",value:function(){var e=this.parentData,t=e.gotoClassTime,s=e.stime;return t||parseInt(s)}},{key:"initPrivateMessagesHistory",value:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(){var t,s,o,n,a=this;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Z["o"])({planId:this.parentData.planId,tutorId:this.options.counselorInfo.id});case 2:if(t=e.sent,console.log("initPrivateMessagesHistory",t),t&&0==t.code){e.next=6;break}return e.abrupt("return");case 6:if(s=t.data||{},o=s.list||[],o.length){e.next=10;break}return e.abrupt("return");case 10:n=[],o.forEach((function(e){var t=JSON.parse(e.message);e.sendTo==as.stu&&n.push({type:as.mine,msg:t.msg,name:e.studentId==a.options.stuInfo.id?a.msgTip.SPEECH_MINE:t.name,isPrivateMsg:!0}),e.sendTo==as.teacher_f&&n.push({type:as.teacher_f,msg:t.msg,name:t.name,tutor_avatar:t.tutor_avatar,isPrivateMsg:!0})})),this.privateMessages=n;case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),zs=function(e){Object(S["a"])(s,e);var t=Object(y["a"])(s);function s(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.info("函数申明 Chat(options)",o,"filePath:renderer/components/Classroom/LargeClass/base/chats/index.js"),Object(A["a"])(this,s),e=t.call(this),e.options=o,e.initChat(o.dom),e}return Object(w["a"])(s,[{key:"initChat",value:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(t){var s,o,n,a,i;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.vm=this.createVueChat(Fs),this.render(t,this.vm),o=this.vm.$t("classroom.largeClass.chats"),e.next=5,Object(bs["b"])();case 5:return n=e.sent,e.next=8,Object(ee["f"])();case 8:a=e.sent,i=(null===n||void 0===n||null===(s=n.teacherV2[a])||void 0===s?void 0:s.assistantTitle)||"VIP Teacher",o.msgTip=this.vm.$t("classroom.largeClass.chats.msgTip"),o.msgTip.BAN_SPEECH=this.vm.$t("classroom.largeClass.chats.msgTip.BAN_SPEECH",{assistantTitle:i}),o.msgTip.RELIEVE_SPEECH=this.vm.$t("classroom.largeClass.chats.msgTip.RELIEVE_SPEECH",{assistantTitle:i}),this.vm.ChatClass=new Ks(Object(J["a"])(Object(J["a"])({msgTip:o.msgTip,inputStatusMap:this.vm.$t("classroom.largeClass.chats.inputStatusMap")},this.options),{},{sendMsgFrom:"flv"}));case 14:case"end":return e.stop()}}),e,this)})));function t(t){return console.info("函数申明 initChat(_x)",t,"filePath:renderer/components/Classroom/LargeClass/base/chats/index.js"),e.apply(this,arguments)}return t}()},{key:"createChatProps",value:function(){var e={skinType:this.options.configs.skinType,options:this.options.commonOption};return e}},{key:"createVueChat",value:function(e){var t=g.a.extend(e),s=null,o=this.createChatProps();return s=new t({i18n:ne["b"],propsData:o}),s.$mount(),this.vm=s,s}},{key:"eventHandler",value:function(e){console.log("chat-eventHandler",e,this.options,this.vm);var t=e.type,s=e.data;this.vm.ChatClass[t]&&this.vm.ChatClass[t](s)}}]),s}(qs["a"]),Qs=s("257e"),$s=s("ade3"),Ys=s("9f67"),Zs=function(e){Object(S["a"])(s,e);var t=Object(y["a"])(s);function s(){for(var e,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return console.info("函数申明 LiveExceptionHandler(args)",n,"filePath:renderer/components/Classroom/LargeClass/base/exception-handler/index.js"),Object(A["a"])(this,s),e=t.call.apply(t,[this].concat(n)),Object($s["a"])(Object(Qs["a"])(e),"isShow",!1),e}return Object(w["a"])(s,[{key:"eventHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.level,s=e.data;Object($["e"])(this[t])&&this[t](s)}},{key:"networkError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};3!=e.netStatus&&(4!=e.netStatus?this.showNotice():this.closeNotice())}},{key:"onSDKProvisionStatusNotice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};0!=e.status?this.showNotice():this.closeNotice()}},{key:"showNotice",value:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(){var t;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$createElement,!this.isShow){e.next=3;break}return e.abrupt("return");case 3:return this.isShow=!0,e.next=6,Object(ne["a"])();case 6:t=e.sent,Vue.prototype.$Notification.open({key:"networkErrorTip",description:function(e){var s=t.classroom.modules.networkError;return e("div",[e("i",{class:"netError"}),e("div",{class:"description"},[s.notice[0],e("br"),s.notice[1]])])},class:"notification-network-error",placement:"bottomRight",bottom:"0px",onClose:null,btn:function(e){return e("a-button",{class:"ant-btn-primary",attrs:{shape:"round"}},[t.common.exit])},getContainer:function(){return document.getElementById("interactionFullPage")},onClick:function(){Object(ce["a"])("/")},closeIcon:function(){},duration:null}),document.getElementById("interactionFullPage").style.zIndex="1001";case 9:case"end":return e.stop()}}),e,this)})));function t(){return console.info("函数申明 showNotice, filePath:renderer/components/Classroom/LargeClass/base/exception-handler/index.js"),e.apply(this,arguments)}return t}()},{key:"closeNotice",value:function(){this.isShow=!1,Vue.prototype.$Notification.destroy(),document.getElementById("interactionFullPage").removeAttribute("style")}}]),s}(Ys["a"]),Xs=s("5880"),eo=s.n(Xs),to=function(){var e=this,t=e._self._c;return t("div",{staticClass:"live-header"},[t("div",{staticClass:"wrapper"},["win"==e.platform?t("div",{staticClass:"windows-exit",attrs:{"data-log":"win"}},[t("div",{staticClass:"button button-exit",attrs:{"data-log":"退出按钮"},on:{click:e.handleBack}})]):e._e(),t("div",{staticClass:"drag-bar",class:e.platform}),t("div",{staticClass:"title"},[e.planName?t("span",{staticClass:"plan-name"},[e._v(" "+e._s(e.planName)+" ")]):e._e()]),t("div",{staticClass:"right"},[t("div",{staticClass:"operation-button"},[e.isPlayBack?e._e():t("div",{staticClass:"item"},[t("NetworkStatus",{on:{"update-network-quality":e.updateNetworkQuality}})],1),t("PrintScreen",{on:{click:e.printScrenClick}}),e.showFeedbackButton?t("div",{staticClass:"item"},[t("div",{staticClass:"button button-feedback",on:{click:e.handleFeedbackShow}})]):e._e(),e.showExamReportButton?t("div",{staticClass:"item"},[t("div",{staticClass:"button button-exam",on:{click:e.handleExamResult}})]):e._e(),e.showHomeworkButton?t("div",{staticClass:"item"},[t("div",{staticClass:"button button-homework",on:{click:e.handleOpenAssignmentBox}},[e.haveNewMessage?t("span"):e._e()])]):e._e(),t("div",{staticClass:"item"},[t("div",{staticClass:"button button-refresh",attrs:{"data-log":"刷新"},on:{click:e.handleRefresh}})]),!this.isPlayBack&&e.showTeamSwitch?t("div",{staticClass:"item"},[t("div",{staticClass:"button button-more",on:{click:e.handleMore}})]):e._e(),"mac"==e.platform?t("div",{staticClass:"item",attrs:{"data-log":"mac"}},[t("div",{staticClass:"button button-exit",attrs:{"data-log":"课中退出按钮"},on:{click:e.handleBack}})]):e._e()],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showMore,expression:"showMore"}],staticClass:"operation-more"},[t("OnlyTeacherChat",{attrs:{options:e.options}}),e.showTeamSwitch?t("TeamSwitch",{attrs:{"plan-id":e.planInfo.id,options:e.options}}):e._e(),t("DeviceTest")],1)])]),t("div",{staticClass:"components-box"},[t("AssignmentBox",{ref:"assignmentBoxRef",attrs:{"plan-id":e.planInfo.id,options:e.options},on:{hideHeader:e.hideHeader,handleShowMessageTip:e.handleShowMessageTip,handleHideMessageTip:e.handleHideMessageTip}}),t("Feedback",{ref:"Feedback",attrs:{options:e.options,rtcConfig:e.rtcConfig,downlinkNetworkQuality:e.downlinkNetworkQuality}}),t("ExamReport",{attrs:{commonOptions:e.options}})],1)])},so=[],oo=s("dfa8"),no=(s("a4d3"),s("e01a"),function(){var e=this,t=e._self._c;return e.networkStatus?t("div",{staticClass:"network-status",class:e.networkStatusClass},[t("div",{staticClass:"status-button",on:{mouseenter:e.handleMouseenter,mouseleave:e.handleMouseleave}}),e.showStatusPanel?t("div",{staticClass:"status-panel"},[t("div",{staticClass:"panel-wrapper"},[t("div",{staticClass:"title-wrapper"},[t("div",{staticClass:"icon"}),t("div",{staticClass:"title"},[e._v(" "+e._s(e.statusConfig.title)+" ")])]),e.statusConfig.description?t("div",{staticClass:"description"},[e._v(" "+e._s(e.statusConfig.description)+" ")]):e._e()])]):e._e()]):e._e()}),ao=[],io={data:function(){return{rtcengine:null,downlinkNetworkQuality:-1,showStatusPanel:!1}},computed:{networkStatus:function(){var e={1:"good",2:"good",3:"normal",4:"weak",5:"weak",6:"weak"};return e[this.downlinkNetworkQuality]||""},statusConfig:function(){var e=this.$t("classroom.modules.networkStatus.statusMap"),t={good:{title:e.good.title},normal:{title:e.normal.title},weak:{title:e.weak.title,description:e.weak.description}};return t[this.networkStatus]||{}},networkStatusClass:function(){return this.networkStatus?"status-".concat(this.networkStatus):""}},mounted:function(){this.networkStatusListener()},methods:{networkStatusListener:function(){var e=this,t=window.RTC_COMMON.teacherRtcChannel;t&&t.on("localNetworkQuality",(function(t,s){e.downlinkNetworkQuality=s,e.$emit("update-network-quality",s)}))},handleMouseenter:function(){this.showStatusPanel=!0},handleMouseleave:function(){this.showStatusPanel=!1}}},ro=io,co=(s("baa6"),Object(Oe["a"])(ro,no,ao,!1,null,"76cfc638",null)),lo=co.exports,uo=function(){var e=this,t=e._self._c;return e.showStatus?t("div",{staticClass:"feedback-wrapper"},[t("div",{staticClass:"feedback-popup"},[t("div",{staticClass:"popup-close",on:{click:e.handleHide}}),t("div",{staticClass:"popup-wrapper"},[t("div",{staticClass:"popup-header"},[e._v(" "+e._s(e.$t("classroom.modules.feedback.headerName"))+" ")]),t("div",{staticClass:"popup-contenter"},[t("FeedbackOptions",{on:{"update-checked-info":e.updateCheckedInfo}}),t("div",{staticClass:"feedback-textarea"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],attrs:{maxlength:"500",placeholder:e.$t("classroom.modules.feedback.placeholder")},domProps:{value:e.content},on:{input:function(t){t.target.composing||(e.content=t.target.value)}}})]),t("div",{staticClass:"agree-wrapper",on:{click:e.handleClickAgree}},[t("div",{staticClass:"agree-checkbox"},[e.agreeChecked?t("div",{staticClass:"icon-checked"}):e._e()]),e._v(" "+e._s(e.$t("classroom.modules.feedback.screenshotTips"))+" ")]),t("div",{staticClass:"button-wrapper"},[t("a-button",{attrs:{block:"",type:"primary",shape:"round",size:"large"},on:{click:e.handleSend}},[e._v(" "+e._s(e.$t("common.send"))+" ")])],1)],1)])])]):e._e()},ho=[],mo=function(){var e=this,t=e._self._c;return t("div",{staticClass:"feedback-options"},e._l(e.options,(function(s,o){return t("div",{key:o,staticClass:"item",class:{active:e.checkedCode==s.code},on:{click:function(t){return e.handleClickOption(s)}}},[e.checkedCode==s.code?t("div",{staticClass:"icon-checked"}):e._e(),t("div",{staticClass:"item-name"},[e._v(e._s(s.name))])])})),0)},po=[],fo={data:function(){var e=this.$t("classroom.modules.feedback.optionNames");return{options:[{code:"study-question",name:e[0]},{code:"app-problem",name:e[1]},{code:"inappropriate-behavior",name:e[2]},{code:"others",name:e[3]}],checkedCode:"",checkedName:""}},methods:{handleClickOption:function(e){if(console.info("对象函数 handleClickOption(item)",e,"filePath:renderer/components/Classroom/LargeClass/base/room/header/feedback/feedbackOptions.vue"),e.code==this.checkedCode)return this.checkedCode="",this.checkedName="",void this.$emit("update-checked-info","","");this.checkedCode=e.code,this.checkedName=e.name,this.$emit("update-checked-info",e.code,e.name)}}},vo=fo,go=(s("0e0e"),Object(Oe["a"])(vo,mo,po,!1,null,"49d099ad",null)),Co=go.exports,bo=s("bcaf"),Ao=s("1a37"),wo=s("3631"),So={props:{options:{type:Object,default:null},rtcConfig:{type:Object,default:null},downlinkNetworkQuality:{type:Number,default:null}},components:{FeedbackOptions:Co},data:function(){return{showStatus:!1,agreeChecked:!0,content:"",checkedCode:"",checkedName:""}},mounted:function(){console.log("feedback-mounted",this.options,this.rtcConfig)},methods:{handleShow:function(){console.info("对象函数 handleShow,filePath:renderer/components/Classroom/LargeClass/base/room/header/feedback/index.vue"),this.showStatus=!0},handleHide:function(){console.info("对象函数 handleHide,filePath:renderer/components/Classroom/LargeClass/base/room/header/feedback/index.vue"),this.showStatus=!1},handleClickAgree:function(){console.info("对象函数 handleClickAgree,filePath:renderer/components/Classroom/LargeClass/base/room/header/feedback/index.vue"),this.agreeChecked=!this.agreeChecked},handleSend:function(){var e=this;console.info("对象函数 handleSend,filePath:renderer/components/Classroom/LargeClass/base/room/header/feedback/index.vue"),this.handleHide(),this.$Message.info(this.$t("classroom.modules.feedback.sendSuccessNotice")),this.agreeChecked?this.uploadScreenshot((function(t){console.info("箭头函数 uploadScreenshot(screenshotUrl)",t,"filePath:renderer/components/Classroom/LargeClass/base/room/header/feedback/index.vue"),e.sendMessage(t)})):this.sendMessage(),this.sendLogger("点击Send按钮: ".concat(JSON.stringify({checkedName:this.checkedName,content:this.content.replace(/[\r\n]/g," "),agreeChecked:this.agreeChecked}))),Object(M["e"])("hw_classroom_toolbar_problem",this.options,{problem_type:this.checkedName})},sendMessage:function(e){var t=this;return Object(x["a"])(Object(I["a"])().mark((function s(){var o,n,a,i,r,c;return Object(I["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return console.info("对象函数 sendMessage(screenshotUrl)",e,"filePath:renderer/components/Classroom/LargeClass/base/room/header/feedback/index.vue"),s.next=3,Object(ee["f"])();case 3:return n=s.sent,s.next=6,oe["nativeApi"].getDeviceInfo();case 6:if(a=s.sent,i=t.content.replace(/[\r\n]/g," "),r=JSON.stringify({type:150,from:"flv",name:t.options.nickName,msg:"I send a feedback",parameter:{schoolCode:n,planId:t.options.planId,roomId:t.options.classId,studentId:t.options.stuIRCId,uid:t.options.stuId,teacherId:t.options.teacherInfo.id,teacherName:t.options.teacherInfo.name,teacherRoomId:null===(o=t.rtcConfig)||void 0===o?void 0:o.teacherRoomId,startTime:t.options.stime,currenTime:(new Date).getTime(),device:a.platform,deviceVersion:a.osVersion,AppVersion:a.appVersion,question:t.checkedName,question_msg:i,question_url:e||""}}),console.log("sendMessage",r),c=window.ChatClient.PeerChatManager.sendPeerMessage([{nickname:t.options.configs.tutorIrcId}],r,bo["a"].privMsg),t.resetData(),0==c){s.next=15;break}return t.sendLogger("发送反馈消息失败: ".concat(r," irc消息发送返回状态: ").concat(c),"error"),s.abrupt("return");case 15:t.sendLogger("发送反馈消息成功: ".concat(r));case 16:case"end":return s.stop()}}),s)})))()},uploadScreenshot:function(e){var t=this;return Object(x["a"])(Object(I["a"])().mark((function s(){var o,n,a,i;return Object(I["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return console.info("对象函数 uploadScreenshot(callback)",e,"filePath:renderer/components/Classroom/LargeClass/base/room/header/feedback/index.vue"),s.prev=1,s.next=4,Object(wo["a"])({thumbnailWidth:1024,thumbnailQuality:1});case 4:o=s.sent,n=o.thumbnail,a=Object(te["e"])(n),i=new Ao["b"]({scene:"classFeedback"}),i.putFile({filePath:"classFeedback.jpg",file:a,progress:function(e){console.log("uploadScreenshot-progress",e)},success:function(s){console.log("uploadScreenshot-success",s),e&&e(s.url),t.sendLogger("截屏上传成功:".concat(s.url))},fail:function(){console.log("uploadScreenshot-fail"),e&&e(),t.sendLogger("截屏上传失败","error")}}),s.next=15;break;case 11:s.prev=11,s.t0=s["catch"](1),console.error("截屏上传报错",s.t0),e&&e();case 15:case"end":return s.stop()}}),s,null,[[1,11]])})))()},updateCheckedInfo:function(e,t){console.info("对象函数 updateCheckedInfo(code, name)",e,t,"filePath:renderer/components/Classroom/LargeClass/base/room/header/feedback/index.vue"),this.checkedCode=e,this.checkedName=t,console.log("updateCheckedInfo",e,t)},resetData:function(){console.info("对象函数 resetData,filePath:renderer/components/Classroom/LargeClass/base/room/header/feedback/index.vue"),this.content="",this.checkedCode="",this.checkedName=""},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";T["a"].send({tag:"liveFeedback",content:{msg:e,level:t}})}}},yo=So,Po=(s("cff8"),Object(Oe["a"])(yo,uo,ho,!1,null,"30fb907e",null)),ko=Po.exports,Io=function(){var e=this,t=e._self._c;return t("div",{staticClass:"team-switch"},[t("div",{staticClass:"switch-wrapper"},[t("div",{staticClass:"title"},[e._v(" "+e._s(e.$t("classroom.largeClass.header.groupVideoButtonName"))+" ")]),t("div",{staticClass:"switch"},[t("a-switch",{attrs:{disabled:e.disabledStatus},on:{change:e.handleSwitchButton},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}})],1)])])},xo=[],Oo={props:{planId:{type:Number,default:0},options:{type:Object,default:function(){return{}}}},data:function(){return{status:!1,disabledStatus:!1}},mounted:function(){var e=this;this.getSwitchStatus(),this.$bus.$on("teamSwitchDisabled",(function(t){console.info("箭头函数 监听 teamSwitchDisabled(disabledStatus)",t,"filePath:renderer/components/Classroom/LargeClass/base/room/header/TeamSwitch.vue"),e.disabledStatus=t,console.log("TeamSwitch-teamSwitchDisabled",t)}))},methods:{handleSwitchButton:function(){console.info("对象函数 handleSwitchButton,filePath:renderer/components/Classroom/LargeClass/base/room/header/TeamSwitch.vue"),T["a"].send({tag:"action",content:{msg:"点击切换videoGroup显示状态",disabledStatus:this.disabledStatus,status:this.status}}),this.disabledStatus||(Ts["e"](this.status),console.log("TeamSwitch-handleSwitchButton",this.status),this.updateSwitchStatus())},getSwitchStatus:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 getSwitchStatus,filePath:renderer/components/Classroom/LargeClass/base/room/header/TeamSwitch.vue"),t.next=3,window.thinkApi.ipc.invoke("getStoreValue","videoGroupSwitchStatus_".concat(e.planId));case 3:s=t.sent,e.status=void 0===s||s;case 5:case"end":return t.stop()}}),t)})))()},updateSwitchStatus:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 updateSwitchStatus,filePath:renderer/components/Classroom/LargeClass/base/room/header/TeamSwitch.vue"),t.next=3,window.thinkApi.ipc.invoke("setStoreValue","videoGroupSwitchStatus_".concat(e.planId),e.status);case 3:e.$bus.$emit("updateTeamSwitchStatus",e.status),Object(M["e"])("hw_classroom_toolbar_video",e.options,{switch_type:e.status?1:0});case 5:case"end":return t.stop()}}),t)})))()}}},To=Oo,jo=(s("a027"),Object(Oe["a"])(To,Io,xo,!1,null,"c8fa3f0e",null)),Mo=jo.exports,Lo=function(){var e=this,t=e._self._c;return t("div",{staticClass:"device-test"},[t("div",{staticClass:"device-test-wrapper",on:{click:e.handleClick}},[t("div",{staticClass:"title"},[e._v(" "+e._s(e.$t("classroom.largeClass.header.deviceTestButtonName"))+" ")])])])},Ro=[],Eo={methods:{handleClick:function(){console.info("对象函数 handleClick,filePath:renderer/components/Classroom/LargeClass/base/room/header/DeviceTest.vue"),this.$bus.$emit("room.deviceTestShow")}}},No=Eo,Bo=(s("dd90"),Object(Oe["a"])(No,Lo,Ro,!1,null,"55062aa6",null)),Vo=Bo.exports,Do=function(){var e=this,t=e._self._c;return t("div",{class:2==e.classType?"small-class-container":"container"},[t("div",{staticClass:"box-wrapper"},[e.showAssignmentBox?t("div",{staticClass:"box-inner"},[e.boxLists&&e.boxLists.length>0&&2==!e.classType?t("div",{staticClass:"box-close",on:{click:e.closeBox}},[t("span")]):e._e(),t("span",{staticClass:"box-shadow box-shadow-top"}),t("div",{staticClass:"box-container"},[e.loading?[t("a-spin",{staticClass:"loading"},[t("a-icon",{attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"})],1)]:[e.boxLists&&e.boxLists.length>0?t("section",{staticClass:"box-scroll",attrs:{id:"box-scroll"}},e._l(e.boxLists,(function(o){return t("div",{key:o.index,staticClass:"box-content"},[t("div",{class:["box-item",e.assignmentStatus(o.newCorrectStatus,e.isShowIncorrectModify(o)||!e.isShowIncorrectModify(o)&&o.correctPoint).bgClassName]},[t("span",{staticClass:"number"},[e._v(e._s(o.index))]),t("div",{staticClass:"img-wrapper",on:{click:function(t){return e.handleBigPicture(o)}}},[t("span",{staticClass:"check-big-img"}),o.photoThumbUrl?t("img",{attrs:{src:0==o.newCorrectStatus||3==o.newCorrectStatus?o.photoThumbUrl:o.correctThumbUrl,alt:""}}):t("img",{attrs:{src:s("7f12"),alt:""}}),t("div",{staticClass:"answer-status"},[t("span",{staticClass:"icon-feedback",class:[e.assignmentStatus(o.newCorrectStatus).feedbackStatus]}),t("span",{class:e.assignmentStatus(o.newCorrectStatus).fontStyleStatus},[e._v(e._s(e.assignmentStatus(o.newCorrectStatus).feedbackTitle))])])]),t("div",{staticClass:"box-tips"},[!e.isShowIncorrectModify(o)&&o.correctPoint?t("div",{staticClass:"coins-num"},[t("img",{attrs:{src:s("fe0d")}}),t("span",[e._v("+"+e._s(o.correctPoint))])]):e._e(),e.isShowIncorrectModify(o)?t("a-button",{staticClass:"open-photowall",attrs:{type:"primary",size:"small",shape:"round"},on:{click:function(t){return e.openPhotowall(o)}}},[t("img",{staticClass:"correction-img",attrs:{src:s("71a2")}}),e._v(" "+e._s(e.$t("classroom.modules.assignmentBox.checkBigPictures.buttonName"))+" ")]):e._e()],1)])])})),0):t("div",{staticClass:"box-content-nodata"},[t("img",{attrs:{src:s("1b52")}}),t("div",{staticClass:"title"},[e._v(e._s(e.$t("classroom.modules.assignmentBox.nodataNotice")))])])]],2),t("span",{staticClass:"box-shadow box-shadow-bottom"})]):e._e(),e.showCheckedExerciseToast?t("div",[t("CheckedExerciseToast",{attrs:{couldCheckImage:e.couldCheckImage,classType:e.classType,isTakePicture:e.isTakePicture},on:{cancelViewAssignmentBigPicture:e.cancelViewAssignmentBigPicture,viewBigPictureDuringInterect:e.viewBigPictureDuringInterect}})],1):e._e(),e.showBigPicture?t("div",[e.checkRefresh?t("CheckBigPicture",{ref:"showBigPictureRef",attrs:{boxMsg:e.boxMsg,showBigPictureCorrectIcon:e.showBigPictureCorrectIcon,isFirstCorrect:e.isFirstCorrect,rightCoin:e.rightCoin,rewardType:e.rewardType,isFromClickBox:e.isFromClickBox,isTakePicture:e.isTakePicture,isAllowPhotowallRewards:e.isAllowPhotowallRewards},on:{closeBigPicture:e.closeBigPicture,openPhotoWallFormBigPicture:e.openPhotoWallFormBigPicture}}):e._e()],1):e._e()]),e.isShowCorrectPhotoWall?t("correctPhotoWall",{ref:"correctPhotoWall",attrs:{isPhotoWallShow:this.isPhotoWallShow,currentInteractionId:this.currentInteractionId},on:{destoryCorrectDom:e.destoryCorrectDom}}):e._e()],1)},Uo=[],_o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"firstInGuide"},[t("section",[t("div",{staticClass:"guide-icon"}),t("a",{staticClass:"got-it",on:{click:e.handleHideGuide}},[e._v(e._s(e.$t("common.gotIt")))])])])},Go=[],Wo={data:function(){return{showGuide:!1}},methods:{handleHideGuide:function(){console.info("对象函数 handleHideGuide,filePath:renderer/components/Classroom/CommonModules/assignmentBox/assignmentBoxGuide.vue"),this.$emit("hideBoxGuide")}}},Ho=Wo,Fo=(s("1c4c"),Object(Oe["a"])(Ho,_o,Go,!1,null,"2359a1ea",null)),qo=Fo.exports,Jo=function(){var e=this,t=e._self._c;return e.isTakePicture?e._e():t("div",{staticClass:"checkedExerise"},[2==e.classType?t("div",{staticClass:"smallclass-checkedExerise"},[t("i",{staticClass:"close",on:{click:e.closeTipsPane}}),t("div",{staticClass:"content"},[t("div",{staticClass:"top"},[t("span"),t("p",[e._v(e._s(e.$t("classroom.modules.assignmentBox.checkedExerciseToast.notice")))])]),t("div",{staticClass:"bottom"},[e.couldCheckImage?t("div",{staticClass:"button-view",on:{click:e.handleViewExercise}},[e._v(" "+e._s(e.$t("classroom.modules.assignmentBox.checkedExerciseToast.buttonName"))+" ")]):t("div",{staticClass:"button-view loading"},[e._v(e._s(e.$t("common.loading"))+"...")])])])]):t("a-modal",{attrs:{width:360,closable:!1,maskClosable:!1,footer:null,title:e.$t("classroom.modules.assignmentBox.modalTitle")},model:{value:e.visibleBigImage,callback:function(t){e.visibleBigImage=t},expression:"visibleBigImage"}},[t("div",{staticClass:"picture-content"},[t("span",{staticClass:"img-title-top",on:{click:e.cancelView}}),t("div",{staticClass:"desc"},[t("span",[e._v(" "+e._s(e.$t("classroom.modules.assignmentBox.checkedExerciseToast.pictureDesc",{assisTeacher:e.assisTeacher}))+" ")])]),e.couldCheckImage?t("div",{staticClass:"button-view",on:{click:e.handleViewExercise}},[e._v(" "+e._s(e.$t("classroom.modules.assignmentBox.checkedExerciseToast.buttonName"))+" ")]):t("div",{staticClass:"button-view loading"},[e._v(" "+e._s(e.$t("classroom.modules.assignmentBox.checkedExerciseToast.loadingName"))+"... ")])])])],1)},Ko=[],zo={data:function(){return{visibleBigImage:!0,local:"uk",assisTeacher:this.$t("common.AssistantTeacher")}},props:{couldCheckImage:{type:Boolean,default:!1},classType:{type:Number,default:0},isTakePicture:{type:Boolean,default:!0}},methods:{showBigPicture:function(){console.info("对象函数 showBigPicture,filePath:renderer/components/Classroom/CommonModules/assignmentBox/checkedExerciseToast.vue"),this.visibleBigImage=!0},handleViewExercise:function(){console.info("对象函数 handleViewExercise,filePath:renderer/components/Classroom/CommonModules/assignmentBox/checkedExerciseToast.vue"),this.$emit("viewBigPictureDuringInterect"),this.cancelView()},cancelView:function(){console.info("对象函数 cancelView,filePath:renderer/components/Classroom/CommonModules/assignmentBox/checkedExerciseToast.vue"),T["a"].send({tag:"student.Interact",content:{msg:"关闭作业盒子视图",interactType:"Wall"}}),this.visibleBigImage=!1,this.$emit("cancelViewAssignmentBigPicture")},closeTipsPane:function(){console.info("对象函数 closeTipsPane,filePath:renderer/components/Classroom/CommonModules/assignmentBox/checkedExerciseToast.vue"),T["a"].send({tag:"student.Interact",content:{msg:"点击x按钮关闭作业盒子视图",interactType:"Wall"}}),this.cancelView()}},mounted:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(ee["c"])();case 2:e.local=t.sent,console.log(e.classType,"classType"),e.isTakePicture&&e.handleViewExercise();case 5:case"end":return t.stop()}}),t)})))()}},Qo=zo,$o=(s("f149"),Object(Oe["a"])(Qo,Jo,Ko,!1,null,"0548c774",null)),Yo=$o.exports,Zo=function(){var e=this,t=e._self._c;return t("a-modal",{class:e.customClass,attrs:{id:"big-image-tag",closable:!1,maskClosable:!1,footer:null,title:e.$t("classroom.modules.assignmentBox.modalTitle")},model:{value:e.visibleBigImage,callback:function(t){e.visibleBigImage=t},expression:"visibleBigImage"}},[t("div",{class:["content-".concat(e.boxinfoMap[e.boxMsg.newCorrectStatus]),"content-header"]},[t("span",{staticClass:"img-title-top",class:["content-".concat(e.boxinfoMap[e.boxMsg.newCorrectStatus]),"img-title-".concat(e.boxinfoMap[e.boxMsg.newCorrectStatus])]}),t("span",{staticClass:"bigpicture-close",on:{click:e.closeBigPicture}})]),t("div",{staticClass:"picture-content"},[t("div",{staticClass:"show-img"},[e.boxMsg.photoUrl||e.boxMsg.correctUrl?t("img",{attrs:{src:0==e.boxMsg.newCorrectStatus||3==e.boxMsg.newCorrectStatus?e.boxMsg.photoUrl:e.boxMsg.correctUrl}}):t("img",{attrs:{src:s("ca89"),alt:""}}),e.isShowTips?t("div",{staticClass:"show-coins"},[t("div",{staticClass:"wallConisTip1",attrs:{id:"wallConisTip1"}},[t("div",{staticClass:"title"},[t("div",{staticClass:"bg-img"}),t("p",[e._v(e._s(e.$t("classroom.interactions.photoWall.answerCorrect")))])]),e.rightCoin?t("div",{staticClass:"coins"},[t("i"),e._v(" + "+e._s(e.rightCoin))]):e._e()]),e.isShowCoins?t("FlyCoin",{staticStyle:{background:"none"},attrs:{rainCoin:e.rightCoin},on:{palyEnd:e.onCoinFlyComplete}}):e._e()],1):e._e()])]),[2,5].includes(e.boxMsg.newCorrectStatus)&&e.boxMsg.isShowIncorrectModify?t("div",{staticClass:"reupload picture-reupload",on:{click:e.openPhotoWall}},[t("img",{attrs:{src:s("71a2")}}),e._v(" "+e._s(e.$t("classroom.modules.assignmentBox.checkBigPictures.buttonName"))+" ")]):e._e()])},Xo=[],en=s("68cb"),tn=s("34bb"),sn={data:function(){return{visibleBigImage:!0,boxinfoMap:{0:"grading",1:"correct",2:"incorrect",3:"grading",5:"half-correct"},local:"",isShowCoins:!1,photoWallOptions:{},photoWall:null,isShowTips:!1,isNeedAdd:!1,customClass:"small-class"}},components:{FlyCoin:en["a"]},props:{boxMsg:{type:Object,default:function(){return{}}},bigPictureWidth:{type:String,default:"100%"},isInCurrentInteraction:{type:Boolean,default:!1},isFirstCorrect:{type:Boolean,default:!0},rightCoin:{type:Number,default:0},rewardType:{type:Number,default:0},isFromClickBox:{type:Boolean,default:!1},isTakePicture:{type:Boolean,default:!0},isAllowPhotowallRewards:{type:Boolean,default:!1}},methods:{onCoinFlyComplete:function(){console.info("对象函数 onCoinFlyComplete,filePath:renderer/components/Classroom/CommonModules/assignmentBox/checkBigPictures.vue"),this.isShowCoins=!1,this.isShowTips=!1,console.log("看看这里的情况")},closeBigPicture:function(){console.info("对象函数 closeBigPicture,filePath:renderer/components/Classroom/CommonModules/assignmentBox/checkBigPictures.vue"),T["a"].send({tag:"student.Interact",content:{msg:"点击关闭大图",interactType:"Wall"}}),this.$emit("closeBigPicture")},openPhotoWall:function(){console.info("对象函数 openPhotoWall,filePath:renderer/components/Classroom/CommonModules/assignmentBox/checkBigPictures.vue"),console.log("[测试bug]点击触发"),T["a"].send({tag:"student.Interact",content:{msg:"点击查看练习按钮",interactType:"Wall"}}),this.$emit("openPhotoWallFormBigPicture"),this.closeBigPicture()}},computed:{isShowCorrectLottie:function(){return console.info("对象函数 isShowCorrectLottie,filePath:renderer/components/Classroom/CommonModules/assignmentBox/checkBigPictures.vue"),this.isTakePicture&&1===this.boxMsg.newCorrectStatus&&!this.isFromClickBox&&(1===this.rewardType||0===this.rewardType&&this.isAllowPhotowallRewards)&&this.rightCoin}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/components/Classroom/CommonModules/assignmentBox/checkBigPictures.vue"),tn["ipcRenderer"].removeAllListeners("window_blur")},updated:function(){var e=this;if(console.info("对象函数 updated,filePath:renderer/components/Classroom/CommonModules/assignmentBox/checkBigPictures.vue"),this.isNeedAdd){var t,s=document.getElementById("wallConisTip1"),o="animateTada-new1";null===s||void 0===s||null===(t=s.classList)||void 0===t||t.add(o),tn["ipcRenderer"].on("window_blur",(function(e,t){console.info("箭头函数 监听 window_blur(event, arg)",e,t,"filePath:renderer/components/Classroom/CommonModules/assignmentBox/checkBigPictures.vue"),s&&s.classList[t?"remove":"add"](o)})),s&&s.addEventListener("animationend",(function(){console.info("箭头函数 监听 animationend,filePath:renderer/components/Classroom/CommonModules/assignmentBox/checkBigPictures.vue"),e.isShowCoins=!!e.rightCoin,!e.isShowCoins&&(e.isShowTips=!1)})),this.isNeedAdd=!1}},mounted:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(ee["c"])();case 2:e.local=t.sent,e.isShowCorrectLottie&&(e.isShowTips=!0,e.isNeedAdd=!0),e.$nextTick((function(){var t=document.querySelector("#big-image-tag");e.$bus.$emit("emitBigImgDom",t)})),e.customClass=location.pathname.includes("largeClass.html")?"big-class":"small-class";case 6:case"end":return t.stop()}}),t)})))()}},on=sn,nn=(s("3d9b"),s("3030"),Object(Oe["a"])(on,Zo,Xo,!1,null,"48f8a3d5",null)),an=nn.exports,rn=s("234d"),cn=function(){var e=this,t=e._self._c;return t("div",{staticClass:"photoWallContainer correctBox",attrs:{id:"correctPhotoWallContainer"}},[e.showCamera||e.showGraffiti?t("div",{staticClass:"toolbar correctBar"},[t("i",{staticClass:"back",on:{click:e.goClassRoom}})]):e._e(),e.showCamera&&!e.showGraffiti?t("camera",{attrs:{options:e.correctOptions,delay:e.cameraDelayTime},on:{changeTakePhotoWay:e.changeTakePhotoWay,submit:e.submitPhoto,photoData:e.getPhotoData}}):e._e(),e.showGraffiti&&!e.showCamera?t("graffiti",{attrs:{options:e.correctOptions,cameraAccess:e.cameraAccess,closeInteractive:e.closeInteractive},on:{submit:e.submitPhoto,changeTakePhotoWay:e.changeTakePhotoWay,photoData:e.getPhotoData}}):e._e(),t("uploadProgress",{attrs:{percent:e.percent,visible:e.showUploadProgress}})],1)},ln=[],un=s("e811"),dn=s("36e9"),hn=s("030f"),mn=s("dad2"),pn={name:"correctAnswerPhotoWall",data:function(){return{showCamera:!0,showGraffiti:!1,cameraDelayTime:2e3,percent:0,photoData:!1,cameraAccess:!0,showUploadProgress:!1,closeInteractive:!1,correctOptions:null,photoWallOptions:null}},props:{isPhotoWallShow:{type:Boolean,default:!1},currentInteractionId:{type:Number,default:""}},components:{camera:un["a"],graffiti:dn["a"],uploadProgress:hn["a"]},watch:{showCamera:{handler:function(e){this.photoWallOptions=this.getOptions();var t=e?1:2;this.sendPeerMessageToTutor(t)},deep:!0,immediate:!0}},mounted:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.photoWallOptions){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,oe["nativeApi"].getMediaAccessStatus("camera");case 4:s=t.sent,"granted"!==s&&(e.sendLogger("作业盒子批改拍照上墙初始化摄像头无权限，code:".concat(s)),e.showCamera=e.cameraAccess=!1,e.showGraffiti=!0),e.correctOptions=e.photoWallOptions,console.log("看下相关的photoWallOptions:::",e.photoWallOptions),e.photoWall=new mn["a"](Object(J["a"])({},e.correctOptions)),e.sendLogger("进入订正拍照环节");case 10:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){this.sendPeerMessageToTutor(2)},methods:{sendPeerMessageToTutor:function(e){var t={type:170,isFunction:1,msg:"拍照上墙",parameter:{cameraBusy:e}};window.ChatClient.PeerChatManager.sendPeerMessage([{nickname:this.photoWallOptions.roomMessage.roomInfo.configs.tutorIrcId}],JSON.stringify(t),bo["a"].privMsg)},getOptions:function(){var e=localStorage.getItem("photoWallOptions"),t="";try{t=JSON.parse(e)}catch(s){console.error("重新拍照获取option格式化错误",e)}return t},changeTakePhotoWay:function(e){"graffiti"===e?(this.showCamera=!1,this.showGraffiti=!0):(this.showCamera=!0,this.showGraffiti=!1)},submitPhoto:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s,o,n,a;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.sendLogger("点击提交订正，correctOptions：".concat(e.correctOptions)),e.correctOptions){t.next=3;break}return t.abrupt("return");case 3:return e.showUploadProgress=!0,s=new Ao["b"]({scene:"pictureWall"}),t.next=7,s.putFile({filePath:"pictureWall.jpg",file:e.photoData.blob,progress:function(t){e.percent=t},success:function(t){e.sendLogger("上传照片成功, url: ".concat(t.url)),Ts["l"](e.currentInteractionId,t)},fail:function(t){e.percent=0,e.photoWall.showSubmitTip({text:e.$t("common.uploadFailed"),icon:"error",dom:"correctPhotoWallContainer"}),console.error("上传照片失败",t),e.sendLogger("上传照片失败")}});case 7:if(o=t.sent,n=o.key,!n){t.next=16;break}return e.showUploadProgress=!1,t.next=13,e.photoWall.submitPhoto(n);case 13:a=t.sent,e.sendLogger("提交照片地址，增加金币，submitRes：".concat(a)),0===a.code&&a.data?(e.showGraffiti=e.showCamera=!1,e.isPhotoWallShow?(e.sendPeerMessageToTutor(2),e.$emit("destoryCorrectDom")):e.photoWall.showCoinsTip({dom:"correctPhotoWallContainer",tipClass:"wallConisTipCorrect".concat(location.pathname.includes("largeClass.html")?"Big":"Small"),coins:0,tips:e.$t("common.sumbittedSuccessfully"),callback:function(){e.sendPeerMessageToTutor(2),e.$emit("destoryCorrectDom")}})):(e.percent=0,e.$Message.error(e.$t("common.submittedError")),e.sendPeerMessageToTutor(2),e.$emit("destoryCorrectDom"));case 16:case"end":return t.stop()}}),t)})))()},getPhotoData:function(e){this.photoData=e},goClassRoom:function(){this.showCamera=this.showGraffiti=!1,this.sendPeerMessageToTutor(2),this.$emit("destoryCorrectDom")},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";T["a"].send({tag:"student.Interact",content:{msg:e,interactType:"Wall",interactId:this.correctOptions.ircMsg.interactId,interactStage:t}})}}},fn=pn,vn=(s("5ef7"),s("3d90"),Object(Oe["a"])(fn,cn,ln,!1,null,"34eea192",null)),gn=vn.exports,Cn={data:function(){return{showBoxGuide:!1,showAssignmentBox:!1,showBigPicture:!1,showCheckedExerciseToast:!1,boxLists:[],boxMsg:{},local:"",loading:!0,showEmpty:!1,couldCheckImage:!1,teacher:this.$t("common.MasterTeacher"),checkRefresh:!0,currentInteractionId:null,showBigPictureCorrectIcon:!1,photoWallInteractId:null,isPhotoWallShow:!1,watchDiffObj:{receiveInteractId:null,interactId:null,key:1},isShowCorrectPhotoWall:!1,classType:2,smallClassSttingPane:!1,rightCoin:0,rewardType:0,isFirstCorrect:!1,isFromClickBox:!1,isTakePicture:!1,isAllowPhotowallRewards:!1}},props:{planId:{type:Number,default:0},options:{type:Object,default:{}}},computed:{},components:{AssignmentBoxGuide:qo,CheckedExerciseToast:Yo,CheckBigPicture:an,correctPhotoWall:gn},methods:{assignmentStatus:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=t?"box-bg-with-tip":"box-bg-no-tip",o={0:{feedbackStatus:"feedback-grading",feedbackTitle:this.$t("classroom.interactions.photoWall.grading"),fontStyleStatus:"font-style-grading"},1:{feedbackStatus:"feedback-correct",feedbackTitle:this.$t("classroom.interactions.photoWall.correct"),fontStyleStatus:"font-style-correct"},2:{feedbackStatus:"feedback-incorrect",feedbackTitle:this.$t("classroom.interactions.photoWall.incorrect"),fontStyleStatus:"font-style-incorrect"},3:{feedbackStatus:"feedback-grading",feedbackTitle:this.$t("classroom.interactions.photoWall.grading"),fontStyleStatus:"font-style-grading"},5:{feedbackStatus:"feedback-half-correct",feedbackTitle:this.$t("classroom.interactions.photoWall.halfCorrect"),fontStyleStatus:"font-style-half-correct"}};return Object(J["a"])(Object(J["a"])({},o[e]),{},{bgClassName:s})},getOptions:function(){var e=localStorage.getItem("photoWallOptions"),t="";try{t=JSON.parse(e)}catch(s){console.error("作业盒子信令格式化错误",e)}return t},getCurrenInteractId:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("[测试bug]getCurrenInteractId"),s=e.getOptions(),s&&(e.currentInteractionId=s.ircMsg.interactId,e.sendLogger("获取当前互动id: ".concat(e.currentInteractionId)));case 3:case"end":return t.stop()}}),t)})))()},isShowIncorrectModify:function(e){return!(![2,5].includes(e.newCorrectStatus)||e.interactId!=this.currentInteractionId||!this.options.configs.wallCanCorrect)},openPhotoWallFormBigPicture:function(){console.log("[测试bug]触发涂鸦画板"),this.openPhotowall(this.boxMsg),this.showBigPicture=!1},closeBox:function(){this.sendLogger("点击关闭作业盒子"),this.hideAssignmentBoxOnly(),this.$emit("firstInshowHeader")},closeBigPicture:function(){this.showBigPicture=!1,this.$bus.$emit("updateAchievement","update")},openPhotowall:function(e){if(console.log("[测试bug]掉起拍照上墙"),this.sendLogger("订正调起拍照上墙,box:".concat(JSON.stringify(e))),2==this.classType&&(this.smallClassSttingPane=!1),"graffiti"==e.tagType)return this.smallClassGraffiti(this.boxMsg),void this.hideAssignmentBoxOnly();this.isShowCorrectPhotoWall=!0,this.hideAssignmentBoxOnly()},destoryCorrectDom:function(){this.isShowCorrectPhotoWall=!1},handleOpenAssignmentBox:function(){this.sendLogger("点击打开作业盒子"),this.showAssignmentBox=!this.showAssignmentBox,this.$emit("handleHideMessageTip"),this.showAssignmentBox&&this.getAssignmentBoxList()},firstInClassGuide:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,window.thinkApi.ipc.invoke("getStoreValue","assignmentboxFirstinGuide");case 2:if(s=t.sent,"isFirstIn"!=s){t.next=6;break}t.next=9;break;case 6:return 2!==e.classType&&(e.showBoxGuide=!0),t.next=9,window.thinkApi.ipc.invoke("setStoreValue","assignmentboxFirstinGuide","isFirstIn");case 9:case"end":return t.stop()}}),t)})))()},hideBoxGuide:function(){this.showBoxGuide=!1},viewBigPictureDuringInterect:function(){var e=this;this.sendLogger("作业盒子---互动过程批改完成点击查看大图"),this.isFromClickBox=!1,this.showBigPicture=!0,this.showCheckedExerciseToast=!1,this.checkRefresh=!1,this.$nextTick((function(){e.checkRefresh=!0}))},getAssignmentBoxList:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.sendLogger("获取作业盒子列表"),t.next=3,Object(rn["a"])(e,{planId:e.planId});case 3:s=t.sent,e.loading=!1,1==s.stat&&(e.boxLists=s.data.list||[]),e.boxLists.length<=0&&(e.showEmpty=!0),e.sendLogger("获取作业盒子列表数据, list:".concat(JSON.stringify(e.boxLists)));case 8:case"end":return t.stop()}}),t)})))()},handleBigPicture:function(e){this.sendLogger("作业盒子点击查看大图"),this.showBigPicture=!0,this.isFromClickBox=!0,this.boxMsg=e,this.boxMsg.isShowIncorrectModify=this.isShowIncorrectModify(e),2==!this.classType&&this.hideAssignmentBoxOnly()},initEvent:function(){var e=this;this.$bus.$on("openSettingPane",(function(t){!t&&e.smallClassSttingPane&&e.sendLogger("学生".concat(t?"打开":"关闭"," setting面板: ")),e.smallClassSttingPane=t,t||(e.showCheckedExerciseToast=!1)})),this.$bus.$on("photoWallInteractId",(function(t){e.photoWallInteractId=t})),this.$bus.$on("photoWallShow",(function(t){e.isPhotoWallShow=t})),this.$bus.$on("chats.assignmentCheckedPush",function(){var t=Object(x["a"])(Object(I["a"])().mark((function t(s){var o,n,a;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:2==e.classType&&e.$bus.$emit("smallClassShowMessageTip"),console.log("[测试bug]辅导端老师批改完作业消息",s),o=e.getOptions(),o&&(e.currentInteractionId=o.ircMsg.interactId),e.sendLogger("辅导端老师批改完作业消息: ".concat(JSON.stringify(s),",classType:").concat(e.classType,",currentInteractionId:").concat(e.currentInteractionId)),n=s.newCorrectStatus||s.correctStatus,e.currentInteractionId==s.interactId&&(e.boxMsg.correctUrl=s.pictureUrl[0],e.boxMsg.newCorrectStatus=n,e.boxMsg.tagType=s.tagType,e.isTakePicture="interact"===s.tagType||"question"===s.tagType,e.watchDiffObj.receiveInteractId=s.interactId,e.watchDiffObj.key=e.watchDiffObj.key+1,e.initPictureWidth(e.boxMsg.correctUrl),[2,5].includes(n)&&e.options.configs.wallCanCorrect&&(e.boxMsg.isShowIncorrectModify=!0)),a=JSON.parse(localStorage.getItem("assignmentCheckStatus"))||{},e.isFirstCorrect=void 0===a[s.interactId],a[s.interactId]=e.isFirstCorrect,localStorage.setItem("assignmentCheckStatus",JSON.stringify(a)),e.rewardType=s.rewardType||0,console.log("[测试bug]辅导端老师批改完作业消息11",s,e.isFirstCorrect),1!==n||s.rewardType&&1!==s.rewardType||(e.rightCoin=1===s.rewardType?s.rightCoin:e.isFirstCorrect?20:10,console.log("[测试bug]辅导端老师批改完作业消息12",s,e.isFirstCorrect,e.rightCoin),e.showAssignmentBox&&2===e.classType&&e.$bus.$emit("updateAchievement","update")),e.getAssignmentBoxList();case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.$bus.$on("endCorrectPhotoWall",function(){var t=Object(x["a"])(Object(I["a"])().mark((function t(s,o){var n;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=s.photoWallClose,e.sendLogger("收到praise信令,photoWallClose:".concat(n,",isHistory:").concat(o)),!n){t.next=15;break}if(!o){t.next=5;break}return t.abrupt("return");case 5:console.log("整个拍照上墙结束",e.boxMsg,o),"graffiti"==e.boxMsg.tagType&&(e.$bus.$emit("closeGraffitiCorrect",!0),e.$Message.info("Interaction ended"),e.currentInteractionId=null),e.sendLogger("拍照上墙互动结束,boxMsg".concat(e.boxMsg),"end"),e.isShowCorrectPhotoWall&&e.$Message.info("Interaction ended"),e.isShowCorrectPhotoWall=!1,e.currentInteractionId=null,e.showBigPicture=!1,e.showCheckedExerciseToast=!1,localStorage.removeItem("assignmentCheckStatus"),localStorage.removeItem("photoWallOptions");case 15:case"end":return t.stop()}}),t)})));return function(e,s){return t.apply(this,arguments)}}())},initPictureWidth:function(e){var t=this,s=new Image;s.src=e,s.onload=function(){t.couldCheckImage=!0}},cancelViewAssignmentBigPicture:function(){this.$emit("handleShowMessageTip"),this.showCheckedExerciseToast=!1,this.sendLogger("作业盒子信息弹窗-直接取消展示小红点")},hideAssignmentBox:function(){this.showHeader=!1,this.hideAssignmentBoxOnly(),this.sendLogger("隐藏作业盒子")},hideAssignmentBoxOnly:function(){this.showAssignmentBox=!1},smallClassGraffiti:function(e){this.$bus.$emit("room.smallClassGraffiti",e)},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";T["a"].send({tag:"student.Interact",content:{msg:e,interactType:"Wall",interactId:this.currentInteractionId||"",interactStage:t}})}},created:function(){this.initEvent()},mounted:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.classType=e.options.classType,e.getCurrenInteractId(),e.firstInClassGuide(),t.next=5,Object(ee["c"])();case 5:return e.local=t.sent,t.next=8,Object(bs["d"])("canPhotowallRewards");case 8:e.isAllowPhotowallRewards=t.sent;case 9:case"end":return t.stop()}}),t)})))()},watch:{watchDiffObj:{handler:function(e,t){this.isPhotoWallShow||e.receiveInteractId!==this.currentInteractionId||null==e.receiveInteractId?e.receiveInteractId&&e.receiveInteractId!==e.interactId&&this.$emit("handleShowMessageTip"):2==this.classType&&(this.showAssignmentBox||this.smallClassSttingPane)||(this.showCheckedExerciseToast=!0)},deep:!0},boxMsg:{handler:function(e,t){e.correctUrl&&this.initPictureWidth(e.correctUrl)},deep:!0}}},bn=Cn,An=(s("e938e"),Object(Oe["a"])(bn,Do,Uo,!1,null,"90466d3c",null)),wn=An.exports,Sn=function(){var e=this,t=e._self._c;return t("div",{staticClass:"print-screen-container",on:{click:e.handleClick}})},yn=[],Pn=!1,kn={methods:{handleClick:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.info("对象函数 handleClick,filePath:renderer/components/Classroom/LargeClass/base/room/header/print-screen/printScreen.vue"),e.$emit("click"),!Pn){t.next=4;break}return t.abrupt("return");case 4:return Pn=!0,t.next=7,Object(wo["a"])();case 7:if(s=t.sent,Pn=!1,s.thumbnail){t.next=11;break}return t.abrupt("return");case 11:e.$bus.$emit("screenThumbnail",s.thumbnail);case 12:case"end":return t.stop()}}),t)})))()}}},In=kn,xn=(s("0781"),Object(Oe["a"])(In,Sn,yn,!1,null,"4ab02bdd",null)),On=xn.exports,Tn=s("36e6"),jn=function(){var e=this,t=e._self._c;return t("div",[e.showReportIframe?t("div",{staticClass:"report-container common-container"},[t("div",{staticClass:"container con"},[t("iframe",{attrs:{id:"examReportContent",src:e.reportUrl},on:{onload:e.handleIframeLoad}}),t("div",{staticClass:"badge-close",on:{click:e.closeBadgePane}})])]):e._e(),e.showtoast?t("div",{staticClass:"toast-container common-container"},[t("div",{staticClass:"container con"},[t("div",{staticClass:"warning-icon"}),t("div",{staticClass:"text"},[e._v(" "+e._s(e.$t("classroom.smallClass.examReportTips.msg"))+" ")]),t("div",{staticClass:"button",on:{click:e.closeToast}},[e._v(" "+e._s(e.$t("classroom.smallClass.examReportTips.confirm"))+" ")])])]):e._e()])},Mn=[],Ln={components:{},props:{commonOptions:{type:Object,default:function(){return{}}}},data:function(){return{showReportIframe:!1,showtoast:!1,reportUrl:"",useInfo:window.localStorage.getItem("userInfo")}},mounted:function(){var e=this;this.$bus.$on("handleOpenExamReport",(function(t){console.info("箭头函数 监听 handleOpenExamReport(flag)",t,"filePath:renderer/components/Classroom/CommonModules/examReportModal/index.vue"),t&&e.getReportInfo()}))},methods:{closeBadgePane:function(){console.info("对象函数 closeBadgePane,filePath:renderer/components/Classroom/CommonModules/examReportModal/index.vue"),this.showReportIframe=!1},closeToast:function(){console.info("对象函数 closeToast,filePath:renderer/components/Classroom/CommonModules/examReportModal/index.vue"),this.showtoast=!1},getReportInfo:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s,o,n;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 getReportInfo,filePath:renderer/components/Classroom/CommonModules/examReportModal/index.vue"),t.next=3,Object(Tn["a"])({planId:e.commonOptions.planId,platform:"3"});case 3:if(o=t.sent,o&&0==o.code){t.next=6;break}return t.abrupt("return");case 6:null!==o&&void 0!==o&&null!==(s=o.data)&&void 0!==s&&s.studentReportUrl?(n=e.useInfo?JSON.parse(e.useInfo).unifiedAccessToken:"",e.showReportIframe=!0,e.reportUrl="".concat(o.data.studentReportUrl,"&platform=3&classId=").concat(e.commonOptions.classId,"&studentId=").concat(e.commonOptions.stuId,"&token=").concat(n,"&from=live"),window.thinkApi.ipc.send("test:url",e.reportUrl)):e.showtoast=!0;case 7:case"end":return t.stop()}}),t)})))()},handleIframeLoad:function(){console.info("对象函数 handleIframeLoad,filePath:renderer/components/Classroom/CommonModules/examReportModal/index.vue"),T["a"].send({content:{msg:"加载H5成功-考试报告",reportUrl:this.reportUrl}})}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/components/Classroom/CommonModules/examReportModal/index.vue"),this.$bus.$off("handleOpenExamReport")}},Rn=Ln,En=(s("e09c"),Object(Oe["a"])(Rn,jn,Mn,!1,null,"58dc9332",null)),Nn=En.exports,Bn=(s("33d1"),s("ea98"),s("a79d"),s("bc3a")),Vn=s.n(Bn),Dn=s("64d5"),Un=s("9db8"),_n=Vn.a.create({timeout:6e3,withCredentials:!1});function Gn(e){var t=window.$Sentry;t.captureMessage("".concat(e.path),(function(t){t.setTag("api",e.path),t.setExtra("data",e)}))}var Wn="",Hn="";function Fn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type||"get",s=Object(J["a"])({},e),o=/(https:\/\/[^\/]+)\//.exec(e.path)[1];return _n[t](e.path).then((function(){if(window.performance){var t=performance.getEntriesByName(e.path).at(-1);g.a.prototype.$sensors.track("hw_network_quality",{hw_net_success:1,request_domain:o,hw_dns_servers:Wn||"",hw_ip:Hn||"",hw_net_sum_value:t.duration,hw_net_response_value:t.responseEnd-(t.responseStart||t.fetchStart),hw_net_service_value:t.responseStart-t.requestStart,hw_net_request_value:t.responseStart-t.requestStart,hw_net_tls_value:t.requestStart-t.secureConnectionStart,hw_net_tcp_value:t.connectEnd-t.connectStart,hw_net_dns_value:t.domainLookupEnd-t.domainLookupStart,hw_metrics_fetch_type:"GET",hw_net_protocol:t.nextHopProtocol||"h2",hw_net_request_url:e.path.split("&")[0]})}})).catch(function(){var t=Object(x["a"])(Object(I["a"])().mark((function t(n){var a;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=!1,_n["get"]("https://connectivitycheck.gstatic.com/generate_204").then((function(e){null!==e&&void 0!==e&&e.status&&204===e.status&&(a=!0)})).catch((function(){})).finally((function(){g.a.prototype.$sensors.track("hw_network_quality",{hw_net_success:0,request_domain:o,isOnline:a,error_msg:(null===n||void 0===n?void 0:n.errMsg)||n.toString(),error_type:(null===n||void 0===n?void 0:n.status)||"408",hw_net_sum_value:3e4,hw_metrics_fetch_type:"GET",hw_net_request_url:e.path.split("&")[0],hw_dns_servers:Wn||""}),s["error"]=n,Gn(s)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}var qn,Jn,Kn=function(){Un.dns((function(e,t){Wn=JSON.stringify(t)})),Hn=JSON.stringify(Un.ip());var e=Object(Dn["a"])({storage:localStorage}),t=e.get("DEFAULT_API_DOMAIN"),s=t.one,o=void 0===s?[]:s,n=t.oversea,a=void 0===n?[]:n,i=[].concat(o,a);i.forEach((function(e){var t="/api/health?payload=4096&num=1";Fn({path:"".concat(e).concat(t)})}))},zn=3e5,Qn=function(){var e=this,t=e._self._c;return t("div",{staticClass:"team-switch"},[t("div",{staticClass:"switch-wrapper"},[t("div",{staticClass:"title"},[e._v(" "+e._s(e.$t("classroom.largeClass.header.teacherMessageOnly"))+" ")]),t("div",{staticClass:"switch"},[t("a-switch",{on:{change:e.changeTeacherOnly},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}})],1)])])},$n=[],Yn={props:{planId:{type:Number,default:0},options:{type:Object,default:function(){return{}}}},data:function(){return{status:!1}},methods:{changeTeacherOnly:function(){console.info("对象函数 changeTeacherOnly,filePath:renderer/components/Classroom/LargeClass/base/room/header/OnlyTeacherChat.vue"),this.$bus.$emit("handleSwitchMessage",this.status),T["a"].send({tag:"action",content:{msg:"点击切换Teacher Only状态",status:this.status}}),Object(M["e"])("hw_classroom_teacher_only_switch",this.options,{switch_type:this.status?1:0})}}},Zn=Yn,Xn=(s("34e1"),Object(Oe["a"])(Zn,Qn,$n,!1,null,"2ce524dc",null)),ea=Xn.exports,ta={props:{options:{type:Object,default:null},stuInfo:{type:Object,default:null},rtcConfig:{type:Object,default:null},planInfo:{type:Object,default:null},planName:{type:String,default:""}},components:{Toolbar:oo["a"],Feedback:ko,AssignmentBox:wn,NetworkStatus:lo,TeamSwitch:Mo,DeviceTest:Vo,PrintScreen:On,ExamReport:Nn,OnlyTeacherChat:ea},data:function(){return{platform:Object(te["l"])(),isPlayBack:this.options.isPlayBack,showHeader:!0,showMore:!1,local:"",haveNewMessage:!1,downlinkNetworkQuality:-1,checkRefreshBox:!0,backUrl:"",reportBtnVisible:!1,checkNetHealthIntervalId:null,lessonType:""}},computed:{showTeamSwitch:function(){return!this.options.isAudition},showHomeworkButton:function(){return"uk"!=this.local&&!this.options.isAudition},showFeedbackButton:function(){return!this.options.isAudition},showExamReportButton:function(){return!this.options.isAudition&&this.reportBtnVisible}},mounted:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(ee["c"])();case 2:return e.local=t.sent,e.queryReadMessage(),e.backUrl=window.location.href.split("backUrl=")[1]||"/courses",t.next=7,e.initShowReportBtn();case 7:e.checkNetHealthIntervalId=setInterval((function(){Kn()}),zn),s=z.a.parse(window.location.search),e.lessonType=at["g"][s["lessonType"]]||"";case 10:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){this.checkNetHealthIntervalId&&clearInterval(this.checkNetHealthIntervalId)},methods:{reSensorEvent:function(e){Object(M["e"])("hw_classroom_toolbar_click",this.options,{tool_name:e})},printScrenClick:function(){T["a"].send({tag:"action",content:{msg:"学生点击header截屏"}}),this.reSensorEvent("截屏")},handleBack:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(localStorage.setItem("largeClassTestCoverage",JSON.stringify(window.__coverage__)),!e.options.isPlayBack){t.next=4;break}return Object(ce["a"])("/#"+e.backUrl),t.abrupt("return");case 4:e.$Modal.confirm({class:"modal-simple apu-header",content:e.$t("classroom.modules.header.backConfirm.content"),okText:e.$t("common.yes"),cancelText:e.$t("common.no"),zIndex:3e3,onOk:function(){var t,s,o;e.options.isPlayBack||(e.$bus.$emit("liveQuit"),Ts["s"]("click_exit_btn",{timeOffset:null===(t=e.options)||void 0===t?void 0:t.timeOffset,planInfo:e.planInfo,lessonType:e.lessonType,interactionStatus:[],classTypeName:"大班"}),Ts["d"](null===(s=e.options)||void 0===s?void 0:s.timeOffset,null===(o=e.planInfo)||void 0===o?void 0:o.endStampTime),Object(re["setPlanId"])({}));T["a"].send({tag:"action",content:{msg:"学生退出课堂"}}),setTimeout((function(){Object(ce["a"])("/#"+e.backUrl)}),1e3)}});case 5:case"end":return t.stop()}}),t)})))()},handleFeedbackShow:function(){this.$refs["Feedback"].handleShow(),this.reSensorEvent("反馈"),this.$refs.assignmentBoxRef.hideAssignmentBoxOnly()},handleRefresh:Ae()((function(){var e;T["a"].send({tag:"action",content:{msg:"点击header刷新"}}),this.reSensorEvent("刷新"),this.$bus.$emit("liveRefresh"),Ts["s"]("refresh_livePage",{timeOffset:null===(e=this.options)||void 0===e?void 0:e.timeOffset,planInfo:this.planInfo,lessonType:this.lessonType,interactionStatus:[],classTypeName:"大班"})}),300),handleExamResult:function(){this.$bus.$emit("handleOpenExamReport",!0)},handleMore:function(){T["a"].send({tag:"action",content:{msg:"点击更多按钮"}}),this.reSensorEvent("小组视频"),this.showMore=!this.showMore},queryReadMessage:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(rn["b"])(e,{planId:e.planInfo.id});case 2:s=t.sent,1==(null===s||void 0===s?void 0:s.stat)&&(e.haveNewMessage=s.data.haveNewMessage);case 4:case"end":return t.stop()}}),t)})))()},handleShowMessageTip:function(){T["a"].send({tag:"action",content:{msg:"新的作业盒子消息"}}),this.haveNewMessage=!0},handleHideMessageTip:function(){T["a"].send({tag:"action",content:{msg:"取消作业盒子消息提醒"}}),this.haveNewMessage=!1},handleOpenAssignmentBox:function(){var e=this;T["a"].send({tag:"action",content:{msg:"打开作业盒子"}}),this.reSensorEvent("作业盒子"),this.$nextTick((function(){e.$refs.assignmentBoxRef.handleOpenAssignmentBox()})),this.$refs["Feedback"].handleHide()},handleMouseenter:function(){T["a"].send({tag:"action",content:{msg:"显示头部导航栏"}}),this.showHeader=!0,this.showMore=!1},hideHeader:function(){this.showHeader=!1},handleMouseleave:function(){T["a"].send({tag:"action",content:{msg:"移出头部导航栏"}}),this.$refs.assignmentBoxRef.showAssignmentBox||(this.showHeader=!1)},updateNetworkQuality:function(e){this.downlinkNetworkQuality=e},initShowReportBtn:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s,o;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Tn["a"])({planId:e.planInfo.id,platform:"3"});case 2:if(o=t.sent,o&&0==o.code){t.next=5;break}return t.abrupt("return");case 5:e.reportBtnVisible="1"===(null===o||void 0===o||null===(s=o.data)||void 0===s?void 0:s.showReportEnter);case 6:case"end":return t.stop()}}),t)})))()}}},sa=ta,oa=(s("16ff"),Object(Oe["a"])(sa,to,so,!1,null,"3c662919",null)),na=oa.exports,aa=function(){var e=this,t=e._self._c;return t("div",[0===e.classType?t("LargeClass",{attrs:{options:e.options,stuInfo:e.stuInfo,rtcConfig:e.rtcConfig}}):e._e(),1===e.classType||2===e.classType?t("SmallClass",{attrs:{options:e.options,stuInfo:e.stuInfo,rtcConfig:e.rtcConfig,classType:e.classType}}):e._e()],1)},ia=[],ra=function(){var e=this,t=e._self._c;return t("div",[t("Achievement",{attrs:{showAchievement:e.showAchievement,options:e.options,type:"normal"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:!0===e.teamSwitchStatus,expression:"teamSwitchStatus === true"}],staticClass:"video-group-wrapper class-type-large"},[t("div",{staticClass:"video-group-contenter"},[e.options.isParent?[e.myChildInfo.onlineStatus?t("RemoteVideo",{key:e.myChildInfo.uid,attrs:{remoteStuInfo:e.myChildInfo,showAudioWaves:e.showAudioWaves,hideRemoteVideo:e.hideRemoteVideo},on:{handleRemoteVideoStatus:e.handleRemoteVideoStatus}}):t("OffLineVideo",{attrs:{name:e.myChildInfo.stuName}})]:!e.options.isParent&&e.options.isAudition?[t("VideoItemPad",{attrs:{notice:e.$t("classroom.largeClass.videoGroup.localVideoAudition.notice")}})]:[t("LocalVideo",{attrs:{options:e.options,localStuInfo:e.localStuInfo,hideVideoIcon:e.hideLocalVideoIcon},on:{handleLocalVideoStatus:e.handleLocalVideoStatus}})],e._l(e.remoteStuInfo,(function(s,o){return[t("RemoteVideo",{key:o,attrs:{remoteStuInfo:s,showAudioWaves:e.showAudioWaves,hideRemoteVideo:e.hideRemoteVideo,isExaminationStatus:e.isExaminationStatus},on:{handleRemoteVideoStatus:e.handleRemoteVideoStatus}})]})),e.remoteStuPadNum>0?e._l(e.remoteStuPadNum,(function(s){return t("VideoItemPad",{key:s,attrs:{notice:e.canShowOtherChild?e.$t("classroom.largeClass.videoGroup.textConfig.matching"):""}})})):e._e()],2)])],1)},ca=[],la=function(){var e=this,t=e._self._c;return e.showAchievement?t("div",{class:[e.achievementClassName]},["normal"===e.type?t("div",{staticClass:"achievement-container"},[t("div",{staticClass:"coins-wrapper"},[t("div",{class:["coins-icon",{"add-coin":e.addCoin}]}),t("span",{staticClass:"coins-title"},[e._v(" "+e._s(e.$t("classroom.largeClass.coins.title"))+" ")])]),e.addCoin?t("CountTo",{staticClass:"coins-num",attrs:{startVal:e.startCoin,endVal:e.endCoin,duration:400,separator:""},on:{end:function(t){e.addCoin=!1}}}):t("div",{staticClass:"coins-num"},[e._v(e._s(e.gold))])],1):e._e(),"simple"===e.type?t("div",{staticClass:"achievement-container"},[t("div",{class:["coins-icon-simple",{"add-coin":e.addCoin}]}),e.addCoin?t("CountTo",{staticClass:"count",attrs:{startVal:e.startCoin,endVal:e.endCoin,duration:400,separator:""},on:{end:function(t){e.addCoin=!1}}}):t("span",{staticClass:"count"},[e._v(e._s(e.gold))])],1):e._e()]):e._e()},ua=[],da=function(){var e=this,t=e._self._c;return t("div",[e._t("header"),t("span",{style:e.countStyle},[e._v(e._s(e.displayValue))]),e._t("footer")],2)},ha=[],ma=(s("b680"),0),pa="webkit moz ms o".split(" "),fa="undefined"===typeof window;if(fa)qn=function(){},Jn=function(){};else{var va;qn=window.requestAnimationFrame,Jn=window.cancelAnimationFrame;for(var ga=0;ga<pa.length;ga++){if(qn&&Jn)break;va=pa[ga],qn=qn||window[va+"RequestAnimationFrame"],Jn=Jn||window[va+"CancelAnimationFrame"]||window[va+"CancelRequestAnimationFrame"]}qn&&Jn||(qn=function(e){var t=(new Date).getTime(),s=Math.max(0,16-(t-ma)),o=window.setTimeout((function(){console.info("箭头函数 setTimeout,filePath:renderer/components/Common/CountTo/requestAnimationFrame.js"),e(t+s)}),s);return ma=t+s,o},Jn=function(e){window.clearTimeout(e)})}var Ca={name:"count-to-test",props:{countStyle:{type:String,required:!1,default:""},startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:0},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimals:{type:Number,required:!1,default:0,validator:function(e){return e>=0}},decimal:{type:String,required:!1,default:"."},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Function,default:function(e,t,s,o){return s*(1-Math.pow(2,-10*e/o))*1024/1023+t}}},data:function(){return{localStartVal:this.startVal,displayValue:this.formatNumber(this.startVal),printVal:null,paused:!1,localDuration:this.duration,startTime:null,timestamp:null,remaining:null,rAF:null}},computed:{countDown:function(){return this.startVal>this.endVal}},watch:{startVal:function(){this.autoplay&&this.start()},endVal:function(){this.autoplay&&this.start()}},mounted:function(){this.autoplay&&this.start()},methods:{start:function(){this.localStartVal=this.startVal,this.startTime=null,this.localDuration=this.duration,this.paused=!1,this.rAF=qn(this.count)},pauseResume:function(){this.paused?(this.resume(),this.paused=!1):(this.pause(),this.paused=!0)},pause:function(){Jn(this.rAF)},resume:function(){this.startTime=null,this.localDuration=+this.remaining,this.localStartVal=+this.printVal,qn(this.count)},reset:function(){this.startTime=null,Jn(this.rAF),this.displayValue=this.formatNumber(this.startVal)},count:function(e){this.startTime||(this.startTime=e),this.timestamp=e;var t=e-this.startTime;this.remaining=this.localDuration-t,this.useEasing?this.countDown?this.printVal=this.localStartVal-this.easingFn(t,0,this.localStartVal-this.endVal,this.localDuration):this.printVal=this.easingFn(t,this.localStartVal,this.endVal-this.localStartVal,this.localDuration):this.countDown?this.printVal=this.localStartVal-(this.localStartVal-this.endVal)*(t/this.localDuration):this.printVal=this.localStartVal+(this.endVal-this.localStartVal)*(t/this.localDuration),this.countDown?this.printVal=this.printVal<this.endVal?this.endVal:this.printVal:this.printVal=this.printVal>this.endVal?this.endVal:this.printVal,this.displayValue=this.formatNumber(this.printVal),t<this.localDuration?this.rAF=qn(this.count):this.$emit("end")},isNumber:function(e){return!isNaN(parseFloat(e))},formatNumber:function(e){e=e.toFixed(this.decimals),e+="";var t=e.split("."),s=t[0],o=t.length>1?this.decimal+t[1]:"",n=/(\d+)(\d{3})/;if(this.separator&&!this.isNumber(this.separator))while(n.test(s))s=s.replace(n,"$1"+this.separator+"$2");return this.prefix+s+o+this.suffix}},destroyed:function(){Jn(this.rAF)}},ba=Ca,Aa=Object(Oe["a"])(ba,da,ha,!1,null,null,null),wa=Aa.exports,Sa={components:{CountTo:wa},props:{options:{type:Object,default:null},type:{type:String,default:"simple"},showAchievement:{type:Boolean,default:!0}},data:function(){return{gold:this.options.goldNum,addCoin:!1,startCoin:0,endCoin:0}},computed:{achievementClassName:function(){return console.info("对象函数 achievementClassName,filePath:renderer/components/Classroom/LargeClass/base/room/achievement/index.vue"),"normal"===this.type?"achievement-wrapper-normal":"simple"===this.type?"achievement-wrapper-simple":void 0}},mounted:function(){var e=this;this.$bus.$on("updateAchievement",(function(t,s){console.info("箭头函数 监听 updateAchievement(type, num)",t,s,"filePath:renderer/components/Classroom/LargeClass/base/room/achievement/index.vue"),e[t](s)})),this.$bus.$on("addCoin",(function(t,s){console.info("箭头函数 监听 addCoin(isStart, coin)",t,s,"filePath:renderer/components/Classroom/LargeClass/base/room/achievement/index.vue"),t&&(e.addCoin=!0,e.startCoin=+e.gold,e.endCoin=e.startCoin+s,e.gold=e.endCoin),Object(Z["u"])({planId:z.a.parse(window.location.search).planId}).then((function(t){var s;(console.info("箭头函数 studentCoinAndMedal的then(res)",t,"filePath:renderer/components/Classroom/LargeClass/base/room/achievement/index.vue"),t&&0===t.code)&&(e.gold=parseInt((null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.totalCoin)||""))}))}))},methods:{add:function(e){console.info("对象函数 add(num)",e,"filePath:renderer/components/Classroom/LargeClass/base/room/achievement/index.vue"),this.gold=this.gold+parseInt(e)},update:function(e){var t=this;return Object(x["a"])(Object(I["a"])().mark((function s(){return Object(I["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(console.info("对象函数 update(num)",e,"filePath:renderer/components/Classroom/LargeClass/base/room/achievement/index.vue"),e){s.next=5;break}return s.next=4,t.initMedalCoins();case 4:e=s.sent;case 5:t.gold=parseInt(e);case 6:case"end":return s.stop()}}),s)})))()},initMedalCoins:function(){return Object(x["a"])(Object(I["a"])().mark((function e(){var t,s,o;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.info("对象函数 initMedalCoins,filePath:renderer/components/Classroom/LargeClass/base/room/achievement/index.vue"),s=z.a.parse(window.location.search),e.next=4,Object(Z["u"])({planId:s.planId});case 4:return o=e.sent,e.abrupt("return",(null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.totalCoin)||"");case 6:case"end":return e.stop()}}),e)})))()}}},ya=Sa,Pa=(s("d9d3"),Object(Oe["a"])(ya,la,ua,!1,null,"2badece4",null)),ka=Pa.exports,Ia=function(){var e=this,t=e._self._c;return t("div",{staticClass:"video-item video-local"},[0==this.options.classType?t("Achievement",{attrs:{options:e.options,type:"simple"}}):e._e(),e.localStuInfo.cameraStatus?[t("div",{staticClass:"group-wrapper"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.localStuInfo.displayVideo,expression:"localStuInfo.displayVideo"}],staticClass:"video-wrapper",attrs:{id:"video-group-local"}}),e.localStuInfo.displayVideo?e._e():t("div",{staticClass:"avatar-wrapper"},[t("img",{attrs:{src:e.localStuInfo.avatar}})])]),e.showMicrophoneIcon?t("div",{staticClass:"microphone-status",class:[{"icon-microphone":e.localStuInfo.microphoneStatus,"icon-microphone-disabled":!e.localStuInfo.microphoneStatus}],on:{click:e.handleLocalMicrophoneStatus}}):e._e(),e.hideVideoIcon?e._e():t("div",{staticClass:"camera-status",class:[{"icon-camera":e.localStuInfo.displayVideo,"icon-no-camera":!e.localStuInfo.displayVideo}],on:{click:e.handleLocalVideoStatus}})]:[t("div",{staticClass:"group-wrapper"},[t("div",{staticClass:"avatar-wrapper"},[t("img",{attrs:{src:e.localStuInfo.avatar}})])]),e.showMicrophoneIcon?t("div",{staticClass:"microphone-status",class:[{"icon-microphone":e.localStuInfo.microphoneStatus,"icon-microphone-disabled":!e.localStuInfo.microphoneStatus}],on:{click:e.handleLocalMicrophoneStatus}}):e._e(),t("div",{staticClass:"camera-status icon-no-camera",on:{click:e.showNoAccessNotice}})],e.localStuInfo.level?t("div",{staticClass:"medal-wrapper"},[t("span",{staticClass:"icon",class:e.localStuInfo.level?"level-".concat(e.localStuInfo.level):""}),t("span",{staticClass:"text",class:e.smallLevelText},[e._v("Lv"+e._s(e.localStuInfo.level))])]):e._e(),t("div",{staticClass:"student-name"},[e._v(e._s(e.localStuInfo.stuName))]),t("MediaSecurityAccess",{ref:"MediaSecurityAccessCamera",attrs:{visible:!1,type:"camera"}}),t("MediaSecurityAccess",{ref:"MediaSecurityAccessMicrophone",attrs:{visible:!1,type:"microphone"}})],2)},xa=[],Oa={components:{Achievement:ka,MediaSecurityAccess:St["a"]},props:{options:{type:Object,default:null},localStuInfo:{type:Object,default:null},hideVideoIcon:{type:Boolean,default:!1},classType:{type:Number,default:-1}},computed:{showMicrophoneIcon:function(){return console.info("对象函数 showMicrophoneIcon,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/localVideo.vue"),!this.hideVideoIcon&&2==this.classType},smallLevelText:function(){return console.info("对象函数 smallLevelText,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/localVideo.vue"),"level-".concat(this.localStuInfo.level)}},data:function(){return{}},methods:{handleLocalVideoStatus:Ae()((function(){this.$emit("handleLocalVideoStatus"),Object(M["e"])("hw_classroom_my_camera",this.options,{switch_type:this.localStuInfo.displayVideo?1:0})}),300),handleLocalMicrophoneStatus:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 handleLocalMicrophoneStatus,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/localVideo.vue"),t.next=3,Object(se["f"])();case 3:if(s=t.sent,console.log("microphoneStatus",s),s){t.next=8;break}return e.$refs["MediaSecurityAccessMicrophone"].checkAccess(),t.abrupt("return");case 8:e.$emit("handleLocalMicrophoneStatus");case 9:case"end":return t.stop()}}),t)})))()},showNoAccessNotice:function(){console.info("对象函数 showNoAccessNotice,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/localVideo.vue"),this.$refs["MediaSecurityAccessCamera"].checkAccess()}}},Ta=Oa,ja=(s("9234"),Object(Oe["a"])(Ta,Ia,xa,!1,null,"1659edb8",null)),Ma=ja.exports,La=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.remoteStuInfo.showStatus,expression:"remoteStuInfo.showStatus"}],staticClass:"video-item video-remote"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.remoteStuInfo.cameraStatus,expression:"remoteStuInfo.cameraStatus"}],staticClass:"item-wrapper"},[e.showAudioWaves?t("div",{staticClass:"audio-waves-wrapper"},[t("AudioWaves",{attrs:{animation:!0,size:"small",skin:"white","animation-type":"sound"}})],1):e._e(),t("div",{staticClass:"group-wrapper"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showRemoteVideo,expression:"showRemoteVideo"}],staticClass:"video-wrapper",attrs:{id:"remote-"+e.remoteStuInfo.stuId}}),e.showRemoteAvatar?t("div",{staticClass:"avatar-wrapper"},[t("img",{attrs:{src:e.remoteStuInfo.avatar}})]):e._e()]),e.showCameraStatusIcon?t("div",{staticClass:"camera-status",class:[{"icon-visible":e.remoteStuInfo.displayVideo,"icon-invisible":!e.remoteStuInfo.displayVideo}],on:{click:e.handleRemoteVideoStatus}}):e._e()]),e.remoteStuInfo.cameraStatus?e._e():[t("div",{staticClass:"group-wrapper"},[t("div",{staticClass:"avatar-wrapper"},[t("img",{attrs:{src:e.remoteStuInfo.avatar}})])])],t("div",{staticClass:"student-name"},[e._v(e._s(e.remoteStuInfo.stuName))]),!e.showAudioWaves&&e.remoteStuInfo.level?t("div",{staticClass:"medal-wrapper"},[t("span",{staticClass:"icon",class:e.remoteStuInfo.level?"level-".concat(e.remoteStuInfo.level):""}),t("span",{staticClass:"text",class:e.smallLevelText},[e._v("Lv"+e._s(e.remoteStuInfo.level))])]):e._e()],2)},Ra=[],Ea=s("217d"),Na={components:{AudioWaves:Ea["a"]},props:{remoteStuInfo:{type:Object,default:null},showAudioWaves:{type:Boolean,default:null},hideRemoteVideo:{type:Boolean,default:null},hideVideoIcon:{type:Boolean,default:!1},isExaminationStatus:{type:Boolean,default:!1}},computed:{showRemoteVideo:function(){return console.info("对象函数 showRemoteVideo,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/remoteVideo.vue"),this.remoteStuInfo.onlineStatus&&this.remoteStuInfo.displayVideo&&!this.remoteStuInfo.mutedVideoStatus&&!this.hideRemoteVideo&&!this.isExaminationStatus},showRemoteAvatar:function(){return console.info("对象函数 showRemoteAvatar,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/remoteVideo.vue"),!this.remoteStuInfo.onlineStatus||!this.remoteStuInfo.displayVideo||this.remoteStuInfo.mutedVideoStatus||this.hideRemoteVideo||this.isExaminationStatus},showCameraStatusIcon:function(){return console.info("对象函数 showCameraStatusIcon,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/remoteVideo.vue"),this.remoteStuInfo.onlineStatus&&!this.remoteStuInfo.mutedVideoStatus&&!this.hideVideoIcon},smallLevelText:function(){return console.info("对象函数 smallLevelText,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/remoteVideo.vue"),"level-".concat(this.remoteStuInfo.level)}},methods:{handleRemoteVideoStatus:function(){console.info("对象函数 handleRemoteVideoStatus,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/remoteVideo.vue"),this.$emit("handleRemoteVideoStatus",this.remoteStuInfo.stuId,!this.remoteStuInfo.displayVideo)}}},Ba=Na,Va=(s("f502"),Object(Oe["a"])(Ba,La,Ra,!1,null,"2831850a",null)),Da=Va.exports,Ua=function(){var e=this,t=e._self._c;return t("div",{staticClass:"video-item video-remote video-parent-audition"},[t("div",{staticClass:"notice"},[e._v(" "+e._s(e.$t("classroom.smallClass.videoGroup.localVideoAudition.offline"))+" ")]),t("div",{staticClass:"name"},[e._v(e._s(e.name))])])},_a=[],Ga={props:{name:{type:String,default:""}}},Wa=Ga,Ha=(s("58cb"),Object(Oe["a"])(Wa,Ua,_a,!1,null,"34d61130",null)),Fa=Ha.exports,qa=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.info("函数申明 _default(opts)",t,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/rtcClass.js"),Object(A["a"])(this,e),this.options=t.options,this.stuInfo=t.stuInfo,this.rtcConfig=t.rtcConfig,this.classType=t.classType,this.publishStatus=void 0===t.publishStatus||t.publishStatus,this.rtcEngine=null,this.classRtcChannel=null}return Object(w["a"])(e,[{key:"init",value:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(){var t,s,o,n;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.publishStatus){e.next=2;break}return e.abrupt("return",this.createClassRtcChannel());case 2:return e.next=4,Object(se["b"])();case 4:return t=e.sent,e.next=7,Object(se["e"])();case 7:if(s=e.sent,console.log("videoGroup-getCameraAccessStatus",t),console.log("videoGroup-microphoneAccessStatus",s),"not-determined"!==t){e.next=23;break}return e.next=13,Object(se["a"])();case 13:if(o=e.sent,console.log("videoGroup-getCameraAccess",o),"not-determined"!==s){e.next=20;break}return e.next=18,Object(se["d"])();case 18:n=e.sent,console.log("videoGroup-getMicrophoneAccess",n);case 20:return e.abrupt("return",this.createClassRtcChannel());case 23:return e.abrupt("return",this.createClassRtcChannel());case 24:case"end":return e.stop()}}),e,this)})));function t(){return console.info("函数申明 init, filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/rtcClass.js"),e.apply(this,arguments)}return t}()},{key:"createClassRtcChannel",value:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(){var t,s,o;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=2==this.classType?this.rtcConfig.token:this.rtcConfig.classToken,s=String(t),this.rtcEngine=window.RTC_COMMON.rtcEngine,e.next=5,Object(kt["b"])(this.rtcEngine);case 5:return this.classRtcChannel=window.RTC_COMMON.classRtcChannel=this.rtcEngine.createChannel(s),o=this.publishStatus?1:2,this.classRtcChannel.setClientRole(o),this.classRtcChannel.setDefaultMuteAllRemoteAudioStreams(!0),this.publishStatus&&(this.classRtcChannel.muteLocalAudioStream(!1),this.classRtcChannel.muteLocalVideoStream(!1)),e.abrupt("return",this.classRtcChannel);case 11:case"end":return e.stop()}}),e,this)})));function t(){return console.info("函数申明 createClassRtcChannel, filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/rtcClass.js"),e.apply(this,arguments)}return t}()},{key:"setupLocalVideo",value:function(e){this.rtcEngine.setupLocalVideo(document.getElementById(e))}},{key:"setupRemoteVideo",value:function(e,t){this.classRtcChannel.setupRemoteVideo(e,document.getElementById(t))}},{key:"muteLocalVideo",value:function(e){this.classRtcChannel.muteLocalVideoStream(e)}},{key:"muteLocalAudio",value:function(e){this.classRtcChannel.muteLocalAudioStream(e)}},{key:"muteRemoteVideo",value:function(e,t){this.classRtcChannel.muteRemoteVideoStream(Number(e),t)}},{key:"muteRemoteAudio",value:function(e,t){this.classRtcChannel.muteRemoteAudioStream(Number(e),t)}},{key:"publish",value:function(e){var t=e.publishVideo,s=void 0===t||t;this.classRtcChannel.setClientRole(1),this.classRtcChannel.muteLocalAudioStream(!1),s?this.classRtcChannel.muteLocalVideoStream(!1):this.classRtcChannel.muteLocalVideoStream(!0)}},{key:"unpublish",value:function(){this.classRtcChannel.setClientRole(0),this.classRtcChannel.muteLocalAudioStream(!0),this.classRtcChannel.muteLocalVideoStream(!0)}},{key:"leaveChannel",value:function(){this.classRtcChannel.leaveChannel()}},{key:"enableLocalVideo",value:function(e){var t;null===(t=this.rtcEngine)||void 0===t||t.enableLocalVideo(e),this.classRtcChannel.muteLocalVideoStream(!e)}},{key:"setVideoDevice",value:function(e){this.rtcEngine.setVideoDevice(e)}},{key:"setAudioRecordingDevice",value:function(e){this.rtcEngine.setAudioRecordingDevice(e)}},{key:"setAudioPlaybackDevice",value:function(e){this.rtcEngine.setAudioPlaybackDevice(e)}}]),e}(),Ja=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(A["a"])(this,e),this.options=t.options,this.stuInfo=t.stuInfo,this.rtcConfig=t.rtcConfig,this.requestTimer=null,this.groupStudentList=[]}return Object(w["a"])(e,[{key:"sendRtcStatus",value:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(){var t,s,o,n,a,i=arguments;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},s=-1,e.next=4,Object(se["c"])();case 4:return o=e.sent,e.next=7,Object(se["f"])();case 7:if(n=e.sent,o&&(s=1),n&&(s=2),o&&n&&(s=3),-1!=s){e.next=13;break}return e.abrupt("return");case 13:return a={planId:this.options.planId,classId:this.options.classId,status:s,micPermission:n?1:2,cameraPermission:o?1:2,micIsOpen:n?1:2,cameraIsOpen:o?1:2},void 0!==t.displayVideo&&(a["cameraIsOpen"]=t.displayVideo?1:2),e.next=17,Object(Z["t"])(a);case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"queryGroupStudent",value:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(t){var s,o,n,a=this;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.groupStudentList.length>=3)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Object(Z["m"])({isParentAudition:this.options.isParent?1:0,planId:this.options.planId,classId:this.options.classId,cameraPerm:t.cameraStatus});case 5:if(s=e.sent,o=s.data||{},n=o.list||[],n.forEach((function(e){a.hasUserIdByStudentList(a.groupStudentList,e.userId)||(a.groupStudentList.push(e),t.addStudentCallback&&t.addStudentCallback(e))})),!o.isFull){e.next=11;break}return e.abrupt("return");case 11:this.delayQueryGroupStudent(t),e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](2),console.error("videoGroup-queryGroupStudent-error",e.t0),this.delayQueryGroupStudent(t);case 18:case"end":return e.stop()}}),e,this,[[2,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"queryClassStudentList",value:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(){var t,s;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Z["l"])({planId:this.options.planId,classId:this.options.classId});case 2:if(t=e.sent,t&&0==t.code){e.next=5;break}return e.abrupt("return",[]);case 5:return s=t.data||[],e.abrupt("return",s);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"delayQueryGroupStudent",value:function(e){var t=this;this.requestTimer&&clearTimeout(this.requestTimer),this.requestTimer=setTimeout((function(){t.queryGroupStudent(e)}),1e4)}},{key:"querySpeakStudentList",value:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(){var t,s;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Z["r"])({classId:this.options.classId,planId:this.options.planId});case 2:if(t=e.sent,t&&0==t.code){e.next=5;break}return e.abrupt("return",[]);case 5:return s=t.data||{},e.abrupt("return",s.list||[]);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"hasUserIdByStudentList",value:function(e,t){var s=!1;return e.forEach((function(e){e.stuId!=t&&e.userId!=t||(s=!0)})),s}},{key:"getTeamSwitchStatus",value:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(){var t;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,window.thinkApi.ipc.invoke("getStoreValue","videoGroupSwitchStatus_".concat(this.options.planId));case 2:return t=e.sent,e.abrupt("return",void 0===t||t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"sendLogger",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";T["a"].send({tag:"rtc",level:s,content:{msg:e,params:t}})}}]),e}(),Ka=function(){var e=this,t=e._self._c;return t("div",{staticClass:"video-item video-remote"},[t("div",{staticClass:"notice-text"},[e._v(e._s(e.notice))])])},za=[],Qa={props:{notice:{type:String,default:""}}},$a=Qa,Ya=(s("c7c9"),Object(Oe["a"])($a,Ka,za,!1,null,"0de807bb",null)),Za=Ya.exports,Xa={components:{Achievement:ka,LocalVideo:Ma,RemoteVideo:Da,VideoItemPad:Za,OffLineVideo:Fa},props:{options:{type:Object,default:null},stuInfo:{type:Object,default:null},rtcConfig:{type:Object,default:null}},data:function(){return{myChildInfo:{},teamSwitchStatus:null,localStuInfo:{stuId:this.stuInfo.id,stuName:this.stuInfo.nickName,avatar:this.stuInfo.avatar,displayVideo:!1,cameraStatus:!0,level:this.stuInfo.level},remoteStuInfo:[],speakStudentList:[],groupSpeakStatus:!1,videoLinkStatus:!1,otherCameraStatus:!1,localVideoDisplayCache:null,remoteVideoFrameCache:{},remoteVideoMutedCache:{},isExaminationStatus:!1,canShowOtherChild:!1,classRtcSensor:null}},computed:{showAchievement:function(){return!this.options.isAudition&&!this.teamSwitchStatus},localVideoPublishStatus:function(){return!1!==this.localVideoDisplayCache&&this.teamSwitchStatus},achievementType:function(){return this.teamSwitchStatus?"simple":"normal"},showAudioWaves:function(){return this.groupSpeakStatus},hideLocalVideoIcon:function(){return!(!this.videoLinkStatus&&!this.otherCameraStatus)},hideRemoteVideo:function(){return this.otherCameraStatus},remoteStuPadNum:function(){return 3===this.remoteStuInfo.length?0:3-this.remoteStuInfo.length}},mounted:function(){var e={options:this.options,stuInfo:this.stuInfo,rtcConfig:this.rtcConfig,publishStatus:!this.options.isAudition};this.rtcClass=new qa(e),this.videoGroup=new Ja(e),this.init()},methods:{initVideoShow:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.options.isParent){t.next=6;break}return t.next=3,Object(bs["d"])("showOtherChild");case 3:e.canShowOtherChild=t.sent,t.next=7;break;case 6:e.canShowOtherChild=!0;case 7:case"end":return t.stop()}}),t)})))()},init:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.initVideoShow();case 2:return t.next=4,e.videoGroup.getTeamSwitchStatus();case 4:return e.teamSwitchStatus=t.sent,t.next=7,e.initClassRtcChannel();case 7:return t.next=9,Object(se["c"])();case 9:e.localStuInfo.cameraStatus=t.sent,e.listenBusEvent(),e.videoGroup.sendRtcStatus({displayVideo:e.teamSwitchStatus});case 12:case"end":return t.stop()}}),t)})))()},initClassRtcChannel:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s,o;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.rtcClass.init();case 2:s=t.sent,e.teamSwitchStatus||(e.rtcClass.muteLocalVideo(!0),e.videoGroup.sendLogger("初始化本地未开启视频小组")),s.on("connectionStateChanged",(function(t){console.log("[hw_rtc_join_room]班级频道网络状态触发方法触发,code:",t),5==t?e.classRtcSensor.rtcSensorPush({result:"fail",errorType:"连接失败"}):4==t&&(e.classRtcSensor.isFirstJoinChannel=!1,e.classRtcSensor.rtcSensorPush({result:"start"}))})),s.on("localJoinChannel",(function(){e.teamSwitchStatus&&e.setupLocalVideo(),e.options.isParent&&e.setupMyChildVideo(),e.canShowOtherChild&&e.setupRemoteVideo(),e.videoGroup.sendLogger("本地加入班级频道成功"),console.log("[hw_rtc_join_room]班级频道本地加入成功"),e.classRtcSensor.rtcSensorPush({result:"success"})})),s.on("rejoinChannelSuccess",(function(){console.log("[hw_rtc_join_room]班级频道重连本地加入成功"),e.videoGroup.sendLogger("本地重连加入班级频道成功"),e.classRtcSensor.rtcSensorPush({result:"success"})})),s.on("remoteLeaveChannel",(function(t){console.log("videoGroup-remoteLeaveChannel",t),e.videoGroup.sendLogger("远端学生离开频道, uid: ".concat(t)),e.setRemoteStuVal(t,"onlineStatus",!1)})),s.on("remoteJoinChannel",(function(t){console.log("videoGroup-remoteJoinChannel",t),e.videoGroup.sendLogger("远端学生加入频道, uid: ".concat(t)),e.setRemoteStuVal(t,"onlineStatus",!0),e.rtcClass.muteRemoteAudio(t,!e.isMyChild(t))})),s.on("remoteVideoStateChanged",(function(t,s,o){console.log("videoGroup-remoteVideoStateChanged",t,s,o),2==s&&(e.remoteVideoFrameCache[t]=!0,e.setRemoteStuVal(t,"cameraStatus",!0),e.setRemoteStuVal(t,"onlineStatus",!0),e.setRemoteStuVal(t,"mutedVideoStatus",!1),e.rtcClass.setupRemoteVideo(t,"remote-".concat(t))),5===o&&(e.remoteVideoMutedCache[t]=!0,e.setRemoteStuVal(t,"mutedVideoStatus",!0)),6===o&&(e.remoteVideoMutedCache[t]=!1,e.setRemoteStuVal(t,"mutedVideoStatus",!1),e.rtcClass.setupRemoteVideo(t,"remote-".concat(t))),console.log("videoGroup-remoteVideoStateChanged",e.remoteStuInfo)})),e.classRtcSensor=new M["a"],console.log("[hw_rtc_join_room]加入班级频道触发start"),e.classRtcSensor.rtcSensorPush({result:"start"}),o=s.joinChannel(),0==o?e.videoGroup.sendLogger("调用加入班级频道成功"):(e.videoGroup.sendLogger("调用加入班级频道失败,code:".concat(o),{},"error"),console.log("[hw_rtc_join_room]调用加入班级频道方法触发fail"),e.classRtcSensor.rtcSensorPush({result:"fail",errorType:"调用加入房间接口失败"}));case 15:case"end":return t.stop()}}),t)})))()},listenBusEvent:function(){var e=this;this.$bus.$on("setDefaultVideoDevice",(function(t){e.rtcClass.setVideoDevice(t)})),this.$bus.$on("setDefaultAudioRecordingDevice",(function(t){e.rtcClass.setAudioRecordingDevice(t)})),this.$bus.$on("setDefaultAudioPlaybackDevice",(function(t){e.rtcClass.setAudioPlaybackDevice(t)})),this.$bus.$on("updateTeamSwitchStatus",(function(t){console.log("videoGroup-updateTeamSwitchStatus",t),e.videoGroup.sendLogger("收到视频回显状态变化, status: ".concat(t)),e.teamSwitchStatus=t,t?!1!==e.localVideoDisplayCache&&(e.rtcClass.muteLocalVideo(!1),e.setupLocalVideo(),e.videoGroup.sendRtcStatus({displayVideo:!0})):(e.rtcClass.muteLocalVideo(!0),e.hideLocalVideo(),e.videoGroup.sendRtcStatus({displayVideo:!1}))})),this.$bus.$on("cameraStatus",(function(t){console.log("videoGroup-cameraStatus",t),e.$bus.$emit("teamSwitchDisabled",t),t?e.rtcClass.muteLocalVideo(!0):e.localVideoPublishStatus&&e.rtcClass.muteLocalVideo(!1),e.videoGroup.sendLogger("摄像头使用状态, status: ".concat(t,",localVideoPublishStatus: ").concat(e.localVideoPublishStatus))})),this.$bus.$on("videoLinkStatus",(function(t){console.log("videoGroup-videoLinkStatus",t),e.$bus.$emit("teamSwitchDisabled",t),e.videoLinkStatus=t})),this.$bus.$on("localVideoLinkStatus",(function(t){console.log("videoGroup-localVideoLinkStatus",t),e.videoGroup.sendLogger("收到视频连麦互动状态变化, status: ".concat(t)),t?(e.rtcClass.unpublish(),e.hideLocalVideo()):(e.rtcClass.publish({publishVideo:e.localVideoPublishStatus}),e.setupLocalVideo()),e.otherCameraStatus=t})),this.$bus.$on("groupSpeakStatus",(function(t){console.log("videoGroup-groupSpeakStatus",t),e.videoGroup.sendLogger("收到集体发言互动状态变化, status: ".concat(t)),e.groupSpeakStatus=t,t?e.collectiveSpeechOpen():e.collectiveSpeechClose()})),this.$bus.$on("liveQuit",(function(){e.rtcClass.unpublish(),e.rtcClass.leaveChannel()})),this.$bus.$on("openExitByCoursewareChange",(function(t){Object(at["d"])(e.$t("classroom.modules.header.backConfirm.exitByCoursewareIdChange"),e.$t("courses.confirmModal.confirm"),t)})),this.$bus.$on("getLocalDisplayVideoStatus",(function(t){t&&t(e.localVideoPublishStatus)})),this.$bus.$on("chats.correctSelfMedalData",(function(t){e.localStuInfo.level=t.level})),this.$bus.$on("chats.correctMedalData",(function(t){e.setRemoteStuVal(t.userId,"level",t.level)})),this.$bus.$on("setExaminationStatus",(function(t){e.isExaminationStatus=t}))},setupLocalVideo:function(){!this.options.isAudition&&this.localStuInfo.cameraStatus&&(this.rtcClass.setupLocalVideo("video-group-local"),!1!==this.localVideoDisplayCache&&(this.localStuInfo.displayVideo=!0))},hideLocalVideo:function(){this.localStuInfo.displayVideo=!1},buildInfo:function(e){var t=this.remoteVideoFrameCache[e.userId],s=this.remoteVideoMutedCache[e.userId]||!1;return{showStatus:!0,stuId:e.userId,stuName:e.nickName,avatar:e.avatar,level:e.level,cameraStatus:!!t,displayVideo:!0,mutedVideoStatus:s,onlineStatus:!!t}},setupRemoteVideo:function(){var e=this;this.videoGroup.queryGroupStudent({cameraStatus:this.localStuInfo.cameraStatus?1:2,addStudentCallback:function(t){console.log("videoGroup-setupRemoteVideo",t);var s=e.buildInfo(t);e.remoteStuInfo.push(s),e.$nextTick((function(){this.rtcClass.muteRemoteAudio(t.userId,!0),this.rtcClass.setupRemoteVideo(t.userId,"remote-".concat(t.userId)),this.teamSwitchStatus||this.handleRemoteVideoStatus(t.userId,!1)}))}})},setupMyChildVideo:function(){var e=Object(J["a"])(Object(J["a"])({},this.localStuInfo),{},{userId:this.localStuInfo.stuId,nickName:this.localStuInfo.stuName});this.myChildInfo=this.buildInfo(e),this.$nextTick((function(){this.rtcClass.setupRemoteVideo(e.userId,"remote-".concat(e.userId)),this.teamSwitchStatus||this.handleRemoteVideoStatus(e.userId,!1)}))},handleLocalVideoStatus:function(){this.localStuInfo.displayVideo?this.rtcClass.muteLocalVideo(!0):(this.rtcClass.muteLocalVideo(!1),this.setupLocalVideo()),this.localStuInfo.displayVideo=!this.localStuInfo.displayVideo,this.localVideoDisplayCache=this.localStuInfo.displayVideo,this.videoGroup.sendRtcStatus({displayVideo:this.localStuInfo.displayVideo}),Ts["r"](this.localStuInfo.displayVideo),this.$store.dispatch("largeClass/updateCameraStatus",this.localStuInfo.displayVideo),this.$bus.$emit("updateLocalDisplayVideoStatus",this.localStuInfo.displayVideo),this.videoGroup.sendLogger("学生操作本地视频开关状态, status: ".concat(this.localStuInfo.displayVideo))},handleRemoteVideoStatus:function(e,t){this.setRemoteStuVal(e,"displayVideo",t),this.videoGroup.sendLogger("学生操作远端视频开关状态, uid: ".concat(e," status: ").concat(t))},setRemoteStuVal:function(e,t,s){var o=this;e&&(this.isMyChild(e)?this.$set(this.myChildInfo,t,s):this.remoteStuInfo.forEach((function(n,a){n.stuId==e&&o.$set(o.remoteStuInfo[a],t,s)})),console.log("videoGroup-setRemoteStuVal",e,t,s))},isMyChild:function(e){return this.options.isParent&&e==this.options.stuId},collectiveSpeechOpen:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.videoGroup.querySpeakStudentList();case 2:if(s=t.sent,s.length&&e.groupSpeakStatus){t.next=5;break}return t.abrupt("return");case 5:e.speakStudentList=s,e.speakStudentList.forEach((function(t){e.rtcClass.muteRemoteAudio(t,!1)})),e.videoGroup.sendLogger("集体发言拉取远端学生音频流, 远端学生列表: ".concat(JSON.stringify(s)));case 8:case"end":return t.stop()}}),t)})))()},collectiveSpeechClose:function(){var e=this;this.speakStudentList.forEach((function(t){e.rtcClass.muteRemoteAudio(t,!0)})),this.speakStudentList=[]}}},ei=Xa,ti=(s("0ee3"),Object(Oe["a"])(ei,ra,ca,!1,null,"827096a0",null)),si=ti.exports,oi=function(){var e=this,t=e._self._c;return t("div",{staticClass:"small-class"},[t("Achievement",{attrs:{options:e.options,type:"normal"}}),t("div",{staticClass:"video-group-wrapper class-type-small"},[t("VideoChatsSwitch",{attrs:{videoGroupShowStatus:e.videoGroupShowStatus},on:{switchVideoChats:e.handleChangeVideoChat,handlePrevPage:e.handlePrevPage,handleNextPage:e.handleNextPage}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.videoGroupShowStatus&&"video"===e.showVideoChatType,expression:"videoGroupShowStatus && showVideoChatType === 'video'"}]},[t("div",{staticClass:"video-group-contenter"},[t("LocalVideo",{directives:[{name:"show",rawName:"v-show",value:e.localVideoShowStatus,expression:"localVideoShowStatus"}],attrs:{options:e.options,localStuInfo:e.localStuInfo,hideVideoIcon:e.hideLocalVideoIcon,classType:e.classType},on:{handleLocalVideoStatus:e.handleLocalVideoStatus,handleLocalMicrophoneStatus:e.handleLocalMicrophoneStatus}}),e._l(e.remoteStuInfo,(function(s){return[t("RemoteVideo",{key:s.stuId,attrs:{remoteStuInfo:s,showAudioWaves:e.showAudioWaves,hideRemoteVideo:e.hideRemoteVideo,isExaminationStatus:e.isExaminationStatus},on:{handleRemoteVideoStatus:e.handleRemoteVideoStatus}})]}))],2)]),e.videoGroupShowStatus||"video"!==e.showVideoChatType?e._e():t("div",{staticClass:"close-video-tag"},[t("span",[e._v(e._s(e.$t("classroom.largeClass.videoGroup.closedNotice")))])])],1)],1)},ni=[],ai=s("b85c"),ii=(s("4ec9"),s("7db0"),s("a434"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"switch"},[t("div",{staticClass:"arrow-left left",on:{click:e.prevGroup}}),t("div",{staticClass:"switch-content"},[t("div",{staticClass:"switch-btn btn-video",on:{click:function(t){return e.tabSwitch("video")}}},[e._v(" "+e._s(e.$t("classroom.largeClass.videoGroup.tabNames")[0])+" ")]),t("div",{staticClass:"switch-btn btn-chats",on:{click:function(t){return e.tabSwitch("chat")}}},[t("span",[e._v(" "+e._s(e.$t("classroom.largeClass.videoGroup.tabNames")[1])+" "),"video"===e.switchKey&&e.hasPrivateNewMsg?t("label"):e._e()])]),t("div",{staticClass:"switch-bg",class:"video"==e.switchKey?"left-video":"left-chats"})]),t("div",{staticClass:"arrow-right right",on:{click:e.nextGroup}})])}),ri=[],ci={data:function(){return{switchKey:"video",hasPrivateNewMsg:!1}},props:{videoGroupShowStatus:{type:Boolean,default:!0}},mounted:function(){var e=this;this.$bus.$on("chats.privateMessagePush",(function(){console.info("箭头函数 监听 chats.privateMessagePush,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/videoChatsSwitch.vue"),"chat"===e.switchKey?e.hasPrivateNewMsg=!1:e.hasPrivateNewMsg=!0}))},methods:{tabSwitch:function(e){console.info("对象函数 tabSwitch(key)",e,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/videoChatsSwitch.vue"),"chat"===e&&(this.hasPrivateNewMsg=!1),this.switchKey=e,this.$emit("switchVideoChats",e),this.$bus.$emit("switchVideoAndChat",e)},prevGroup:function(){console.info("对象函数 prevGroup,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/videoChatsSwitch.vue"),this.$emit("handlePrevPage")},nextGroup:function(){console.info("对象函数 nextGroup,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/videoChatsSwitch.vue"),this.$emit("handleNextPage")}},watch:{videoGroupShowStatus:{handler:function(e,t){console.info("对象函数 handler(newValue, oldValue)",e,t,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/videoChatsSwitch.vue"),e?this.tabSwitch("video"):this.tabSwitch("chat")}}}},li=ci,ui=(s("1643"),Object(Oe["a"])(li,ii,ri,!1,null,"2bee514c",null)),di=ui.exports,hi={components:{VideoChatsSwitch:di,LocalVideo:Ma,RemoteVideo:Da,Achievement:ka},props:{options:{type:Object,default:null},stuInfo:{type:Object,default:null},rtcConfig:{type:Object,default:null},classType:{type:Number,default:-1}},data:function(){return{teamSwitchStatus:null,showVideoChatType:"video",localStuInfo:{stuId:this.stuInfo.id,stuName:this.stuInfo.nickName,avatar:this.stuInfo.avatar,displayVideo:!1,cameraStatus:!0,microphoneStatus:!1,level:this.stuInfo.level},remoteStuInfo:[],speakStudentList:[],groupSpeakStatus:!1,videoLinkStatus:!1,otherCameraStatus:!1,localVideoDisplayCache:null,remoteAudioStatus:!1,pageNum:1,pageSize:6,classStudentMap:new Map,remoteLevelCache:{},isExaminationStatus:!1,rtcSensor:null}},computed:{localVideoPublishStatus:function(){return console.info("对象函数 localVideoPublishStatus,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),!1!==this.localVideoDisplayCache&&this.teamSwitchStatus},videoGroupShowStatus:function(){return console.info("对象函数 videoGroupShowStatus,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),!0===this.teamSwitchStatus},localVideoShowStatus:function(){return console.info("对象函数 localVideoShowStatus,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),1===this.pageNum},showAudioWaves:function(){return console.info("对象函数 showAudioWaves,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),this.groupSpeakStatus},hideLocalVideoIcon:function(){return console.info("对象函数 hideLocalVideoIcon,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),!(!this.videoLinkStatus&&!this.otherCameraStatus)},hideRemoteVideo:function(){return console.info("对象函数 hideRemoteVideo,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),this.otherCameraStatus},pageCount:function(){console.info("对象函数 pageCount,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue");var e=this.remoteStuInfo.length,t=this.pageSize-1;if(e<=t)return 1;var s=e-t;return Math.floor(s/this.pageSize)+(s%this.pageSize>0?1:0)+1}},mounted:function(){var e={options:this.options,stuInfo:this.stuInfo,rtcConfig:this.rtcConfig,classType:this.classType};this.rtcClass=new qa(e),this.videoGroup=new Ja(e),this.init()},methods:{init:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 init,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),t.next=3,e.videoGroup.getTeamSwitchStatus();case 3:return e.teamSwitchStatus=t.sent,t.next=6,e.initClassStudent();case 6:return t.next=8,e.initClassRtcChannel();case 8:return t.next=10,e.initMediaAccess();case 10:e.listenBusEvent(),e.videoGroup.sendRtcStatus();case 12:case"end":return t.stop()}}),t)})))()},initMediaAccess:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 initMediaAccess,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),t.next=3,Object(se["c"])();case 3:return e.localStuInfo.cameraStatus=t.sent,t.next=6,Object(se["f"])();case 6:e.localStuInfo.microphoneStatus=t.sent,e.$bus.$emit("updateLocalDisplayVideoStatus",e.localStuInfo.cameraStatus&&e.teamSwitchStatus),e.$bus.$emit("updateMicrophoneStatus",e.localStuInfo.microphoneStatus);case 9:case"end":return t.stop()}}),t)})))()},initClassStudent:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 initClassStudent,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),t.next=3,e.videoGroup.queryClassStudentList();case 3:s=t.sent,s.forEach((function(t){e.classStudentMap.set(t.userId,t)})),console.log("videoGroup-initClassStudent",e.classStudentMap);case 6:case"end":return t.stop()}}),t)})))()},updateClassStudent:function(e){var t=this;return Object(x["a"])(Object(I["a"])().mark((function s(){var o,n;return Object(I["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return console.info("对象函数 updateClassStudent(uid)",e,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),s.next=3,t.videoGroup.queryClassStudentList();case 3:o=s.sent,n=o.find((function(t){return e==t.userId})),n&&t.classStudentMap.set(n.userId,n),t.handleRemoteJoinChannel(e);case 7:case"end":return s.stop()}}),s)})))()},initClassRtcChannel:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s,o;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 initClassRtcChannel,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),t.next=3,e.rtcClass.init();case 3:s=t.sent,2===e.classType&&e.$bus.$emit("player.smallClassRtcReady",s),e.teamSwitchStatus||e.rtcClass.enableLocalVideo(!1),s.on("connectionStateChanged",(function(t){console.info("箭头函数 监听 connectionStateChanged(state)",t,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),console.log("[hw_rtc_join_room]伪小班网络状态触发方法触发,code:",t),5==t?e.rtcSensor.rtcSensorPush({result:"fail",errorType:"连接失败"}):4==t&&(e.rtcSensor.isFirstJoinChannel=!1,e.rtcSensor.rtcSensorPush({result:"start"}))})),s.on("localJoinChannel",(function(){console.info("箭头函数 监听 localJoinChannel,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),console.log("[hw_rtc_join_room]伪小班本地加入频道成功"),e.videoGroup.sendLogger("伪小班本地加入频道成功"),e.teamSwitchStatus&&e.setupLocalVideo(),e.rtcSensor.rtcSensorPush({result:"success"})})),s.on("rejoinChannelSuccess",(function(){console.info("箭头函数 监听 rejoinChannelSuccess,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),console.log("[hw_rtc_join_room]伪小班本地重连加入班级频道成功"),e.videoGroup.sendLogger("伪小班本地重连加入班级频道成功"),e.rtcSensor.rtcSensorPush({result:"success"})})),s.on("remoteLeaveChannel",(function(t){console.info("箭头函数 监听 remoteLeaveChannel(uid)",t,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),console.log("videoGroup-remoteLeaveChannel",t),e.handleRemoteLeaveChannel(t),e.videoGroup.sendLogger("远端学生离开频道, uid: ".concat(t))})),s.on("remoteJoinChannel",function(){var t=Object(x["a"])(Object(I["a"])().mark((function t(s){var o;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.info("箭头函数 监听 remoteJoinChannel(uid)",s,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),console.log("videoGroup-remoteJoinChannel",s),e.videoGroup.sendLogger("远端学生加入频道, uid: ".concat(s)),o=e.classStudentMap.get(String(s)),o?e.handleRemoteJoinChannel(s):e.updateClassStudent(s);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),s.on("remoteVideoStateChanged",(function(t,s,o){console.info("箭头函数 监听 remoteVideoStateChanged(uid, state, reason)",t,s,o,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),console.log("videoGroup-remoteVideoStateChanged",t,s,o),1==s&&(e.setRemoteStuVal(t,"cameraStatus",!0),e.$nextTick((function(){this.rtcClass.setupRemoteVideo(t,"remote-".concat(t))}))),5===o&&e.setRemoteStuVal(t,"mutedVideoStatus",!0),6===o&&(e.setRemoteStuVal(t,"mutedVideoStatus",!1),e.$nextTick((function(){this.rtcClass.setupRemoteVideo(t,"remote-".concat(t))}))),console.log("videoGroup-remoteVideoStateChanged",e.remoteStuInfo)})),e.rtcSensor=new M["a"],console.log("[hw_rtc_join_room]伪小班加入频道触发start"),e.rtcSensor.rtcSensorPush({result:"start"}),o=s.joinChannel(),0==o?e.videoGroup.sendLogger("伪小班调用加入频道成功"):(console.log("[hw_rtc_join_room]伪小班调用加入频道方法触发fail"),e.videoGroup.sendLogger("伪小班调用加入频道失败,code:".concat(o),{},"error"),e.rtcSensor.rtcSensorPush({result:"fail",errorType:"调用加入房间接口失败"}));case 17:case"end":return t.stop()}}),t)})))()},listenBusEvent:function(){var e=this;console.info("对象函数 listenBusEvent,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),this.$bus.$on("setDefaultVideoDevice",(function(t){console.info("箭头函数 监听 setDefaultVideoDevice(deviceId)",t,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),e.rtcClass.setVideoDevice(t)})),this.$bus.$on("setDefaultAudioRecordingDevice",(function(t){console.info("箭头函数 监听 setDefaultAudioRecordingDevice(deviceId)",t,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),e.rtcClass.setAudioRecordingDevice(t)})),this.$bus.$on("setDefaultAudioPlaybackDevice",(function(t){console.info("箭头函数 监听 setDefaultAudioPlaybackDevice(deviceId)",t,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),e.rtcClass.setAudioPlaybackDevice(t)})),this.$bus.$on("updateTeamSwitchStatus",(function(t){console.info("箭头函数 监听 updateTeamSwitchStatus(status)",t,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),console.log("videoGroup-updateTeamSwitchStatus",t),e.videoGroup.sendLogger("收到视频回显状态变化, status: ".concat(t)),e.teamSwitchStatus=t,t?!1!==e.localVideoDisplayCache&&(e.rtcClass.enableLocalVideo(!0),e.setupLocalVideo()):(e.rtcClass.enableLocalVideo(!1),e.hideLocalVideo()),e.$bus.$emit("updateLocalDisplayVideoStatus",e.localVideoPublishStatus)})),this.$bus.$on("cameraStatus",(function(t){console.info("箭头函数 监听 cameraStatus(status)",t,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),console.log("videoGroup-cameraStatus",t),e.$bus.$emit("teamSwitchDisabled",t),t?e.rtcClass.muteLocalVideo(!0):e.localVideoPublishStatus&&e.rtcClass.muteLocalVideo(!1)})),this.$bus.$on("videoLinkStatus",(function(t){console.info("箭头函数 监听 videoLinkStatus(status)",t,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),console.log("videoGroup-videoLinkStatus",t),e.$bus.$emit("teamSwitchDisabled",t),e.videoLinkStatus=t})),this.$bus.$on("localVideoLinkStatus",(function(t){console.info("箭头函数 监听 localVideoLinkStatus(status)",t,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),console.log("videoGroup-localVideoLinkStatus",t),e.videoGroup.sendLogger("收到视频连麦互动状态变化, status: ".concat(t)),2==e.classType?t?e.hideLocalVideo():e.setupLocalVideo():t?(e.rtcClass.unpublish(),e.hideLocalVideo()):(e.rtcClass.publish({publishVideo:e.localVideoPublishStatus}),e.setupLocalVideo()),e.otherCameraStatus=t})),this.$bus.$on("multVideoLinkStatus",(function(t){var s=t.pub,o=t.status,n=t.stuId;if(console.info("箭头函数 监听 multVideoLinkStatus(pub, status, stuId)",s,o,n,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),!s)return e.videoLinkStatus=!1,e.$bus.$emit("teamSwitchDisabled",!1),void(e.remoteAudioStatus&&e.collectiveSpeechOpen());if(s&&1==o)return e.videoLinkStatus=!0,e.$bus.$emit("teamSwitchDisabled",!0),void(e.remoteAudioStatus&&e.collectiveSpeechClose());if(n){var a=n==e.localStuInfo.stuId;2==o&&(a?e.hideLocalVideo():e.setRemoteStuVal(n,"displayVideo",!1)),3==o&&(a?e.setupLocalVideo():(e.setRemoteStuVal(n,"displayVideo",!0),e.$nextTick((function(){this.rtcClass.setupRemoteVideo(Number(n),"remote-".concat(n))}))))}})),this.$bus.$on("groupSpeakStatus",(function(t){console.info("箭头函数 监听 groupSpeakStatus(status)",t,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),console.log("videoGroup-groupSpeakStatus",t),e.videoGroup.sendLogger("收到集体发言互动状态变化, status: ".concat(t)),e.groupSpeakStatus=t,t?e.collectiveSpeechOpen():e.collectiveSpeechClose()})),this.$bus.$on("remoteAudioStatus",(function(t){console.info("箭头函数 监听 remoteAudioStatus(status)",t,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),e.videoGroup.sendLogger("收到语音管理状态变化, status: ".concat(t)),e.remoteAudioStatus=t,t?e.collectiveSpeechOpen():e.collectiveSpeechClose()})),this.$bus.$on("liveQuit",(function(){console.info("箭头函数 监听 liveQuit,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),e.rtcClass.unpublish(),e.rtcClass.leaveChannel()})),this.$bus.$on("getLocalDisplayVideoStatus",(function(t){console.info("箭头函数 监听 getLocalDisplayVideoStatus(callback)",t,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),t&&t(e.localVideoPublishStatus)})),this.$bus.$on("getLocalMicrophoneStatus",(function(t){console.info("箭头函数 监听 getLocalMicrophoneStatus(callback)",t,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),t&&t(e.localStuInfo.microphoneStatus)})),this.$bus.$on("chats.correctSelfMedalData",(function(t){console.info("箭头函数 监听 chats.correctSelfMedalData(data)",t,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),e.localStuInfo.level=t.level})),this.$bus.$on("chats.correctMedalData",(function(t){console.info("箭头函数 监听 chats.correctMedalData(data)",t,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),e.setRemoteStuVal(t.userId,"level",t.level),e.remoteLevelCache[t.userId]=t.level})),this.$bus.$on("setExaminationStatus",(function(t){console.info("箭头函数 监听 setExaminationStatus(data)",t,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),e.isExaminationStatus=t}))},setupLocalVideo:function(){console.info("对象函数 setupLocalVideo,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),this.localStuInfo.cameraStatus&&(this.rtcClass.setupLocalVideo("video-group-local"),!1!==this.localVideoDisplayCache&&(this.localStuInfo.displayVideo=!0))},handleChangeVideoChat:function(e){console.info("对象函数 handleChangeVideoChat(type)",e,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),this.showVideoChatType=e},hideLocalVideo:function(){console.info("对象函数 hideLocalVideo,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),this.localStuInfo.displayVideo=!1},handleRemoteJoinChannel:function(e){console.info("对象函数 handleRemoteJoinChannel(uid)",e,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue");var t=this.classStudentMap.get(String(e));if(t&&!this.videoGroup.hasUserIdByStudentList(this.remoteStuInfo,e)){this.remoteStuInfo.push({showStatus:!1,stuId:t.userId,stuName:t.nickName,avatar:t.avatar,level:this.remoteLevelCache[e]||t.level,cameraStatus:!1,displayVideo:!0,mutedVideoStatus:!1,onlineStatus:!0});var s=this.hasPageByUid(e);s&&this.setRemoteStuVal(e,"showStatus",!0),console.log("videoGroup-createRemoteStudentInfo",this.remoteStuInfo)}},handleRemoteLeaveChannel:function(e){var t=this;console.info("对象函数 handleRemoteLeaveChannel(uid)",e,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue");var s=-1;if(this.remoteStuInfo.forEach((function(t,o){t.stuId==e&&(s=o)})),-1!==s){this.remoteStuInfo.splice(s,1);var o=this.getIndexRangeByPageNum(this.pageNum),n=0;this.remoteStuInfo.forEach((function(e,s){s>=o.start&&s<=o.end&&!e.showStatus&&(t.$set(t.remoteStuInfo[s],"showStatus",!0),n++)})),0===n&&(this.pageNum=this.getValidPageNum(this.pageNum),console.log("videoGroup-getValidPageNum",this.pageNum),this.changePageRender()),console.log("videoGroup-handleRemoteLeaveChannel",this.remoteStuInfo)}},handleLocalVideoStatus:function(){console.info("对象函数 handleLocalVideoStatus,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),this.localStuInfo.displayVideo?this.rtcClass.enableLocalVideo(!1):this.rtcClass.enableLocalVideo(!0),this.localStuInfo.displayVideo=!this.localStuInfo.displayVideo,this.localVideoDisplayCache=this.localStuInfo.displayVideo,this.videoGroup.sendRtcStatus({displayVideo:this.localStuInfo.displayVideo}),this.$bus.$emit("updateLocalDisplayVideoStatus",this.localStuInfo.displayVideo),this.videoGroup.sendLogger("学生操作本地视频开关状态, status: ".concat(this.localStuInfo.displayVideo))},handleLocalMicrophoneStatus:function(){console.info("对象函数 handleLocalMicrophoneStatus,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),this.localStuInfo.microphoneStatus=!this.localStuInfo.microphoneStatus,this.rtcClass.muteLocalAudio(!this.localStuInfo.microphoneStatus),this.$bus.$emit("updateMicrophoneStatus",this.localStuInfo.microphoneStatus)},handleRemoteVideoStatus:function(e,t){console.info("对象函数 handleRemoteVideoStatus(stuId, status)",e,t,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),this.setRemoteStuVal(e,"displayVideo",t),this.videoGroup.sendLogger("学生操作远端视频开关状态, uid: ".concat(e," status: ").concat(t))},setRemoteStuVal:function(e,t,s){var o=this;console.info("对象函数 setRemoteStuVal(uid, key, val)",e,t,s,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),e&&(this.remoteStuInfo.forEach((function(n,a){n.stuId==e&&o.$set(o.remoteStuInfo[a],t,s)})),console.log("videoGroup-setRemoteStuVal",e,t,s))},handlePrevPage:function(){console.info("对象函数 handlePrevPage,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),1!==this.pageNum&&(this.pageNum--,this.changePageRender())},handleNextPage:function(){console.info("对象函数 handleNextPage,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),this.pageNum>=this.pageCount||(this.pageNum++,this.changePageRender())},changePageRender:function(){var e=this;console.info("对象函数 changePageRender,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),this.remoteStuInfo.forEach((function(t,s){e.$set(e.remoteStuInfo[s],"showStatus",!1)})),this.remoteStuInfo.forEach((function(t,s){var o=e.hasPageByUid(t.stuId);o&&e.$set(e.remoteStuInfo[s],"showStatus",!0)}))},getIndexRangeByPageNum:function(e){return console.info("对象函数 getIndexRangeByPageNum(pageNum)",e,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),1===e?{start:0,end:this.pageSize-2}:{start:(e-1)*this.pageSize-1,end:e*this.pageSize-2}},hasPageByUid:function(e){console.info("对象函数 hasPageByUid(uid)",e,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue");var t=this.getIndexRangeByPageNum(this.pageNum),s=-1;return this.remoteStuInfo.forEach((function(t,o){t.stuId==e&&(s=o)})),-1!=s&&(s>=t.start&&s<=t.end)},getValidPageNum:function(e){if(console.info("对象函数 getValidPageNum(pageNum)",e,"filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),e<=1)return 1;var t=this.getIndexRangeByPageNum(e),s=0;return this.remoteStuInfo.forEach((function(e,o){o>=t.start&&o<=t.end&&s++})),s>0?e:this.getValidPageNum(e-1)},collectiveSpeechOpen:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.info("对象函数 collectiveSpeechOpen,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue"),s=e.getSpeakStudentList(),s.forEach((function(t){e.rtcClass.muteRemoteAudio(t,!1)})),e.videoGroup.sendLogger("拉取远端学生音频流, 远端学生列表: ".concat(JSON.stringify(s)));case 4:case"end":return t.stop()}}),t)})))()},collectiveSpeechClose:function(){var e=this;console.info("对象函数 collectiveSpeechClose,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue");var t=this.getSpeakStudentList();t.forEach((function(t){e.rtcClass.muteRemoteAudio(t,!0)}))},getSpeakStudentList:function(){console.info("对象函数 getSpeakStudentList,filePath:renderer/components/Classroom/LargeClass/base/room/videoGroup/smallClass.vue");var e,t=[],s=Object(ai["a"])(this.classStudentMap.keys());try{for(s.s();!(e=s.n()).done;){var o=e.value;t.push(o)}}catch(n){s.e(n)}finally{s.f()}return t}}},mi=hi,pi=(s("f813"),Object(Oe["a"])(mi,oi,ni,!1,null,"0bc5e710",null)),fi=pi.exports,vi={components:{LargeClass:si,SmallClass:fi},props:{options:{type:Object,default:null},stuInfo:{type:Object,default:null},rtcConfig:{type:Object,default:null}},data:function(){return{blurTimer:null,isWindowBlur:null,startTime:"",endTime:""}},computed:{classType:function(){return this.options.classType}},mounted:function(){this.windowBlur()},methods:{windowBlur:function(){var e=this.options,t=(e.commonOption,e.configs),s=e.planInfo;this.options.isParent||this.options.isAudition||this.focusHandler({studentId:this.stuInfo.id,tutorIrcId:t.tutorIrcId,planId:s.id})},focusHandler:function(e){var t=this,s=e.studentId,o=e.tutorIrcId,n=e.planId;tn["ipcRenderer"].on("window_blur",(function(e,a){if(clearTimeout(t.blurTimer),t.isWindowBlur!==a){var i=a?5e3:0,r=JSON.stringify({type:"180",isFunction:!0,msg:"isBlur",parameter:{isBlur:a}});t.blurTimer=setTimeout((function(){window.ChatClient.PeerChatManager.sendPeerMessage([{nickname:o}],r,bo["a"].notice),a?t.startTime=(new Date).getTime():(t.endTime=(new Date).getTime(),t.startTime&&t.reportData({studentId:s,planId:n})),t.isWindowBlur=a,console.log("[windowBlur] content:",r,"nickname",o),T["a"].send({tag:"开小差",content:r,tutorIrcId:o}),Ts["a"](a)}),i)}}))},reportData:function(e){var t=this;return Object(x["a"])(Object(I["a"])().mark((function s(){var o,n,a,i,r;return Object(I["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return o=e.studentId,n=e.planId,a=t.startTime,i=t.endTime,r=parseInt((i-a)/1e3),console.log("[学生端失焦] 开小差状态上报",r),T["a"].send({tag:"开小差",content:{msg:"学生端失焦".concat(r,"秒")}}),s.next=7,Object(Z["j"])({planId:n,studentId:o,duration:r,startTime:a,endTime:i}).catch((function(e){T["a"].send({tag:"开小差",content:{msg:"状态上报接口报错".concat(JSON.stringify(e))},level:"error"})}));case 7:case"end":return s.stop()}}),s)})))()}}},gi=vi,Ci=Object(Oe["a"])(gi,aa,ia,!1,null,null,null),bi=Ci.exports,Ai=function(){var e=this,t=e._self._c;return t("div",{ref:"controller",staticClass:"controller-container"},[t("div",{ref:"controllerBox",staticClass:"controller-box"},[t("div",{staticClass:"time-area"},[e._v(" "+e._s(e._f("formatSeconds")(e.curTime))+"/"+e._s(e._f("formatSeconds")(e.planInfo.etime-e.planInfo.stime))+" ")]),t("div",{staticClass:"infrastructure-box"},[t("RaiseHand",{attrs:{options:e.options}})],1)]),t("ClassInfoDataReport",{attrs:{moduleInfo:e.moduleInfo,planInfo:e.planInfo,options:e.options}})],1)},wi=[],Si=(s("b7ef"),s("466d"),function(e){if(e<0)return"00:00:00";var t=parseInt(e),s=0,o=0;return t>60&&(s=parseInt(t/60),t=parseInt(t%60),s>60&&(o=parseInt(s/60),s=parseInt(s%60))),"".concat(parseInt(o)>9?parseInt(o):"0"+parseInt(o),":").concat(parseInt(s)>9?parseInt(s):"0"+parseInt(s),":").concat(parseInt(t)>9?parseInt(t):"0"+parseInt(t))}),yi=function(){var e=this,t=e._self._c;return e.classType?t("div",{staticClass:"raiseHand"},[e.showRaiseHand?t("div",{staticClass:"raiseHand-btn",class:{disabled:e.disabled},on:{click:e.handleRaiseHand}},[t("i"),t("div",{staticClass:"raiseHand-name"},[e._v(" "+e._s(e.$t("classroom.largeClass.raiseHand.buttonName"))+" ")])]):t("div",{staticClass:"countdown"},[t("span",{staticClass:"show-time"},[e._v(e._s(e.countdownTime)+"s")]),t("a-progress",{attrs:{percent:e.percent,strokeWidth:20,showInfo:!1,strokeLinecap:"square",strokeColor:{from:"rgba(255, 213, 24, 1)",to:"rgba(255, 170, 10, 1)"}}})],1),!e.multVideoLinkStatus||e.disabled||e.fiveEnd?e._e():t("div",{staticClass:"raiseHand-tips"})]):e._e()},Pi=[],ki={props:{options:{type:Object,default:function(){}}},data:function(){return{showRaiseHand:!0,countdownTime:10,progressTime:100,percent:0,disabled:!1,teacherType:"tutor",fiveEnd:!1,cameraStatus:null,microphoneStatus:null,multVideoLinkStatus:!1}},computed:{classType:function(){return console.info("对象函数 classType,filePath:renderer/components/Classroom/LargeClass/base/room/controller/components/raiseHand/index.vue"),this.options.classType}},watch:{multVideoLinkStatus:function(e){var t=this;e?setTimeout((function(){t.fiveEnd=!0}),5e3):this.fiveEnd=!1}},mounted:function(){var e=this;this.$bus.$on("raiseHandForMultVideoLink",(function(t){console.info("箭头函数 监听 raiseHandForMultVideoLink(status)",t,"filePath:renderer/components/Classroom/LargeClass/base/room/controller/components/raiseHand/index.vue"),e.multVideoLinkStatus=t})),this.$bus.$on("raiseHandDisabled",(function(t){console.info("箭头函数 监听 raiseHandDisabled(status)",t,"filePath:renderer/components/Classroom/LargeClass/base/room/controller/components/raiseHand/index.vue"),e.disabled=!!t})),this.$bus.$on("updateLocalDisplayVideoStatus",(function(t){console.info("箭头函数 监听 updateLocalDisplayVideoStatus(status)",t,"filePath:renderer/components/Classroom/LargeClass/base/room/controller/components/raiseHand/index.vue"),console.log("raiseHand-updateLocalDisplayVideoStatus",t),e.cameraStatus=t})),this.$bus.$on("updateMicrophoneStatus",(function(t){console.info("箭头函数 监听 updateMicrophoneStatus(status)",t,"filePath:renderer/components/Classroom/LargeClass/base/room/controller/components/raiseHand/index.vue"),console.log("raiseHand-updateMicrophoneStatus",t),e.microphoneStatus=t})),this.$bus.$on("raiseHandSendMessageToTeacher",(function(t){var s=t.type;console.info("箭头函数 监听 raiseHandSendMessageToTeacher(type)",s,"filePath:renderer/components/Classroom/LargeClass/base/room/controller/components/raiseHand/index.vue"),e.sendPeerMessageToTeacher({type:s})}))},methods:{handleRaiseHand:function(){console.info("对象函数 handleRaiseHand,filePath:renderer/components/Classroom/LargeClass/base/room/controller/components/raiseHand/index.vue"),this.showRaiseHand=!1,this.setCountdown(),this.setProgressPercent(),this.sendPeerMessage(),this.sendLogger("学员举手")},sendPeerMessage:function(){console.info("对象函数 sendPeerMessage,filePath:renderer/components/Classroom/LargeClass/base/room/controller/components/raiseHand/index.vue"),this.sendPeerMessageToTour(),this.multVideoLinkStatus&&this.sendPeerMessageToTeacher({type:125})},sendPeerMessageToTour:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s,o,n;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 sendPeerMessageToTour,filePath:renderer/components/Classroom/LargeClass/base/room/controller/components/raiseHand/index.vue"),t.next=3,Object(ee["f"])();case 3:return s=t.sent,t.next=6,oe["nativeApi"].getDeviceInfo();case 6:o=t.sent,n={type:160,msg:"raiseHand",parameter:{schoolCode:s,planId:e.options.planId,roomId:e.options.classId,studentId:e.options.stuIRCId,uid:e.options.stuId,teacherId:e.options.teacherInfo.id,teacherName:e.options.teacherInfo.name,startTime:e.options.stime,currenTime:(new Date).getTime(),device:o.platform,deviceVersion:o.osVersion,AppVersion:o.appVersion}},window.ChatClient.PeerChatManager.sendPeerMessage([{nickname:e.options.configs.tutorIrcId}],JSON.stringify(n),bo["a"].notice);case 9:case"end":return t.stop()}}),t)})))()},sendPeerMessageToTeacher:function(e){var t=e.type;console.info("对象函数 sendPeerMessageToTeacher(type)",t,"filePath:renderer/components/Classroom/LargeClass/base/room/controller/components/raiseHand/index.vue");var s={type:t||125,status:6,stuId:this.options.stuId,cameraIsOpen:this.cameraStatus?1:2,mikeAvailable:this.microphoneStatus?1:2};window.ChatClient.PeerChatManager.sendPeerMessage([{nickname:this.options.configs.teacherIrcId}],JSON.stringify(s),bo["a"].notice)},setProgressPercent:function(){var e=this;if(console.info("对象函数 setProgressPercent,filePath:renderer/components/Classroom/LargeClass/base/room/controller/components/raiseHand/index.vue"),this.progressTime<=0)return this.progressTime=100;this.progressTime--,this.percent=this.calcProgressPercent(100,this.progressTime);var t=setTimeout((function(){e.setProgressPercent(),clearTimeout(t),t=null}),100)},setCountdown:function(){var e=this;if(console.info("对象函数 setCountdown,filePath:renderer/components/Classroom/LargeClass/base/room/controller/components/raiseHand/index.vue"),this.countdownTime<=0)return this.countdownTime=10,void(this.showRaiseHand=!0);this.countdownTime--;var t=setTimeout((function(){e.setCountdown(),clearTimeout(t),t=null}),1e3)},calcProgressPercent:function(e,t){if(console.info("对象函数 calcProgressPercent(total, completed)",e,t,"filePath:renderer/components/Classroom/LargeClass/base/room/controller/components/raiseHand/index.vue"),e=parseInt(e,10),t=parseInt(t,10),0===e||0===t)return 0;var s=(e-t)/e*100;return parseFloat(s.toFixed(2))},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";T["a"].send({tag:"student.Interact",content:{msg:e,interactType:"stu_handsup",interactId:"",interactStage:t}})}}},Ii=ki,xi=(s("5fc8"),Object(Oe["a"])(Ii,yi,Pi,!1,null,"47c3af35",null)),Oi=xi.exports,Ti=s("1651"),ji=(Ti["a"],function(){var e=this,t=e._self._c;return t("div")}),Mi=[],Li={props:{options:{type:Object,default:null},moduleInfo:{type:Object,default:null},planInfo:{type:Object,default:null}},data:function(){return{durationTimestamp:(new Date).getTime(),timer:null,kejianStatus:1,ircCodeCount:{0:0,1:0,2:0,3:0,4:0,5:0},ircCurrentCode:0,rtcRoundTripDelayed:0,rtcDownlinkPacketLossRate:0}},mounted:function(){this.initEventListeners(),this.delayDurationPush()},computed:{cameraStatus:function(){return this.$store.state.largeClass.cameraStatus?1:2}},methods:{initEventListeners:function(){var e=this;this.$bus.$on("corewareLoadStatus",(function(t){e.kejianStatus=t.isLocal?1:2})),this.$bus.$on("ircConnectStatus",(function(t){e.ircCodeCount[t]=e.ircCodeCount[t]+1,e.ircCurrentCode=t})),this.$bus.$on("teacherRtcChannelStats",(function(t){e.rtcRoundTripDelayed=t.gatewayRtt,e.rtcDownlinkPacketLossRate=t.rxPacketLossRate}))},durationPush:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s,o,n;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=String(e.planInfo.id),o=6e4,n=60,e.durationTimestamp=(new Date).getTime(),t.prev=4,t.next=7,Object(Z["c"])({planId:s,duration:n,isParentAudition:e.options.isParent?1:0,kejianStatus:e.kejianStatus,ircCodeCount:e.ircCodeCount,ircCurrentCode:e.ircCurrentCode,rtcRoundTripDelayed:e.rtcRoundTripDelayed,rtcDownlinkPacketLossRate:e.rtcDownlinkPacketLossRate,cameraState:e.cameraStatus});case 7:t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](4),console.error("上报学生在线时长接口报错",t.t0);case 12:e.delayDurationPush(o);case 13:case"end":return t.stop()}}),t,null,[[4,9]])})))()},delayDurationPush:function(e){var t=this;this.resetPrevMinuteReportData(),this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.durationPush()}),e)},resetPrevMinuteReportData:function(){this.ircCodeCount={0:0,1:0,2:0,3:0,4:0,5:0},this.kejianStatus=1,this.rtcRoundTripDelayed=0,this.rtcDownlinkPacketLossRate=0,this.ircCurrentCode=0}}},Ri=Li,Ei=Object(Oe["a"])(Ri,ji,Mi,!1,null,null,null),Ni=Ei.exports,Bi=(s("2ef0e"),{components:{RaiseHand:Oi,ClassInfoDataReport:Ni},filters:{timer:function(e){if(console.info("对象函数 timer(value)",e,"filePath:renderer/components/Classroom/LargeClass/base/room/controller/live/controller.vue"),!e)return"00:00:00";e=parseInt(e);var t=Math.floor(e/3600),s=Math.floor(e%3600/60),o=e%60;return(t>=10?t:"0"+t)+":"+(s>=10?s:"0"+s)+":"+(o>=10?o:"0"+o)},formatSeconds:Si},props:{options:{type:Object,default:null},moduleInfo:{type:Object,default:null},planInfo:{type:Object,default:null},isPlayBack:{type:Number,default:0}},data:function(){return{curTime:0}},mounted:function(){console.log("room-controller-live",this.options,this.moduleInfo,this.planInfo),this.init()},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/components/Classroom/LargeClass/base/room/controller/live/controller.vue"),clearInterval(this.curTime)},methods:{init:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.info("对象函数 init,filePath:renderer/components/Classroom/LargeClass/base/room/controller/live/controller.vue"),e.startTime();case 2:case"end":return t.stop()}}),t)})))()},startTime:function(){var e=this;console.info("对象函数 startTime,filePath:renderer/components/Classroom/LargeClass/base/room/controller/live/controller.vue"),setInterval((function(){e.curTime=(new Date).getTime()/1e3-e.planInfo.stime}),1e3)}}}),Vi=Bi,Di=(s("e7a8"),Object(Oe["a"])(Vi,Ai,wi,!1,null,"f31b0f88",null)),Ui=Di.exports,_i=function(){var e=this,t=e._self._c;return t("div",[t("CountDown",{attrs:{options:e.options}}),t("OrientationCoins",{attrs:{options:e.options}}),t("ContinuousCorrect",{attrs:{options:e.options}}),t("ClassPraise",{attrs:{options:e.options}}),t("LiveKickout",{attrs:{options:e.options}}),t("TutorVideoLink",{attrs:{options:e.options,stuInfo:e.stuInfo,rtcConfig:e.rtcConfig}}),t("SmallClassRank",{attrs:{options:e.options}}),t("DeviceTest"),t("SmallClassGraffitiCorrect"),t("TeacherOnStage",{attrs:{options:e.options,rtcConfig:e.rtcConfig}})],1)},Gi=[],Wi=function(){var e=this,t=e._self._c;return e.show?t("div",{class:{"count-down":2!=e.options.classType}},[t("div",{staticClass:"class-rest",attrs:{id:"classRest"}},[t("p",{staticClass:"time-minuts"},[e._v(" "+e._s(e.getMinutes)+" ")]),t("p",{staticClass:"time-split"}),t("p",{staticClass:"time-seconds"},[e._v(" "+e._s(e.getSeconds)+" ")])]),t("audio",{ref:"countDownSound",attrs:{src:s("80d1")}})]):e._e()},Hi=[],Fi={props:{options:{type:Object,default:null}},data:function(){return{show:!1,ircMsg:{},leftTime:0,timer:null,isMove:!1}},mounted:function(){var e=this;this.$bus.$on("room.countDown",(function(t){e.sendLogger("收到倒计时消息: ".concat(JSON.stringify(t))),e.ircMsg=t;var s=!!t.pub;s&&(e.show=!0,e.init()),e.show&&!s&&e.resetCountDown()}))},computed:{getMinutes:function(){var e=Math.floor(this.leftTime/60);return e=e>=10?e:"0"+e,e},getSeconds:function(){var e=Math.floor(this.leftTime-60*this.getMinutes);return e=e>=10?e:"0"+e,3===this.leftTime&&this.$refs.countDownSound.play(),e}},methods:{init:function(){if(isNaN(this.ircMsg.type)){var e=(new Date).getTime();this.leftTime=this.ircMsg.duration-(this.options.nowTime-this.ircMsg.beginTime)-parseInt((e-window._requestBasicTime)/1e3),this.sendLogger("倒计时init, 剩余时间: ".concat(this.leftTime,",duration:").concat(this.ircMsg.duration))}else this.leftTime=this.ircMsg.duration,this.sendLogger("倒计时init, 剩余时间: ".concat(this.leftTime,",type:").concat(this.ircMsg.type));this.startCountDown(),this.$nextTick((function(){oe["nativeApi"].elementDrag({dragDom:"classRest",areaDom:"ppt-area-container"})}))},getStyle:function(e,t){return getComputedStyle(e)[t]},startCountDown:function(){var e=this;if(this.leftTime<=1)return this.leftTime=0,void this.resetCountDown();this.leftTime>1&&(this.leftTime=this.leftTime-1,this.timer=setTimeout((function(){e.startCountDown()}),1e3))},resetCountDown:function(){clearTimeout(this.timer),this.timer=null,this.show=!1,this.sendLogger("倒计时结束, 剩余时间: ".concat(this.leftTime))},sendLogger:function(e){T["a"].send({tag:"countDown",content:{msg:e}})}}},qi=Fi,Ji=(s("f3c7"),Object(Oe["a"])(qi,Wi,Hi,!1,null,"7f87324a",null)),Ki=Ji.exports,zi=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.showCoinsBox,expression:"showCoinsBox"}]},[e.currentStudentGotCoins&&!e.isShowBoxCommon?t("div",{class:["class-coins self-ani",2!=e.options.classType?"big-class-coins":"small-class-coins"]},[t("img",{staticClass:"icon-smile",attrs:{src:s("e43e2")}}),t("p",{staticClass:"congratulate-desc"},[e._v(e._s(e.$t("classroom.modules.orientationCoins.Congrats")))]),t("div",{staticClass:"coins-num-box"},[t("div",{staticClass:"icons-box"},[t("img",{ref:"rainCoin1",staticClass:"icon-coin",attrs:{src:s("c79b")}}),t("div",{staticClass:"top1"}),t("div",{staticClass:"top2"}),t("div",{staticClass:"top3"}),t("div",{staticClass:"mid1"}),t("div",{staticClass:"mid2"}),t("div",{staticClass:"mid3"}),t("div",{staticClass:"bottom1"}),t("div",{staticClass:"bottom2"}),t("div",{staticClass:"bottom3"})]),t("span",{staticClass:"coins-num coins-num-self"},[e._v("+"+e._s(e.studentCoinsResult.rewardCoinNum))])])]):Object.keys(e.studentCoinsFirstInfo).length>0&&!e.isShowBoxCommon?t("div",{class:["class-coins other-ani",2!=e.options.classType?"big-class-coins":"small-class-coins"]},[t("span",{staticClass:"name-ani word-elipsis"},[e._v(e._s(e.studentCoinsFirstInfo&&e.studentCoinsFirstInfo.nickName))]),e.studentCoinsResult.userTotal>1?t("span",{staticClass:"name-ani"},[e._v(" "+e._s(e.$t("classroom.modules.orientationCoins.others")))]):e._e(),t("img",{staticClass:"icon-coin",attrs:{src:s("c79b")}}),t("span",{staticClass:"coins-num"},[e._v("+"+e._s(e.studentCoinsResult.rewardCoinNum))])]):e._e(),t("audio",{ref:"getCoinsSound",staticClass:"hide",attrs:{src:s("e049")}}),t("audio",{ref:"getCoinsTipsSound",staticClass:"hide",attrs:{src:s("9dc1")}}),t("audio",{ref:"smallGetCoinsSound",staticClass:"hide",attrs:{src:s("7bec")}})])},Qi=[],$i=s("507f"),Yi={props:{options:{type:Object,default:null}},data:function(){return{coins:null,timer:null,planId:null,interactId:null,currentStudentId:null,ircMessage:null,showCoinsBox:!1,timeDuration:3e4,studentCoinsResult:{},currentStudentGotCoins:!1,studentCoinsFirstInfo:{},studentCoinsLeftList:[],beginPlayTipsSoundTime:440,beginPlayGetCoinsSoundTime:700,smallCoinsShowTime:3e3}},mounted:function(){var e=this;this.$bus.$on("room.orientationCoins",(function(t){console.info("箭头函数 监听 room.orientationCoins(ircMessage)",t,"filePath:renderer/components/Classroom/CommonModules/orientationCoins/index.vue"),e.showCoinsBox=!1,t.duration&&(e.timeDuration=t.duration),e.timeDuration=e.smallCoinsShowTime,e.studentCoinsLeftList=[],e.studentCoinsFirstInfo={},e.currentStudentGotCoins=!1,e.studentCoinsResult={},e.getSpecialCoinsStatus(t)}))},computed:Object(J["a"])(Object(J["a"])({},Object(Xs["mapGetters"])({isShowBox:"smallClass/isShowBox"})),{},{isShowBoxCommon:function(){return console.info("对象函数 isShowBoxCommon,filePath:renderer/components/Classroom/CommonModules/orientationCoins/index.vue"),2==this.options.classType&&this.isShowBox}}),methods:{getSpecialCoinsStatus:function(e){var t=this;return Object(x["a"])(Object(I["a"])().mark((function s(){var o;return Object(I["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(console.info("对象函数 getSpecialCoinsStatus(ircMessage)",e,"filePath:renderer/components/Classroom/CommonModules/orientationCoins/index.vue"),o=localStorage.getItem("orientationCoinsId"),o!=e.interactId){s.next=6;break}t.showCoinsBox=!1,s.next=11;break;case 6:return s.next=8,t.init(e);case 8:t.showCoinsBox=!0,t.sendLogger("收到定向发金币消息: ".concat(JSON.stringify(e)),"start"),localStorage.setItem("orientationCoinsId",e.interactId);case 11:case"end":return s.stop()}}),s)})))()},init:function(e){var t=this;return Object(x["a"])(Object(I["a"])().mark((function s(){return Object(I["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return console.info("对象函数 init(ircMessage)",e,"filePath:renderer/components/Classroom/CommonModules/orientationCoins/index.vue"),t.ircMessage=e,t.planId=t.options.planId,t.currentStudentId=t.options.stuId,t.interactId=e.interactId,s.next=7,t.getStudentCoins();case 7:case"end":return s.stop()}}),s)})))()},getOrientationCoins:function(e){var t=this;return Object(x["a"])(Object(I["a"])().mark((function s(){var o,n;return Object(I["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return console.info("对象函数 getOrientationCoins(options)",e,"filePath:renderer/components/Classroom/CommonModules/orientationCoins/index.vue"),o={planId:1*e.planId,interactId:e.interactId,interactType:t.ircMessage.interactType},"classroomPraise"===o.interactType&&(o.interactId=t.ircMessage.parentsInteractId),s.next=5,Object($i["a"])(t,o);case 5:return n=s.sent,s.abrupt("return",n);case 7:case"end":return s.stop()}}),s)})))()},getStudentCoins:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s,o;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 getStudentCoins,filePath:renderer/components/Classroom/CommonModules/orientationCoins/index.vue"),t.next=3,e.getOrientationCoins({planId:e.planId,interactId:e.interactId});case 3:if(s=t.sent,1!=s.stat){t.next=18;break}if(o=s.data.users&&s.data.users[0].userId==e.currentStudentId,e.currentStudentGotCoins=o,o||"schulteGrid"!==e.ircMessage.interactType){t.next=10;break}return e.showCoinsBox=!1,t.abrupt("return");case 10:e.interactId&&Ts["g"](e.interactId,s.data.rewardCoinNum),e.sendLogger("定向发金币获取金币: ".concat(JSON.stringify(s.data))),e.studentCoinsResult=s.data,e.studentCoinsFirstInfo=s.data.users&&s.data.users[0],e.studentCoinsLeftList=s.data.users&&s.data.users.slice(1),e.smallClassTipsAction(o,s.data.rewardCoinNum),e.timer&&(clearTimeout(e.timer),e.timer=null),e.timer=setTimeout((function(){e.showCoinsBox=!1,e.sendLogger("关闭定向发金币","end")}),e.timeDuration);case 18:case"end":return t.stop()}}),t)})))()},smallClassTipsAction:function(e,t){var s=this;console.info("对象函数 smallClassTipsAction(isMeGetCoins, coinsNum)",e,t,"filePath:renderer/components/Classroom/CommonModules/orientationCoins/index.vue"),e&&(setTimeout((function(){s.$refs.getCoinsTipsSound.play()}),this.beginPlayTipsSoundTime),setTimeout((function(){s.$refs.smallGetCoinsSound.play()}),this.beginPlayGetCoinsSoundTime),setTimeout((function(){s.$bus.$emit("addCoin",!0,t)}),this.smallCoinsShowTime))},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";T["a"].send({tag:"student.Interact",content:{msg:e,interactType:"Coins",interactStage:t}})},destroy:function(){var e;console.info("对象函数 destroy,filePath:renderer/components/Classroom/CommonModules/orientationCoins/index.vue"),this.$destroy(),clearTimeout(this.timer),this.timer=null,null===(e=this.$el)||void 0===e||null===(e=e.parentNode)||void 0===e||e.removeChild(this.$el)}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/components/Classroom/CommonModules/orientationCoins/index.vue"),clearTimeout(this.timer)}},Zi=Yi,Xi=(s("80b7"),Object(Oe["a"])(Zi,zi,Qi,!1,null,"99a574a0",null)),er=Xi.exports,tr=function(){var e=this,t=e._self._c;return e.showContinuousCorrect?t("div",{staticClass:"continus-correct",class:[{"gameQuestion-style":e.isGameQuestion&&2!=e.options.classType,"no-answer-style":3==e.isRight,"small-class-gameQuestion-style":e.isGameQuestion&&2==e.options.classType,"fillbank-style":e.isFillBank&&2!=e.options.classType,"large-class":2!=e.options.classType,"small-class":2==e.options.classType,"normal-correct-style":!e.isGameQuestion&&!e.isFillBank,"fillbank-style-has-answer":e.isFillBank&&2==e.options.classType}]},[t("div",{staticClass:"panel"},[t("span",{staticClass:"icon-close",on:{click:e.closePane}}),1==e.isRight?t("section",{staticClass:"correct common"},[t("span",{staticClass:"icon-result icon-result-correct"}),e.continuousCorrectData.isTopLevel?t("span",{staticClass:"icon-title icon-title-correct"}):t("span",{staticClass:"icon-medal"},[t("img",{attrs:{src:e.currentModelSrc}})]),t("section",{staticClass:"content",class:e.continuousCorrectData.isTopLevel?"content-topLevel":"content-nottopLevel"},[t("div",{staticClass:"coins",class:e.continuousCorrectData.isTopLevel?"":"floatcoins"},[t("span",{staticClass:"icon-coin"}),t("span",{staticClass:"icon-number"},[e._v("+"+e._s(e.continuousCorrectData.rightCoin))])]),e.continuousCorrectData.level<7?t("span",{staticClass:"desc"},[e._v(" "+e._s(e.$t("classroom.modules.continuousCorrect.rightLevelDesc",{nextTitle:e.continuousCorrectData.nextTitle}))+" ")]):t("span",[e._v(" "+e._s(e.$t("classroom.modules.continuousCorrect.rightTopLevelDesc"))+" ")]),t("div",{staticClass:"medal"},[t("ul",e._l(e.currentModelList,(function(e){return t("li",{key:e.name},[t("img",{attrs:{src:e.url}})])})),0),e.continuousCorrectData.isTopLevel||7==e.continuousCorrectData.level?e._e():t("span",{staticClass:"arrow arrow-correct"}),e.continuousCorrectData.isTopLevel||7==e.continuousCorrectData.level?e._e():t("span",{staticClass:"lock"})])])]):e._e(),2==e.isRight?t("section",{staticClass:"incorrect common"},[t("span",{staticClass:"icon-result icon-result-incorrect"}),t("span",{staticClass:"icon-title icon-title-incorrect"}),t("section",{staticClass:"content",class:e.continuousCorrectData.isTopLevel?"toplevel-bg":""},[e.continuousCorrectData.isTopLevel?t("span",{staticClass:"toplevel-desc"},[e._v(" "+e._s(e.$t("classroom.modules.continuousCorrect.encourageNotice"))+" ")]):t("span",{staticClass:"desc"},[e._v(" "+e._s(e.$t("classroom.modules.continuousCorrect.wrongLevelDesc",{nextTitle:e.continuousCorrectData.nextTitle}))+" ")]),e.continuousCorrectData.isTopLevel||7==e.continuousCorrectData.level?e._e():t("div",{staticClass:"medal",class:6==e.continuousCorrectData.level?"six-medal":""},[t("ul",e._l(e.currentModelList,(function(e){return t("li",{key:e.name},[t("img",{attrs:{src:e.url}})])})),0),this.currentModelSrc?t("span",{staticClass:"arrow arrow-correct"}):e._e(),t("span",{staticClass:"lock"})]),t("div",{staticClass:"coins"},[t("span",{staticClass:"icon-coin"}),t("span",{staticClass:"icon-number"},[e._v("+"+e._s(e.continuousCorrectData.rightCoin))])]),e.continuousCorrectData.isTopLevel?e._e():t("div",{staticClass:"bottomTip"},[t("div",{staticClass:"tip"},[e._v(" "+e._s(e.$t("classroom.modules.continuousCorrect.encourageNotice"))+" ")])])])]):e._e(),3==e.isRight?t("section",{staticClass:"noanswer common"},[t("span",{staticClass:"icon-result icon-result-noanswer"}),t("span",{staticClass:"icon-title icon-title-noanswer"}),t("section",{staticClass:"content"},[t("img",{attrs:{src:s("b119"),alt:""}}),t("span",{staticClass:"sub-title"},[t("label",[e._v(" "+e._s(e.$t("classroom.modules.continuousCorrect.noanswerNotice"))+" ")])])])]):e._e(),t("audio",{ref:"interactFail",staticClass:"hide",attrs:{src:s("8d9f")}}),t("audio",{ref:"interactSuccess",staticClass:"hide",attrs:{src:s("a97f")}})])]):e._e()},sr=[],or={name:"continuousCorrect",mounted:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.initEventListeners(),t.next=3,Object(ee["c"])();case 3:e.local=t.sent;case 4:case"end":return t.stop()}}),t)})))()},created:function(){this.loadMedalList()},props:{options:{type:Object,default:null}},data:function(){return{showContinuousCorrect:!1,continuousCorrectData:null,isTopLevel:!1,smallMedalList:[],bigModelList:[],closeBoardTimer:null,local:"",isGameQuestion:!1,isFillBank:!1,currentModelList:[],currentModelSrc:"",isRight:0,sendMsgFrom:"flv"}},destroyed:function(){console.info("对象函数 destroyed,filePath:renderer/components/Classroom/CommonModules/continuousCorrect/index.vue"),this.$bus.$off("initClose"),this.$bus.$off("continuousCorrect")},methods:{loadMedalList:function(){console.info("对象函数 loadMedalList,filePath:renderer/components/Classroom/CommonModules/continuousCorrect/index.vue");for(var e=7,t=0;t<e;t++)this.smallMedalList.push({name:"level".concat(t),url:s("fe1f")("./level-".concat(t+1,".png"))}),this.bigModelList.push({name:"level".concat(t),url:s("941c")("./level-".concat(t+1,".png"))})},initEventListeners:function(){var e=this;console.info("对象函数 initEventListeners,filePath:renderer/components/Classroom/CommonModules/continuousCorrect/index.vue"),this.$bus.$on("initClose",(function(){console.info("箭头函数 监听 initClose,filePath:renderer/components/Classroom/CommonModules/continuousCorrect/index.vue"),clearTimeout(e.closeBoardTimer),e.closeBoardTimer=null,e.showContinuousCorrect=!1})),this.$bus.$on("continuousCorrect",(function(t){console.info("箭头函数 监听 continuousCorrect(data)",t,"filePath:renderer/components/Classroom/CommonModules/continuousCorrect/index.vue"),e.isFillBank=e.isGameQuestion=!1,t?(console.log("勋章打开",t),void 0!=t.rightCoin?e.dealQuestionAnswer(t):e.autoCloseBoard(0)):e.showContinuousCorrect=!1}))},dealQuestionAnswer:function(e){var t=this;return Object(x["a"])(Object(I["a"])().mark((function s(){var o,n,a;return Object(I["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(console.info("对象函数 dealQuestionAnswer(data)",e,"filePath:renderer/components/Classroom/CommonModules/continuousCorrect/index.vue"),t.sendLogger("金币激励提交-返回答案: ".concat(JSON.stringify(e))),t.isRight=e.isRight,t.continuousCorrectData=e,t.currentModelList=t.smallMedalList.slice(0,t.continuousCorrectData.level),console.log(t.continuousCorrectData,"this.continuousCorrectData"),t.continuousCorrectData.isGameQuestion&&(t.isGameQuestion=!0),t.continuousCorrectData.isFillBank&&3!=t.isRight&&(t.isFillBank=!0),!(t.continuousCorrectData.level>0)){s.next=19;break}return t.currentModelSrc=t.bigModelList[t.continuousCorrectData.level-1].url,s.next=12,Object(ae["a"])();case 12:o=s.sent,n=o.uid,a={roomlist:t.options.roomlist,content:{type:142,userId:String(n),level:t.continuousCorrectData.level||0,from:t.sendMsgFrom,name:t.options.nickName,msg:""},chatMsgPriority:99},2!==t.options.classType?dt["a"].sendRoomMessage(a):t.thinkClass.SignalService.sendRoomMessage(a),t.$bus.$emit("chats.correctSelfMedalData",a.content),s.next=20;break;case 19:t.currentModelSrc="";case 20:t.showContinuousCorrect=!0,t.$nextTick((function(){1===t.isRight?t.$refs.interactSuccess.play():t.$refs.interactFail.play()})),t.autoCloseBoard(6e3);case 23:case"end":return s.stop()}}),s)})))()},autoCloseBoard:function(e){var t=this;console.info("对象函数 autoCloseBoard(timer)",e,"filePath:renderer/components/Classroom/CommonModules/continuousCorrect/index.vue"),this.closeBoardTimer=setTimeout((function(){t.sendLogger("5s关闭金币激励"),t.closePane()}),e)},closePane:function(){console.info("对象函数 closePane,filePath:renderer/components/Classroom/CommonModules/continuousCorrect/index.vue"),this.showContinuousCorrect=!1,clearTimeout(this.closeBoardTimer),this.closeBoardTimer=null,this.$bus.$emit("closeContinusCorrect",!0)},sendLogger:function(e){T["a"].send({tag:"continuousCorrectData",content:{msg:e}})}}},nr=or,ar=(s("8239"),Object(Oe["a"])(nr,tr,sr,!1,null,"54d9ea98",null)),ir=ar.exports,rr=function(){var e=this,t=e._self._c;return e.show?t("div",[t("audio",{ref:"praiseShow",staticClass:"hiden",attrs:{src:s("2d85")}}),t("audio",{ref:"praiseClick",staticClass:"hiden",attrs:{src:s("1cc0")}}),t("audio",{ref:"praiseOpen",staticClass:"hiden",attrs:{src:s("026a")}}),t("audio",{ref:"praiseSuccess",staticClass:"hiden",attrs:{src:s("171e")}}),t("audio",{ref:"praiseFail",staticClass:"hiden",attrs:{src:s("e8f5")}}),"large"===e.showStatus?t("div",{staticClass:"praise-large",class:{"coins-large-class":2!=e.options.classType,"coins-small-class":2==e.options.classType}},[t("div",{staticClass:"treasure-box"},[e.showAnimation?t("div",{staticClass:"status-unclaimed"},[e.openStatus?t("div",[t("lottie-player",{staticClass:"lottie-player",attrs:{autoplay:"",mode:"normal",src:"./lottiefiles/treasure/open/index.json"}})],1):t("div",{on:{click:function(t){return e.openTreasure("large")}}},[t("lottie-player",{staticClass:"lottie-player",attrs:{autoplay:"",loop:"",mode:"normal",src:"./lottiefiles/treasure/normal/index.json"}})],1)]):e._e(),e.showResult?t("div",{staticClass:"status-result",class:e.resultClassName},[t("div",{staticClass:"icon-close",on:{click:e.closeTreasure}}),t("div",{staticClass:"result-head"},[t("div",{staticClass:"student-info-wrapper"},[t("div",{staticClass:"student-info"},[t("div",{staticClass:"student-avatar"},[t("img",{attrs:{src:e.resultData.avatar}})]),t("div",{staticClass:"student-name"},[e._v(e._s(e.options.nickName))])])]),t("div",{staticClass:"message-wrapper"},[t("div",{staticClass:"message-title"},[e._v(e._s(e.resultData.messageTitle))]),t("div",{staticClass:"message-content"},[e._v(e._s(e.resultData.messageContent))])])]),t("div",{staticClass:"coin-wrapper"},[t("div",{staticClass:"coin-num"},[e._v("+"+e._s(e.resultData.rewardCoin))])]),e.hasBadge?t("div",{staticClass:"icon-badge",class:e.badgeClassName}):e._e()]):e._e()])]):e._e(),"small"===e.showStatus?t("div",{staticClass:"praise-small",class:{"coins-large-class":2!=e.options.classType,"coins-small-class":2==e.options.classType},on:{click:function(t){return e.openTreasure("small")}}}):e._e()]):e._e()},cr=[],lr=s("fe26"),ur=(s("a717"),{props:{options:{type:Object,default:null}},data:function(){return{show:!1,showStatus:"large",showAnimation:!0,showResult:!1,openStatus:!1,timer:null,interactId:"",planId:0,classId:"",loading:!1,resultData:{avatar:"",level:0,title:"",messageTitle:"",messageContent:"",rewardCoin:0,userLatestCoin:0}}},computed:{hasBadge:function(){return console.info("对象函数 hasBadge,filePath:renderer/components/Classroom/CommonModules/classPraise/index.vue"),this.resultData.level>0},resultClassName:function(){return console.info("对象函数 resultClassName,filePath:renderer/components/Classroom/CommonModules/classPraise/index.vue"),this.hasBadge?"result-success":"result-fail"},badgeClassName:function(){return console.info("对象函数 badgeClassName,filePath:renderer/components/Classroom/CommonModules/classPraise/index.vue"),this.hasBadge?"level-".concat(this.resultData.level):""}},mounted:function(){var e=this;this.$bus.$on("room.showPraiseTreasure",(function(t){console.info("箭头函数 监听 room.showPraiseTreasure(ircMessage)",t,"filePath:renderer/components/Classroom/CommonModules/classPraise/index.vue"),e.init(t),e.sendLogger("收到课堂表扬消息: ".concat(JSON.stringify(t)),"start")}))},methods:{init:function(e){var t=this;return Object(x["a"])(Object(I["a"])().mark((function s(){var o;return Object(I["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return console.info("对象函数 init(ircMessage)",e,"filePath:renderer/components/Classroom/CommonModules/classPraise/index.vue"),t.planId=t.options.planId,t.classId=t.options.classId,t.interactId=(null===e||void 0===e?void 0:e.interactId)||"",s.next=6,window.thinkApi.ipc.invoke("getStoreValue","classPraiseInteractId_".concat(t.planId));case 6:if(o=s.sent,o!=t.interactId){s.next=9;break}return s.abrupt("return");case 9:return s.next=11,window.thinkApi.ipc.invoke("setStoreValue","classPraiseInteractId_".concat(t.planId),t.interactId);case 11:Object(lr["a"])({planId:t.planId,classId:t.classId,interactId:t.interactId}),t.show=!0,t.resetData(),t.$nextTick((function(){t.$refs.praiseShow.play()})),t.timer&&clearTimeout(t.timer),t.timer=setTimeout((function(){t.minimizeTreasure()}),5e3);case 17:case"end":return s.stop()}}),s)})))()},openTreasure:function(e){var t=this;console.info("对象函数 openTreasure(type)",e,"filePath:renderer/components/Classroom/CommonModules/classPraise/index.vue"),Object(M["e"])("hw_classroom_interact_treasure_click",this.options,{interact_id:this.interactId,click_button:"large"==e?1:0}),this.showStatus="large",this.openStatus=!0,this.$refs.praiseClick.play(),this.timer&&clearTimeout(this.timer),setTimeout((function(){t.showAnimation=!1,t.submitPraise().then(function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(s){var o;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.info("箭头函数 then(data)",s,"filePath:renderer/components/Classroom/CommonModules/classPraise/index.vue"),t.delayClose(1e4),t.showResult=!0,t.hasBadge?t.$refs.praiseSuccess.play():t.$refs.praiseFail.play(),o=s.userLatestCoin,Object.keys(s).forEach((function(e){t.resultData[e]=s[e]})),t.$bus.$emit("updateAchievement","update",o),Ts["m"](t.interactId,s.rewardCoin);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.info("箭头函数 catch(error)",e,"filePath:renderer/components/Classroom/CommonModules/classPraise/index.vue"),t.closeTreasure(),console.error("打开宝箱报错",e)}))}),2200),this.sendLogger("点击打开宝箱, 入口来自: ".concat(e))},closeTreasure:function(){console.info("对象函数 closeTreasure,filePath:renderer/components/Classroom/CommonModules/classPraise/index.vue"),this.show=!1,this.resetData(),this.sendLogger("课堂表扬关闭")},resetData:function(){console.info("对象函数 resetData,filePath:renderer/components/Classroom/CommonModules/classPraise/index.vue"),this.showAnimation=!0,this.showResult=!1,this.openStatus=!1,this.showStatus="large"},minimizeTreasure:function(){console.info("对象函数 minimizeTreasure,filePath:renderer/components/Classroom/CommonModules/classPraise/index.vue"),this.showStatus="small",this.delayClose(3e5),this.sendLogger("宝箱最小化")},delayClose:function(e){var t=this;console.info("对象函数 delayClose(time)",e,"filePath:renderer/components/Classroom/CommonModules/classPraise/index.vue"),this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.closeTreasure(),t.timer=null,t.sendLogger("宝箱延迟关闭, 延迟时间: ".concat(e,"ms"))}),e)},submitPraise:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s,o,n;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.info("对象函数 submitPraise,filePath:renderer/components/Classroom/CommonModules/classPraise/index.vue"),!e.loading){t.next=3;break}return t.abrupt("return");case 3:return e.loading=!0,s={classId:e.classId,planId:Number(e.planId),interactId:String(e.interactId)},t.next=7,Object(Z["v"])(s);case 7:if(o=t.sent,e.loading=!1,e.sendLogger("提交领取奖励接口, params: ".concat(JSON.stringify(s)," res: ").concat(JSON.stringify(o)),"submit"),0==o.code){t.next=13;break}return e.$Message.info(o.msg),t.abrupt("return",Promise.reject(o.msg));case 13:return n=o.data||{},t.abrupt("return",Promise.resolve(n));case 15:case"end":return t.stop()}}),t)})))()},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";T["a"].send({tag:"student.Interact",content:{msg:e,interactType:"ClassPraise",interactStage:t}})}}}),dr=ur,hr=(s("734f"),Object(Oe["a"])(dr,rr,cr,!1,null,"18bd2131",null)),mr=hr.exports,pr=function(){var e=this,t=e._self._c;return e.isShowLink?t("div",{staticClass:"tutor-video-link-wrapper"},[t("div",{staticClass:"tutor-video",class:{error:e.isError,normal:!e.isError}},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isError,expression:"!isError"}],staticClass:"tutor-video-container"},[t("div",{attrs:{id:e.tutorId}})]),e.isError?t("div",{staticClass:"icon-error"}):e._e()]),t("div",{staticClass:"title-bar"},[t("div",{staticClass:"dot"}),t("div",{staticClass:"title"},[e._v(" "+e._s(e.$t("classroom.modules.tutorVideoLink.title"))+" ")])]),t("div",{staticClass:"video-link-info"},[e.isError?t("div",{staticClass:"tutor-video-error"},[t("div",{staticClass:"notice"},[e._v(" "+e._s(e.$t("classroom.modules.tutorVideoLink.errorMsg")[0])),t("br"),e._v(" "+e._s(e.$t("classroom.modules.tutorVideoLink.errorMsg")[1])+" ")]),t("div",{staticClass:"button",on:{click:e.handleExit}},[e._v(" "+e._s(e.$t("common.exit"))+" ")])]):t("div",[t("div",{staticClass:"avatar-info"},[t("div",{staticClass:"avatar-tutor",class:{"default-avatar":!e.tutorAvatarUrl}},[e.tutorAvatarUrl?t("img",{attrs:{src:e.tutorAvatarUrl}}):e._e()]),t("div",{staticClass:"icon-vocal-print"}),t("div",{staticClass:"avatar-student"},[t("img",{attrs:{src:e.studentAvatarUrl}})])]),t("div",{staticClass:"link-time"},[e._v(e._s(e.formatTime))])])])]):e._e()},fr=[],vr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.info("函数申明 _default(opts)",t,"filePath:renderer/components/Classroom/LargeClass/base/room/modules/tutorVideoLink/rtcClass.js"),Object(A["a"])(this,e),this.options=t.options,this.rtcConfig=t.rtcConfig,this.teacherAudioUid=this.rtcConfig.teacherAudioUid,this.tutorUid=this.options.counselorInfo.id,this.teacherRtcChannel=window.RTC_COMMON.teacherRtcChannel||null,this.classRtcChannel=window.RTC_COMMON.classRtcChannel||null}return Object(w["a"])(e,[{key:"tutorVideoLinkStart",value:function(e){this.classRtcChannel.muteRemoteAudioStream(this.tutorUid,!1),this.classRtcChannel.muteRemoteVideoStream(this.tutorUid,!1),this.classRtcChannel.setupRemoteVideo(this.tutorUid,document.getElementById(e))}},{key:"tutorVideoLinkEnd",value:function(){this.classRtcChannel.muteRemoteAudioStream(this.tutorUid,!0),this.classRtcChannel.muteRemoteVideoStream(this.tutorUid,!0),this.classRtcChannel.destroyRemoteVideo(this.tutorUid,document.getElementById(this.tutorUid))}}]),e}(),gr={props:{options:{type:Object,default:null},stuInfo:{type:Object,default:null},rtcConfig:{type:Object,default:null}},computed:{tutorId:function(){return"remote-".concat(this.options.counselorInfo.id)},tutorAvatarUrl:function(){return this.options.counselorInfo.avatar||""},studentAvatarUrl:function(){return this.stuInfo.avatar||""},formatTime:function(){var e=this.timerCounter,t=Math.floor(e/60),s=e%60;return"".concat(Object(te["w"])(t),":").concat(Object(te["w"])(s))}},data:function(){return{isShowLink:!1,isError:!1,isFirstMsg:!1,status:0,callback:null,timerCounter:0,timer:null,highEncoderConfig:{width:320,height:240,bitrate:120,frameRate:10},lowEncoderConfig:{bitrate:80,frameRate:10,width:160,height:120}}},mounted:function(){var e=this;this.$bus.$on("room.tutorVideoLink",(function(t,s){console.log("tutorVideoLink-noticeContent",t),e.sendLogger("收到辅导连麦消息: ".concat(JSON.stringify(t)));var o=t.studentId,n=t.status;if(o==e.stuInfo.id){var a,i;if(1==n&&(e.isFirstMsg=!0),e.status=n,e.callback=s,e.isFirstMsg&&2==n)null===(a=window.RTC_COMMON)||void 0===a||null===(a=a.classRtcChannel)||void 0===a||a.setVideoEncoderConfiguration(e.highEncoderConfig),e.startLink(),Ts["o"]("","guiding_teacher",!0);if(e.isFirstMsg&&3==n)null===(i=window.RTC_COMMON)||void 0===i||null===(i=i.classRtcChannel)||void 0===i||i.setVideoEncoderConfiguration(e.lowEncoderConfig),e.endLink(),Ts["o"]("","guiding_teacher",!1)}}))},methods:{startLink:function(){var e=this;this.isShowLink=!0,this.isError=!1,this.timerCounter=0,this.rtcClass=new vr({options:this.options,rtcConfig:this.rtcConfig}),this.addEventListen(),this.$nextTick((function(){e.$bus.$emit("player.muteTeacherChannelAudio",!0),e.rtcClass.tutorVideoLinkStart(e.tutorId),e.callback&&e.callback({status:!0}),e.startTimerCounter(),e.sendLogger("开始辅导连麦","start")}))},endLink:function(){this.$bus.$emit("player.muteTeacherChannelAudio",!1),this.rtcClass.tutorVideoLinkEnd(),this.removeEventListen(),this.startTimerCounter(),this.isShowLink=!1,this.isError=!1,this.isFirstMsg=!1,this.status=0,this.callback&&this.callback({status:!1}),this.callback=null,this.sendLogger("结束辅导连麦","end")},addEventListen:function(){this.rtcClass.classRtcChannel.on("remoteVideoStateChanged",this.listenRemoteVideoStateChanged),this.rtcClass.classRtcChannel.on("connectionStateChanged",this.listenConnectionStateChanged)},removeEventListen:function(){this.rtcClass.classRtcChannel.off("remoteVideoStateChanged",this.listenRemoteVideoStateChanged),this.rtcClass.classRtcChannel.off("connectionStateChanged",this.listenConnectionStateChanged)},listenRemoteVideoStateChanged:function(e,t,s){var o=this.options.counselorInfo.id;e==o&&(0==t&&5==s&&(this.isError=!0,this.sendLogger("视频显示失败")),0==t&&7==s&&this.endLink(),2==t&&(this.isError=!1,this.sendLogger("视频显示成功")))},listenConnectionStateChanged:function(e,t){console.log("tutorVideoLink-connectionStateChanged",e,t),1!==e&&4!==e&&5!==e||(this.isError=!0),3===e&&(this.isError=!1)},handleExit:function(){this.endLink(),this.sendLogger("学生点击Exit按钮, 主动退出辅导连麦")},startTimerCounter:function(){var e=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){++e.timerCounter,e.startTimerCounter()}),1e3)},endTimerCounter:function(){clearTimeout(this.timer),this.timer=null,this.timerCounter=0},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";T["a"].send({tag:"student.Interact",content:{msg:e,interactType:"TutorLinkMic",interactStage:t}})}}},Cr=gr,br=(s("525f"),Object(Oe["a"])(Cr,pr,fr,!1,null,"bf427842",null)),Ar=br.exports,wr=function(){var e=this,t=e._self._c;return e.showRankBox?t("div",{staticClass:"class-rank",class:{"large-class":2!=e.options.classType,"small-class":2==e.options.classType}},[t("div",{staticClass:"close",on:{click:e.closeRankBox}}),t("div",{staticClass:"rank-container"},e._l(e.rankList,(function(o){return t("section",{key:o.id,staticClass:"rank-item",class:o.id==e.options.stuId?"active":""},[o.id==e.options.stuId?t("img",{staticClass:"current-student",attrs:{src:s("d46f"),alt:""}}):e._e(),o.level>0?t("span",{staticClass:"medal",class:"level-".concat(o.level)}):t("span",{staticClass:"medal no-level"}),t("span",{staticClass:"name",class:o.id==e.options.stuId?"active-name":""},[e._v(e._s(o.name))]),t("span",{staticClass:"coins"},[t("label"),t("span",[e._v(e._s(o.coin))])])])})),0),t("audio",{ref:"showRankSound",attrs:{src:s("60a9")}})]):e._e()},Sr=[],yr=s("18f6"),Pr={name:"SmallClassRank",props:{options:{type:Object,default:null}},data:function(){return{timer:null,planId:null,classId:null,interactId:null,currentStudentId:null,ircMessage:null,showRankBox:!1,rankList:[]}},created:function(){this.getStudentRankData()},mounted:function(){var e=this;this.$bus.$on("room.smallClassRank",(function(t){console.info("箭头函数 监听 room.smallClassRank(ircMessage)",t,"filePath:renderer/components/Classroom/CommonModules/smallClassRank/index.vue"),t.pub?(e.showRankBox=!0,e.$nextTick((function(){e.$refs.showRankSound.play()})),e.getStudentRankData(),Object(lr["a"])({planId:e.options.planId,classId:e.options.classId,interactId:t.interactId}),e.sendLogger("互动开始","start")):(e.showRankBox=!1,e.rankList=[],e.sendLogger("互动结束","end"))}))},methods:{getStudentRankData:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 getStudentRankData,filePath:renderer/components/Classroom/CommonModules/smallClassRank/index.vue"),t.next=3,e.querySmallClassRankList();case 3:s=t.sent,e.sendLogger("排行榜结果, res: ".concat(JSON.stringify(s))),1==(null===s||void 0===s?void 0:s.stat)&&(e.rankList=s.data);case 6:case"end":return t.stop()}}),t)})))()},querySmallClassRankList:function(e){var t=this;return Object(x["a"])(Object(I["a"])().mark((function s(){var o,n;return Object(I["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return console.info("对象函数 querySmallClassRankList(options)",e,"filePath:renderer/components/Classroom/CommonModules/smallClassRank/index.vue"),o={planId:1*t.options.planId,classId:1*t.options.classId},s.next=4,Object(yr["a"])(t,o);case 4:return n=s.sent,s.abrupt("return",n);case 6:case"end":return s.stop()}}),s)})))()},closeRankBox:function(){console.info("对象函数 closeRankBox,filePath:renderer/components/Classroom/CommonModules/smallClassRank/index.vue"),this.showRankBox=!1,this.sendLogger("手动关闭小班排行")},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";T["a"].send({tag:"student.Interact",content:{msg:e,interactType:"Rank",interactStage:t}})}}},kr=Pr,Ir=(s("35b6"),Object(Oe["a"])(kr,wr,Sr,!1,null,null,null)),xr=Ir.exports,Or=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{width:400,maskClosable:!1,closable:!1,centered:!0,title:e.$t("classroom.modules.deviceTest.dialogTitle"),dialogClass:"modal-simple",okText:e.$t("common.confirm"),cancelText:e.$t("common.cancel")},on:{ok:e.handleOk},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[t("div",{staticClass:"modal-device-test"},[t("div",{staticClass:"device-item"},[t("div",{staticClass:"device-head"},[t("div",{staticClass:"title"},[t("span",{staticClass:"color-gray"},[e._v(" "+e._s(e.$t("classroom.modules.deviceTest.cameraTitle"))+" ")]),e._v(" "+e._s(e.cameraStatusInfo.text)+" ")]),t("div",{staticClass:"icon",class:e.cameraStatusInfo.className})]),t("a-select",{staticStyle:{width:"340px"},attrs:{value:e.defaultVideoDeviceId,"default-value":e.defaultVideoDeviceId,suffixIcon:e.suffixIcon},on:{change:e.handleChangeVideoDevice},scopedSlots:e._u([{key:"suffixIcon",fn:function(){return[t("a-icon",{attrs:{component:e.arrowBottomSvg}})]},proxy:!0}])},e._l(e.videoDevices,(function(s,o){return t("a-select-option",{key:o,attrs:{value:s.deviceid}},[e._v(" "+e._s(s.devicename)+" ")])})),1),e.isMac&&!1===e.cameraStatus?t("div",{staticClass:"authorize-guide"},[e._v(" "+e._s(e.$t("classroom.modules.deviceTest.authorizeGuide")[0])+" "),t("span",{on:{click:e.handleCameraAccess}},[e._v(" "+e._s(e.$t("classroom.modules.deviceTest.authorizeGuide")[1])+" ")])]):e._e()],1),t("div",{staticClass:"device-item"},[t("div",{staticClass:"device-head"},[t("div",{staticClass:"title"},[t("span",{staticClass:"color-gray"},[e._v(" "+e._s(e.$t("classroom.modules.deviceTest.microphoneTitle"))+" ")]),e._v(" "+e._s(e.microphoneStatusInfo.text)+" ")]),t("div",{staticClass:"icon",class:e.microphoneStatusInfo.className})]),t("a-select",{staticStyle:{width:"340px"},attrs:{value:e.defaultAudioRecordingDeviceId,"default-value":e.defaultAudioRecordingDeviceId,suffixIcon:e.suffixIcon},on:{change:e.handleChangeAudioRecordingDevice},scopedSlots:e._u([{key:"suffixIcon",fn:function(){return[t("a-icon",{attrs:{component:e.arrowBottomSvg}})]},proxy:!0}])},e._l(e.audioRecordingDevices,(function(s,o){return t("a-select-option",{key:o,attrs:{value:s.deviceid}},[e._v(" "+e._s(s.devicename)+" ")])})),1),e.isMac&&!1===e.microphoneStatus?t("div",{staticClass:"authorize-guide"},[e._v(" "+e._s(e.$t("classroom.modules.deviceTest.authorizeGuide")[0])+" "),t("span",{on:{click:e.handleMicrophoneAccess}},[e._v(" "+e._s(e.$t("classroom.modules.deviceTest.authorizeGuide")[1])+" ")])]):e._e()],1),t("div",{staticClass:"device-item"},[t("div",{staticClass:"device-head"},[t("div",{staticClass:"title"},[t("span",{staticClass:"color-gray"},[e._v(" "+e._s(e.$t("classroom.modules.deviceTest.audioTitle"))+" ")]),e._v(" "+e._s(e.audioPlaybackStatusInfo.text)+" ")]),t("div",{staticClass:"icon",class:e.audioPlaybackStatusInfo.className})]),t("a-select",{staticStyle:{width:"340px"},attrs:{value:e.defaultAudioPlaybackDeviceId,"default-value":e.defaultAudioPlaybackDeviceId,suffixIcon:e.suffixIcon},on:{change:e.handleChangeAudioPlaybackDevice},scopedSlots:e._u([{key:"suffixIcon",fn:function(){return[t("a-icon",{attrs:{component:e.arrowBottomSvg}})]},proxy:!0}])},e._l(e.audioPlaybackDevices,(function(s,o){return t("a-select-option",{key:o,attrs:{value:s.deviceid}},[e._v(" "+e._s(s.devicename)+" ")])})),1)],1)])])},Tr=[],jr=s("ff07"),Mr=s.n(jr),Lr={data:function(){return{isMac:Object(te["u"])(),arrowBottomSvg:Mr.a,visible:!1,rtcEngine:null,videoDevices:[],audioRecordingDevices:[],audioPlaybackDevices:[],defaultVideoDeviceId:"",defaultAudioRecordingDeviceId:"",defaultAudioPlaybackDeviceId:"",cameraStatus:null,microphoneStatus:null}},computed:{statusNames:function(){return console.info("对象函数 statusNames,filePath:renderer/components/Classroom/LargeClass/base/room/modules/deviceTest/index.vue"),this.$t("classroom.modules.deviceTest.statusNames")},cameraStatusInfo:function(){return console.info("对象函数 cameraStatusInfo,filePath:renderer/components/Classroom/LargeClass/base/room/modules/deviceTest/index.vue"),this.videoDevices.length?!0===this.cameraStatus?{className:"icon-success",text:this.statusNames.usable}:!1===this.cameraStatus?{className:"icon-warn",text:this.statusNames.unauthorized}:{}:{className:"icon-error",text:this.statusNames.disabled}},microphoneStatusInfo:function(){return console.info("对象函数 microphoneStatusInfo,filePath:renderer/components/Classroom/LargeClass/base/room/modules/deviceTest/index.vue"),this.audioRecordingDevices.length?!0===this.microphoneStatus?{className:"icon-success",text:this.statusNames.usable}:!1===this.microphoneStatus?{className:"icon-warn",text:this.statusNames.unauthorized}:{}:{className:"icon-error",text:this.statusNames.disabled}},audioPlaybackStatusInfo:function(){return console.info("对象函数 audioPlaybackStatusInfo,filePath:renderer/components/Classroom/LargeClass/base/room/modules/deviceTest/index.vue"),this.audioPlaybackDevices.length?{className:"icon-success",text:this.statusNames.usable}:{className:"icon-error",text:this.statusNames.disabled}}},mounted:function(){var e=this;this.$bus.$on("room.deviceTestShow",(function(){console.info("箭头函数 监听 room.deviceTestShow,filePath:renderer/components/Classroom/LargeClass/base/room/modules/deviceTest/index.vue"),e.sendLogger("点击打开设备检测弹窗"),e.showModal()}))},methods:{showModal:function(){console.info("对象函数 showModal,filePath:renderer/components/Classroom/LargeClass/base/room/modules/deviceTest/index.vue"),this.visible=!0,this.rtcEngine=window.RTC_COMMON.rtcEngine,this.getDevices(),this.getDefaultDevices(),this.getMediaAccess()},hideModal:function(){console.info("对象函数 hideModal,filePath:renderer/components/Classroom/LargeClass/base/room/modules/deviceTest/index.vue"),this.visible=!1},handleOk:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 handleOk,filePath:renderer/components/Classroom/LargeClass/base/room/modules/deviceTest/index.vue"),t.next=3,Object(kt["e"])(e.defaultVideoDeviceId);case 3:return t.next=5,Object(kt["d"])(e.defaultAudioRecordingDeviceId);case 5:return t.next=7,Object(kt["c"])(e.defaultAudioPlaybackDeviceId);case 7:e.$bus.$emit("setDefaultVideoDevice",e.defaultVideoDeviceId),e.$bus.$emit("setDefaultAudioRecordingDevice",e.defaultAudioRecordingDeviceId),e.$bus.$emit("setDefaultAudioPlaybackDevice",e.defaultAudioPlaybackDeviceId),e.sendLogger("设置默认设备, 摄像头: ".concat(e.defaultVideoDeviceId,", 麦克风: ").concat(e.defaultAudioRecordingDeviceId,", 扬声器: ").concat(e.defaultAudioPlaybackDeviceId)),e.hideModal();case 12:case"end":return t.stop()}}),t)})))()},handleChangeVideoDevice:function(e){console.info("对象函数 handleChangeVideoDevice(val)",e,"filePath:renderer/components/Classroom/LargeClass/base/room/modules/deviceTest/index.vue"),this.defaultVideoDeviceId=e},handleChangeAudioRecordingDevice:function(e){console.info("对象函数 handleChangeAudioRecordingDevice(val)",e,"filePath:renderer/components/Classroom/LargeClass/base/room/modules/deviceTest/index.vue"),this.defaultAudioRecordingDeviceId=e},handleChangeAudioPlaybackDevice:function(e){console.info("对象函数 handleChangeAudioPlaybackDevice(val)",e,"filePath:renderer/components/Classroom/LargeClass/base/room/modules/deviceTest/index.vue"),this.defaultAudioPlaybackDeviceId=e},getDevices:function(){console.info("对象函数 getDevices,filePath:renderer/components/Classroom/LargeClass/base/room/modules/deviceTest/index.vue");var e=this.rtcEngine.getVideoDevices(),t=this.rtcEngine.getAudioRecordingDevices(),s=this.rtcEngine.getAudioPlaybackDevices();this.videoDevices=e,this.audioRecordingDevices=t,this.audioPlaybackDevices=s,this.sendLogger("查询设备列表, 摄像头: ".concat(JSON.stringify(e),", 麦克风: ").concat(JSON.stringify(t),", 扬声器: ").concat(JSON.stringify(s)))},getDefaultDevices:function(){console.info("对象函数 getDefaultDevices,filePath:renderer/components/Classroom/LargeClass/base/room/modules/deviceTest/index.vue");var e=this.rtcEngine.getCurrentVideoDevice(),t=this.rtcEngine.getCurrentAudioRecordingDevice(),s=this.rtcEngine.getCurrentAudioPlaybackDevice();this.defaultVideoDeviceId=e,this.defaultAudioRecordingDeviceId=t,this.defaultAudioPlaybackDeviceId=s,this.sendLogger("查询当前默认使用设备, 摄像头: ".concat(e,", 麦克风: ").concat(t,", 扬声器: ").concat(s))},getMediaAccess:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 getMediaAccess,filePath:renderer/components/Classroom/LargeClass/base/room/modules/deviceTest/index.vue"),t.next=3,Object(se["c"])();case 3:return e.cameraStatus=t.sent,t.next=6,Object(se["f"])();case 6:e.microphoneStatus=t.sent,e.sendLogger("查询当前媒体权限，摄像头：".concat(e.cameraStatus,", 麦克风:").concat(e.microphoneStatus));case 8:case"end":return t.stop()}}),t)})))()},handleCameraAccess:function(){console.info("对象函数 handleCameraAccess,filePath:renderer/components/Classroom/LargeClass/base/room/modules/deviceTest/index.vue"),this.sendLogger("点击打开摄像头权限设置"),oe["nativeApi"].openPreferences("security","camera")},handleMicrophoneAccess:function(){console.info("对象函数 handleMicrophoneAccess,filePath:renderer/components/Classroom/LargeClass/base/room/modules/deviceTest/index.vue"),this.sendLogger("点击打开麦克风权限设置"),oe["nativeApi"].openPreferences("security","microphone")},sendLogger:function(e){T["a"].send({tag:"deviceTest",content:{msg:e}})}}},Rr=Lr,Er=(s("f567"),Object(Oe["a"])(Rr,Or,Tr,!1,null,"2b00cea4",null)),Nr=Er.exports,Br=s("9f80"),Vr=function(){var e=this,t=e._self._c;return e.showGraffiti?t("div",{staticClass:"correct-graffitiContainer",style:e.grafftiStyle,attrs:{id:"correct-graffitiContainer"}},[t("GraffitiView",{ref:"graffiTool",attrs:{options:e.smallClassGraffitiOptions,widthAndHeight:{width:e.width,height:e.height},marginLeft:e.marginLeft},on:{submit:e.submitPhoto,photoData:e.getPhotoData}}),t("UploadProgress",{attrs:{classType:e.options.classType,percent:e.percent,visible:e.showUploadProgress}})],1):e._e()},Dr=[],Ur=s("753a"),_r=s("c5f1"),Gr=function(e){Object(S["a"])(s,e);var t=Object(y["a"])(s);function s(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.info("函数申明 Main(opts)",o,"filePath:renderer/components/Classroom/CommonModules/smallClassGraffitiCorrect/graffiti.js"),Object(A["a"])(this,s),e=t.call(this),e.options=o,console.log(e.options.roomMessage.roomInfo,"this.options"),e}return Object(w["a"])(s,[{key:"clearTipTimer",value:function(){this.tipTimer&&(clearTimeout(this.tipTimer),this.tipTimer=null)}},{key:"closeTip",value:function(e,t,s){if(e&&(this.clearTipTimer(),t>0))var o=setTimeout((function(){e.parentNode.removeChild(e),clearTimeout(o),o=null,s&&s()}),t)}},{key:"showShortCutTip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,t=JSON.parse(window.sessionStorage.getItem("photoWallShortCutTip"));if(!t){var s=document.createElement("div");s.setAttribute("class","shortCutTip animateTada"),s.innerHTML="\n      <p>Tips: Tap this space bar to take photos</p>\n    ",document.getElementById("correct-graffitiContainer").appendChild(s),window.sessionStorage.setItem("photoWallShortCutTip",!0),this.closeTip(s,e)}}},{key:"showNotjoinTip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.callback,s=e.className,o=void 0===s?null:s,n=e.duration,a=void 0===n?3e3:n,i=e.dom,r=void 0===i?"correct-graffitiContainer":i,c=document.createElement("div");c.setAttribute("class","notJoinTip ".concat(o||"")),c.innerHTML="\n      <p>The teacher has closed the question Look forward to your participation next time!</p>\n    ",document.getElementById(r).appendChild(c),this.closeTip(c,a,t)}},{key:"showCoinsTip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.coins,e.duration),s=void 0===t?3e3:t,o=e.callback,n=void 0===o?null:o,a=e.dom,i=void 0===a?"correct-graffitiContainer":a,r=document.getElementById("submitTipContainer");r&&r.parentNode.removeChild(r);var c=document.createElement("div");c.setAttribute("class","wallConisTip animateTada"),c.innerHTML="\n      <p>Submitted Successfully</p>\n    ",document.getElementById(i).appendChild(c),this.closeTip(c,s,n)}},{key:"showSubmitTip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.duration,s=void 0===t?3e3:t,o=e.callback,n=void 0===o?null:o,a=e.text,i=e.icon,r=e.dom,c=void 0===r?"correct-graffitiContainer":r,l="loading"===i?0:s,u=document.getElementById("submitTipContainer");u&&u.parentNode.removeChild(u);var d=document.createElement("div");d.setAttribute("id","submitTipContainer"),d.setAttribute("class","submitTipContainer"),d.innerHTML='\n      <div class="tipContainer">\n        '.concat(i?'<i class="'+i+'"></i>':"","\n        <p>").concat(a,"</p>\n      </div>\n    "),document.getElementById(c).appendChild(d),this.closeTip(d,l,n)}},{key:"interactOpen",value:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(){var t;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={planId:1*this.options.roomMessage.roomInfo.stuLiveInfo.planId,classId:1*this.options.roomMessage.roomInfo.stuLiveInfo.classId,interactId:this.options.ircMsg.interactId},e.next=3,Object(_r["b"])(t);case 3:case"end":return e.stop()}}),e,this)})));function t(){return console.info("函数申明 interactOpen, filePath:renderer/components/Classroom/CommonModules/smallClassGraffitiCorrect/graffiti.js"),e.apply(this,arguments)}return t}()},{key:"submitPhoto",value:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(t){var s,o,n;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(this.options,"this.options2"),s={planId:1*this.options.roomMessage.roomInfo.stuLiveInfo.planId,classId:this.options.roomMessage.roomInfo.stuLiveInfo.classId,tutorId:this.options.roomMessage.roomInfo.stuLiveInfo.tutorId,photoPath:t,interactId:this.options.ircMsg.interactId,teacherId:this.options.roomMessage.roomInfo.teacherInfo.id,version:722},e.next=4,Object(_r["d"])(s);case 4:return o=e.sent,0===o.code&&o.data&&(n=o.data.rightCoin,g.a.prototype.$bus.$emit("updateAchievement","add",n)),console.log(o,"互动的金币"),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return console.info("函数申明 submitPhoto(_x)",t,"filePath:renderer/components/Classroom/CommonModules/smallClassGraffitiCorrect/graffiti.js"),e.apply(this,arguments)}return t}()},{key:"getWallStatus",value:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(){var t,s;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={planId:1*this.options.roomMessage.roomInfo.stuLiveInfo.planId,interactId:this.options.ircMsg.interactId},e.next=3,Object(_r["a"])(t);case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e,this)})));function t(){return console.info("函数申明 getWallStatus, filePath:renderer/components/Classroom/CommonModules/smallClassGraffitiCorrect/graffiti.js"),e.apply(this,arguments)}return t}()}]),s}(Ur["a"]),Wr=function(){var e=this,t=e._self._c;return t("div",{staticClass:"correct-photoShotContainer"},[t("div",{class:2==e.classType?"smallClassTools":"tools"},[t("div",{staticClass:"graffitiTools"},[t("i",{staticClass:"draw draw-yellow select yellow_penCursor",on:{click:function(t){return e.graffitiDraw("yellow","#ffcf1b",t)}}},[e._v(" "+e._s(e.$t("classroom.modules.smallClassGraffitiCorrect.yellow"))+" ")]),t("i",{staticClass:"draw draw-red",on:{click:function(t){return e.graffitiDraw("red","#ff503f",t)}}},[e._v(" "+e._s(e.$t("classroom.modules.smallClassGraffitiCorrect.red"))+" ")]),t("i",{staticClass:"draw draw-blue",on:{click:function(t){return e.graffitiDraw("blue","#1572ff",t)}}},[e._v(" "+e._s(e.$t("classroom.modules.smallClassGraffitiCorrect.blue"))+" ")]),t("i",{staticClass:"draw eraser",on:{click:e.graffitiEraser}})]),t("div",{staticClass:"userTools"},[t("a-button",{staticClass:"submit-btn",attrs:{shape:"round"},on:{click:e.confirm}},[e._v(e._s(e.$t("common.done")))])],1)]),t("div",{staticClass:"correct-graffitiWrapper",attrs:{id:"correct-graffitiWrapper"}})])},Hr=[],Fr=s("6e4d"),qr=s.n(Fr),Jr={name:"smallClassGraffiti",props:{closeInteractive:{style:Boolean,default:!1},options:{type:Object,default:function(){}},widthAndHeight:{type:Object,default:function(){return{}}},marginLeft:{type:Number,default:0}},created:function(){},data:function(){return{graffiti:null,dialogVisible:!1,dialogContent:null,dialogDescription:null,classType:0,timer:null,submiting:!1,graffitiInit:{dom:"correct-graffitiWrapper",width:840,height:630,quality:.8,lineColor:"#f4ac3e",background:"",lineSize:3}}},components:{},mounted:function(){var e=this;this.$nextTick(Object(x["a"])(Object(I["a"])().mark((function t(){return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.initGraffitiDraw();case 1:case"end":return t.stop()}}),t)})))),window.addEventListener("resize",this.setGraffitiScale)},computed:{},methods:{initGraffitiDraw:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 initGraffitiDraw,filePath:renderer/components/Classroom/CommonModules/smallClassGraffitiCorrect/components/graffiti.vue"),e.classType=e.options.roomMessage.roomInfo.commonOption.classType,s=document.querySelector("#correct-graffitiContainer"),2==e.classType?(e.graffitiInit.width=e.widthAndHeight.width,e.graffitiInit.height=e.widthAndHeight.height):(e.graffitiInit.width=s.clientWidth,e.graffitiInit.height=s.clientHeight),e.graffitiInit.background=e.options&&e.options.ircMsg.imageUrl||"#000000",t.next=7,qr.a.init(e.graffitiInit);case 7:e.graffiti=t.sent,e.graffiti.setAttribute("class","yellow_penCursor"),qr.a.draw();case 10:case"end":return t.stop()}}),t)})))()},setGraffitiScale:Ae()((function(){var e=document.querySelector("#correct-graffitiContainer"),t=document.querySelector("#correct-graffitiWrapper"),s=t.querySelector("canvas"),o=t.querySelector("img");2!==this.classType&&(t.style.width=o.style.width=s.style.width=e.clientWidth+"px",t.style.height=o.style.height=s.style.height=e.clientHeight+"px")}),300),setClass:function(e){console.info("对象函数 setClass(target)",e,"filePath:renderer/components/Classroom/CommonModules/smallClassGraffitiCorrect/components/graffiti.vue"),e.parentNode.children.forEach((function(e){Object(te["y"])(e,"select")})),Object(te["a"])(e,"select")},graffitiDraw:function(e,t,s){console.info("对象函数 graffitiDraw(abstractColor, specificColor, e)",e,t,s,"filePath:renderer/components/Classroom/CommonModules/smallClassGraffitiCorrect/components/graffiti.vue"),this.setClass(s.target),this.graffiti.setAttribute("class","".concat(e,"_penCursor")),qr.a.lineColor(t),qr.a.draw()},graffitiEraser:function(e){console.info("对象函数 graffitiEraser(e)",e,"filePath:renderer/components/Classroom/CommonModules/smallClassGraffitiCorrect/components/graffiti.vue"),this.setClass(e.target),this.graffiti.setAttribute("class","eraserCursor"),qr.a.eraser(25)},createImage:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 createImage,filePath:renderer/components/Classroom/CommonModules/smallClassGraffitiCorrect/components/graffiti.vue"),t.next=3,qr.a.createImage();case 3:s=t.sent,console.log("res"),0===s.errCode&&e.$emit("photoData",s.data);case 6:case"end":return t.stop()}}),t)})))()},submitChange:function(e){console.info("对象函数 submitChange(val)",e,"filePath:renderer/components/Classroom/CommonModules/smallClassGraffitiCorrect/components/graffiti.vue"),this.submiting=e},confirm:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.info("对象函数 confirm,filePath:renderer/components/Classroom/CommonModules/smallClassGraffitiCorrect/components/graffiti.vue"),!e.submiting){t.next=3;break}return t.abrupt("return");case 3:return e.submiting=!0,t.next=6,e.createImage();case 6:e.$emit("submit");case 7:case"end":return t.stop()}}),t)})))()}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/components/Classroom/CommonModules/smallClassGraffitiCorrect/components/graffiti.vue"),window.removeEventListener("resize",this.setGraffitiScale),qr.a.destroy(),console.log("Graffiti destroy")},watch:{closeInteractive:function(e){console.info("对象函数 closeInteractive(val)",e,"filePath:renderer/components/Classroom/CommonModules/smallClassGraffitiCorrect/components/graffiti.vue"),e&&this.createImage()},widthAndHeight:function(e){console.info("对象函数 widthAndHeight(newVal)",e,"filePath:renderer/components/Classroom/CommonModules/smallClassGraffitiCorrect/components/graffiti.vue");document.querySelector("#correct-graffitiContainer");var t=document.querySelector("#correct-graffitiWrapper"),s=t.querySelector("canvas"),o=t.querySelector("div"),n=t.querySelector("img");t.style.width=o.style.width=n.style.width=s.style.width=e.width+"px",t.style.height=o.style.height=n.style.height=s.style.height=e.height+"px"}}},Kr=Jr,zr=(s("44c2"),Object(Oe["a"])(Kr,Wr,Hr,!1,null,"156c3d00",null)),Qr=zr.exports,$r=function(){var e=this,t=e._self._c;return e.visible?t("div",{staticClass:"progressContainer"},[t("div",{staticClass:"progress",class:2==e.classType?"small-class-progress":""},[t("div",{staticClass:"progress-text"},[e._v(e._s(e.$t("common.uploading"))+"… "+e._s(e.percent)+"%")]),t("a-progress",{attrs:{percent:e.percent,"stroke-color":{"0%":"rgba(255,213,24,1)","100%":"rgba(255,170,10,1)"},strokeWidth:4,showInfo:!1}})],1)]):e._e()},Yr=[],Zr={name:"photoWallProgress",props:{visible:{type:Boolean,default:!1},percent:{type:Number,default:0},classType:{type:Number,default:0}},methods:{}},Xr=Zr,ec=(s("5eb4"),Object(Oe["a"])(Xr,$r,Yr,!1,null,"d01a1546",null)),tc=ec.exports,sc={name:"Graffiti",props:{width:{type:Number,default:0},height:{type:Number,default:0},marginLeft:{type:Number,default:0},options:{type:Object,default:function(){return{}}}},components:{GraffitiView:Qr,UploadProgress:tc},data:function(){return{graffitiOptions:null,showUploadProgress:!1,closeInteractive:!1,smallClassGraffitiOptions:null,showGraffiti:!1,classType:0}},mounted:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$bus.$on("room.smallClassGraffiti",function(){var t=Object(x["a"])(Object(I["a"])().mark((function t(s){var o,n;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.sendLogger("涂鸦画板互动订正,ircMessage:".concat(s),"start"),console.log("[测试bug]smallClassGraffiti"),o=localStorage.getItem("photoWallOptions"),n="";try{n=JSON.parse(o)}catch(a){console.error("重新小班涂鸦获取option格式化错误",o)}if(e.smallClassGraffitiOptions=n,e.smallClassGraffitiOptions){t.next=8;break}return t.abrupt("return");case 8:e.graffitiOptions=new Gr(e.smallClassGraffitiOptions),e.showGraffiti=!0;case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.$bus.$on("closeGraffitiCorrect",(function(t){t&&(e.showGraffiti=!1)}));case 2:case"end":return t.stop()}}),t)})))()},computed:{getOptions:function(){var e=localStorage.getItem("photoWallOptions"),t="";try{t=JSON.parse(e)}catch(s){console.error("重新小班涂鸦获取option格式化错误",e)}return t},grafftiStyle:function(){var e=this.options.classType;return 2!==e?"{}":{height:this.height+"px",width:this.width+"px",top:Object(te["x"])(147),position:"fixed"}}},watch:{submiting:function(e){this.$refs.graffiTool.submitChange(e)}},methods:{getPhotoData:function(e){this.photoData=e},submitPhoto:function(){var e=this;return Object(x["a"])(Object(I["a"])().mark((function t(){var s,o,n,a;return Object(I["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.submiting,"this.submiting"),e.submiting=e.showUploadProgress=!0,s=new Ao["b"]({scene:"pictureWall"}),t.next=5,s.putFile({filePath:"pictureWall.jpg",file:e.photoData.blob,progress:function(t){console.log(t,"percent==="),e.percent=t},success:function(t){console.log(t,"上传照片"),e.sendLogger("上传照片成功, url: ".concat(t.url))},fail:function(t){e.showUploadProgress=!1,e.percent=0,e.graffitiOptions.showSubmitTip({text:e.$t("common.uploadFailed"),icon:"error",callback:function(){}}),console.error("上传照片失败",t),e.sendLogger("上传照片失败")}});case 5:if(o=t.sent,n=o.key,console.log(n,"uploadKey"),!n){t.next=14;break}return e.showUploadProgress=!1,t.next=12,e.graffitiOptions.submitPhoto(n);case 12:a=t.sent,0===a.code&&a.data?(e.$Message.success(e.$t("common.sumbittedSuccessfully")),e.showGraffiti=!1):(e.submiting=!1,e.percent=0,e.graffitiOptions.showSubmitTip({text:e.$t("common.submissionFailed"),icon:"error",callback:function(){}}),e.showGraffiti=!1,e.sendLogger("获得金币失败, ".concat(JSON.stringify(a))));case 14:case"end":return t.stop()}}),t)})))()},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";T["a"].send({tag:"student.Interact",content:{msg:e,interactType:"PhotopostCorrect",interactId:"",interactStage:t}})}}},oc=sc,nc=(s("9c56"),Object(Oe["a"])(oc,Vr,Dr,!1,null,"f7ac5e08",null)),ac=nc.exports,ic=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.showStatus,expression:"showStatus"}],staticClass:"teacher-on-stage",class:e.classTypeName},[t("div",{staticClass:"teacher-on-stage-module",class:[this.windowStatusClassName],style:[e.styleAttribute]},[t("div",{staticClass:"teacher-on-stage-video",class:{"teacher-off":!e.teacherVideoStatus}},[t("div",{class:{teacherOnStageVideoPostion:e.teacherVideoStatus},attrs:{id:"teacherOnStageVideo"}})]),e.isPrivateChat?t("div",{staticClass:"private-chat-title"},[e._v(" "+e._s(e.$t("classroom.modules.teacherOnStage.privateChat"))+" ")]):e._e(),t("div",{staticClass:"teacher-info"},[t("div",{staticClass:"name"},[e._v(e._s(e.teacherName))]),t("div",{staticClass:"microphone-wrapper"},[t("AudioWaves",{attrs:{microphoneStatus:e.teacherMicrophoneStatus,microphoneStyle:"bottleGreen",microphoneHeight:"17",volumeValue:e.volume}})],1)]),e.teacherOffline?t("div",{staticClass:"video-error"},[t("div",{staticClass:"wrapper"},[t("div",{staticClass:"notice"},[t("p",[e._v(e._s(e.$t("classroom.modules.teacherOnStage.notice[0]")))]),t("p",[e._v(e._s(e.$t("classroom.modules.teacherOnStage.notice[1]")))])])])]):e._e()])])},rc=[],cc=s("08fd"),lc={components:{AudioWaves:cc["a"]},data:function(){return{showStatus:!1,teacherMicrophoneStatus:!1,teacherVideoStatus:!1,teacherOffline:!1,windowStatus:"normal",originXRatio:0,originYRatio:0,WRatio:0,HRatio:0,teacherName:"",isPrivateChat:!1,volume:0,styleAttribute:{left:0,top:0,width:0,height:0},rtcService:null,classType:this.options.classType}},props:{options:{type:Object,default:null},rtcConfig:{type:Object,default:null},teacherUid:{type:String,default:""}},computed:{canCreateVideo:function(){return this.teacherVideoStatus&&this.showStatus},classTypeName:function(){return 2==this.classType?"small-class":"large-class"},windowStatusClassName:function(){return this.windowStatus},teacherId:function(){return this.options.teacherInfo.id||this.teacherUid}},mounted:function(){var e=this;this.listenerEvent(),2==this.classType?(this.fromAllStageToCreateVideo(),this.listenerRtcServiceBySmallClass()):setTimeout((function(){e.listenerRtcServiceByLargeClass()}),500)},watch:{canCreateVideo:function(e){e?this.createTeacherVideo():this.removeTeacherVideo()}},methods:{fromAllStageToCreateVideo:function(){var e=this.$store.state.smallClass.allStageDone;if(e){var t=this.$store.state.smallClass.teacherInfo;t.videoStatus&&(this.teacherVideoStatus=!0)}},listenerEvent:function(){var e=this;this.$bus.$on("teacherOnStage",(function(t){e.isPrivateChat=(null===t||void 0===t?void 0:t.privateChat)||!1,e.handlerMessage(t)})),window.addEventListener("resize",Ae()(this.updateWindowPosition,500))},listenerRtcServiceBySmallClass:function(){var e=this,t=this.thinkClass.RtcService;t.on("teacherVideoStart",(function(){e.teacherVideoStatus=!0})),t.on("teacherAudioStart",(function(){e.teacherMicrophoneStatus=!0})),t.on("teacherVideoMute",(function(t){e.teacherVideoStatus=!t})),t.on("teacherAudioMute",(function(t){e.teacherMicrophoneStatus=!t})),t.on("teacherVideoLeaveChannel",(function(){e.teacherVideoStatus=!1})),t.on("teacherAudioVolume",(function(t){e.volume=t})),t.on("teacherJoinChannel",(function(){e.teacherOffline=!1})),t.on("teacherLeaveChannel",(function(){e.showStatus=!1,e.teacherOffline=!0,e.$bus.$emit("teacherOnStageStatus",!1)}))},listenerRtcServiceByLargeClass:function(){var e=this,t=window.RTC_COMMON.teacherRtcChannel,s=window.RTC_COMMON.rtcEngine;t.on("remoteVideoStateChanged",(function(t,s,o){5===o&&0===s&&(e.teacherVideoStatus=!1),t==e.rtcConfig.teacherVideoUid&&2==s&&(e.teacherVideoStatus=!0)})),t.on("remoteAudioStateChanged",(function(t,s,o){t==e.rtcConfig.teacherAudioUid&&(0===s&&5===o&&(e.teacherMicrophoneStatus=!1),2!==s||6!==o&&0!==o||(e.teacherMicrophoneStatus=!0))})),t.on("remoteLeaveChannel",(function(t){t==e.rtcConfig.teacherAudioUid&&(e.showStatus=!1),t==e.rtcConfig.teacherVideoUid&&(e.$bus.$emit("stageLeavelChannel"),e.teacherVideoStatus=!1)})),s.on("groupAudioVolumeIndication",(function(t){t.forEach((function(t){t.uid==e.rtcConfig.teacherAudioUid&&(e.volume=t.volume)}))}))},handlerMessage:function(e){var t,s=e.pub,o=e.originXRatio,n=e.originYRatio,a=e.WRatio,i=e.HRatio,r=e.teacherName;(console.log(e,"messagemessage"),this.showStatus!=s&&this.$bus.$emit("teacherOnStageStatus",s),s)&&(this.originXRatio=o,this.originYRatio=n,this.WRatio=a,this.HRatio=i,this.teacherName=r,this.updateWindowPosition(),!this.showStatus&&null!==(t=document.getElementById("teacherOnStageVideo"))&&void 0!==t&&t.innerHTML||this.createTeacherVideo(),T["a"].send({tag:"userTrack",content:{msg:"老师上台"}}));this.showStatus=s},updateWindowStatus:function(e){this.windowStatus=e},updateWindowPosition:function(){var e=document.getElementById("interactionController").getBoundingClientRect(),t=e.width,s=e.height,o={};s/t>.75?(o={h:(s-t/4*3)/2,w:0},s-=2*o.h):(o={w:(t-s/3*4)/2,h:0},t-=2*o.w),this.styleAttribute.left=o.w+t*this.originXRatio+"px",this.styleAttribute.top=o.h+s*this.originYRatio+"px",this.styleAttribute.width=t*this.WRatio+"px",this.styleAttribute.height=s*this.HRatio+"px"},createTeacherVideo:function(){var e=this;this.$nextTick((function(){if(2==e.classType)e.thinkClass.RtcService.createTeacherVideo("teacherOnStageVideo");else{var t=window.RTC_COMMON.teacherRtcChannel,s=Number(e.rtcConfig.teacherVideoUid);t.setupRemoteVideo(s,document.getElementById("teacherOnStageVideo"))}}))},removeTeacherVideo:function(){this.$nextTick((function(){var e=document.getElementById("teacherOnStageVideo");e&&(e.innerHTML="")}))}}},uc=lc,dc=(s("c953"),Object(Oe["a"])(uc,ic,rc,!1,null,"6aa18512",null)),hc=dc.exports,mc={components:{CountDown:Ki,OrientationCoins:er,ContinuousCorrect:ir,ClassPraise:mr,TutorVideoLink:Ar,DeviceTest:Nr,SmallClassRank:xr,LiveKickout:Br["a"],SmallClassGraffitiCorrect:ac,TeacherOnStage:hc},props:{options:{type:Object,default:null},stuInfo:{type:Object,default:null},rtcConfig:{type:Object,default:null}}},pc=mc,fc=Object(Oe["a"])(pc,_i,Gi,!1,null,null,null),vc=fc.exports,gc=s("1c07");g.a.use(eo.a);var Cc=function(e){Object(S["a"])(s,e);var t=Object(y["a"])(s);function s(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.info("函数申明 Room(options)",o,"filePath:renderer/components/Classroom/LargeClass/base/room/live.js"),Object(A["a"])(this,s),e=t.call(this),e.options=o,e.initRoom(),e}return Object(w["a"])(s,[{key:"initRoom",value:function(){console.log("initRoom",this.options);var e=this.options,t=e.videoGroupDom,s=e.controllerDom,o=e.headerDom,n=e.roomModulesDom;this.videoGroup=this.init(t,bi),this.controllerVm=this.init(s,Ui),this.headerVm=this.init(o,na),this.roomModulesVm=this.init(n,vc)}},{key:"init",value:function(e,t){var s=this.createVueRoom(t);return this.render(e,s),s}},{key:"createVueRoom",value:function(e){var t=g.a.extend(e),s=null,o=this.createRoomProps();return s=new t({i18n:ne["b"],propsData:o}),s.$mount(),s}},{key:"createRoomProps",value:function(){console.log("live-createRoomProps",this.options);var e=this.options.roomMessage,t=e.moduleInfo,s=e.roomInfo,o={options:s.commonOption,stuInfo:s.stuInfo,moduleInfo:t,planId:s.planInfo.id,planName:s.planInfo.name,skinType:s.configs.skinType,isPlayBack:s.isPlayBack,playerOptions:s.playerOptions,planInfo:s.planInfo,rtcConfig:s.configs.rtcConfig};return o}},{key:"eventHandler",value:function(e){console.log("roomInteraction",e)}}]),s}(gc["a"]),bc=s("8138"),Ac=s("5e36"),wc=s("6ce8"),Sc=function(e){Object(S["a"])(s,e);var t=Object(y["a"])(s);function s(){var e;return Object(A["a"])(this,s),e=t.call(this),e.options=null,e.isAudition=!1,e.interactionList=bo["b"],e.submit=!1,e.tutorVideoLinkStatus=!1,e.interactionMap=new Map,e}return Object(w["a"])(s,[{key:"eventHandler",value:function(e){console.log("interaction-eventHandler",e);var t=e.type,s=e.data,o=e.roomMessage;this.options=o,this.isAudition=o.roomInfo.commonOption.isAudition,"onRecvRoomDataUpdateNotice"===t&&this.handleRoomNotice(s)}},{key:"handleRoomNotice",value:function(e){var t=this;if(e.datas){var s=!e.msgId;e.datas.forEach(function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(o,n){var a,i,r,c,l,u,d,h,m,p,f,v,C,b,A,w,S,y,P,k,x,O,j,M,L;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isAudition||!Ac["a"].includes(n)){e.next=2;break}return e.abrupt("return");case 2:if(i=JSON.parse(o.value),r=i[n]||i.data,c=i.sendTime,"classmode"===n&&Object(at["b"])(n,Object($s["a"])({},n,r)),!t.tutorVideoLinkStatus||"video_mic"!==n&&"speech_interact"!==n&&"random_video_mic"!==n&&"mult_video_mic"!==n){e.next=8;break}return e.abrupt("return");case 8:if("canvas_switch_courseware"!==n){e.next=11;break}return Y["a"].emit("player",{type:"canvasSwitchCourseware",data:r}),e.abrupt("return");case 11:if(console.log("interact测试日志：","存储列表：",t.interactionMap),l=t.interactionMap.get(n),console.log("interact测试日志：","获取对应存储数据：",l,null===l||void 0===l||null===(a=l.ircMsg)||void 0===a?void 0:a.sendTime),console.log("interact测试日志：","收到的消息",i,c),!l||c!==l.ircMsg.sendTime){e.next=19;break}return console.log("interact测试日志：","抛弃消息",t.interactionMap),T["a"].send({tag:"irc",level:"error",content:{msg:"收到和已存在互动相同的消息"}}),e.abrupt("return");case 19:if(u="收到KV消息(".concat(s?"历史":"实时",") => ").concat(n),"canvas_switch_courseware"!==n&&T["a"].send({tag:"irc",content:{msg:u,params:r}}),"countDown"!==n){e.next=24;break}return g.a.prototype.$bus.$emit("room.countDown",r),e.abrupt("return");case 24:if("sendGiftBarrage"!==n){e.next=28;break}return h=null===(d=t.interactionMap.get("openGift"))||void 0===d?void 0:d.instance,h&&h.vm.receiveGiftBarrage(r),e.abrupt("return");case 28:if("vote_data"!==n){e.next=32;break}return p=null===(m=t.interactionMap.get("vote"))||void 0===m?void 0:m.instance,p&&p.vm.getVoteStatistics(r),e.abrupt("return");case 32:if("video_mic"!==n){e.next=38;break}if(v=null===(f=t.interactionMap.get("video_mic"))||void 0===f?void 0:f.instance,!v){e.next=38;break}return v.vm.videoLinkMessage(r),r.open||t.destroy(n),e.abrupt("return");case 38:if("video_mic_f"!==n){e.next=41;break}return g.a.prototype.$bus.$emit("room.tutorVideoLink",r,(function(e){var s=e.status;console.log("tutorVideoLink-status",s),t.tutorVideoLinkStatus=s})),e.abrupt("return");case 41:if("classroom_praise"!==n){e.next=45;break}if(!r.pub){e.next=45;break}return g.a.prototype.$bus.$emit("room.showPraiseTreasure",r),e.abrupt("return");case 45:if("distribute_coins"!==n){e.next=49;break}if(!r.pub){e.next=49;break}return g.a.prototype.$bus.$emit("room.orientationCoins",r),e.abrupt("return");case 49:if("praise"!==n){e.next=51;break}return e.abrupt("return",g.a.prototype.$bus.$emit("endCorrectPhotoWall",r,s));case 51:if("student_rank"!==n){e.next=55;break}if(!r){e.next=55;break}return g.a.prototype.$bus.$emit("room.smallClassRank",r),e.abrupt("return");case 55:if("video_bet_student"!==n){e.next=58;break}return r.pub?g.a.prototype.$bus.$emit("remoteAudioStatus",!0):g.a.prototype.$bus.$emit("remoteAudioStatus",!1),e.abrupt("return");case 58:if("mult_video_mic"!==n){e.next=63;break}if(b=null===(C=t.interactionMap.get("mult_video_mic"))||void 0===C?void 0:C.instance,!b||!r.pub||1==r.status||s){e.next=63;break}return b.vm.receiveMessage(r),e.abrupt("return");case 63:if("teacher_video_mic"===n&&g.a.prototype.$bus.$emit("teacherOnStage",r),"graffiti_board_video"===n&&((null===r||void 0===r?void 0:r.userId)!=t.options.roomInfo.commonOption.stuId?g.a.prototype.$bus.$emit("teacherOnPrivateChat",r):(r.status=1,g.a.prototype.$bus.$emit("teacherOnStage",r)),g.a.prototype.$bus.$emit("changeAudioStatus",r)),"class_examination"===n&&g.a.prototype.$bus.$emit("classExamination",r),"red_packet_rain"!==n){e.next=90;break}if(A=r.pub,w=r.action,S=t.interactionMap.get(n),!A){e.next=90;break}if(!S||"start"!==w){e.next=72;break}return e.abrupt("return");case 72:if("play"!==w){e.next=90;break}if(y=localStorage.getItem("redPacketRainKey"),P=localStorage.getItem("redPacketRainStatus"),y!==r.interactId||"end"!==P){e.next=78;break}return S&&t.destroy(n),e.abrupt("return");case 78:if(!S||""!==P&&"start"!==P){e.next=81;break}return S.instance.vm.play(),e.abrupt("return");case 81:if(k=t.options.roomInfo.commonOption.timeOffset+ +new Date,console.log("redpacketRainTime",t.options.roomInfo.commonOption.timeOffset,k,i.sendTime),!(k>i.sendTime+1e4)){e.next=85;break}return e.abrupt("return");case 85:return e.next=87,Object(wc["b"])(t,{interactId:r.interactId,planId:t.options.roomInfo.commonOption.planId,userId:t.options.roomInfo.commonOption.stuId});case 87:if(x=e.sent,!x){e.next=90;break}return e.abrupt("return");case 90:if(!bo["b"][n]){e.next=107;break}if(O=r.pub,j=r.open,M=r.publishTopic,!(O||j||M)){e.next=106;break}if("class_praise_list"!==n||!r.isUpdate){e.next=101;break}if(!s){e.next=99;break}return e.next=97,t.render({key:n,noticeContent:r,isHistory:s,sendTime:c});case 97:e.next=100;break;case 99:g.a.prototype.$bus.$emit("update_praise_list",r);case 100:return e.abrupt("return");case 101:L=t.interactionMap.get(n),L&&t.destroy(n,!1),t.render({key:n,noticeContent:r,isHistory:s,sendTime:c}),e.next=107;break;case 106:!1!==O&&!1!==j&&0!==O&&0!==j&&!1!==M||t.destroy(n);case 107:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}())}}},{key:"addExtraTimeParams",value:function(e){this.interactionContent.sendTime=e.sendTime<1e3*window._requestBasicEnterServerTime?1e3*window._requestBasicEnterServerTime+((new Date).getTime()-window._requestBasicTime):e.sendTime,this.interactionContent.getIrcLocalTime=(new Date).getTime()}},{key:"render",value:function(){var e=Object(x["a"])(Object(I["a"])().mark((function e(t){var s,o,n,a,i,r,c,l;return Object(I["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=t.key,o=t.isHistory,n=t.noticeContent,a=t.sendTime,i=this.interactionList[s],!i){e.next=11;break}return r={roomMessage:this.options,ircMsg:n,isHistory:o},e.next=6,i();case 6:c=e.sent,l=new c.default(r),this.interactionMap.set(s,{instance:l,ircMsg:Object(J["a"])(Object(J["a"])({},n),{},{sendTime:a})}),e.next=12;break;case 11:console.error("未实现这种互动");case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=this.interactionMap.get(e);if(s){var o=s.instance,n=s.ircMsg;this.interactionMap.delete(e),o.vm.destroyInteraction?o.vm.destroyInteraction({ircMsg:n,isNeedSubmit:t}):o.destroy({options:this.options,submit:this.submit,ircMsg:n})}}}]),s}(bc["a"]);s("e8a0"),s("0b2c");window.RTC_COMMON={RtcEngine:f["a"]},g.a.use(p["a"]),g.a.use(m["a"]),g.a.use(h["a"]),g.a.use(d["a"]),g.a.use(u["a"]),g.a.use(l["a"]),g.a.use(c["a"]),g.a.use(r["a"]),g.a.use(i["a"]),g.a.prototype.$Modal=m["a"],g.a.prototype.$Message=a["a"],g.a.prototype.$Notification=n["a"],Object(b["a"])(g.a),Object(b["b"])(),g.a.prototype.$bus=new g.a,g.a.prototype.$store=C["a"],new k({Logger:{module:q,options:{}},Initer:{module:de,options:{}},Player:[{module:ss,options:{}}],SignalService:{module:dt["a"],options:{}},Chat:{module:zs,options:{}},InteractionHandler:{module:Sc,options:{}},Room:[{module:Cc,options:{}}],ExceptionHandler:{module:Zs,options:{}}})},cff8:function(e,t,s){"use strict";s("ce08")},d46a:function(e,t,s){},d46f:function(e,t){e.exports="data:image/png;base64,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"},d6590:function(e,t,s){},d787:function(e,t){e.exports=require("punycode")},d9d3:function(e,t,s){"use strict";s("91ec")},d9e5:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAACTUExURUdwTP/AD/+4Df/LE/+2DP/CEP/ADv++Bf/AD//AEP+2DP/LE//ADf+zC//EEP/JEv+/D//LE/++D//FEv/KE//NFP/OFP+3Df+/EP/FEv+5Dv/////HEv+7Dv+1DP/BEP/LFP+9EP+zDP/DEv/NFP/JFP/JEv/DEP+xDP+9Dv/89P/QTv/ikP/de//qq//01f/HLEyeD+gAAAAXdFJOUwCO0LPpN0sIcF+z0Rr3IuL0+abu6/DqT1WinQAABE9JREFUWMOdmOmWojAQhdlsQJtWj91NjCzGwDRjb77/001WspAgTuD3d25VbqoqCYKZtcrDdRQlRZEk0TrMV8H/rOdsnTTN5dKUZF2KoRiGIVlnz49R0nwNSwgpo2zYulwGvtZ5uhyTJRBSDCU19CMgghKwJEuXYlANIUeNmkpOegC1imrJEdE1nHVRoGGI7iU+DWuE6lqRuKTyMkGFs6JeIoKhoBrWpqbGBg3Ri5/zlLQIcUWKJDQpSRKVPHk5O85BXBMySQokSYWHlLeMI4MjipACcVJpkobcyQEAILkoCI1bB33RuUirHTBICCKI4CQ6i1RMbPCyw61OqhmJo0pHoqSkwtq7NMKALyWJB4eUJi7J0hSZoBC37YSkgpvzU2gkiHAmJCRISD92joxraUo3DCRICMgs6Zqg10+ROixZK5ZBQgaphN69y0ZBB4yxTgLIJBl7N40ukZKyI75DmnrcIAlJ6SvmIKxAE5LP47qkHGOsJDldMKJEdLaf+EmJj0essyzS5+/19xNax8Xy05r1neNxjvR9Op2u11tp5MmovhRFu1RWeUjUBTXlkPVtucDeuoxFVtkgRRKc03c55txZC2hshyNfDtLfL8G53oyiovUpAUrIMeuZIidp5HxCzZmuWkAOXF5VNoj5qQVYcaibjGNn9ztigHDfVy5JLf7R9CBkSbL9FAZxVY2a9JSDH00PU+Q4d6OfSLY3vQZSJE1PjTD5ZImyaqaMLgq2feUiSY69rl+GxYWfmiIJXvveEdzXybu+Sl2T9FMS7Pt+qqm9+kFXp58KBdJJH78zoLK2/MRBJLT+j4HC+HicC832E1tJsD33oyaN5E92CWvLT1RTQra/n5AI66a2n2UfYF5YIGRzil3HmyiIz72GGkEfWDckkL+cMPR2zkjrIDRAWsY/FAlwQaJP1Ug/d4wEizDIOyeJbp06tBhxDhjHAnqI9ZqZB6vzWZKs6LS9+zQkqW4+Fs2G9O03Rap8pOuNHjdVyGuzGNDdJ6X2PJIsP5FvLLUUgo0updcnSEtt1nW2Js1PsvhTAyDf1FNCWvyf9+ezh0RFffPQANu51j0XoIJdmmImyZNx/EEb5I1ZErXO+UlERlo2B3kzTqqcNHdrTD0iT+TnLTt97wxNlav4AgwmpDFPcq7JhCRfdKL4YjWtmHuH5KSVvnWz0amOQCSZeYI0wHHQUpLcfholeSbWTBtGO6cmm0RbJ55MYtowGqw6S5PtJ8WaTofGLSLsbE3uLuUgheYVQgU3l/F2Oo9H1pX05a3r5vbOMz+h3eRCutpPNLn9pE+HADlu2/l+UXQm6cl11867bpGftITnnstx59HknJ8A2OW+14PV21I/UdDhaeYBYbPUT20794BAnzSWZRzj8O4jy2aJnzarJc8+7/f8dFj8gvQ+V5+22QNvWnm8d/sJxw88jYnHunjSgw/xo4916vkw3mxf9/vX7Sa+83z4D98F1zcKKGaFAAAAAElFTkSuQmCC"},da52:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAHXUExURUdwTP/36v/t0P/99f/vsf/++//Nq/7tsP/xtP7tsf/u2//s1f7tr/7trv/xuv/tsP/9+f/15P7tsP3uu//v1fzrs//ssv////7rtf///f3suf3trf/06fzjsv/s2f/t2//v3v/v3P703v/r1v736P//////////5//////s2f/t1//r1/354f3ts//98f///f/t2////+FSGHg8AP/V1f/JYP/+/P///f7vtv7tsf/05v3trf3tr/7wuv/7+P7xvv7ts/7rq//t2//58f/v3f/48P/9+f3tq//+9/70zv/68//v3//37f7wxP/69v7zyP/x5P/10//33P/12P/55f/16f/qtP//+//suv7xwf/u2f/87v/v6//w0P/54f/17P/y4P/98//i4f7yxf/d2v/76v7swf7psP/rysqXfrSPa+PVxf/Z1frh0//NbOqGV/nVxv/uyONfJn5DCJZiMYlQGuFVGv3vs/Xx7f7DXOvj2uVtO7udff/trfmxUNGjjum7r/THuaJxRsmxmOVnK/nNyuuLYe2ZdfXBq+2GNv/o5//ajvGvk/CkgPz18+t9Mf3RhKuFXP/v1durmfu7WP/l2/3R0f3hndG9p/GXQO2HPP3pvdmpmTg54hkAAAAxdFJOUwATaBdo8QT2FI71/sruGFVoJLdQ7iR0js/L79tS+NvJdI3PU/JW2wS3j7fPdNuNdLc+bPFzAAAErklEQVRIx+2X+VcaVxTHXVhUFo1rtLVJYxKTtmlLwHGUYWBYRWUTzTkgoCLO4G5cGLdjNHFJOCmxnpSknfyxve8NKjPgkp/aH3LxcM4c5/O+33vffddnRcW3+O+j+lHbk8dKpUH5+Enbo+qvISsb2g3FQbQ3VN5WtE0pQQ29BDGg/PU28t2/yVCkTLinZh7+0n0Te6e9F2nJpd1T46OJBy3Xs98rCRS9cttu//hMItTcdB3bkPP73W6CkEojeMAxmhjxTlddww4P+mmaBlYKG3rdA+B7xBuIKK70PDbhGvQjYUJqGypGT43PjIS8EcsVzu88nEAwTcht43IPDM4kwt5pa0fZqnU/iPVfwLJqgzaNfIcCEfKuqgx8PxgE25BzqbC40+Ob2DfZWqav6gpwqTCmC759FlKtL4F/HAr2j7kGabxRn/+c25YZd0OToXpbLXxtyVmoGwoGz4XnjEbj2ryEnp/PDeCkWZJX18jgKjsoDzsAhheNKNaLPG+/huccJI18833yzb43NBRErpHwGwwbL9jNOfw8Dx0aDkDSfVpZuezOoX5ca3gZ4LVLmH6zJi42P1WoGEVJfXc5EezwZ5OpVPJVsfLmuvi0NpdKpezQ3gLPU/US+KndDhsVM6HIz+KXC/CuyK7vm/LoowlYyT6ztN6/R53BsSxGTabZYuVdvJDx9UFeXDlt5W1UowT+wQ7wAkZl8PZGwfYs/m1+gSUp83cSuBl2Kmi6VC4qWG6uULB98fcsT1E6CVwHcAxnBSEWbONiq2CXEf9FXFogKY+6BJ5Iicr5I+x097LF/V821owbR3jpBQsvh5ujAMcKOZv212Fn/EWdnc2/mj0Sl2ZJG8XoZAUD2IW0UVFM2c2c9FDFRMumhXTEwpsZacF+QtV2+YlYNpnMxkqGGGGgY8lk6q+oNyDYKA8j3aqnUQzTBvn8Oh8kMEmgO0PeaZQyI22SLtxhcJoN5SYBmvowC0bDYRhDkLJH2p7VGjucSDTADLHj1Z3lk/dvD1ZWFiFWVg7evj9Z3lldjqJjIfCU2cPIDvQ9SHrChWb28fOykckso7mNXWtLhoETn2eaOMSvlsEPQ16fFQsrSsaQHc5kDnwfi2jm4oOf4WcZWAuwHl1NyQBE0qhkixmpcKbwlekMsGDazDAlA7BCjzsUTcATifDqh7/3Pm5t9Xw8RSzHgLC+zNCPOoGGGZjbyZxLZ97t9fRs9aBYgukF58nDeMoM/QrVz1HQHht2DC6uitKZd1sFElietWKW0arK/qFr1kDe/cMux8oqUj7cK4CwwhIHnnkOKq1rKQtXdGnONFHnZP/YzOLO88yHCxJ0bQIp6jJXXg6q0mlNPBqeTCQm//in5zI+CSBLga7Ho7j6alAlpNPpePwsGh45Y06XsOFTQBFLAdqpuO5S0tQhpNn0S2887o17Qy/ZiM8XsQJLcZTZbNY1XX8darkrQLCsj/VBsBHWYiFh1kJjcWZty00XMVVrZ6fwAq0gWAQSQBtHUZAvpWtVqW6+A+prOzmOo2wUZ+NtL3gOCfPqWv0tb581Ci3iIUCXhy+tovJrLr76+trGZzq1uuNZY219zbd/If4H8S+Ps++9s5oqAgAAAABJRU5ErkJggg=="},dad2:function(e,t,s){"use strict";s.d(t,"a",(function(){return d}));var o=s("c7eb"),n=s("1da1"),a=s("d4ec"),i=s("bee2"),r=s("262e"),c=s("2caf"),l=(s("b64b"),s("99af"),s("8bbf"),s("753a")),u=s("c5f1"),d=function(e){Object(r["a"])(s,e);var t=Object(c["a"])(s);function s(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.info("函数申明 Main(opts)",o,"filePath:renderer/components/Classroom/CommonInteractions/photoWall/photoWall.js"),Object(a["a"])(this,s),e=t.call(this),e.options=o,e.tipTimer=null,e}return Object(i["a"])(s,[{key:"clearTipTimer",value:function(){this.tipTimer&&(clearTimeout(this.tipTimer),this.tipTimer=null)}},{key:"closeTip",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(e&&(this.clearTipTimer(),t>0))var n=setTimeout((function(){var t,a;null!==e&&void 0!==e&&e.parentNode&&o&&(null===e||void 0===e||null===(a=e.parentNode)||void 0===a||a.classList.remove(o));null===e||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(e),clearTimeout(n),n=null,s&&s()}),t)}},{key:"showShortCutTip",value:function(e){var t=e.duration,s=void 0===t?3e3:t,o=e.tips,n=JSON.parse(window.sessionStorage.getItem("photoWallShortCutTip"));if(!n){var a=document.createElement("div");a.setAttribute("class","shortCutTip animateTada"),a.innerHTML="\n      <p>".concat(o,"</p>\n    "),document.getElementById("photoWallContainer").appendChild(a),window.sessionStorage.setItem("photoWallShortCutTip",!0),this.closeTip(a,s)}}},{key:"showNotjoinTip",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=t.tips,o=t.callback,n=t.className,a=void 0===n?null:n,i=t.duration,r=void 0===i?3e3:i,c=t.dom,l=void 0===c?"photoWallContainer":c,u=document.createElement("div");u.setAttribute("class","notJoinTip ".concat(a||"")),u.innerHTML="\n      <p>".concat(s,"</p>\n    "),null===(e=document.getElementById(l))||void 0===e||e.appendChild(u),this.closeTip(u,r,o)}},{key:"showCoinsTip",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=t.tips,o=t.coins,n=void 0===o?0:o,a=t.duration,i=void 0===a?3200:a,r=t.callback,c=void 0===r?null:r,l=t.dom,u=void 0===l?"photoWallContainer":l,d=t.maskClass,h=void 0===d?"photoWallContainer-mask":d,m=t.tipClass,p=void 0===m?"":m,f=document.getElementById("submitTipContainer");f&&f.parentNode.removeChild(f);var v,g=document.createElement("div");(g.setAttribute("class","wallConisTip animateTada-new ".concat(p)),g.innerHTML='\n      <div class="title">\n        <div class="bg-img"></div>\n        <p>'.concat(s,"</p>\n      </div>\n    "),n&&(g.innerHTML+='<div class="coins">\n        <i></i> +'.concat(n,"\n      </div>")),h&&document.getElementById(u))&&(null===(v=document.getElementById(u))||void 0===v||null===(v=v.classList)||void 0===v||v.add(h));null===(e=document.getElementById(u))||void 0===e||e.appendChild(g),this.closeTip(g,i,c,h)}},{key:"showSubmitTip",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=t.duration,o=void 0===s?3e3:s,n=t.callback,a=void 0===n?null:n,i=t.text,r=t.icon,c=t.dom,l=void 0===c?"photoWallContainer":c,u="loading"===r?0:o,d=document.getElementById("submitTipContainer");d&&d.parentNode.removeChild(d);var h=document.createElement("div");h.setAttribute("id","submitTipContainer"),h.setAttribute("class","submitTipContainer"),h.innerHTML='\n      <div class="tipContainer">\n        '.concat(r?'<i class="'+r+'"></i>':"","\n        <p>").concat(i,"</p>\n      </div>\n    "),null===(e=document.getElementById(l))||void 0===e||e.appendChild(h),this.closeTip(h,u,a)}},{key:"initCountdownTime",value:function(){var e=+new Date,t=this.options.roomMessage.roomInfo.commonOption.timeOffset,s=1e3*this.options.ircMsg.totalTime-(e+t-this.options.ircMsg.beginTime);return s}},{key:"interactOpen",value:function(){var e=Object(n["a"])(Object(o["a"])().mark((function e(){var t;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={planId:1*this.options.roomMessage.roomInfo.stuLiveInfo.planId,classId:1*this.options.roomMessage.roomInfo.stuLiveInfo.classId,interactId:this.options.ircMsg.interactId},e.next=3,Object(u["b"])(t);case 3:case"end":return e.stop()}}),e,this)})));function t(){return console.info("函数申明 interactOpen, filePath:renderer/components/Classroom/CommonInteractions/photoWall/photoWall.js"),e.apply(this,arguments)}return t}()},{key:"submitPhoto",value:function(){var e=Object(n["a"])(Object(o["a"])().mark((function e(t){var s,n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={planId:1*this.options.roomMessage.roomInfo.stuLiveInfo.planId,classId:this.options.roomMessage.roomInfo.stuLiveInfo.classId,tutorId:this.options.roomMessage.roomInfo.stuLiveInfo.tutorId,photoPath:t,interactId:this.options.ircMsg.interactId,teacherId:this.options.roomMessage.roomInfo.teacherInfo.id,version:0},e.next=3,Object(u["d"])(s);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return console.info("函数申明 submitPhoto(_x)",t,"filePath:renderer/components/Classroom/CommonInteractions/photoWall/photoWall.js"),e.apply(this,arguments)}return t}()},{key:"getWallStatus",value:function(){var e=Object(n["a"])(Object(o["a"])().mark((function e(){var t,s;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={planId:1*this.options.roomMessage.roomInfo.stuLiveInfo.planId,interactId:this.options.ircMsg.interactId},e.next=3,Object(u["a"])(t);case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e,this)})));function t(){return console.info("函数申明 getWallStatus, filePath:renderer/components/Classroom/CommonInteractions/photoWall/photoWall.js"),e.apply(this,arguments)}return t}()}]),s}(l["a"])},dd90:function(e,t,s){"use strict";s("d46a")},dfa8:function(e,t,s){"use strict";s("c7cd");var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"toolbar",class:[{transparent:e.transparent,fixed:e.fixed,"white-button":e.whiteButton,"theme-dark":e.darkTheme}],attrs:{"data-log":"原生菜单栏"}},[t("div",{staticClass:"drag-bar",attrs:{"data-log":"drag-bar"}}),t("WindowsActionBar")],1)},n=[],a=function(){var e=this,t=e._self._c;return"win"===e.platform?t("div",{staticClass:"windows-action-bar",attrs:{"data-log":"window菜单栏"}},[t("div",{staticClass:"item",attrs:{"data-log":"最小化"},on:{click:e.handleMinimizeWindow}},[t("span",{staticClass:"icon icon-minimize"})]),t("div",{staticClass:"item",attrs:{"data-log":"关闭"},on:{click:e.handleCloseWindow}},[t("span",{staticClass:"icon icon-close"})])]):e._e()},i=[],r=s("0d52"),c=s("e39c"),l={name:"WindowsActionBar",data:function(){return{platform:Object(c["l"])()}},methods:{handleMinimizeWindow:function(){console.info("对象函数 handleMinimizeWindow,filePath:renderer/components/Common/windowsActionBar.vue"),r["nativeApi"].minimizeWindow()},handleCloseWindow:function(){console.info("对象函数 handleCloseWindow,filePath:renderer/components/Common/windowsActionBar.vue"),localStorage.removeItem("largeClassTestCoverage"),localStorage.removeItem("smallClassTestCoverage"),r["nativeApi"].closeWindow(!0)}}},u=l,d=(s("4a82"),s("2877")),h=Object(d["a"])(u,a,i,!1,null,"55cdfd22",null),m=h.exports,p={name:"Toolbar",components:{WindowsActionBar:m},props:{transparent:{default:!1,type:Boolean},fixed:{default:!1,type:Boolean},whiteButton:{default:!1,type:Boolean},disabledMaximize:{default:!1,type:Boolean},darkTheme:{default:!1,type:Boolean}}},f=p,v=(s("3ed8"),Object(d["a"])(f,o,n,!1,null,"3bd2c296",null));t["a"]=v.exports},e049:function(e,t,s){e.exports=s.p+"static/media/get-coins.dc1df50e.mp3"},e09c:function(e,t,s){"use strict";s("77bc")},e28a:function(e,t){e.exports="data:audio/mpeg;base64,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JH6uGXWdXXUN9OwC3Oky8oEGZgsqZXyZgB23ygVgWFPMbh6XQE3EKqUIgb/jMZxsTtLvLu7lqU40/51aTdnuNb+1BJFEj0Emo7cg6iU+smxspErYsBLLJBXi2KTNw0uaflJWjhxMkRh0iYY8jOyjSaREiiXJL68yx1N3l/UwDSSLya2dBQCR3G5NGnzTQWUXrXi0DjkmlN4ydTY3sXehAdT2UnX1u0Eq6daBb+uVVUhJfVqlAZAAKXL0mI2cCKTjDGhqlhO4ZiuW86WajU9KW7JjQNllTZZbpcKaN+Ua+1El8VVjVV2qrDuGUofG5sGPal1VL/aHVLWN/qqgJQa1FZENYlcTbOrUBZYs/JFZ4JHqw0RU9QdE35Hlqjst//uQwPSAGMmjM8e8zaK+tKUw/Bm8DcsDX/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////7///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////uQwP+AMXz9GSVka4AAACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uQwP+AMYABLgAAACAAACXAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVEFHc2Z4X3BvcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAyMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf8="},e43e2:function(e,t,s){e.exports=s.p+"static/img/icon_smile.fc1603f9.png"},e4d7:function(e,t,s){"use strict";s("ba84")},e4e0:function(e,t,s){"use strict";s("524e")},e4ee:function(e,t,s){"use strict";s("2457")},e741:function(e,t,s){e.exports=s.p+"static/img/toast-header.84de3f36.png"},e7a8:function(e,t,s){"use strict";s("c704")},e80b:function(e,t,s){},e811:function(e,t,s){"use strict";var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"photoShotContainer"},[t("div",{staticClass:"cameraContainer",attrs:{id:"cameraContainer","data-log":"相机视频区"}},[t("img",{ref:"previewDom",staticClass:"previewDom",attrs:{id:"previewDom"}}),t("div",{staticClass:"cameraGrid"}),t("div",{ref:"photoShotVideo",style:{width:e.curWidth+"px"},attrs:{id:"photoShotVideo"}})]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showPhotoShotControl&&!e.isPhotoShot,expression:"showPhotoShotControl && !isPhotoShot"}],staticClass:"photoShotControl",attrs:{id:"photoShotControl","data-log":"拍照控制区"}},[t("div",{staticStyle:{width:"40%","text-align":"right"}},[e.deviceLists.length?t("div",{staticClass:"changeCameraDropdown",attrs:{"data-log":"摄像头列表"}},[t("a",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:function(){return e.showLists=!1},expression:"() => (showLists = false)"}],staticClass:"ant-dropdown-link",attrs:{href:"javascript:;"},on:{click:e.toggleLists}},[t("i",{staticClass:"changeCameraIcon"}),e._v(" "+e._s(e.deviceName)+" "),t("a-icon",{attrs:{type:"caret-up"}})],1),e.showLists?t("div",{staticClass:"ant-dropdown"},[t("ul",{staticClass:"ant-dropdown-menu"},e._l(e.deviceLists,(function(s){return t("li",{key:s.deviceId,staticClass:"ant-dropdown-menu-item",on:{click:function(t){return e.changeCameraId(s.deviceId,s.label)}}},[t("a",{attrs:{href:"javascript:;"}},[e._v(e._s(s.label))])])})),0)]):e._e()]):e._e()]),t("div",{ref:"takePhotoControl",staticStyle:{width:"33.33%"}},[t("div",{staticClass:"photoShotBtn",attrs:{"data-log":"拍照按钮"},on:{click:e.photoShot}},[t("i")])]),t("div",{staticClass:"graffitiBtn",attrs:{"data-log":"拍照上墙中的涂鸦画板"}},[e._v(" "+e._s(e.$t("classroom.interactions.photoWall.graffitiBtnName"))+" "),t("i",{on:{click:e.goGraffiti}}),t("span",[e._v(" "+e._s(e.$t("classroom.interactions.photoWall.graffitiDesc")[0])),t("br"),e._v(" "+e._s(e.$t("classroom.interactions.photoWall.graffitiDesc")[1])+" ")])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isPhotoShot,expression:"isPhotoShot"}],staticClass:"submitControl"},[t("div",{staticClass:"retryPhotoShot",on:{click:e.retryPhotoShot}},[t("i"),e._v(e._s(e.$t("common.retry")))]),t("div",{staticClass:"submit",on:{click:e.submit}},[t("i"),e._v(e._s(e.$t("common.submit")))])]),t("audio",{ref:"photoWallBtnSound",staticClass:"hide",attrs:{src:s("e28a")}})])},n=[],a=s("5530"),i=s("c7eb"),r=s("1da1"),c=(s("14d9"),s("b7ef"),s("907a"),s("986a"),s("1d02"),s("3c5d"),s("6ce5"),s("2834"),s("4ea1"),s("a9e3"),s("4de4"),s("d3b7"),s("159b"),s("c19f"),s("ace4"),s("e260"),s("5cc6"),s("9a8c"),s("a975"),s("735e"),s("c1ac"),s("d139"),s("3a7b"),s("d5d6"),s("82f8"),s("e91f"),s("60bd"),s("5f96"),s("3280"),s("3fcc"),s("ca91"),s("25a1"),s("cd26"),s("2954"),s("649e"),s("219c"),s("170b"),s("b39a"),s("72f7"),s("a5d8")),l=s("e417"),u=s("d0db"),d=s("6543"),h=s("e39c"),m=s("e177"),p=s("b047"),f=s.n(p),v={name:"photoShotCamera",props:{delay:{type:Number,default:0},options:{type:Object,default:function(){return{}}}},data:function(){return{deviceLists:[],deviceName:null,isPhotoShot:!1,showPhotoShotControl:!1,showLists:!1,rtcEngine:null,localDisplayVideoStatus:!0,curWidth:960,highEncoderConfig:{width:960,height:720,bitrate:910,frameRate:15},lowEncoderConfig:{bitrate:80,frameRate:10,width:160,height:120}}},directives:{Clickoutside:c["a"]},mounted:function(){var e=this;window.addEventListener("resize",this.resetWidth),this.$bus.$emit("getLocalDisplayVideoStatus",(function(t){e.localDisplayVideoStatus=t,t&&e.$bus.$emit("cameraStatus",!0)})),this.$nextTick(Object(r["a"])(Object(i["a"])().mark((function t(){var s,o,n,a,r,c,l;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.rtcEngine=(null===(s=window.RTC_COMMON)||void 0===s?void 0:s.rtcEngine)||(null===(o=e.thinkClass)||void 0===o||null===(o=o.RtcService)||void 0===o?void 0:o.rtcEngine),e.rtcService=(null===(n=window.RTC_COMMON)||void 0===n?void 0:n.classRtcChannel)||(null===(a=e.thinkClass)||void 0===a?void 0:a.RtcService),e.deviceLists=e.loadDeviceList(),t.next=5,Object(d["a"])();case 5:c=t.sent,l=e.deviceLists.filter((function(e){return e.deviceId===c})),null!==(r=l[0])&&void 0!==r&&r.label?e.deviceName=l[0].label:e.deviceName=e.deviceLists.length&&e.deviceLists[0]["label"].substring(0,16),e.resetWidth(),e.showPhotoShotControl=!0,e.rtcService.setVideoEncoderConfiguration(e.highEncoderConfig),e.rtcEngine.setupLocalVideo(document.getElementById("photoShotVideo"));case 12:case"end":return t.stop()}}),t)}))))},methods:{resetWidth:f()((function(){var e=this;this.$nextTick((function(){var t=document.querySelector("#photoShotVideo");t.clientHeight&&(e.curWidth=4*t.clientHeight/3)}))}),300,{leading:!0}),loadDeviceList:function(){var e,t=(null===(e=this.rtcEngine)||void 0===e?void 0:e.getVideoDevices())||[],s=[];return t.forEach((function(e){s.push({label:e.devicename,deviceId:e.deviceid})})),s},reSensorEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(l["e"])(e,this.options.roomMessage.roomInfo.commonOption,Object(a["a"])({interact_id:this.options.ircMsg.interactId},t))},toggleLists:function(){this.showLists=!0,this.reSensorEvent("hw_classroom_interact_photograph_control",{control_type:"切换摄像头"}),u["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"点击打开摄像头列表"}})},base64ToBlob:function(e,t){for(var s=window.atob(e.split(",")[1]),o=new ArrayBuffer(s.length),n=new Uint8Array(o),a=0;a<s.length;a++)n[a]=s.charCodeAt(a);return new Blob([o],{type:t})},photoShot:f()((function(){var e=this;this.$refs.photoWallBtnSound.play(),this.reSensorEvent("hw_classroom_interact_photograph_control",{control_type:"拍照"});try{var t=document.querySelector("#photoShotVideo"),s=t.clientWidth,o=t.clientHeight,n=document.createElement("canvas");n.width=s,n.height=o;var a=document.querySelector("#photoShotVideo canvas"),i=n.getContext("2d");i.drawImage(a,0,0,s,o);var r=n.toDataURL("image/jpeg",1);this.$refs.previewDom.src=r,this.$refs.previewDom.style.width="100%",this.$refs.previewDom.style.height="100%";var c=Number(Object(h["r"])("imageCompressionFactor","configValue"))||.75;Object(m["c"])(r,1440,c).then((function(t){var s=e.base64ToBlob(t,"image/jpeg");e.$emit("photoData",{base64:r,blob:s}),e.isPhotoShot=!0,u["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"点击拍照",blob:s,base64:r.substring(r.indexOf(",")+1).length}})}))}catch(l){u["a"].send({tag:"student.Interact",level:"error",content:{interactType:"Wall",msg:"点击拍照报错",err:l}})}}),300),retryPhotoShot:function(){var e=this;return Object(r["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:u["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"点击重拍按钮"}}),e.$refs.photoWallBtnSound.play(),e.$refs.previewDom.src="",e.$refs.previewDom.style.width="",e.$refs.previewDom.style.height="",e.isPhotoShot=!1;case 6:case"end":return t.stop()}}),t)})))()},changeCameraId:function(e,t){e&&t&&(this.deviceName=t.substring(0,16),this.$bus.$emit("setDefaultVideoDevice",e),Object(d["e"])(e),u["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"点击切换摄像头"}}))},goGraffiti:function(){this.$refs.photoShotVideo.innerHTML="",this.$emit("changeTakePhotoWay","graffiti"),this.reSensorEvent("hw_classroom_interact_photograph_control",{control_type:"涂鸦板"}),u["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"点击切换到涂鸦画板"}})},submit:function(){this.$refs.photoWallBtnSound.play(),this.$emit("submit"),this.reSensorEvent("hw_classroom_interact_photograph_submit",{submit_type:1})}},beforeDestroy:function(){this.rtcService.setVideoEncoderConfiguration(this.lowEncoderConfig),this.localDisplayVideoStatus&&(this.$bus.$emit("cameraStatus",!1),this.rtcEngine.setupLocalVideo(document.getElementById("video-group-local"))),window.removeEventListener("resize",this.resetWidth),this.$refs.photoShotVideo.innerHTML=""}},g=v,C=(s("5cbb"),s("2877")),b=Object(C["a"])(g,o,n,!1,null,"004f1016",null);t["a"]=b.exports},e8f5:function(e,t,s){e.exports=s.p+"static/media/fail.0e533c1c.mp3"},e938e:function(e,t,s){"use strict";s("ff90")},e9da:function(e,t,s){e.exports=s.p+"static/img/em_8.69d857b0.png"},eb7b:function(e,t,s){},ec53:function(e,t,s){},ed04:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAACiUExURUdwTP/////QJv/TSf/////////////////////////bb//JJf/FF/++H/////+/Gv/GI//23/+6Gv+4G//JM//AEf/hhf/NOf/AE//JKf/IL//sqv/AFv/UUv+9D//AIv/SF/+zDv/RXv/PHP/FIP/JFf/PGf/FEv/IG/+8Ev/CEP/EEv+/EP+9D//RFf/HEv/NFP/JE//LFP+0DP+4Dv+xDFMwaacAAAAqdFJOUwAWk1EEDgcaGBM3k8qZCrCUHaqfa/AuYuSGdSTHSfqS8+M/v5/k0/e629KcDUUAAAIVSURBVEjHnVbtdqowEJQKJFBLqwUUBKnWVs1HAeW+/6vdBEQSBMSMPzhwnLM7s5vNTib30B3DgiUsw9EnI6AbEEiAxiOeaYEOWOZQlE5KSeuNZoABGN1hNDAIrSOYCcEDwDtlJhgBU4HTYulwHAmKujQwEtpIr3uc18ETqBOU+8CONie3n2R1OhfRgm7sRw7KgWJCKC3eHoRqKdoTsqLUmw+rkq1be4RMPVq4wwbKdQ0xWYE9pVF/uWE7OzhDKAExbawIP0skOzE/RyLtMEbs7ydCk+rD8nK5/OPYNqGdlqQPjGfsETA3KivcS1HRtqIoyfC5l+OQPX1CybL6FCxKfO5E0yXBbp4e1mWFCT1eVUJ474T06TvFhxlDtCJkY8Ne+6S2S/M0TTEHIjQAo0gveX7lEIRYvfogpjf/yfPfaYU9Yp1Rynwrkdg9mpbZ+VzmBAG0D4hwK5YFLQru+kkkNZbDIyP5txNC0Ia9uKzlOa3YipYLxf3KsqPQhJiXah68cywWsVhcoY2+s79pI3CFPbtMFbStd6SGjX3xkMTr/gMFwZOAz82v5hA2+fnByxWv/FfhgyNJAl8eYjfTf/84sjNzPq/7iXUGnzS0iOQZVo8w7asiMU6bRWjhtS6BOlTIWVnFymsWqlheKA/LmyoInxjLSheA2lWjdqkpXZ9qF7XaSqC2fKitOYoLldrqprgkjltH/wPvDWVVn9PpRQAAAABJRU5ErkJggg=="},ed62:function(e,t){e.exports=require("https")},f149:function(e,t,s){"use strict";s("456d")},f1687:function(e,t,s){e.exports=s.p+"static/img/em_5.6e17efdb.png"},f319:function(e,t){e.exports=require("querystring")},f3c7:function(e,t,s){"use strict";s("4d4b")},f502:function(e,t,s){"use strict";s("c482")},f567:function(e,t,s){"use strict";s("59e3")},f5b3:function(e,t,s){e.exports=s.p+"static/media/coin-fly.46908c84.mp3"},f813:function(e,t,s){"use strict";s("fd7e")},f839:function(e,t,s){"use strict";s("73cb")},fd7e:function(e,t,s){},fdab:function(e,t,s){"use strict";s("3b36")},fe0d:function(e,t){e.exports="data:image/png;base64,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"},ff4a:function(e,t){e.exports=require("events")},ff90:function(e,t,s){}});
//# sourceMappingURL=largeClass.8df290c6.js.map