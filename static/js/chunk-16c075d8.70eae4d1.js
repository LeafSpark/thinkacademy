(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16c075d8"],{"019a":function(t,e,n){"use strict";n("d5b1")},"0810":function(t,e){t.exports="data:image/png;base64,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"},"1505a":function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return A}));var o=n("5530"),s=n("d4ec"),r=n("bee2"),i=n("262e"),a=n("2caf"),c=n("b6c9"),u=(n("ac1f"),n("5319"),function(){var t=this,e=t._self._c;return e("div",[e("audio",{ref:"voteKeyTone",staticClass:"hide",attrs:{src:n("9c77")}}),e("audio",{ref:"voteSubmit",staticClass:"hide",attrs:{src:n("8915")}}),e("audio",{ref:"voteHasCorrectFail",staticClass:"hide",attrs:{src:n("1b4e")}}),e("audio",{ref:"voteHasCorrectSuccess",staticClass:"hide",attrs:{src:n("310f")}}),e("transition",{attrs:{name:"slide-fade"},on:{"after-leave":t.destroy}},[3!=t.options.ircMsg.pattern?e("div",[t.getResult?e("div",[t.options.ircMsg.hascorrect?e("div",{staticClass:"vote-result-isCorrect"},[e("div",[t.isCorrect?e("div",{staticClass:"vote-dialog is-correct-wrapper"},[e("p",{staticClass:"title"},[t._v(" "+t._s(t.$t("classroom.interactions.vote.correctTitle"))+" ")]),e("p",{staticClass:"tip"},[t._v(" "+t._s(t.$t("classroom.interactions.vote.correctTips"))+" ")]),e("div",{staticClass:"get-coins"},[e("img",{staticClass:"coin-img",attrs:{src:n("0810"),alt:""}}),e("span",{staticClass:"coin-num"},[t._v("+"+t._s(t.getGold))])])]):t._e(),!t.isCorrect&&t.options.roomMessage.roomInfo.isPlayBack?e("div",{staticClass:"vote-dialog replay-incorrect-wrapper"},[e("p",{staticClass:"res-congrate"},[t._v(" "+t._s(t.$t("classroom.interactions.vote.rightTipsByPlayback")[0])+" ")]),t.isCorrect?e("p",{staticClass:"tip"},[t._v(" "+t._s(t.$t("classroom.interactions.vote.rightTipsByPlayback")[1])+" ")]):t._e(),e("p",{staticClass:"tip"},[t._v(" "+t._s(t.$t("classroom.interactions.vote.rightTipsByPlayback")[2])+" ")])]):t.isCorrect||t.options.roomMessage.roomInfo.isPlayBack?t._e():e("div",{staticClass:"vote-dialog live-incorrect-wrapper"},[e("p",{staticClass:"res-unCongrate"},[t._v(" "+t._s(t.$t("classroom.interactions.vote.rightTipsByLive")[0])+" ")]),t.isCorrect?e("p",{staticClass:"tip"},[t._v(" "+t._s(t.$t("classroom.interactions.vote.rightTipsByLive")[1])+" ")]):t._e(),e("p",{staticClass:"tip"},[t._v(" "+t._s(t.$t("classroom.interactions.vote.rightTipsByLive")[2])+" ")])])])]):e("div",[t.statistics.length?e("div",{staticClass:"vote-result-inCorrect"},[e("div",{staticClass:"vote-bar-container"},[e("div",{staticClass:"vote-wrapper"},[e("div",{staticClass:"vote-title res"},[e("p",[t._v(t._s(t.$t("classroom.interactions.vote.results")))])]),e("ul",{staticClass:"vote-options-res",style:{width:t.optionList.length*(1==t.options.ircMsg.pattern?44:112)+20*(t.optionList.length-1)+"px"}},t._l(t.statistics,(function(n){return e("li",{key:n.option,staticClass:"option-item-res",style:{width:(1==t.options.ircMsg.pattern?44:112)+"px"}},[e("div",{staticClass:"option-name",class:(t.isRepeatPrevOption||t.curtOption)===n.option?"user-selected-name":""},[t._v(" "+t._s(n.option.replace("TRUE",t.$t("classroom.interactions.vote.true")).replace("FALSE",t.$t("classroom.interactions.vote.false")))+" ")]),e("div",{staticClass:"option-percent",class:(t.isRepeatPrevOption||t.curtOption)===n.option?"user-selected-percent":""},[t._v(" "+t._s(n.percent)+"% ")])])})),0),e("div",{staticClass:"icon-close",on:{click:t.destroy}})])])]):t._e()])]):e("div",{staticClass:"vote"},[e("div",{ref:"voteBarContainer",staticClass:"vote-bar-container",class:t.toShow?"ease-in":"ease-out"},[t.getResult?t._e():e("div",{staticClass:"vote-pri-bar-container",on:{click:t.handleToggleBar}}),e("div",{staticClass:"vote-wrapper"},[e("div",{staticClass:"vote-title",domProps:{innerHTML:t._s(t.getResult?t.$t("classroom.interactions.vote.results"):t.$t("classroom.interactions.vote.title"))}}),t.optionList.length?e("ul",{class:t.getResult?"vote-options-res":"vote-options",style:{width:t.optionList.length*(1==t.options.ircMsg.pattern?44:112)+(t.optionList.length-1)*(t.optionList.length<=4||2==t.options.ircMsg.pattern?24:12)+"px"}},t._l(t.optionList,(function(n){return e("li",{key:n.option,staticClass:"option-item",class:t.curtOption===n.option?"active":"",style:{width:(1==t.options.ircMsg.pattern?44:112)+"px"},on:{click:function(e){return e.stopPropagation(),t.handleSelectOption(n)}}},[t._v(" "+t._s(n.option.replace("TRUE",t.$t("classroom.interactions.vote.true")).replace("FALSE",t.$t("classroom.interactions.vote.false")))+" ")])})),0):t._e(),t.getResult?e("div",{staticClass:"icon-close",on:{click:function(e){return e.stopPropagation(),t.destroy.apply(null,arguments)}}}):e("div",{staticClass:"vote-submit",class:t.curtOption?"isSelected":"",on:{click:function(e){return e.stopPropagation(),t.submit(t.curtOption)}}},[t._v(" "+t._s(t.$t("common.submit"))+" ")])])])])]):e("div",{staticClass:"understand"},[e("div",{staticClass:"understand-wrapper"},[t.isClickUnderstand?e("div",{staticClass:"is-understand"},[e("span",{class:t.isUnderstand?"desc-yes":"desc-no"}),e("span",{class:t.isUnderstand?"hand-yes":"hand-no"})]):e("div",{staticClass:"show-understand"},[e("div",{staticClass:"title"},[e("span",[t._v(t._s(t.isUnderstandText))]),e("span")]),e("div",{staticClass:"buttons"},t._l(t.optionList,(function(n){return e("div",{key:n.option,staticClass:"no btn",on:{click:function(e){return e.stopPropagation(),t.handleUnderstandSubmit(n.option)}}},[t._v(" "+t._s(n.option)+" ")])})),0)])])])])],1)}),p=[],l=n("c7eb"),v=n("1da1"),d=(n("14d9"),n("d81d"),n("b64b"),n("753a")),m=n("712f9"),f=function(t){Object(i["a"])(n,t);var e=Object(a["a"])(n);function n(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.info("函数申明 Main(opts)",o,"filePath:renderer/components/Classroom/CommonInteractions/vote/vote.js"),Object(s["a"])(this,n),t=e.call(this),t.options=o,t.skinType=t.options.roomMessage.roomInfo.commonOption,t.vm=o.vm,t}return Object(r["a"])(n,[{key:"handleOptions",value:function(){var t=this.options.ircMsg;return t.options=Object.keys(t.options).map((function(e){var n=t.options[e];return n.height=0,n.percent=0,n})),t.options}},{key:"submitVote",value:function(){var t=Object(v["a"])(Object(l["a"])().mark((function t(e){var n,o,s,r,i,a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=this.options.roomMessage.roomInfo.commonOption,o=n.planId,s=n.classId,r=this.options.ircMsg.interactId,i={planId:o,classId:s,interactionId:r,option:e},t.next=5,Object(m["g"])(this,i);case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return console.info("函数申明 submitVote(_x)",e,"filePath:renderer/components/Classroom/CommonInteractions/vote/vote.js"),t.apply(this,arguments)}return e}()},{key:"getVoteStatistics",value:function(){var t=Object(v["a"])(Object(l["a"])().mark((function t(){var e,n,o,s;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.options.roomMessage.roomInfo.commonOption.planId,n=this.options.ircMsg,o={planId:e,interactionId:n.interactId},t.next=5,Object(m["b"])(this,o);case 5:return s=t.sent,t.abrupt("return",s);case 7:case"end":return t.stop()}}),t,this)})));function e(){return console.info("函数申明 getVoteStatistics, filePath:renderer/components/Classroom/CommonInteractions/vote/vote.js"),t.apply(this,arguments)}return e}()},{key:"getVoteStatus",value:function(){var t=Object(v["a"])(Object(l["a"])().mark((function t(){var e,n;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={planId:1*this.options.roomMessage.roomInfo.stuLiveInfo.planId,interactionId:this.options.ircMsg.interactId},t.next=3,Object(m["d"])(this,e);case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})));function e(){return console.info("函数申明 getVoteStatus, filePath:renderer/components/Classroom/CommonInteractions/vote/vote.js"),t.apply(this,arguments)}return e}()},{key:"voteReport",value:function(){var t=Object(v["a"])(Object(l["a"])().mark((function t(){var e,n;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.options,e={planId:1*this.options.roomMessage.roomInfo.stuLiveInfo.planId,classId:1*this.options.roomMessage.roomInfo.stuLiveInfo.classId,interactId:this.options.ircMsg.interactId},t.next=4,Object(m["c"])(this,e);case 4:return n=t.sent,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)})));function e(){return console.info("函数申明 voteReport, filePath:renderer/components/Classroom/CommonInteractions/vote/vote.js"),t.apply(this,arguments)}return e}()},{key:"getUnSubmit",value:function(){var t=Object(v["a"])(Object(l["a"])().mark((function t(){var e,n;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={planId:1*this.options.roomMessage.roomInfo.stuLiveInfo.planId,interactionId:this.options.ircMsg.interactId},t.next=3,Object(m["f"])(this,e);case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})));function e(){return console.info("函数申明 getUnSubmit, filePath:renderer/components/Classroom/CommonInteractions/vote/vote.js"),t.apply(this,arguments)}return e}()}]),n}(d["a"]),h=n("d0db"),b=n("c02a"),g={props:{options:{type:Object,default:function(){return{ircMsg:{},roomMessage:{roomInfo:{commonOption:{}}}}}}},data:function(){return{toShow:!0,curtOption:"",skinType:1,optionList:[],vote:null,getResult:!1,isCorrect:!1,getGold:0,statistics:[],timer:null,unSubmit:!0,isRepeat:!1,isRepeatPrevOption:"",isUnderstand:!0,isClickUnderstand:!1,clickUnderstandDurationInterval:!1,clickVoteDurationInterval:!1,isUnderstandText:this.$t("classroom.interactions.vote.isUnderstand")}},mounted:function(){this.recoverVoteStatus(),this.optionList=this.vote.handleOptions(),this.sendLogger("收到互动","start")},created:function(){var t=this;return Object(v["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.timer&&clearTimeout(t.timer),t.timer=null,t.vote=new f(Object(o["a"])({},t.options)),t.voteReport();case 4:case"end":return e.stop()}}),e)})))()},methods:{handleToggleBar:function(){console.info("对象函数 handleToggleBar,filePath:renderer/components/Classroom/CommonInteractions/vote/app.vue"),this.toShow=!this.toShow},sendLogger:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";h["a"].send({tag:"student.Interact",content:{msg:t,interactType:"Vote",interactId:this.options.ircMsg.interactId,interactStage:e}})},voteReport:function(){var t=this;return Object(v["a"])(Object(l["a"])().mark((function e(){var n;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.info("对象函数 voteReport,filePath:renderer/components/Classroom/CommonInteractions/vote/app.vue"),e.next=3,t.vote.voteReport();case 3:n=e.sent,t.dealRequestVote(n);case 5:case"end":return e.stop()}}),e)})))()},recoverVoteStatus:function(){var t=this;return Object(v["a"])(Object(l["a"])().mark((function e(){var n;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.info("对象函数 recoverVoteStatus,filePath:renderer/components/Classroom/CommonInteractions/vote/app.vue"),e.next=3,t.vote.getVoteStatus();case 3:n=e.sent,t.dealRequestVote(n),t.isRepeatPrevOption=n.data.option,t.isRepeat=n.data.voteState;case 7:case"end":return e.stop()}}),e)})))()},dealRequestVote:function(t){if(console.info("对象函数 dealRequestVote(res)",t,"filePath:renderer/components/Classroom/CommonInteractions/vote/app.vue"),0!=t.code)return console.info("if(res.code != 0)为true触发return,path: /renderer/components/Classroom/CommonInteractions/vote/app.vue"),void this.$Message.info(t.msg)},handleSelectOption:function(t){console.info("对象函数 handleSelectOption(opt)",t,"filePath:renderer/components/Classroom/CommonInteractions/vote/app.vue"),this.getResult||(this.$refs.voteKeyTone.play(),this.curtOption=t.option)},submit:function(t){var e=this;return Object(v["a"])(Object(l["a"])().mark((function n(){var o,s;return Object(l["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.info("对象函数 submit(isClick)",t,"filePath:renderer/components/Classroom/CommonInteractions/vote/app.vue"),!t||!e.unSubmit){n.next=14;break}return e.$refs.voteSubmit.play(),e.unSubmit=!1,n.next=6,e.vote.submitVote(e.curtOption);case 6:s=n.sent,b["p"](null===(o=e.options)||void 0===o?void 0:o.ircMsg,null===s||void 0===s?void 0:s.data),e.sendLogger("投票数据提交结果: ".concat(JSON.stringify(s))),e.clickVoteDurationInterval=!0,e.unSubmit=!0,e.getResult=!0,e.dealRequestVote(s),e.handleSubmit(s.data);case 14:case"end":return n.stop()}}),n)})))()},handleSubmit:function(t){var e=this;return Object(v["a"])(Object(l["a"])().mark((function n(){var o,s,r,i,a;return Object(l["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.info("对象函数 handleSubmit(data)",t,"filePath:renderer/components/Classroom/CommonInteractions/vote/app.vue"),o=t.answerStat,s=t.gold,r=t.isRepeat,e.getGold=s,r&&e.$Message.warn(e.$t("classroom.interactions.vote.repeatSubmitMessage")),e.options.ircMsg.hascorrect&&(r?e.destroy():(e.isCorrect=1==o,1==o?null===(i=e.$refs.voteHasCorrectSuccess)||void 0===i||i.play():null===(a=e.$refs.voteHasCorrectFail)||void 0===a||a.play(),1==o&&e.$bus.$emit("updateAchievement","add",e.getGold),setTimeout((function(){e.destroy()}),3e3)));case 5:case"end":return n.stop()}}),n)})))()},getVoteStatistics:function(t){var e=this;return Object(v["a"])(Object(l["a"])().mark((function n(){var o;return Object(l["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.info("对象函数 getVoteStatistics(result)",t,"filePath:renderer/components/Classroom/CommonInteractions/vote/app.vue"),e.statistics=[],e.getResult){for(o in t)e.statistics.push(t[o]);e.getResult=!0}case 3:case"end":return n.stop()}}),n)})))()},handleUnderstandSubmit:function(t){var e=this;return Object(v["a"])(Object(l["a"])().mark((function n(){var o,s;return Object(l["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.info("对象函数 handleUnderstandSubmit(option)",t,"filePath:renderer/components/Classroom/CommonInteractions/vote/app.vue"),b["p"](null===(o=e.options)||void 0===o?void 0:o.ircMsg,{option:t,answerStat:1}),!e.isRepeat){n.next=7;break}return console.info("if(_this7.isRepeat)为true触发return,path: /renderer/components/Classroom/CommonInteractions/vote/app.vue"),e.$Message.warn(e.$t("classroom.interactions.vote.repeatSubmitMessage")),setTimeout((function(){e.destroy()}),500),n.abrupt("return");case 7:return clearTimeout(e.timer),e.isClickUnderstand=!0,e.isUnderstand="YES"==t,e.isUnderstand="YES"==t,n.next=13,e.vote.submitVote(t);case 13:s=n.sent,e.sendLogger("懂不懂数据提交结果: ".concat(JSON.stringify(s))),1==s.stat&&(e.clickUnderstandDurationInterval=!0),e.timer=setTimeout(Object(v["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.destroy();case 1:case"end":return t.stop()}}),t)}))),4e3);case 17:case"end":return n.stop()}}),n)})))()},destroy:function(){console.info("对象函数 destroy,filePath:renderer/components/Classroom/CommonInteractions/vote/app.vue"),this.$el&&this.$el.parentNode&&(this.sendLogger("互动结束","end"),this.$destroy(),clearTimeout(this.timer),this.timer=null,this.$el.parentNode.removeChild(this.$el))},destroyInteraction:function(){var t=this;return Object(v["a"])(Object(l["a"])().mark((function e(){var n;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.info("对象函数 destroyInteraction,filePath:renderer/components/Classroom/CommonInteractions/vote/app.vue"),3!=t.options.ircMsg.pattern){e.next=9;break}if(t.clickUnderstandDurationInterval){e.next=7;break}return e.next=5,t.vote.getUnSubmit();case 5:n=e.sent,n&&t.sendLogger("互动结束，懂不懂未提交");case 7:e.next=18;break;case 9:if(t.clickVoteDurationInterval){e.next=18;break}if(!t.curtOption){e.next=15;break}return e.next=13,t.submit(t.curtOption);case 13:e.next=17;break;case 15:return e.next=17,t.vote.getUnSubmit();case 17:t.sendLogger("互动结束，投票未提交");case 18:t.timer=setTimeout(Object(v["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.destroy();case 1:case"end":return e.stop()}}),e)}))),4e3);case 19:case"end":return e.stop()}}),e)})))()}}},C=g,O=(n("019a"),n("2877")),w=Object(O["a"])(C,u,p,!1,null,null,null),j=w.exports,A=function(t){Object(i["a"])(n,t);var e=Object(a["a"])(n);function n(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.info("函数申明 Vote(opts)",o,"filePath:renderer/components/Classroom/CommonInteractions/vote/index.js"),Object(s["a"])(this,n),t=e.call(this,j),t.options=o,t.dom=o.roomMessage.roomInfo.interactionController,t.initVmApp("投票"),t}return Object(r["a"])(n,[{key:"createPropsData",value:function(){var t={};return Object(o["a"])({options:this.options},t)}}]),n}(c["a"])},"1b4e":function(t,e,n){t.exports=n.p+"static/media/vote-has-correct-fail.55547638.mp3"},"310f":function(t,e,n){t.exports=n.p+"static/media/vote-has-correct-success.bd430e73.mp3"},"712f9":function(t,e,n){"use strict";n.d(e,"c",(function(){return u})),n.d(e,"g",(function(){return p})),n.d(e,"b",(function(){return l})),n.d(e,"d",(function(){return v})),n.d(e,"f",(function(){return d})),n.d(e,"a",(function(){return m})),n.d(e,"e",(function(){return f}));var o=n("c7eb"),s=n("1da1"),r=n("dc21"),i=n("e39c");function a(t,e,n){return c.apply(this,arguments)}function c(){return c=Object(s["a"])(Object(o["a"])().mark((function t(e,n,s){var a,c,u;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object(i["h"])(),c=a.oversea,t.next=3,Object(r["a"])({url:n,params:s,apiDomain:c});case 3:return u=t.sent,t.abrupt("return",u);case 5:case"end":return t.stop()}}),t)}))),c.apply(this,arguments)}function u(t,e){var n="/classroom-hub/classroom/student/interact/partakereport";return a(t,n,e)}function p(t,e){var n="/classroom-hub/vote/student/commit";return a(t,n,e)}function l(t,e){var n="/classroom-hub/vote/student/getStatistics";return a(t,n,e)}function v(t,e){var n="/classroom-hub/vote/student/status";return a(t,n,e)}function d(t,e){var n="/classroom-hub/vote/student/noAnswerCommit";return a(t,n,e)}function m(t,e){var n="/api/vote/oneanswer/student/check";return a(t,n,e)}function f(t,e){var n="/api/vote/oneanswer/student/commit";return a(t,n,e)}},8915:function(t,e,n){t.exports=n.p+"static/media/vote-submit.83bed748.mp3"},"9c77":function(t,e,n){t.exports=n.p+"static/media/vote-key-tone.631f9373.mp3"},b6c9:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var o=n("d4ec"),s=n("bee2"),r=(n("99af"),n("d9e2"),n("8bbf")),i=n.n(r),a=n("3898"),c=n("d0db"),u=function(){function t(e){console.info("函数申明 InteractionBase(app)",e,"filePath:renderer/components/Classroom/CommonInteractions/interaction-base.js"),Object(o["a"])(this,t),this.app=e,this.vm=null,this.keepOtherDom=!1}return Object(s["a"])(t,[{key:"initVmApp",value:function(t){if(!this.dom)throw Error("互动的dom容器不存在");this.dom.children.length>0&&!this.keepOtherDom&&(c["a"].send({tag:"tempInteractionTest",content:{msg:"清空互动容器，由".concat(t,"触发清空，清空").concat(this.dom.children[0].className)}}),this.dom.innerHTML=""),this.vm=this.initVm(this.app),this.render(this.dom,this.vm)}},{key:"initVm",value:function(t){var e=i.a.extend(t),n=this.createPropsData(),o=new e({i18n:a["b"],propsData:n,store:this.store||{}});return o.$mount(),o}},{key:"render",value:function(t,e){t.appendChild(e.$el)}},{key:"destroy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.submit;this.vm?(e&&this.vm.submit(),this.vm.$destroy(),this.dom.innerHTML="",this.vm=null,this.app=null):console.info("if(!this.vm)为true触发return,path: /renderer/components/Classroom/CommonInteractions/interaction-base.js")}},{key:"getProperties",value:function(t,e){return t["".concat(e)].properties}},{key:"handleMsg",value:function(){}}]),t}()},d5b1:function(t,e,n){}}]);
//# sourceMappingURL=chunk-16c075d8.70eae4d1.js.map