(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ExamReportH5"],{"16ba":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"page-wrapper"},[t("Toolbar"),t("div",{staticClass:"reportReport"},[t("iframe",{staticClass:"iframe",attrs:{id:"examReport",src:e.examReportUrl},on:{onload:e.handleIframeLoad}})])],1)},o=[],n=a("c7eb"),i=a("1da1"),r=(a("b64b"),a("99af"),a("dfa8")),c=a("7b1b"),d=a("d0db"),l={name:"ExamReport",components:{Toolbar:r["a"]},mixins:[c["a"]],data:function(){return{backUrl:"",examReportUrl:"",useInfo:window.localStorage.getItem("userInfo")}},mounted:function(){var e=this;return Object(i["a"])(Object(n["a"])().mark((function t(){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.bindEvent(),e.initRouteParams();case 2:case"end":return t.stop()}}),t)})))()},methods:{initRouteParams:function(){console.info("对象函数 initRouteParams,filePath:renderer/views/h5/ExamReport-h5.vue");var e=this.useInfo?JSON.parse(this.useInfo).unifiedAccessToken:"",t=this.useInfo?JSON.parse(this.useInfo).uid:"",a=this.$route.query;this.examReportUrl="".concat(a.examReportUrl,"&platform=3&classId=").concat(a.classId,"&studentId=").concat(t,"&token=").concat(e),window.thinkApi.ipc.send("test:url",this.examReportUrl),this.backUrl=a.examReportBackUrl},handleIframeLoad:function(){console.info("对象函数 handleIframeLoad,filePath:renderer/views/h5/ExamReport-h5.vue"),d["a"].send({content:{msg:"加载H5成功-课中考试报告",examReportUrl:this.examReportUrl}})}}},u=l,h=(a("2218"),a("2877")),m=Object(h["a"])(u,s,o,!1,null,"77e97e38",null);t["default"]=m.exports},2218:function(e,t,a){"use strict";a("8639")},"3ed8":function(e,t,a){"use strict";a("aa44")},"4a82":function(e,t,a){"use strict";a("7c49")},"7b1b":function(e,t,a){"use strict";a("14d9"),a("b64b"),a("99af");var s=a("d0db"),o=a("e39c"),n={data:{return:{isSendLogger:!1}},methods:{bindEvent:function(){window.addEventListener("message",this.bindMessage,!1)},bindMessage:function(e){var t=e.data||{};if(console.log("message",t),"string"===typeof t)try{t=JSON.parse(t)}catch(l){console.error(l),t=e.data}var a=t.action;if("jy-exit"==a&&(this.sendLoggers("h5message","退出作业事件:actionType: ".concat(a,", parseData: ").concat(JSON.stringify(t))),this.isBeforeClassTest()&&this.$router.push("".concat(this.backUrl))),"jy-submit"==a&&(this.sendLoggers("h5message","提交作业事件:actionType: ".concat(a,", parseData: ").concat(JSON.stringify(t),", sendMessageDone: ").concat(this.sendMessageDone)),this.sendMessageDone||this.submitHomeworkEvent(t.data.state||1,t.data.type||0)),"jy-overtime"==a&&(this.sendLoggers("h5message","请求超时事件:actionType: ".concat(a,", parseData: ").concat(JSON.stringify(t))),this.isBeforeClassTest()&&this.$router.push("".concat(this.backUrl)),this.$Message.warning("Network error (or your account is signed in on another device)")),"jy-close"==a&&(this.sendLoggers("h5message","退出h5页面事件:actionType: ".concat(a,", parseData: ").concat(JSON.stringify(t))),this.isBeforeClassTest()&&this.$router.push("".concat(this.backUrl))),"hwApiResponse"==a){var s=Object(o["q"])("homeworkId"),n=Object(o["q"])("classId"),i={homeworkId:s,homeworkClassId:n,homeworkApiPath:t.data.path,homeworkResponseTime:t.data.responseTime,homeworkStatus:t.data.status};this.sendLoggers("h5message","提交作业接口响应时长:actionType: ".concat(a,", parseData: ").concat(JSON.stringify(t),",homeworkSubmit:").concat(JSON.stringify(i)))}if("hwUploadImg"==a){var r=Object(o["q"])("homeworkId"),c=Object(o["q"])("classId"),d={homeworkId:r,homeworkClassId:c,homeworkUploadDuration:t.data.uploadDuration,homeworkType:t.data.uploadType,homeworkUploadStatus:t.data.uploadStatus};this.sendLoggers("h5message","上传图片上传时长:actionType: ".concat(a,", parseData: ").concat(JSON.stringify(t),",homeworkUpload:").concat(JSON.stringify(d)))}"completedExamSuccess"==a&&(this.sendSubmitEaxmToTeacher(),this.sendLoggers("h5message","监听h5交卷事件:actionType: ".concat(a,", parseData: ").concat(JSON.stringify(t)))),"dismissView"!=a&&"hwHomeWorkRepeat"!==a||(this.showEaxmIframe=!1,this.examUrl="",this.sendLoggers("h5message","监听h5关闭事件:actionType: ".concat(a,", parseData: ").concat(JSON.stringify(t))))},sendLoggers:function(e,t){this.isSendLogger=!0,s["a"].send({tag:e,level:"info",content:{msg:t}})},isBeforeClassTest:function(){return!!this.$router}},beforeDestroy:function(){window.removeEventListener("message",this.bindMessage)}};t["a"]=n},"7c49":function(e,t,a){},"857a":function(e,t,a){"use strict";var s=a("e330"),o=a("1d80"),n=a("577e"),i=/"/g,r=s("".replace);e.exports=function(e,t,a,s){var c=n(o(e)),d="<"+t;return""!==a&&(d+=" "+a+'="'+r(n(s),i,"&quot;")+'"'),d+">"+c+"</"+t+">"}},8639:function(e,t,a){},aa44:function(e,t,a){},af03:function(e,t,a){"use strict";var s=a("d039");e.exports=function(e){return s((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},c7cd:function(e,t,a){"use strict";var s=a("23e7"),o=a("857a"),n=a("af03");s({target:"String",proto:!0,forced:n("fixed")},{fixed:function(){return o(this,"tt","","")}})},dfa8:function(e,t,a){"use strict";a("c7cd");var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"toolbar",class:[{transparent:e.transparent,fixed:e.fixed,"white-button":e.whiteButton,"theme-dark":e.darkTheme}],attrs:{"data-log":"原生菜单栏"}},[t("div",{staticClass:"drag-bar",attrs:{"data-log":"drag-bar"}}),t("WindowsActionBar")],1)},o=[],n=function(){var e=this,t=e._self._c;return"win"===e.platform?t("div",{staticClass:"windows-action-bar",attrs:{"data-log":"window菜单栏"}},[t("div",{staticClass:"item",attrs:{"data-log":"最小化"},on:{click:e.handleMinimizeWindow}},[t("span",{staticClass:"icon icon-minimize"})]),t("div",{staticClass:"item",attrs:{"data-log":"关闭"},on:{click:e.handleCloseWindow}},[t("span",{staticClass:"icon icon-close"})])]):e._e()},i=[],r=a("0d52"),c=a("e39c"),d={name:"WindowsActionBar",data:function(){return{platform:Object(c["l"])()}},methods:{handleMinimizeWindow:function(){console.info("对象函数 handleMinimizeWindow,filePath:renderer/components/Common/windowsActionBar.vue"),r["nativeApi"].minimizeWindow()},handleCloseWindow:function(){console.info("对象函数 handleCloseWindow,filePath:renderer/components/Common/windowsActionBar.vue"),localStorage.removeItem("largeClassTestCoverage"),localStorage.removeItem("smallClassTestCoverage"),r["nativeApi"].closeWindow(!0)}}},l=d,u=(a("4a82"),a("2877")),h=Object(u["a"])(l,n,i,!1,null,"55cdfd22",null),m=h.exports,f={name:"Toolbar",components:{WindowsActionBar:m},props:{transparent:{default:!1,type:Boolean},fixed:{default:!1,type:Boolean},whiteButton:{default:!1,type:Boolean},disabledMaximize:{default:!1,type:Boolean},darkTheme:{default:!1,type:Boolean}}},p=f,g=(a("3ed8"),Object(u["a"])(p,s,o,!1,null,"3bd2c296",null));t["a"]=g.exports}}]);
//# sourceMappingURL=ExamReportH5.51d21339.js.map