(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-418d29e8"],{"2fe5":function(e,t,s){"use strict";s("f7d4")},"6a33":function(e,t,s){e.exports=s.p+"static/media/interact-success.bd430e73.mp3"},"6f0c":function(e,t,s){e.exports=s.p+"static/media/interact-submit.83bed748.mp3"},"753a":function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var n=s("d4ec"),o=s("bee2"),r=(s("d9e2"),s("8bbf")),a=s.n(r),i=function(){function e(t){Object(n["a"])(this,e),this.app=t,this.vm=null}return Object(o["a"])(e,[{key:"initVmApp",value:function(){if(!this.dom)throw Error("互动的dom容器不存在");this.dom.children.length>0&&(this.dom.innerHTML=""),this.vm=this.initVm(this.app),this.render(this.dom,this.vm)}},{key:"initVm",value:function(e){var t=a.a.extend(e),s=this.createPropsData(),n=new t({propsData:s});return n.$mount(),n}},{key:"render",value:function(e,t){e.appendChild(t.$el)}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.submit;this.vm&&(t&&this.vm.submit(),this.vm.$destroy(),this.dom.innerHTML="",this.vm=null,this.app=null)}},{key:"getProperties",value:function(e,t){return e["".concat(t)].properties}},{key:"handleMsg",value:function(){}}]),e}()},8449:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return z}));var n,o=s("5530"),r=s("d4ec"),a=s("bee2"),i=s("262e"),c=s("2caf"),u=s("b6c9"),l=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:e.isSubmit&&!e.isExceptionStatus?"courseware-board-container-musk":"courseware-board-container"},[t("audio",{ref:"interactFail",staticClass:"hide",attrs:{src:s("fb97")}}),t("audio",{ref:"interactKeyTone",staticClass:"hide",attrs:{src:s("fc4e")}}),t("audio",{ref:"interactSubmit",staticClass:"hide",attrs:{src:s("6f0c")}}),t("audio",{ref:"interactSuccess",staticClass:"hide",attrs:{src:s("6a33")}}),t("div",{ref:"coursewareBoardBlock",staticClass:"courseware-board-block",class:[e.isExpanded?"closeBoard":"openBoard"]},[e.isSubmit?e._e():[t("div",{staticClass:"courseware-board-control",on:{click:function(t){e.isExpanded=!e.isExpanded}}},[t("i",{staticClass:"ne-icon",class:[e.iconClass]})]),t("div",{staticClass:"courseware-board-content"},[t("QuestionOption",{attrs:{optionList:e.optionList,quesTypeId:e.quesTypeId},on:{change:e.upodateUserAnswer}}),t("button",{staticClass:"submit-box",class:{"is-disabled":e.btnDisabled},on:{click:e.submitAnswer}},[e._v(" "+e._s(e.$t("common.submit"))+" ")])],1)],e.isSubmit&&!e.isExceptionStatus?[t("div",{staticClass:"courseware-board-content is-submit"},[t("QuestionJudge",{attrs:{quesTypeId:e.quesTypeId,userAnswer:e.userAnswer,quesAnswer:e.quesAnswer}})],1)]:e._e()],2)])},d=[],p=s("c7eb"),m=s("1da1"),h=s("2909"),f=(s("0481"),s("4069"),s("d3b7"),s("25f0"),s("4e82"),s("e260"),s("6062"),s("3ca3"),s("ddb0"),s("753a")),v=s("8bbf"),w=s.n(v),b=function(){var e=this,t=e._self._c;return t("transition",{on:{"after-leave":e.handleAfterLeave}},[e.visible?t("div",{staticClass:"coursewae-toast",class:[e.typeClass],on:{mouseenter:e.clearTimer,mouseleave:e.startTimer}},[t("h2",[e._v(e._s(e.title))]),t("p",[e._v(e._s(e.message))]),"right"===e.type?t("div",{staticClass:"coins-number"},[t("i"),e._v(" +"+e._s(e.coin))]):e._e()]):e._e()])},C=[],y={right:"right",wrong:"wrong"},g={data:function(){return{visible:!1,type:"right",title:"",message:"",coin:0,duration:0,closed:!1,onClose:null,timer:null}},computed:{typeClass:function(){return console.info("对象函数 typeClass,filePath:renderer/components/Classroom/CommonInteractions/playBackCoursewareBoard/components/toast/toast.vue"),"is-".concat(y[this.type])}},mounted:function(){this.startTimer()},methods:{handleAfterLeave:function(){var e;console.info("对象函数 handleAfterLeave,filePath:renderer/components/Classroom/CommonInteractions/playBackCoursewareBoard/components/toast/toast.vue"),this.$destroy(!0),null===(e=this.$el)||void 0===e||null===(e=e.parentNode)||void 0===e||e.removeChild(this.$el)},close:function(){console.info("对象函数 close,filePath:renderer/components/Classroom/CommonInteractions/playBackCoursewareBoard/components/toast/toast.vue"),this.closed=!0,"function"===typeof this.onClose&&this.onClose(this)},clearTimer:function(){console.info("对象函数 clearTimer,filePath:renderer/components/Classroom/CommonInteractions/playBackCoursewareBoard/components/toast/toast.vue"),clearTimeout(this.timer)},startTimer:function(){var e=this;console.info("对象函数 startTimer,filePath:renderer/components/Classroom/CommonInteractions/playBackCoursewareBoard/components/toast/toast.vue"),this.duration>0&&(this.timer=setTimeout((function(){e.closed||e.close()}),this.duration))}},watch:{closed:function(e){console.info("对象函数 closed(newVal)",e,"filePath:renderer/components/Classroom/CommonInteractions/playBackCoursewareBoard/components/toast/toast.vue"),e&&(this.visible=!1)}}},B=g,k=(s("96ec"),s("2877")),A=Object(k["a"])(B,b,C,!1,null,"7f8cef9a",null),I=A.exports,_=w.a.extend(I),T=1,x=function(e){console.info("箭头函数 ToastBox(options)",e,"filePath:renderer/components/Classroom/CommonInteractions/playBackCoursewareBoard/components/toast/index.js"),e=e||{},"string"===typeof e&&(e={message:e});var t="toast_"+T++;return n=new _({data:e}),n.id=t,n.$mount(),document.getElementById("interactionController").appendChild(n.$el),n.visible=!0,n};x.close=function(){n&&(n.visible=!1)};var q=x,O=function(e){Object(i["a"])(s,e);var t=Object(c["a"])(s);function s(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.info("函数申明 Main(opts)",n,"filePath:renderer/components/Classroom/CommonInteractions/playBackCoursewareBoard/coursewareBoard.js"),Object(r["a"])(this,s),e=t.call(this),e.options=n,e.vm=n.vm,e.quesInfo=null,e.handleQuesInfo(),e}return Object(a["a"])(s,[{key:"handleQuesInfo",value:function(){var e=this.options.ircMsg,t=e.quesTypeId,s=e.quesAnswer,n=e.quesOptions,o=e.quesId,r=e.interactId,a=e.rightCoin,i=e.countDownTime,c=this.options.roomMessage.roomInfo,u=c.stuInfo,l=c.teacherInfo,d=c.stuLiveInfo;return this.quesInfo={quesTypeId:1*t,quesAnswer:s,quesOptions:n.flat(),quesId:o,interactId:r,rightCoin:a,countDownTime:i,stuInfo:u,teacherInfo:l,stuLiveInfo:d},this.quesInfo}},{key:"handleCorrectQues",value:function(e,t){return e.length?Object(h["a"])(new Set(e)).sort().toString()===Object(h["a"])(new Set(t)).sort().toString()?1:2:3}},{key:"submitAnswer",value:function(e){var t=this.handleCorrectQues(e,this.quesInfo.quesAnswer);return t}},{key:"closeToast",value:function(){return q.close()}}]),s}(f["a"]),j=function(){var e=this,t=e._self._c;return t("div",{staticClass:"options-box"},[1===e.quesTypeId?t("ne-radio-group",{staticClass:"courseware-options",on:{change:e.handleChange},model:{value:e.userAnswer,callback:function(t){e.userAnswer=t},expression:"userAnswer"}},e._l(e.optionList,(function(e,s){return t("ne-radio-button",{key:s,attrs:{label:e}})})),1):e._e(),2===e.quesTypeId?t("ne-checkbox-group",{staticClass:"courseware-options",on:{change:e.handleChange},model:{value:e.userAnswer,callback:function(t){e.userAnswer=t},expression:"userAnswer"}},e._l(e.optionList,(function(e){return t("ne-checkbox-button",{key:e.id,attrs:{label:e}})})),1):e._e(),5===e.quesTypeId?t("ne-radio-group",{staticClass:"courseware-options courseware-options--tf",on:{change:e.handleChange},model:{value:e.userAnswer,callback:function(t){e.userAnswer=t},expression:"userAnswer"}},[t("ne-radio-button",{attrs:{label:"T"}},[e._v(" "+e._s(e.$t("classroom.interactions.coursewareBoard.true"))+" ")]),t("ne-radio-button",{attrs:{label:"F"}},[e._v(" "+e._s(e.$t("classroom.interactions.coursewareBoard.false"))+" ")])],1):e._e()],1)},$=[],P=(s("a9e3"),{name:"QuestionOption",props:{optionList:{type:Array,default:function(){return[]}},quesTypeId:{type:Number,default:0}},data:function(){return{userAnswer:[]}},methods:{handleChange:function(e){console.info("对象函数 handleChange(val)",e,"filePath:renderer/components/Classroom/CommonInteractions/playBackCoursewareBoard/components/question-option.vue"),this.$emit("change",e)}}}),S=P,D=Object(k["a"])(S,j,$,!1,null,null,null),L=D.exports,Q=function(){var e=this,t=e._self._c;return t("div",{staticClass:"answer-box"},[5===e.quesTypeId?[e.theUserAnswer&&e.theUserAnswer!==e.theQuesAnswer?t("div",{staticClass:"my-answer-box"},[t("p",[e._v(e._s(e.$t("classroom.interactions.coursewareBoard.yourAnswer")))]),t("span",[[e._v(e._s("T"===e.theUserAnswer?e.$t("classroom.interactions.coursewareBoard.true"):e.$t("classroom.interactions.coursewareBoard.false")))]],2)]):e._e(),t("div",{staticClass:"right-answer-box"},[t("p",[e._v(e._s(e.$t("classroom.interactions.coursewareBoard.rightAnswer")))]),t("span",[[e._v(e._s("T"===e.theQuesAnswer?e.$t("classroom.interactions.coursewareBoard.true"):e.$t("classroom.interactions.coursewareBoard.false")))]],2)])]:[e.theUserAnswer&&e.theUserAnswer!==e.theQuesAnswer?t("div",{staticClass:"my-answer-box"},[t("p",[e._v(e._s(e.$t("classroom.interactions.coursewareBoard.yourAnswer")))]),t("span",[e._l(e.userAnswer,(function(t){return[e._v(e._s(t[0]))]}))],2)]):e._e(),t("div",{staticClass:"right-answer-box"},[t("p",[e._v(e._s(e.$t("classroom.interactions.coursewareBoard.correctAnswer")))]),t("span",[e._l(e.quesAnswer,(function(t){return[e._v(e._s(t[0]))]}))],2)])]],2)},E=[],M={name:"QuestionJudge",props:{quesTypeId:{type:Number,default:0},userAnswer:{type:Array,default:function(){return[]}},quesAnswer:{type:Array,default:function(){return[]}}},computed:{theUserAnswer:function(){return console.info("对象函数 theUserAnswer,filePath:renderer/components/Classroom/CommonInteractions/playBackCoursewareBoard/components/question-judge.vue"),Object(h["a"])(new Set(this.userAnswer)).sort().toString()},theQuesAnswer:function(){return console.info("对象函数 theQuesAnswer,filePath:renderer/components/Classroom/CommonInteractions/playBackCoursewareBoard/components/question-judge.vue"),Object(h["a"])(new Set(this.quesAnswer)).sort().toString()}},mounted:function(){console.log("judge-info:",this.theUserAnswer)}},U=M,N=Object(k["a"])(U,Q,E,!1,null,null,null),V=N.exports,J=s("d0db"),H={props:{options:{type:Object,default:function(){return{}}}},data:function(){return{quesAnswer:[],optionList:[],quesTypeId:null,clickDisabled:!1,btnDisabled:!0,userAnswer:[],isExpanded:!1,isSubmit:!1,isExceptionStatus:!1,countdownOptions:null,visible:!0}},components:{QuestionOption:L,QuestionJudge:V},created:function(){var e=this;return Object(m["a"])(Object(p["a"])().mark((function t(){return Object(p["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.coursewareBoard=new O(Object(o["a"])({},e.options)),e.$nextTick((function(){var t=e.coursewareBoard.quesInfo;e.optionList=t.quesOptions,e.quesAnswer=t.quesAnswer,e.quesTypeId=t.quesTypeId,e.sendLogger({msg:"收到互动",stage:"start"})}));case 2:case"end":return t.stop()}}),t)})))()},computed:{iconClass:function(){return console.info("对象函数 iconClass,filePath:renderer/components/Classroom/CommonInteractions/playBackCoursewareBoard/app.vue"),this.isExpanded?"ne-icon-courseware-arrow ne-icon-courseware-up":"ne-icon-courseware-arrow"}},methods:{upodateUserAnswer:function(e){console.info("对象函数 upodateUserAnswer(val)",e,"filePath:renderer/components/Classroom/CommonInteractions/playBackCoursewareBoard/app.vue"),this.$refs.interactKeyTone.play(),this.userAnswer=e},closeBoard:function(){var e=this;console.info("对象函数 closeBoard,filePath:renderer/components/Classroom/CommonInteractions/playBackCoursewareBoard/app.vue"),this.isExpanded=!0,this.$refs.coursewareBoardBlock&&this.$refs.coursewareBoardBlock.addEventListener("transitionend",(function(){console.info("箭头函数 监听 transitionend,filePath:renderer/components/Classroom/CommonInteractions/playBackCoursewareBoard/app.vue"),e.destroy()}),!1)},submitAnswer:function(e){var t=this;return Object(m["a"])(Object(p["a"])().mark((function s(){var n,o,r;return Object(p["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(console.info("对象函数 submitAnswer(e)",e,"filePath:renderer/components/Classroom/CommonInteractions/playBackCoursewareBoard/app.vue"),!t.clickDisabled){s.next=3;break}return s.abrupt("return");case 3:t.btnDisabled=!0,t.clickDisabled=!0,t.$refs.interactSubmit&&t.$refs.interactSubmit.play(),r=t.coursewareBoard.submitAnswer(t.userAnswer),t.isSubmit=!0,t.clickDisabled=!1,1===r?null===(n=t.$refs.interactSuccess)||void 0===n||n.play():null===(o=t.$refs.interactFail)||void 0===o||o.play(),t.autoCloseBoard(5e3);case 11:case"end":return s.stop()}}),s)})))()},destroyInteraction:function(){console.info("对象函数 destroyInteraction,filePath:renderer/components/Classroom/CommonInteractions/playBackCoursewareBoard/app.vue"),this.destroy()},autoCloseBoard:function(e){var t=this;console.info("对象函数 autoCloseBoard(timer)",e,"filePath:renderer/components/Classroom/CommonInteractions/playBackCoursewareBoard/app.vue");var s=setTimeout((function(){t.closeBoard(),clearTimeout(s),s=null}),e)},sendLogger:function(e){var t=e.msg,s=void 0===t?"":t,n=e.stage,o=void 0===n?"":n,r=e.params,a=void 0===r?{}:r,i=e.response,c=void 0===i?{}:i,u={1:"QuestionDanxuan",2:"QuestionDuoxuan",5:"QuestionPanduan"};J["a"].send({tag:"student.Interact",content:{msg:s,interactType:u[this.quesTypeId],interactId:this.options.ircMsg.interactId,interactStage:o,params:JSON.stringify(a),response:JSON.stringify(c)}})},destroy:function(){var e;console.info("对象函数 destroy,filePath:renderer/components/Classroom/CommonInteractions/playBackCoursewareBoard/app.vue"),this.sendLogger({msg:"结束互动",stage:"end"}),this.$destroy(),this.coursewareBoard.closeToast(),null===(e=this.$el)||void 0===e||null===(e=e.parentNode)||void 0===e||e.removeChild(this.$el)}},watch:{userAnswer:function(e){console.info("对象函数 userAnswer(val)",e,"filePath:renderer/components/Classroom/CommonInteractions/playBackCoursewareBoard/app.vue"),e.length>0?this.btnDisabled=!1:this.btnDisabled=!0}}},F=H,K=(s("2fe5"),Object(k["a"])(F,l,d,!1,null,null,null)),R=K.exports,z=function(e){Object(i["a"])(s,e);var t=Object(c["a"])(s);function s(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.info("函数申明 CoursewareBoard(opts)",n,"filePath:renderer/components/Classroom/CommonInteractions/playBackCoursewareBoard/index.js"),Object(r["a"])(this,s),e=t.call(this,R),e.options=n,e.dom=n.roomMessage.roomInfo.interactionController,e.initVmApp("h5课件互动题"),e}return Object(a["a"])(s,[{key:"createPropsData",value:function(){var e={};return Object(o["a"])({options:this.options},e)}}]),s}(u["a"])},"96ec":function(e,t,s){"use strict";s("ed37")},b6c9:function(e,t,s){"use strict";s.d(t,"a",(function(){return u}));var n=s("d4ec"),o=s("bee2"),r=(s("99af"),s("d9e2"),s("8bbf")),a=s.n(r),i=s("3898"),c=s("d0db"),u=function(){function e(t){console.info("函数申明 InteractionBase(app)",t,"filePath:renderer/components/Classroom/CommonInteractions/interaction-base.js"),Object(n["a"])(this,e),this.app=t,this.vm=null,this.keepOtherDom=!1}return Object(o["a"])(e,[{key:"initVmApp",value:function(e){if(!this.dom)throw Error("互动的dom容器不存在");this.dom.children.length>0&&!this.keepOtherDom&&(c["a"].send({tag:"tempInteractionTest",content:{msg:"清空互动容器，由".concat(e,"触发清空，清空").concat(this.dom.children[0].className)}}),this.dom.innerHTML=""),this.vm=this.initVm(this.app),this.render(this.dom,this.vm)}},{key:"initVm",value:function(e){var t=a.a.extend(e),s=this.createPropsData(),n=new t({i18n:i["b"],propsData:s,store:this.store||{}});return n.$mount(),n}},{key:"render",value:function(e,t){e.appendChild(t.$el)}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.submit,s=e.key,n=void 0===s?"":s;if(this.vm){var o,r;if(t&&this.vm.submit(),this.vm.$destroy(),"classRest"===n)null===this||void 0===this||null===(o=this.dom)||void 0===o||o.removeChild(null===this||void 0===this||null===(r=this.vm)||void 0===r?void 0:r.$el);else this.dom.innerHTML="";this.vm=null,this.app=null}}},{key:"getProperties",value:function(e,t){return e["".concat(t)].properties}},{key:"handleMsg",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log(e)}}]),e}()},ed37:function(e,t,s){},f7d4:function(e,t,s){},fb97:function(e,t,s){e.exports=s.p+"static/media/interact-fail.55547638.mp3"},fc4e:function(e,t,s){e.exports=s.p+"static/media/interact-key-tone.631f9373.mp3"}}]);
//# sourceMappingURL=chunk-418d29e8.ba65ce2d.js.map