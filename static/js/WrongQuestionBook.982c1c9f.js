(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["WrongQuestionBook"],{"3ed8":function(e,t,o){"use strict";o("aa44")},"4a82":function(e,t,o){"use strict";o("7c49")},"7b1b":function(e,t,o){"use strict";o("14d9"),o("b64b"),o("99af");var a=o("d0db"),n=o("e39c"),s={data:{return:{isSendLogger:!1}},methods:{bindEvent:function(){window.addEventListener("message",this.bindMessage,!1)},bindMessage:function(e){var t=e.data||{};if(console.log("message",t),"string"===typeof t)try{t=JSON.parse(t)}catch(u){console.error(u),t=e.data}var o=t.action;if("jy-exit"==o&&(this.sendLoggers("h5message","退出作业事件:actionType: ".concat(o,", parseData: ").concat(JSON.stringify(t))),this.isBeforeClassTest()&&this.$router.push("".concat(this.backUrl))),"jy-submit"==o&&(this.sendLoggers("h5message","提交作业事件:actionType: ".concat(o,", parseData: ").concat(JSON.stringify(t),", sendMessageDone: ").concat(this.sendMessageDone)),this.sendMessageDone||this.submitHomeworkEvent(t.data.state||1,t.data.type||0)),"jy-overtime"==o&&(this.sendLoggers("h5message","请求超时事件:actionType: ".concat(o,", parseData: ").concat(JSON.stringify(t))),this.isBeforeClassTest()&&this.$router.push("".concat(this.backUrl)),this.$Message.warning("Network error (or your account is signed in on another device)")),"jy-close"==o&&(this.sendLoggers("h5message","退出h5页面事件:actionType: ".concat(o,", parseData: ").concat(JSON.stringify(t))),this.isBeforeClassTest()&&this.$router.push("".concat(this.backUrl))),"hwApiResponse"==o){var a=Object(n["q"])("homeworkId"),s=Object(n["q"])("classId"),i={homeworkId:a,homeworkClassId:s,homeworkApiPath:t.data.path,homeworkResponseTime:t.data.responseTime,homeworkStatus:t.data.status};this.sendLoggers("h5message","提交作业接口响应时长:actionType: ".concat(o,", parseData: ").concat(JSON.stringify(t),",homeworkSubmit:").concat(JSON.stringify(i)))}if("hwUploadImg"==o){var r=Object(n["q"])("homeworkId"),c=Object(n["q"])("classId"),d={homeworkId:r,homeworkClassId:c,homeworkUploadDuration:t.data.uploadDuration,homeworkType:t.data.uploadType,homeworkUploadStatus:t.data.uploadStatus};this.sendLoggers("h5message","上传图片上传时长:actionType: ".concat(o,", parseData: ").concat(JSON.stringify(t),",homeworkUpload:").concat(JSON.stringify(d)))}"completedExamSuccess"==o&&(this.sendSubmitEaxmToTeacher(),this.sendLoggers("h5message","监听h5交卷事件:actionType: ".concat(o,", parseData: ").concat(JSON.stringify(t)))),"dismissView"!=o&&"hwHomeWorkRepeat"!==o||(this.showEaxmIframe=!1,this.examUrl="",this.sendLoggers("h5message","监听h5关闭事件:actionType: ".concat(o,", parseData: ").concat(JSON.stringify(t))))},sendLoggers:function(e,t){this.isSendLogger=!0,a["a"].send({tag:e,level:"info",content:{msg:t}})},isBeforeClassTest:function(){return!!this.$router}},beforeDestroy:function(){window.removeEventListener("message",this.bindMessage)}};t["a"]=s},"7c49":function(e,t,o){},"857a":function(e,t,o){"use strict";var a=o("e330"),n=o("1d80"),s=o("577e"),i=/"/g,r=a("".replace);e.exports=function(e,t,o,a){var c=s(n(e)),d="<"+t;return""!==o&&(d+=" "+o+'="'+r(s(a),i,"&quot;")+'"'),d+">"+c+"</"+t+">"}},aa44:function(e,t,o){},ab090:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"page-wrapper"},[t("Toolbar"),t("div",{staticClass:"wrongQuestionBook"},[t("iframe",{staticClass:"iframe",attrs:{id:"wrongQuestionBook",src:e.iframeUrl},on:{onload:e.handleIframeLoad}})])],1)},n=[],s=o("c7eb"),i=o("1da1"),r=(o("b64b"),o("99af"),o("dfa8")),c=o("d0db"),d=o("02fc"),u=o("7b1b"),l={name:"WrongQuestionBook",components:{Toolbar:r["a"]},mixins:[u["a"]],data:function(){return{title:"WrongQuestionBook",backUrl:"",iframeUrl:"",useInfo:window.localStorage.getItem("userInfo")}},mounted:function(){var e=this;return Object(i["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("WrongQuestionBook",e.$route),e.bindEvent(),e.initRouteParams();case 3:case"end":return t.stop()}}),t)})))()},methods:{updateHeaderAttr:function(){console.info("对象函数 updateHeaderAttr,filePath:renderer/views/h5/WrongQuestionBook.vue"),this.$bus.$emit("updateHeaderAttr",{title:this.$t("today.wrongQuestionBook"),showGoback:!0,backUrl:this.backUrl})},initRouteParams:function(){var e=this;return Object(i["a"])(Object(s["a"])().mark((function t(){var o,a,n;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 initRouteParams,filePath:renderer/views/h5/WrongQuestionBook.vue"),o=e.$route.query,t.next=4,Object(d["f"])();case 4:a=t.sent,n=e.useInfo?JSON.parse(e.useInfo).unifiedAccessToken:"",e.iframeUrl="".concat(o.url,"?token=").concat(n,"&schoolCode=").concat(a),console.log("WrongQuestionBook11",e.iframeUrl),e.backUrl="/courses",e.updateHeaderAttr(),window.thinkApi.ipc.send("test:url",e.iframeUrl);case 11:case"end":return t.stop()}}),t)})))()},handleIframeLoad:function(){console.info("对象函数 handleIframeLoad,filePath:renderer/views/h5/WrongQuestionBook.vue"),c["a"].send({content:{msg:"加载H5成功-错题本",url:this.iframeUrl}})}}},h=l,f=(o("c250"),o("2877")),m=Object(f["a"])(h,a,n,!1,null,"1589986a",null);t["default"]=m.exports},af03:function(e,t,o){"use strict";var a=o("d039");e.exports=function(e){return a((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},c250:function(e,t,o){"use strict";o("dd6e")},c7cd:function(e,t,o){"use strict";var a=o("23e7"),n=o("857a"),s=o("af03");a({target:"String",proto:!0,forced:s("fixed")},{fixed:function(){return n(this,"tt","","")}})},dd6e:function(e,t,o){},dfa8:function(e,t,o){"use strict";o("c7cd");var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"toolbar",class:[{transparent:e.transparent,fixed:e.fixed,"white-button":e.whiteButton,"theme-dark":e.darkTheme}],attrs:{"data-log":"原生菜单栏"}},[t("div",{staticClass:"drag-bar",attrs:{"data-log":"drag-bar"}}),t("WindowsActionBar")],1)},n=[],s=function(){var e=this,t=e._self._c;return"win"===e.platform?t("div",{staticClass:"windows-action-bar",attrs:{"data-log":"window菜单栏"}},[t("div",{staticClass:"item",attrs:{"data-log":"最小化"},on:{click:e.handleMinimizeWindow}},[t("span",{staticClass:"icon icon-minimize"})]),t("div",{staticClass:"item",attrs:{"data-log":"关闭"},on:{click:e.handleCloseWindow}},[t("span",{staticClass:"icon icon-close"})])]):e._e()},i=[],r=o("0d52"),c=o("e39c"),d={name:"WindowsActionBar",data:function(){return{platform:Object(c["l"])()}},methods:{handleMinimizeWindow:function(){console.info("对象函数 handleMinimizeWindow,filePath:renderer/components/Common/windowsActionBar.vue"),r["nativeApi"].minimizeWindow()},handleCloseWindow:function(){console.info("对象函数 handleCloseWindow,filePath:renderer/components/Common/windowsActionBar.vue"),localStorage.removeItem("largeClassTestCoverage"),localStorage.removeItem("smallClassTestCoverage"),r["nativeApi"].closeWindow(!0)}}},u=d,l=(o("4a82"),o("2877")),h=Object(l["a"])(u,s,i,!1,null,"55cdfd22",null),f=h.exports,m={name:"Toolbar",components:{WindowsActionBar:f},props:{transparent:{default:!1,type:Boolean},fixed:{default:!1,type:Boolean},whiteButton:{default:!1,type:Boolean},disabledMaximize:{default:!1,type:Boolean},darkTheme:{default:!1,type:Boolean}}},g=m,p=(o("3ed8"),Object(l["a"])(g,a,n,!1,null,"3bd2c296",null));t["a"]=p.exports}}]);
//# sourceMappingURL=WrongQuestionBook.982c1c9f.js.map