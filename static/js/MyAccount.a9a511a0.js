(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["MyAccount"],{"05c9":function(t,e,a){},"1a4eb":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"empty-status",class:{small:"small"==t.size}},[e("div",{staticClass:"message"},[t._v(t._s(t.message))])])},n=[],i={name:"EmptyStatus",data:function(){return{showSwitchAccount:!1}},props:{message:{type:String,default:""},size:{default:"normal",type:String}}},c=i,o=(a("a4ed1"),a("2877")),r=Object(o["a"])(c,s,n,!1,null,"46393ed8",null);e["a"]=r.exports},4186:function(t,e,a){"use strict";a("a202")},8796:function(t,e,a){},a202:function(t,e,a){},a4ed1:function(t,e,a){"use strict";a("8796")},aaf0:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{class:["error-wrapper",t.bgWhiteAuth?"bg-white":""]},[e("div",{staticClass:"center"},[e("div",{staticClass:"error-status"}),e("div",{staticClass:"message"},[e("div",{staticClass:"message-main"},[t._v(t._s(t.message))]),t.scene?e("p",{staticClass:"message-sub"},[t._v(" "+t._s("Scene: ".concat(t.scene,"."))+" "+t._s(t.subMessage)+" ")]):t._e()]),e("div",{staticClass:"button-wrapper"},[t.showRefresh?e("a-button",{class:t.showBack||t.isClassLiveOrPlayback?"mr40":"",attrs:{type:"primary",shape:"round",size:"large"},on:{click:t.handleRefresh}},[t._v(" "+t._s(t.$t("common.refresh"))+" ")]):t._e(),t.showBack||t.isClassLiveOrPlayback?e("a-button",{staticClass:"color-orange",attrs:{shape:"round",size:"large"},on:{click:t.handleBack}},[t._v(" "+t._s(t.isClassLiveOrPlayback?t.$t("classroom.modules.systemError.backButtonName"):t.$t("common.back"))+" ")]):t._e()],1)])])},n=[],i=(a("14d9"),a("caad"),a("9ca9")),c={name:"ErrorStatus",props:{message:{type:String,default:function(){return console.info("对象函数 default,filePath:renderer/components/Common/ErrorStatus.vue"),this.$t("common.components.errorStatus.message")}},isClassLiveOrPlayback:{type:Boolean,default:!1},scene:{type:String,default:""},subMessage:{type:String,default:""},showRefresh:{type:Boolean,default:!0},showBack:{type:Boolean,default:!1},backUrl:{type:String,default:""}},computed:{bgWhiteAuth:function(){return console.info("对象函数 bgWhiteAuth,filePath:renderer/components/Common/ErrorStatus.vue"),["ClassLiving","PlaybackReadyClass","LivingReadyClass","PlayBack"].includes(this.scene)}},methods:{handleRefresh:function(){console.info("对象函数 handleRefresh,filePath:renderer/components/Common/ErrorStatus.vue"),this.isClassLiveOrPlayback?window.location.reload():this.$emit("click-refresh")},handleBack:function(){console.info("对象函数 handleBack,filePath:renderer/components/Common/ErrorStatus.vue"),this.isClassLiveOrPlayback?Object(i["a"])("/#/courses"):this.$router.push({path:this.backUrl})}}},o=c,r=(a("4186"),a("2877")),u=Object(r["a"])(o,s,n,!1,null,"31fed01e",null);e["a"]=u.exports},bd12:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return t.show?e("div",{staticClass:"loading-wrapper",class:t.className,style:t.loadingStyle},[t._m(0)]):t._e()},n=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"loading-contenter"},[e("div",{staticClass:"loading-logo"},[e("img",{attrs:{src:a("c63e")}})]),e("div",{staticClass:"loading-animation"})])}],i={name:"Loading",props:{show:{default:!0,type:Boolean},size:{default:"default",type:String,validator:function(t){return console.info("对象函数 validator(value)",t,"filePath:renderer/components/Common/Loading.vue"),-1!==["small","default"].indexOf(t)}},marginTop:{default:"0",type:String},marginBottom:{default:"0",type:String}},computed:{className:function(){return console.info("对象函数 className,filePath:renderer/components/Common/Loading.vue"),"loading-".concat(this.size)},loadingStyle:function(){return console.info("对象函数 loadingStyle,filePath:renderer/components/Common/Loading.vue"),{marginTop:this.marginTop,marginBottom:this.marginBottom}}}},c=i,o=(a("f761"),a("2877")),r=Object(o["a"])(c,s,n,!1,null,"92d727e8",null);e["a"]=r.exports},c63e:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAA8UExURUdwTP/DL//DLv/BL//DLv/EL//DL//DLv/DL//CLv/DL//DL//CLf/DL//DL//DL//DLv/DL//DMv/DMGSQIxsAAAATdFJOUwDwcSTeYM1AwICojww0SLNSmhsrwQ8LAAABI0lEQVRYw+3X2a6DIBCAYbaBYXXh/d/1aE3UxtbjMhdtOv+l6BeiiYAQ5+tzLwhK2oGKjTW1Vn/HyQV8NzlzF8HRkfVV10BX38Ygg18FptICKB+70OAWDD4GNPIMaJentyAuv4l8FKx7IIjYdB7a3CdBArplWFoMUYHTiQhcZdDTgqt3yyCDdgTlkBmy1iLeBIcJ7Q6fB2txzpGCYwz+HuhWAR4BcR98LhwAU6vGlXIDaruZexBwAJy35dN2WtadNX++iESbiK8BDRYyULWXT0AvwTsxyCCDnwJaUhAjaCrQBFWSuNsESoytFiRpYzqVxc/kh0Mipaemj2tDHE62iWKCh7daDDLI4CeDhRoUPXSWFHysASpIUnAsK6QFp+Pjf3f8AVRMjNs7xw9TAAAAAElFTkSuQmCC"},e300:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-wrapper",attrs:{"data-log":"我的账号页面"}},[e("div",{staticClass:"my-accont-page-template"},[t.isError?[e("ErrorStatus",{attrs:{scene:"MyAccount"},on:{"click-refresh":t.init}})]:t.isLoading?[t.isLoading?e("Loading",{attrs:{"margin-top":"200px"}}):t._e()]:[e("div",{staticClass:"my-account-main-container"},[e("div",{staticClass:"my-account-body-container"},[e("div",{staticClass:"current-account-card"},[e("div",{staticClass:"stu-card"},[e("div",{staticClass:"stu-avatar"},[e("img",{attrs:{src:t.userInfo.avatar,alt:""}})]),e("div",{staticClass:"stu-name"},[t._v(" "+t._s(t.userInfo.nickName)+" ")]),e("div",{staticClass:"card-footer"},[e("div",{staticClass:"stu-no"},[e("span",[t._v("No.")]),e("span",[t._v(t._s(t._f("formatCardNo")(t.userInfo.card)))])]),e("div",{staticClass:"btn-copy-stu-no",on:{click:t.handleCopy}},[t._v(t._s(t.$t("common.copy")))])])]),e("div",{staticClass:"resetPassword"},[e("a",{attrs:{href:"javascript:;"},on:{click:t.resetPassword}},[t._v(t._s(t.$t("account.accountVerification.clickToResetPw[0]")))]),t._v(" "+t._s(t.$t("account.accountVerification.clickToResetPw[1]"))+" ")]),e("div",{staticClass:"copy-toast-tip",class:{show:t.showCopiedToast}},[t._v(" "+t._s(t.copiedToastMsg)+" ")])]),e("div",{staticClass:"other-acounts-card"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("account.accountVerification.otherStudents")))]),e("div",{staticClass:"tip-text"},[t._v(t._s(t.$t("account.accountVerification.note")))]),0==t.studentsList.length?[e("EmptyStatus",{attrs:{message:t.$t("account.accountVerification.noAccountAssociated"),size:"small"}})]:[e("div",{staticClass:"student-list-container"},t._l(t.studentsList,(function(a,s){return e("div",{key:s,staticClass:"stu-item-card",on:{click:function(e){return t.handleSwitchAccount(a)}}},[e("div",{staticClass:"stu-avatar"},[e("img",{attrs:{src:a.avatar,alt:""}})]),e("div",{staticClass:"stu-info"},[e("div",{staticClass:"stu-name"},[t._v(t._s(a.nickName))]),e("div",{staticClass:"stu-no"},[e("span",[t._v("No.")]),e("span",[t._v(t._s(t._f("formatCardNo")(a.card)))])])]),e("div",{staticClass:"icon-btn-change"})])})),0)]],2)]),e("div",{staticClass:"my-account-footer-contaienr"},[e("div",{staticClass:"btn-back-to-courses",on:{click:t.handleBack}},[e("a-icon",{attrs:{type:"caret-left"}}),e("span",[t._v(t._s(t.$t("account.personalInformation.backToCourses")))])],1),t.studentsList.length<5?e("div",{staticClass:"btn-add-student",on:{click:function(e){return t.handleAddStu()}}},[e("span",[t._v(t._s(t.$t("account.accountVerification.addStudent")))]),e("span",{staticClass:"icon-arrow-right"})]):e("div",{staticClass:"tip-text"},[t._v(t._s(t.$t("account.accountVerification.maxAccount")))])])])]],2)])},n=[],i=a("c7eb"),c=a("1da1"),o=(a("14d9"),a("ac1f"),a("5319"),a("bd12")),r=a("aaf0"),u=a("1a4eb"),l=a("92e5"),d=a("ae3f"),f=a("0d52"),h=a("2b6b"),p={components:{Loading:o["a"],ErrorStatus:r["a"],EmptyStatus:u["a"]},data:function(){return{isLoading:!1,isError:!1,isSwitching:!1,showCopiedToast:!1,copiedToastMsg:"Copied Successfully",userInfo:{avatar:"",nickName:"",uid:"",card:""},studentsList:[]}},filters:{formatCardNo:function(t){return console.info("对象函数 formatCardNo(val)",t,"filePath:renderer/views/MyAccount.vue"),t||(t=""),t.replace(/(.{4})/g,"$1 ")}},mounted:function(){this.init()},methods:{resetPassword:function(){var t=this;return Object(c["a"])(Object(i["a"])().mark((function e(){var a,s;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.info("对象函数 resetPassword,filePath:renderer/views/MyAccount.vue"),e.next=3,Object(d["c"])({changeType:1});case 3:if(a=e.sent,a&&0==a.code){e.next=7;break}return t.$Modal.warning({class:"modal-simple modal-changePassword",content:t.$t("account.modifyPassword.noEmailOrPhoneLinked"),width:"380px",okText:t.$t("common.gotIt")}),e.abrupt("return");case 7:s=a.data||{},t.$store.dispatch("login/updatePasswordLoginType",{type:1==s.helper.status?"mobile":"email"}),t.$Modal.confirm({class:"modal-simple modal-changePassword",content:t.$t("account.modifyPassword.changePasswordTips"),width:"380px",okText:t.$t("account.modifyPassword.confirmChange"),cancelText:t.$t("account.modifyPassword.cancel"),onOk:function(){t.$router.push({path:"/my-password-settings",query:{emailOrMobileStatus:s.helper.status,phoneNumber:1==s.helper.status?s.helper.extra.phone:"",countryCallingCode:1==s.helper.status?s.helper.extra.countryCallingCode:"",email:2==s.helper.status?s.helper.extra.email:""}})}});case 10:case"end":return e.stop()}}),e)})))()},init:function(){var t=this;return Object(c["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.info("对象函数 init,filePath:renderer/views/MyAccount.vue"),t.updateHeaderAttr(),t.isLoading=!0,e.next=5,t.reloadUserInfo();case 5:t.isLoading=!1;case 6:case"end":return e.stop()}}),e)})))()},updateHeaderAttr:function(){console.info("对象函数 updateHeaderAttr,filePath:renderer/views/MyAccount.vue"),this.$bus.$emit("updateHeaderAttr",{title:this.$t("account.myAccount.title"),showGoback:!0,backUrl:"/courses"})},reloadUserInfo:function(){var t=this;return Object(c["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.info("对象函数 reloadUserInfo,filePath:renderer/views/MyAccount.vue"),e.next=3,t.getLocalUserInfo();case 3:return e.next=5,t.getStudentsList();case 5:case"end":return e.stop()}}),e)})))()},getLocalUserInfo:function(){var t=this;return Object(c["a"])(Object(i["a"])().mark((function e(){var a;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.info("对象函数 getLocalUserInfo,filePath:renderer/views/MyAccount.vue"),e.next=3,Object(l["a"])();case 3:a=e.sent,t.userInfo.avatar=a.avatar,t.userInfo.nickName=a.nickName,t.userInfo.uid=a.uid,t.userInfo.card=a.card,t.loadingUserInfo=!1;case 9:case"end":return e.stop()}}),e)})))()},getStudentsList:function(){var t=this;return Object(c["a"])(Object(i["a"])().mark((function e(){var a,s;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.info("对象函数 getStudentsList,filePath:renderer/views/MyAccount.vue"),e.next=3,Object(d["b"])();case 3:if(a=e.sent,0==(null===a||void 0===a?void 0:a.code)){e.next=7;break}return t.isError=!0,e.abrupt("return");case 7:s=a.data||{},t.studentsList=s.associatedAccount||[],t.loadingStudentList=!1;case 10:case"end":return e.stop()}}),e)})))()},handleAddStu:function(){console.info("对象函数 handleAddStu,filePath:renderer/views/MyAccount.vue"),this.$router.push("/add-student")},handleSwitchAccount:function(t){var e=this;return Object(c["a"])(Object(i["a"])().mark((function a(){var s,n,c;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(console.info("对象函数 handleSwitchAccount(stuInfo)",t,"filePath:renderer/views/MyAccount.vue"),!e.isSwitching){a.next=3;break}return a.abrupt("return");case 3:return e.isSwitching=!0,s={targetUid:t.uid},a.next=7,Object(d["j"])(s);case 7:if(n=a.sent,n&&0==n.code){a.next=12;break}return e.$Message.warn(n.msg||e.$t("account.accountVerification.switchedFailed"),1.5),e.isSwitching=!1,a.abrupt("return");case 12:return c=n.data||{},e.$Message.success(e.$t("account.accountVerification.switchedSuccessfully"),1.5),a.next=16,Object(l["c"])({uid:c.uid,card:c.card,avatar:c.avatar,email:c.email,nickName:c.nickName,countryCallingCode:c.countryCallingCode,phone:c.phone,unifiedAccessToken:c.unifiedAccessToken});case 16:return a.t0=h["setUserAttributes"],a.next=19,Object(l["a"])();case 19:a.t1=a.sent,(0,a.t0)(a.t1),e.$bus.$emit("update-userinfo"),e.$bus.$emit("update-coin"),e.reloadUserInfo(),e.isSwitching=!1;case 25:case"end":return a.stop()}}),a)})))()},handleCopy:function(){if(console.info("对象函数 handleCopy,filePath:renderer/views/MyAccount.vue"),!this.userInfo.card)return this.copiedToastMsg=this.$t("account.accountVerification.copiedFailed"),void this.handleShowToast();this.copiedToastMsg=this.$t("account.accountVerification.copiedSuccessfully"),f["nativeApi"].clipboard.write(this.userInfo.card),this.handleShowToast()},handleShowToast:function(){var t=this;console.info("对象函数 handleShowToast,filePath:renderer/views/MyAccount.vue"),this.showCopiedToast=!0,setTimeout((function(){t.showCopiedToast=!1}),3e3)},handleBack:function(){console.info("对象函数 handleBack,filePath:renderer/views/MyAccount.vue"),this.$router.push("/courses")}}},v=p,m=(a("f8bb0"),a("2877")),g=Object(m["a"])(v,s,n,!1,null,"3b30ec4c",null);e["default"]=g.exports},ebc2:function(t,e,a){},f761:function(t,e,a){"use strict";a("ebc2")},f8bb0:function(t,e,a){"use strict";a("05c9")}}]);
//# sourceMappingURL=MyAccount.a9a511a0.js.map