(function(e){function t(t){for(var s,a,r=t[0],c=t[1],l=t[2],u=0,d=[];u<r.length;u++)a=r[u],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);h&&h(t);while(d.length)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],s=!0,a=1;a<n.length;a++){var r=n[a];0!==i[r]&&(s=!1)}s&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var s={},a={smallClass:0},i={smallClass:0},o=[];function r(e){return c.p+"static/js/"+({}[e]||e)+"."+{"chunk-06ac8425":"2285f634","chunk-06d6e3d4":"f5428fc1","chunk-0c1aef76":"5542e594","chunk-0d75864e":"11f74a50","chunk-2702196d":"26c31ce4","chunk-30676b10":"bd32be6d","chunk-33b85116":"69f1a042","chunk-3d512d94":"ea614e03","chunk-45555e0e":"2206d74b","chunk-59738786":"86284cca","chunk-5db599bc":"4bca80aa","chunk-62da6eda":"39849ccd","chunk-6d17e221":"3beca26c","chunk-6f1ac684":"7ffa8264","chunk-77313808":"d8defc9e","chunk-bc172820":"98cb14c6"}[e]+".js"}function c(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-06d6e3d4":1,"chunk-0c1aef76":1,"chunk-0d75864e":1,"chunk-2702196d":1,"chunk-30676b10":1,"chunk-33b85116":1,"chunk-3d512d94":1,"chunk-45555e0e":1,"chunk-59738786":1,"chunk-5db599bc":1,"chunk-62da6eda":1,"chunk-6d17e221":1,"chunk-6f1ac684":1,"chunk-77313808":1,"chunk-bc172820":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var s="static/css/"+({}[e]||e)+"."+{"chunk-06ac8425":"31d6cfe0","chunk-06d6e3d4":"bee1c60f","chunk-0c1aef76":"bb60185e","chunk-0d75864e":"0ac66689","chunk-2702196d":"0906726f","chunk-30676b10":"19621ed9","chunk-33b85116":"c7044783","chunk-3d512d94":"dc899aec","chunk-45555e0e":"2c6527a3","chunk-59738786":"ee643c42","chunk-5db599bc":"6d2f3770","chunk-62da6eda":"37aaddfe","chunk-6d17e221":"b131c954","chunk-6f1ac684":"fbe1611d","chunk-77313808":"94407e3f","chunk-bc172820":"8351e196"}[e]+".css",i=c.p+s,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var l=o[r],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===s||u===i))return t()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){l=d[r],u=l.getAttribute("data-href");if(u===s||u===i)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var s=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=s,delete a[e],h.parentNode.removeChild(h),n(o)},h.href=i;var m=document.getElementsByTagName("head")[0];m.appendChild(h)})).then((function(){a[e]=0})));var s=i[e];if(0!==s)if(s)t.push(s[2]);else{var o=new Promise((function(t,n){s=i[e]=[t,n]}));t.push(s[2]=o);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=r(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(h);var n=i[e];if(0!==n){if(n){var s=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+s+": "+a+")",d.name="ChunkLoadError",d.type=s,d.request=a,n[1](d)}i[e]=void 0}};var h=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=s,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)c.d(n,s,function(t){return e[t]}.bind(null,s));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="./",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var h=u;o.push([1,"chunk-vendors","chunk-common"]),n()})({"0013":function(e,t,n){e.exports=n.p+"static/media/count-down.9e1293e4.mp3"},"0045":function(e,t,n){},"011a":function(e,t,n){},"0183":function(e,t,n){"use strict";n("5264")},"0230":function(e,t,n){"use strict";n("e401")},"0391":function(e,t,n){"use strict";n("9fa0")},"03a0":function(e,t,n){e.exports=n.p+"static/media/class-rest.adaef843.mp3"},"03bb":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABCUExURUdwTP8yMv9OPP9NPv9QPP9QRP9MPv9OPv9OPf9OPP9MPP9QQv9QPv////9gUv+bkf/Z1f90Zv/z8/+tp/+JfP+/uQdkbLEAAAAMdFJOUwAE01frFpf5gLHjNuGC4G8AAAEJSURBVDjLlZXrDoMwCIWr9kIVW93l/V91Ysw2Ck52/piQL6XAKTrHNEHufUq+zzC5UwUYMSXctX1GCDoWD+ajFBV08KjIDw3WRTxR7BiX8VS5s3GMjPhT8V0Hj5daC48cFQVeb7nN842TPmiJn/Omp5I8NH1eCFyaztORgNcgwlb5iNepcdz80jbjTuC9jU4isw4mcGIolcAqxuP6NvQg8NFGe+dtoHfCrSuBq/CwBAuBRYLS2IvsN6UWxSju2YvJaFHKDpKJBDlCPfUkTbGScVdpis5mM8W48y7FuO1T0E6M2uNS7ng8LvNztS8A+0oxLyn72rMv0j9W87Hsv+d7suzppvz3wW73AuO2O5X1jG6cAAAAAElFTkSuQmCC"},"03dd":function(e,t,n){},"0416":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"relative"},[t("div",{staticClass:"w-[1.32rem] h-[1.32rem] bg-student-bg overflow-hidden bg-contain flex justify-center items-center text-[#a2aab8] text-small"},[e._v(" "+e._s(e.$t("classroom.smallClass.videoGroup.localVideoAudition.notice"))+" ")])])},a=[]},"050b":function(e,t,n){"use strict";n("44ed")},"0567":function(e,t,n){},"05eb":function(e,t,n){"use strict";n("76ac")},"08da8":function(e,t,n){},"0a05":function(e,t){e.exports=require("constants")},"0a17":function(e,t,n){"use strict";n("bdb6")},"0cfe":function(e,t,n){},"0f9b":function(e,t,n){e.exports=n.p+"static/media/keyDown.ac902d54.mp3"},"0ffa":function(e,t,n){"use strict";n("9481")},1:function(e,t,n){e.exports=n("8f59")},1023:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAAAXNSR0IArs4c6QAAActJREFUSEvtlDFIV1EUxn9fBEFBaDUoQk0OgQ1BNARBm4soGhJIEBRCQ7g2tDY4G21BEIVOKVGkREOWm0LR2ha4SEpQFEV9ceT+5fl8//eeJqLgWc/9fvec7557xDaHtpnHPvD/Hd2DHto+AFwAeoEzQDtwGFgGPgITkl43M2ddy7YvAWMJVGboLDAi6UP+0BrQ9q0Eq+vrCnBe0qcsdFVsuxV4D5xMSQMzwEvgM3AE6AKGgWMZwKSkgQ3ABD0BPAHOApclvc23Y/sUsAAcT7lfQIukH42zeQ/jQTokRVWFYfsBcCOT7My2XdevNb3tUeB2BhgFLBZWWOef2J5LYxXHl2KsJP3ZEtB2HzCVufiepJHCR6mqznYM+RsgJqJR3WlJXzYNtB0j8wpoS+JosU/Si6aDXfKq54DpzKgE7LqkR0Wa0le2fRF4DhxN4t/ANUnjzQpoCrTdDTxNiyH0P4Erkp6V+V0ItN0PRBWHkvg70C8pfCyNDUDbV4GHwMGk/Ar0SHpXBYt8/uvdBO4D8QUjvgGDwHwJ7K+k2JWrkV1fQ8Dj/CU1qlqW1FgW64B3gTs1APkjOwTcQmWFkk2vr6qL94FVDlXnd7+H/wCLRIElFNq/kAAAAABJRU5ErkJggg=="},1241:function(e,t,n){e.exports=n.p+"static/media/red-rain-click.ff533fb7.mp3"},"12de":function(e,t,n){"use strict";n("94e8")},"13e5":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAAAXNSR0IArs4c6QAAAj9JREFUSEvtlcurjlEUxn+PIncRUaTEACFyCUWRknRKUXLp/AFKZIKBGFBHucwMZGbkDI5IBij3a5FrTAyM3DpJBnJ9tE77+9rfPt+n7xxncsqavL17Pe/z7vWsZ68t+jjUx3z8J/x3RfuphrbnA5uARcB44BvwHrgNdEh62kicmpJtjwFOAuv/oqaBM8A2SZ9KXJXQ9gjgOjCvAAVBRKn3C2CFpI85Pic8DuzMkjeA/cAj4BcwHdgBbAEGJNw5Seu6EdoeAnwAhqfkPWC5pB9lSbbbgN3ZeuzyWuW9a4e2lwB3MlCrpNP1dLQ9GujMJGiXtLEkbAHOZwQrJV1tQBjlfgGGpnynpLEl4WLgbkawR9LhBoQLgQdFbpqk19XO2R6UNByVgJ+BZZKe5R/aDk9eAWYVhIG9VWMF2wdSVyvYaEh76vJ3YCawFQh7ldEi6UJJOBA4C6ytV2qx9hKYka2tlnSphjB1O7reChwCJtYhfgdEJdGYE1l+gaSH3QgrANuDgaWpzCgxjljoeV/ST9tHgV0JHydpnKSwUu+uANtPgDmJ8Lmk2TW2aUKzKsT2KuBy9k2bpL29IrQ9GbgJxDMixtoUSW/rEtqeC6wBTuVTxHac8TheB4EJ2e72SYq1apTzMGwT0yOmS3Q0/jwMmAqE+fPoADZIqoy3rlw+vkLkx000Kn52DIjj+bvUPyccCWwHNifTlgM1dnsROCLpVaNG1r31kg8nJXN/jftE0ptm3NBPr9FmSuuRhv8Je6TAH5U7rSX6ri7jAAAAAElFTkSuQmCC"},1435:function(e,t,n){e.exports=n.p+"static/media/xuanren.c5c10ba4.mp3"},"14b3":function(e,t,n){},"14c2":function(e,t){e.exports=require("zlib")},1500:function(e,t,n){"use strict";n("314f")},"15b3":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAkCAYAAACe0YppAAAAAXNSR0IArs4c6QAABVtJREFUWEfFl2lslGUQx3+z7dKWctoCBatFiFwmgII0iqGIlASEkAa0hCtBNEYl0VTDB8WQoASCSlQiGqMGghyCXEJEhCBXlKBcEs7EsF1KgS30oLQL3XbHzHa3xx7t1mB4vuzmfeeZ/xz/OV7hPh25T7jEBFbVWcAnQLd7aNxdYDswOyqwqrYHSgD7/T/OnFjAw4E/8ZZeZvmghxqQNfgv/Fas5+EmP7+8nKHTuwBvxQKeCayh8HAR66ZmNt7/j5QIXXvlQCFp/bKACbGAFwPvcuTzag4uuXfhftt1g4SkdOCRWMBbgDx+KbjCmfUPEpODoRiHYtJCRJI7VfLG+Q6AF+gQC/gsMJANE9xcO/lwq+yKJ8ejP3AxdG5v4KiIZMcCvgD0406ZG39duFvR7biwtYJDCwcHXkpIbfBqzlIXg2cbaB0wRUS2xwKeDXwLJLbqrQkU7ini55d64vcnNJMXlDGfuhnwghHKB8wSkR8CtsVSrKppgF2IJpMHvBe4+88ON3tfz0T9juag4mfsl0X0nWSpssYxTUS2xcGG6Cap6nRgdSAaFze6OFiQhYYZJ446cr+5StY4K0Ujk4V3V1ONbSpMVX0Z+ApI4NwqF38ssLw1P5JYS+5qD5k5vYDbwGQR2RchFlcOAVXNB9YH5E+vLOT4kt6Es9nhrCF3bSkZT2UE9S4SkYXRMOL2WFWPANmcXuHi5LJIT0179+G3GDq/ku4jOiMJVrN2vgdeFZHqNodaVc3AW1b4bB5Swd2yzvVKYjQQZ2o1/eeWM7igMzhSgb3ARBExkgVOXB6rqg0KN/7am2zqY2yP73TqW0buTiEx1QbDYhFZ0FbgccBuqi652DW6SZjjaFnpw0oYvcWMtTruLSLX2uLxPGAF7s2lHCt4oMHdeFv1qI3FpGUby+eJyBdtAbZOZrXb9PhBq7hbWkbR1hQufpZCza0QoZpnsvdMD0M+7A6sE5EZbQFOCgJPBpKjJrjKVcL+Z9NQbd7BTLhbjovs1ZaiQyIyKiqwqpplU6wZisivsVgUZHpH4HFgA5DB4fFFVJ6LXBzSR7l4MgD8m4iMiQBWVcvfXzaog4A/Aa+JSHELBlh4LwNdOJxznWp3jwjZzPxiBi21HG8SkRejAa8BZuItqiCphwOH0zyy2vsR2AFYE7kqIjWqarU8ErDONALv5ev8nlMPqmGse2x5KT3zzKn5IvJRM2BVtfxtQ/1ejuZ6qfM6GLismq7PWOibjkfTWgs4Gzyru13OsalK1cWuzbqDSSY4axh5ooqE9vZumIgcbwAOhvhMIE+FHxdRuLIxTymZN+mel0ja2ApSByQjTvM0CdU7+Eo8eDancPnrZHwVFp3IkznnGn3et979NzBURALhCHQuVbV+OoOq8yWcmhidmY0tRxGnD7+vXay8NzxP6lXOsH0OxNkJyBeRjQ1qVPW5+l6q1ZzKvYP3UmODaFVzCwKJHW8zaFMt7R+1drkbGB/yNuCxqtavslUnrnA2PwOari9hJAnMihY6fEg8KaOc/muV5CzLqxt4QkRuNjXTgI2Z+wMEuuv24F5UR+WBDGwihe1sESMlomUm1tJjznV6vRMai7Y0mqeXwmMTyvFY4Dug/nOl7paHG2sdVOzx4j3bE62LsfQpiMNPysBiukxKIn16Ao72oVRZ+c0J97SRKsF/wQ+1N21oB5e80BsvNcUefEUOfJ4UfDdSSex4B2dGNc5ePtplpTcZ+nbnXLBed7ZEkYh5rPW91iIwDXg6sF+3PLct4C7A9qpVInI4Hk62ugioqhHEFnX7TrYwWh3bGlMG3ABOiognHrBm5GrrhXsl/y8Whedir3b13wAAAABJRU5ErkJggg=="},"15b9":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAABMCAYAAADHl1ErAAAAAXNSR0IArs4c6QAADItJREFUeF7tm3dw3MUVxz/vdzpVq52FiwDbuGAb3E7SUCzJCJsSMA6EUGYgDMlAIMmEJJAyyRACTjKZwEASCBCwTpYxJYkhBQwJTRgbDGGoZsAU2WDjIhdZvV/ZzN5Jlixd+e3vJJk/tDMae+b36vfevn37dlcYG0YIiBH1GDFjgBkGwRhgY4AZImBIPhZhY4AZImBI/qWKMKUedItc7zf0YVTJjypg6tCGr+A+5lqwluLKyEMsCLS34296Fyvleeo31zDzxv+JoEYVlTjKjgpgas9TU8ie/hCucRUJgQi0thHqfB5/y0aaX39GZt2yPSHPCBKMOmBq7wtzyZ6yCSut4LBfwS7o2AlddaB6QFJBf844Dtx5R7rfXV+H5VpPR+2r+N95Wqb+vnEE8RkielQBUwefzCZ99las9OPClmig6jdC83ugYqQutweyToBM/TcNXOn9TqigovvgVlypT9P09ibann9R5j3eM5IAji5gTW/dh7vge2GHdDTteRwCLQb+CaQX9gOoI1Bc/fyh7h78DZtBXqDxtRdkxk1vGQi3RTpqgKm9t2WSc2UD4k6j+yDsWgvBTltGxiQSN2ROgczpERBTjwEZ4FKguZlgz7P4GzbR9trTMmPlF8kpZOT3kqqqtBBLljH7zCtZeM25qBDsXA3d+5K1fSi/K2vA9J0O7ux+Gr3Sdh3YjbifouOjzXR88ozMWmkS3mFZwx5hqroiD4IVCMtALQPmoBCKroSZ50Xy1b6nhx+saBJTCyK5L5wDp4KVNiD/BUL0NLwOwUfY8qxPzlwZsGNU0oCpP5yeQa6rFJcsDQOkKAYGJJZeM5bfDlnHws6HoGtXdNsCAbCsyN+wDwsyju0HMP1YwnVfePHprKWn/iopKH8jkVpjwNS6S1101ZUQlGUQWgayGBiwdEVRmZkDF9wPgTbY/qehBH4/fPAxHKyP5KDcHBjvgfH5kf8PzEuJPLL73UqFjGmQNR2yTwLL3U3w4HLJW1wTT4RtwJTvdA9u109RXI1isl27wnQzlkDxddDyAdT9eyjrlg9h/4HoIlNSID8vAp4GMSvTSLU9YgtyF4CnrA3q5kv+eTti8dkCTK1dcj7BUDUwwZ4Bg6hOuxamVEDdemjZcuRHpeDFjaD/tTPS0yLAeTSA+ZCaaofLHo1rHExY9oxMXnGBY8DU6vJLEPUY4LanNQrVRfdDag5svyd63bXxNejudiY+e1wveB7IzwXX0PRpJNhKD+A5cY5M+UHULVjcCFPVS2YhoXdQjDNSOpA4bxKccyd018OOB6KL2b0Xtn7iWMVhRksgr3f6Fk6GNIfRJ3KdeCsroxkUH7A1ZetRxAxPWx7OPR/mXwGNb8KB52Kz1DfArj3Q2AiBoC3RcYl0pJUshNxcc1kileKtvM4IMPVwxUwC/k/6115zvWGOM34EE0tgzzpo+zSxkJCClhY41AgNDdDUYj+/DZaelwunFCXWOZhCWCde3+VmgFWX6T3ffebaBnBYLri4EiQFtt0JIQf7Yh1tjU1wqCECYnu7fZP0Cru03D59P+VaKfJdbQqYTjjXO9F2mGfiLDjjVujcBV88lJSow8x6cdDAaQAbGqE7zo9wzHjwLjDXa/ELWeT7vRlga0ofRsk3zLUN4FhwKcy5EOo3waFNSYmKydzW3h99OhKDvflP12tFCyAjw4FeqZCiyo1mgFWX3gNygwNt/Szn/AryToxEl46ykR6hELS0ge5oO90hCG24m8fH6qvFXCXV6tLrEYlRB9jwPDUdLqyMdFBr7wJCRzJp57Z/DvsORLY+uhDtK0bdzks+G5YlIvmPFPmWxyKKDVj16XPA9VEi6TG/TymG026MrIx6hRw8Pq6FL3ZHZ8/J7q/mdTE6IpvxGJYr6yYpXvVHY8A0g1pTthPFFEeglVwF08+F/c9B05tDRdRs6s838RRosPr2kh4PZGeNzGa8zwaXmi8Lqz5wBlh1mQ+4xhFgF9wJmZPg8wegp36oiA2vgu5SmA49Xfs24noKZ8RvlBiJV+yTYl/cxkKCSr/0MpT83UipJs7Kg+X3QqAVtt8dnX3b5/BZzKaAfZWZGf2toPx8cKfY5x1MqXhEin1XxRMQHzDd0nG5dN/FbEc780wougaat8C+9dH16+6EzmF6H9ne4dzJgZzam5xBvTST/Cfqm+KtilswJmzvqDVlb6A4xcijxdfDceWR3pfugSUanV2RIrSvGO1xMFWj6dD7ST19p08DvZDEDx2FpBwvix7Y4zjCwol/ddlvEW5O5PPh7/onuOgBcGfBtrshqOsig6Ejr7U9so/UFb0uRnUJksxwWXBqCYzLiiNFbZWiqpMTqbERYYuXoKyoVW9U4Z5COOsO6D4AO1Yl0p/4uwarsbkfwJbWxDzRKKYcB3NmxeO9R4p8P0wkPDFgDxa7Sc04BCSI6V5VJ62AeZdDwxtw8IVE+s2/65U1PH17p7CeznZG4SSYNzc2pSUrZFFlwuOshICFp+Wa8idR6qt27KLixzDBC7v/Bu3bbLEkRdTReWT+88c4LSvxgmfQPY1+xX4yQ+NlzuqE4WsPsNWl30fkzwkdc6XA13yRwrL2zuj3Jfbug337I202XZAW5MM45w3dI2zS+U9P2b4I1H21tLRI0p88Mbb5ol4Vb5WtPpA9wB4qO5EQiXvIk+dA+S8jN3F2PTzUwJ274JMoUacPMvqKUX3A4bS1nPAXjUGguE2KfSvtsNsCLDwtq0s/B5kWV+jCy2H2Cqh/GQ69OpT05c3Qk6CJqPvyJ0yFGSfYsX94aERKxVv5mh1hBoCV6SXv23GFnrsScmfAzmroilLO2N0/aiVFC6HAY8eHJGmkheba8XLmy8N7VaD3uO3xmNalZUTaOfrO1zbdzolyzqhPhnRlb2dMPR5mz7RDmRyN8KR4fRfZFWI/wh4ty6eHgzG3SdNOhVNugNaPYe8T0fUHQ/BpLezZl7gY1TWTrp1GeljWDbJo1b121dgGLJLHyl4HTosq3HsFzDof9v8Xmt6Or1+3kZua+1vLrYN2A/pwVp/2JHsoaweFkDVXSlZ9bIdU0xgCVv5rULdEFb7051AwDz67H/wNdvVH6PRCoEsB3V7W3QddAowGWLBbinzHmxhrBlhVaRmWvBJVwdm3Qvak2O0cE6tGi1apNVJc9S0TdWaAbahIYUdAb5NyhihZciNke2D3oyb6jy6tqCvFW6XvjdgeRoD15rF/6X7EYA1qznJk2vzo15lsmzOahErhlsky37ffRKsTwKKeiKtxE6HsWqTuHyb6jybt+1LkW2hqgDlgvtNn4nLVRlMUXHAZLnnf1IajQ29xlyzy/cRUuTFgvdNS352aPlhZT4+blEWzsdy2imZTW4eXXqnzpLjqWVOhzgBbU/4XlPrOkDwWDNF2qIusspOxMgbcWDa1auTpuwlZHilZZXyY4Ayw6tKLQaImq65D7XS3B8gsnom7cPzIu+5Eg8gG8VYudcTqhEmtK86lI6MexZAzLRVStO5oIOQP4hqfTeq0SbgLPV+uiBNuFq/vd058dxRhvXlsM6CvnA8ZgU4/bV8c+cjMyskkZWIe7on5uI7Jw3Kbndw5cS4mj4hXvJXvOZGZDGC3ArfFUqqnZld9jMtvIuHoS5mYHwHQk43oPthoDJEt4q1c5FSVYyvV6iWLkZCOspijY28zPa02bkenuEiZkHc4AnU0OjYsERKKr0ux75+JyGJ9d2xX+EVIe52+fjMplnClFO27mwl0mF3VlIw03BM1gPlhEK10h7ehhxr2VynyXeEULM3nGLBwHltTdjuKn8UzQC8C7XuaCHQ4P822crNIneTpTj1hwh4rJ0v/QE6eg6wntfmSZB+gJgfYYxUFdAU+Quh/jhwFPQ1aR10L/jYb0/MwvwoJ1rsINRKSl9ozWl4pvG1vh/rg0lT8uXqxOQs4O+ZjsD45SrVgWb9hUeVdw/HYPinAwlG2uvxCLPVEtBLjCOyUovNAG91NcR+VfiqialDUSFrqhtyVHyZsrKn3v5tPoHspuCpAzQcpBNUF8ilKbUBZj0jJquZkpuFA3qQBC4O2tuwKgui7ZAlv4PY0d9Kxv7Wv5a8b/DWgXkoLqRcz79gW40ricLmbvJxhASySz0pPBtFv+/SbyVhym4CX/a1dNS27m2sK7qh1fiU0ed8dSRg2wA6nDN/ieaRY5wILet8oNWKxlZDrFbI2viOXMQzvYhz5OixMww7YsFj1JRYyBpjhjzMG2BhghggYko9F2BhghggYko9F2BhghggYko9F2BhghggYkv8fQWToen9ZOxkAAAAASUVORK5CYII="},1719:function(e,t,n){e.exports=n.p+"static/img/icon_divide.7695b25a.png"},1818:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAkCAYAAACe0YppAAAAAXNSR0IArs4c6QAABQJJREFUWEfFlwtM1XUUxz8HLiooGoqi+JiWhYpkbmpkaiU5KybZcqmpy1Uum23qKrZq1nRrutxsWSO1rYfWRlorrcxB1qQoMWcllVqpmFwucHkoGAjIPe13uY//5T64iJtnd/d1zu/7Ped3Hr/fX7hOIteJlwBiVR0P5AMZEKi7Rg5eAQ4BizsT7wPmXSOSSDCvdiYuB4aTl1lJfdnQsCvVo3GvNm/qfrlFPL9DLc5cdZGsdQOAt3zEqtoXaES1lc0jbLhcsf61HlT3h8VXq9tWZ7zfreTGNvv1ejIWJQFrrcSTgWM015fz5oQRvjXWCKyA5n+1/BEhUN9OPP5dGYPSRhsXrMQL3YVlP3Ke/Pkjw25zSAKrA8ahMKtXn67CFp8C3GwlXgds4Nj2JorWJ0RfYF2F6kEaMtHJowWDgCYgyUq8E1jGoZeqOP6+8aqjaLzy0CcniU/qE9GhwjWxOEs9u2WtBVUWFjoZnD4EeENE1liJDwO3s29xGeVFJg9+iYlrY2WZsbWFJXaWVrPnPgMcLGkPV5K11XSJE7hFRC5YievMFrDztjqanQMDAh6YZueRb4cDpt2etCCbgtwItLH73ovUnUj2dpfPpld8M8t+aSYu0WA+JSI7fL2hqoOBanA18M6o/h1VaIG/MedfZueNAg6IyP1ejap+D8zgVH4FRc+lBoTqTX3mK3YyVhinjwFTRcRlJZ4KHKG14Tz7Fwi4df4Uj18Ww7jHDPBWEVntVqkuAT6kveUC+ZNttDT08zns7ffEkXUsKE5ApDcwU0SKvc6541JV49FZIC5i8cAiEflYVROBk0AqJS86OLlrWNAWG6C5+ZUMvdPk9iMRWWrF7tzHJpobQpC3Al8AL4uIquprwPM0nqlm3z3JqCvGv8azx6l3VzN7l0nhf0CaiFSEJO4iUp9aVdOA40AsBTl11P5qwAMlxnaFnMP1xA8xuhdEZFNnk26fx6p6wGwi5V9V8OPTloKyHBYTnqkgI9fo/gEmikhLj4hV9UHgc1xXGtk/Tblc29EB1i7ondxAdokgNlMH80Tky1C7GXXEqmqm1p/AGP7YVMFfbwe2jxd9ap6DEdnDgK9F5IFwKewOcccsb3Y4OTgjCVd78BRLmuRk5l4zKNqBW0XkVI+IVdUMjxNAPCVLnNQUW0ajJ7ciyqxCJ/3GGt1mEcmNVLBRRayqe4AF1BxycHS52cZgGbnIQfpGo6v0zOPGHhGrahbwDepq4ocZLVx2mBtEoMT2beKuI63EJpgZsFxEPuiqPSNGrKomj78BEziXZ+f0ZjPhPKNU/PM8bYOd4UuNrgS4wwyZnhKvBbbQVlfL4emJtLf2CgJMGFPLtINmTptxmykiP3dFau2+IFtVNZcBU5UDOLGyiprClMA7jaeoJu2uov8UY/uuiDwRDWlXxO+ZfNF4tIrShSkhD4GBc6oYt82QXvQUVHWPiFU1EygGbaN0ziWazpq7kmVEKcTEtTL5pwZsScnAsyKyJVrSkBGrqjlpTJFMwbnLzrn1HQXVWVLX2kldZXSmvyeJSFtPiVcAO2i/VM/v0/vgao735dZbq71SLpBeFIfEmoeAuSJS0B3ScBH/DYzlfG4l9Z8N9T+aWKBHb3PQP8sMi70iMr+7pOGIzVF2UxRgl4F0ETkThW2QSdAAUdVZ5qoC+B9jgpFrgJUi8unVkEZsp6sFjHZdVIdEtGDdsfsfKcTFLZQq3WIAAAAASUVORK5CYII="},"19d1":function(e,t){e.exports={functional:!0,render(e,t){const{_c:n,_v:s,data:a,children:i=[]}=t,{class:o,staticClass:r,style:c,staticStyle:l,attrs:u={},...d}=a;return n("svg",{class:[o,r],style:[c,l],attrs:Object.assign({width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},u),...d},i.concat([n("defs",[n("linearGradient",{attrs:{x1:"35.418%",y1:"24.199%",x2:"100%",y2:"128.092%",id:"a"}},[n("stop",{attrs:{"stop-color":"#FFD836",offset:"0%"}}),n("stop",{attrs:{"stop-color":"#FF9223",offset:"100%"}})]),n("linearGradient",{attrs:{x1:"42.703%",y1:"19.051%",x2:"61.188%",y2:"94.273%",id:"d"}},[n("stop",{attrs:{"stop-color":"#FEBB24",offset:"0%"}}),n("stop",{attrs:{"stop-color":"#FFF568",offset:"100%"}})]),n("linearGradient",{attrs:{x1:"50%",y1:"0%",x2:"50%",y2:"168.492%",id:"g"}},[n("stop",{attrs:{"stop-color":"#FFF",offset:"0%"}}),n("stop",{attrs:{"stop-color":"#FFEA5C",offset:"100%"}})]),n("linearGradient",{attrs:{x1:"25.272%",y1:"-14.546%",x2:"53.786%",y2:"82.976%",id:"i"}},[n("stop",{attrs:{"stop-color":"#FFF",offset:"0%"}}),n("stop",{attrs:{"stop-color":"#FFD874","stop-opacity":"0",offset:"100%"}})]),n("path",{attrs:{d:"M10.5 2.866l3.062 1.768a3 3 0 011.5 2.598v3.536a3 3 0 01-1.5 2.598L10.5 15.134a3 3 0 01-3 0l-3.062-1.768a3 3 0 01-1.5-2.598V7.232a3 3 0 011.5-2.598L7.5 2.866a3 3 0 013 0z",id:"c"}}),n("path",{attrs:{d:"M8.032 11.888l-.462.116a.793.793 0 01-.985-.715l-.033-.476a3.967 3.967 0 00-.598-1.84l-.253-.405a.793.793 0 01.376-1.158l.443-.178a3.967 3.967 0 001.565-1.137l.306-.366a.793.793 0 011.218 0l.306.366c.42.502.958.893 1.565 1.137l.443.178a.793.793 0 01.376 1.158l-.253.404a3.967 3.967 0 00-.598 1.84l-.033.477a.793.793 0 01-.985.715l-.462-.116c-.636-.16-1.3-.16-1.936 0z",id:"f"}}),n("path",{attrs:{d:"M10.5 2.866l3.062 1.768a3 3 0 011.5 2.598v3.536a3 3 0 01-1.5 2.598L10.5 15.134a3 3 0 01-3 0l-3.062-1.768a3 3 0 01-1.5-2.598V7.232a3 3 0 011.5-2.598L7.5 2.866a3 3 0 013 0z",id:"h"}}),n("filter",{attrs:{x:"-7.6%",y:"-3.8%",width:"115.2%",height:"121.9%",filterUnits:"objectBoundingBox",id:"b"}},[n("feOffset",{attrs:{dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}}),n("feGaussianBlur",{attrs:{stdDeviation:".5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}}),n("feColorMatrix",{attrs:{values:"0 0 0 0 1 0 0 0 0 0.463070068 0 0 0 0 0.0961128049 0 0 0 0.262292395 0",in:"shadowBlurOuter1"}})]),n("filter",{attrs:{x:"-35.2%",y:"-22.1%",width:"170.4%",height:"165.4%",filterUnits:"objectBoundingBox",id:"e"}},[n("feMorphology",{attrs:{radius:".5",in:"SourceAlpha",result:"shadowSpreadOuter1"}}),n("feOffset",{attrs:{dy:"1",in:"shadowSpreadOuter1",result:"shadowOffsetOuter1"}}),n("feGaussianBlur",{attrs:{stdDeviation:"1.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}}),n("feColorMatrix",{attrs:{values:"0 0 0 0 1 0 0 0 0 0.388122746 0 0 0 0 0.0901867378 0 0 0 0.703125 0",in:"shadowBlurOuter1"}})])]),n("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[n("path",{attrs:{d:"M11 1.155l3.794 2.19a4 4 0 012 3.464v4.382a4 4 0 01-2 3.464L11 16.845a4 4 0 01-4 0l-3.794-2.19a4 4 0 01-2-3.464V6.809a4 4 0 012-3.464L7 1.155a4 4 0 014 0z",fill:"url(#a)"}}),n("g",[n("use",{attrs:{fill:"#000",filter:"url(#b)","xlink:href":"#c"}}),n("use",{attrs:{fill:"url(#d)","xlink:href":"#c"}})]),n("g",[n("use",{attrs:{fill:"#000",filter:"url(#e)","xlink:href":"#f"}}),n("use",{attrs:{fill:"url(#g)","xlink:href":"#f"}})]),n("path",{attrs:{stroke:"url(#i)",d:"M9 2.964c.432 0 .863.112 1.25.335h0l3.062 1.768a2.5 2.5 0 011.25 2.165h0v3.536a2.498 2.498 0 01-1.25 2.165h0l-3.062 1.768a2.5 2.5 0 01-2.5 0h0l-3.062-1.768a2.5 2.5 0 01-1.25-2.165h0V7.232a2.5 2.5 0 011.25-2.165h0L7.75 3.299A2.498 2.498 0 019 2.964z"}})])]))}}},"1a4e":function(e,t,n){"use strict";n("6403")},"1a6a":function(e,t,n){e.exports=n.p+"static/media/show-rank.dc1df50e.mp3"},"1ac6":function(e,t,n){"use strict";n("373c")},"1ac8":function(e,t,n){"use strict";n("a7c7")},"1c7b":function(e,t,n){e.exports=n.p+"static/img/icon_2.4e70270f.png"},"1cb1":function(e,t,n){e.exports=n.p+"static/media/show.ce928199.mp3"},"1cdf":function(e,t,n){e.exports=n.p+"static/media/vote-has-correct-success.bd430e73.mp3"},"1d46":function(e,t,n){},"1d56":function(e,t,n){"use strict";n("6fb2")},"1d7e":function(e,t,n){"use strict";n("fd36")},"1d96":function(e,t,n){e.exports=n.p+"static/media/get-coins.5d646021.mp3"},"1eb8":function(e,t,n){e.exports=n.p+"static/img/icon_fen.e798d564.png"},"1f6e":function(e,t,n){"use strict";n("3895")},"1fcc":function(e,t,n){e.exports=n.p+"static/img/icon_5.aebf69e4.png"},"230e":function(e,t,n){"use strict";var s=n("8bbf"),a=n.n(s),i=function(){var e=this,t=e._self._c;return t("transition",{on:{"after-leave":e.handleAfterLeave}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"ne-tips",attrs:{id:"toast_"+e.uuid}},[t("div",{staticClass:"ne-tips__content"},[e.msg?t("p",{staticClass:"ne-tips__content--text",domProps:{textContent:e._s(e.msg)}}):e._e()])])])},o=[],r=(n("d3b7"),n("25f0"),n("a9e3"),{name:"NeTips",data:function(){return{uuid:Math.random().toString(36).substring(3,20)}},props:{msg:{type:[String,Number],default:""},duration:{type:Number,default:3e3},callback:Function,visible:Boolean},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/components/Classroom/CommonInteractions/collectiveSpeech/components/tips/main.vue"),this.$_timer&&clearTimeout(this.$_timer),this.visible&&this.closeTips()},methods:{handleAfterLeave:function(){var e;console.info("对象函数 handleAfterLeave,filePath:renderer/components/Classroom/CommonInteractions/collectiveSpeech/components/tips/main.vue"),this.$destroy(!0),null===(e=this.$el)||void 0===e||null===(e=e.parentNode)||void 0===e||e.removeChild(this.$el),"function"==typeof this.callback&&this.callback()},fire:function(){var e=this;console.info("对象函数 fire,filePath:renderer/components/Classroom/CommonInteractions/collectiveSpeech/components/tips/main.vue"),this.$_timer&&clearTimeout(this.$_timer),this.visible&&this.duration>0&&(this.$_timer=setTimeout((function(){e.closeTips()}),this.duration))},showTips:function(){console.info("对象函数 showTips,filePath:renderer/components/Classroom/CommonInteractions/collectiveSpeech/components/tips/main.vue"),this.visible=!0,this.fire()},closeTips:function(){console.info("对象函数 closeTips,filePath:renderer/components/Classroom/CommonInteractions/collectiveSpeech/components/tips/main.vue"),this.visible=!1,this.handleAfterLeave()}}}),c=r,l=(n("e80a"),n("2877")),u=Object(l["a"])(c,i,o,!1,null,"7ff65c7c",null),d=u.exports,h=function e(t){var n=t.msg,s=void 0===n?"":n,i=t.duration,o=void 0===i?3e3:i,r=t.callback,c=void 0===r?null:r,l=t.parentNode,u=void 0===l?document.getElementById("collectiveSpeechContainer"):l;console.info("箭头函数 Tips(msg, duration, callback, parentNode)",s,o,c,u,"filePath:renderer/components/Classroom/CommonInteractions/collectiveSpeech/components/tips/index.js");var h=e._instance,m=a.a.extend(d);return h=e._instance=new m({propsData:{msg:s,duration:o,callback:c}}).$mount(),h.$el.parentNode||u.appendChild(h.$el),h.msg=s,h.duration=o,h.callback=c,h.showTips(),h};h._instance=null,h.close=function(){var e=a.a.extend(d);h._instance instanceof e&&h._instance.visible&&h._instance.closeTips()},h.tips=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return h({msg:e,duration:t,callback:n})},h.component=d;t["a"]=h},"23a7":function(e,t,n){},"25d8":function(e,t){var n=function(){document.documentElement.style.fontSize=document.documentElement.clientHeight/900*100+"px"};window.addEventListener("load",n),window.addEventListener("resize",n)},"25da":function(e,t,n){},"263e":function(e,t,n){"use strict";n("55ef")},"266ff":function(e,t,n){"use strict";n("3abc")},"26c0":function(e,t,n){},"270c":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var s=n("d4ec"),a=n("bee2"),i=n("c7eb"),o=n("1da1"),r=n("5530"),c=n("262e"),l=n("2caf"),u=(n("b64b"),n("99af"),n("d3b7"),n("159b"),n("caad"),n("2532"),n("a15b"),n("a434"),n("7db0"),n("a9e3"),n("a9a6")),d={Success:0,ParaError:1,TimeOut:2,SeqRepeat:3,GslbServerError:201,AccessServerError:202,AppIDNotExist:6,AppTokenInvalid:7,UnInit:11,UnLogined:12,PathNotExist:13,SendTooFast:14,SendTooLarge:15,TaskTooMuch:16,AlreadyLogined:17,Logging:18,AlreadyInit:19,ParseError:203,NotSupport:99,OtherError:100,PsIdNotExsit:200,NicknameNotExist:401,RoomNotExist:403,JoinTooManyRooms:405,InvalidNickname:204,NicknameAlreadyExist:205,InvalidPassword:206,NotInRoom:442,TargetRoomIsFull:471,RoomData:322,RoomDataEnd:323,RoomUserList:52,KickoutRepeat:301,KickoutRequest:302,RoomUserListEnd:53},h=n("5e36"),m=n("612a"),f=n("d0db"),p=n("8c9b"),g=n("e417"),v=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(s["a"])(this,n),e=t.call(this);var i=a.planId,o=a.businessId,r=a.userId,c=a.isAudition,l=a.ircOptions;e.ircHaveStartSensor=!1,e.timeOut=5,e.ircTimer=null,e.planId=i,e.businessId=o,e.userId=r,e.isAudition=c,e.ircOptions=l||{},e.liveInfo={},e.inRoom=!1,e.chatInstance=null;try{e.triggerTimeMap=localStorage.getItem("triggerTimeMap")?JSON.parse(localStorage.getItem("triggerTimeMap")):{}}catch(u){console.error("triggerTimeMap报错",u),e.triggerTimeMap={}}return e._initChat(),e._listener(),e}return Object(a["a"])(n,[{key:"beginTimer",value:function(){var e=this;this.sendLogger("irc 开始倒计时",{},"info"),this.ircTimer=setTimeout((function(){e.emit("showNotification","402")}),1e3*this.timeOut)}},{key:"endTimer",value:function(){this.sendLogger("irc 结束倒计时",{},"info"),this.emit("closeNotification","402"),clearTimeout(this.ircTimer),this.ircTimer=null}},{key:"initSdk",value:function(){var e=this.ircOptions,t=e.appId,n=e.appKey,s=e.nickname,a=e.location;this.liveInfo={nickname:s,businessId:this.businessId,classId:"0",liveId:String(this.planId),location:a||"China"};var i=window.TalMsgClient,o=new i(t,"v3.2.1");window.ChatClient=this.chatInstance=o.getInstance(1);var r=this.chatInstance.init(t,n);return this.sendLogger("irc 调用初始化方法,code: ".concat(r,",appId:").concat(t,",appKey:").concat(n),{},0==r?"info":"error"),Object(g["c"])({result:"start",liveInfo:this.liveInfo}),this.ircHaveStartSensor=!0,r}},{key:"setLiveInfo",value:function(){var e=this.chatInstance.setLiveInfo(this.liveInfo);return this.sendLogger("irc 设置直播信息,code:".concat(e),this.liveInfo,0==e?"info":"error"),e}},{key:"setSdkProperties",value:function(){var e=this.ircOptions,t=e.confService,n=e.logService,s={confService:{hostname:t.hostname,url:t.url,protocol:t.protocol},logService:{hostname:n.hostname,url:n.url,protocol:n.protocol}},a=this.chatInstance.setSdkProperties(s);return this.sendLogger("irc 设置sdk配置信息,code:".concat(JSON.stringify(a)),s,0==a?"info":"error"),a}},{key:"joinRoom",value:function(){var e=this.chatInstance.RoomChatManager,t=e.joinChatRoomsWithJoinMode(this.ircOptions.ircRooms,1);0===t?this.sendLogger("irc调用加入房间接口成功"):(this.sendLogger("irc调用加入房间接口失败,code:".concat(t),{},"error"),Object(g["c"])({result:"fail",errorType:"调用加入房间接口失败",code:t,liveInfo:Object(r["a"])(Object(r["a"])({},this.liveInfo),{},{ircRooms:this.ircOptions.ircRooms})}))}},{key:"_initChat",value:function(){var e=this.initSdk();if(e===d.Success){var t=this.setLiveInfo();if(0==t){var n=this.setSdkProperties();0==n?this.ircLogin():Object(g["c"])({result:"fail",errorType:"设置配置信息失败",code:n,liveInfo:this.liveInfo})}else Object(g["c"])({result:"fail",errorType:"设置直播信息失败",code:t,liveInfo:this.liveInfo})}else Object(g["c"])({result:"fail",errorType:"初始化失败",code:e,liveInfo:this.liveInfo})}},{key:"ircLogin",value:function(){var e=this.chatInstance.loginWithMode(this.userId,this.userId,0);0==e?(this.beginTimer(),this.sendLogger("irc调用登陆方法成功")):(this.sendLogger("irc调用登录接口失败,code:".concat(e),this.ircOptions,"error"),Object(g["c"])({result:"fail",errorType:"调用登录接口失败",code:e,liveInfo:this.liveInfo}))}},{key:"_listener",value:function(){var e=Object(o["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this._chatListener(),this._roomListener(),this._peerListener();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_chatListener",value:function(){var e=this,t=this.chatInstance.RoomChatManager;this.chatInstance.on("onLoginResponse",(function(t){var n=t.code;n==d.Success?e.inRoom?console.warn("当前已在irc房间中，无需重复加入"):(e.joinRoom(),e.sendLogger("irc 登陆回调返回成功")):(e.sendLogger("irc 登陆回调返回失败",t,"error"),Object(g["c"])({result:"fail",errorType:"登录失败",code:n,liveInfo:e.liveInfo}))})),t.on("onJoinRoomResponse",(function(n){0==n.code?(e.inRoom=!0,e.endTimer(),m["a"].dispatch("smallClass/updateIrcStatus",!0),e.emit("ready",!0),t.getAllRoomData(e.ircOptions.ircRooms[0]),t.getRoomHistoryMessage(e.ircOptions.ircRooms[0],0),e.sendLogger("irc 加入房间回调成功"),Object(g["c"])({result:"success",liveInfo:e.liveInfo})):(e.sendLogger("irc 加入房间回调失败",n,"error"),Object(g["c"])({result:"fail",errorType:"加入房间失败",code:n.code,liveInfo:e.liveInfo}))})),this.chatInstance.on("onLogoutNotice",(function(t){e.sendLogger("irc 频道内人员退出:".concat(JSON.stringify(t)));var n=t.code;n==d.Success&&e.emit("logoutSuccess")})),this.chatInstance.on("onNetStatusChanged",function(){var t=Object(o["a"])(Object(i["a"])().mark((function t(n){var s,a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("[hw_irc_join_room]触发网络状态回调".concat(n.netStatus)),4==n.netStatus){t.next=16;break}if(3!=n.netStatus&&e.emit("showNotification",n.netStatus),s={0:"未知",1:"网络不可用",2:"服务器连接失败",3:"服务器连接中",5:"服务器断开连接"},e.sendLogger("irc 网络状态改变,".concat(s[n.netStatus]),{},3==n.netStatus?"info":"error"),0!=n.netStatus&&1!=n.netStatus&&2!=n.netStatus){t.next=13;break}return t.next=8,Object(p["a"])();case 8:a=t.sent,e.sendLogger("当前网络状态:".concat(a?"有网络":"没有网络")),Object(g["c"])({result:"fail",errorType:"连接失败",code:n.netStatus,msg:"".concat(a?"有网络":"没有网络"),liveInfo:e.liveInfo}),t.next=14;break;case 13:3==n.netStatus&&(Object(g["c"])({result:"start",liveInfo:e.liveInfo}),e.ircHaveStartSensor=!0);case 14:t.next=18;break;case 16:e.emit("closeNotification",n.netStatus),e.sendLogger("irc 网络状态改变,连接成功 关闭弹窗");case 18:e.emit("onNetStatusChanged",n);case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.chatInstance.on("onKickoutNotice",(function(t){e.sendLogger("irc 被其他客户端顶掉:".concat(JSON.stringify(t)),{},"error"),m["a"].dispatch("smallClass/updateIrcStatus",!1),e.emit("onKickoutNotice",t)})),this.chatInstance.on("onSDKProvisionStatusNotice",(function(t){e.ircHaveStartSensor||Object(g["c"])({result:"start",liveInfo:e.liveInfo}),e.ircHaveStartSensor=!1,0!=t.status?(e.emit("showNotification",t.status),e.sendLogger("irc 连接调度服务失败 显示弹窗",t,"error"),Object(g["c"])({result:"fail",errorType:"调度失败",code:t.status,liveInfo:e.liveInfo})):(e.emit("closeNotification",t.status),e.sendLogger("irc 连接调度服务成功 关闭弹窗")),e.emit("onSDKProvisionStatusNotice",t)}))}},{key:"_roomListener",value:function(){var e=this,t=this.chatInstance.RoomChatManager;t.on("onSetRoomDataResponse",(function(t){e.emit("onSetRoomDataResponse",t)})),t.on("onRecvRoomBinMessageNotice",(function(t){e.emit("onRecvRoomBinMessageNotice",t)})),t.on("onGetRoomHistoryBinMessageNotice",(function(t){e.emit("onGetRoomHistoryBinMessageNotice",t)})),t.on("onRecvRoomDataUpdateNotice",(function(t){var n=t.datas,s=t.handler,a=!s.psId&&!s.nickname;n.forEach((function(n,s){if(e.isAudition&&h["a"].includes(s))e.sendLogger("旁听课不参与互动",{key:s});else{var i=JSON.parse(n.value),o=i.sendTime;console.log("noticeValue",i,s,i[s],t);var r=e.isTriggerFun(s,i),c="boolean"==typeof i[s]?i[s]:i[s]||i.data,l="收到KV消息(".concat(a?"历史":"实时",")(").concat(r?"旧互动":"新互动",") => ").concat(s);console.log(l,c),"canvas_switch_courseware"!==s&&e.sendLogger(l,c),e.emit("onRecvRoomDataUpdateNotice",{key:s,isHistory:a,noticeContent:c,sendTime:o,isTrigger:r})}}))})),t.on("onGetRoomDataResponse",(function(t){e.emit("onGetRoomDataResponse",t)})),t.on("onRecvRoomMessage",(function(t){var n=t.content,s=t.fromUserInfo,a=t.messagePriority,i=t.msgId,o=t.timestamp;e.emit("onRecvRoomMessage",{content:JSON.parse(n),fromUserInfo:s,messagePriority:a,msgId:i,timestamp:o}),e.sendLogger("irc 收到群聊消息:".concat(JSON.stringify(t)))})),t.on("onRecvRoomTopic",(function(t){e.emit("onRecvRoomTopic",t)})),t.on("onGetRoomHistoryMessageResponse",(function(t){e.emit("onGetRoomHistoryMessageResponse",t)})),t.on("onJoinRoomNotice",(function(t){e.emit("onJoinRoomNotice",t)})),t.on("onRecvRoomUserList",(function(t){e.emit("onRecvRoomUserList",t)})),t.on("onLeaveRoomNotice",(function(t){e.emit("onLeaveRoomNotice",t)})),t.on("onSendRoomMessageResponse",(function(t){e.emit("onSendRoomMessageResponse",t),0==t.code?Object(g["c"])({type:"message",result:"success",msg:"群聊"}):(Object(g["c"])({type:"message",result:"fail",errorType:"群聊消息发送失败",msg:"群聊",code:t.code,msgInfo:t}),e.sendLogger("irc 群聊消息发送失败",t,"error"))})),t.on("onRoomUserCountNotice",(function(t){e.emit("onRoomUserCountNotice",t)})),t.on("onSendRoomBinMessageResp",(function(t){e.emit("onSendRoomBinMessageResp",t),0==t.code?Object(g["c"])({type:"message",result:"success",msg:"群聊二进制"}):(Object(g["c"])({type:"message",result:"fail",errorType:"群聊二进制消息发送失败",msg:"群聊二进制",code:t.code,msgInfo:t}),e.sendLogger("irc 发送二进制涂鸦消息失败",t,"error"))}))}},{key:"_peerListener",value:function(){var e=this,t=this.chatInstance.PeerChatManager;t.on("onSendPeerMessageResponse",(function(t){e.emit("onSendPeerMessageResponse",t),0==t.code?Object(g["c"])({type:"message",result:"success",msg:"私聊"}):(Object(g["c"])({type:"message",result:"fail",errorType:"私聊消息发送失败",msg:"私聊",code:t.code,msgInfo:t}),e.sendLogger("irc 发送私聊失败,code: ".concat(t.code),t,"error"))})),t.on("onRecvPeerMessage",(function(t){e.sendLogger("监听irc私聊消息".concat(JSON.stringify(t)));var n=t.content,s=t.fromUserInfo,a=t.messagePriority,i=t.msgId,o=t.timestamp;e.emit("onRecvPeerMessage",{content:JSON.parse(n),fromUserInfo:s,messagePriority:a,msgId:i,timestamp:o}),e.sendLogger("irc 私聊消息监听:".concat(JSON.stringify(t)))}))}},{key:"getRoomHistoryBinMessage",value:function(e){var t=e.roomid,n=e.key;this.sendLogger("拉取历史数据 ".concat(JSON.stringify(e))),this.chatInstance.RoomChatManager.getRoomHistoryBinMessage(t,n,"0",!0)}},{key:"getRoomHistoryBinMessageNew",value:function(e){var t=this,n=e.roomid,s=e.key,a=s.split("_").splice(1).join("_");this.chatInstance.RoomChatManager.getRoomHistoryBinMessage(n,a,"0",!0);var i=m["a"].state.smallClass.isAuthorizedUserList,o=i.find((function(e){return e.pageKey===a}));o&&o.userIdList&&o.userIdList.forEach((function(e){var s="".concat(e,"_").concat(a);t.chatInstance.RoomChatManager.getRoomHistoryBinMessage(n,s,"0",!0)})),this.sendLogger("irc","拉取老师和学员历史数据 teachdbkey: ".concat(a,", curPageKeyUserList: ").concat(JSON.stringify(o)))}},{key:"sendPeerMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.content,n=e.nickname,s=e.chatMsgPriority,a=void 0===s?1:s;return this.chatInstance.PeerChatManager.sendPeerMessage([{nickname:n}],JSON.stringify(t),a)}},{key:"sendRoomMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.content,n=e.roomList,s=e.chatMsgPriority,a=void 0===s?99:s;return this.chatInstance.RoomChatManager.sendRoomMessage(n||this.ircOptions.ircRooms,JSON.stringify(t),a)}},{key:"sendRoomBinMessage",value:function(e,t,n,s){return this.chatInstance.RoomChatManager.sendRoomBinMessage(e,t,n,s)}},{key:"getRoomBatchHistoryBinaryMessages",value:function(e){return this.chatInstance.RoomChatManager.getRoomBatchHistoryBinaryMessages(e)}},{key:"sendRoomMessageWithPreMsgId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.content,n=e.roomList,s=e.chatMsgPriority,a=void 0===s?99:s;return this.chatInstance.RoomChatManager.sendRoomMessageWithPreMsgId(n||this.ircOptions.ircRooms,JSON.stringify(t),a)}},{key:"getRoomHistoryMessage",value:function(){this.chatInstance.RoomChatManager.getRoomHistoryMessage(this.ircOptions.ircRooms[0],0)}},{key:"setRoomData",value:function(e,t){this.chatInstance.RoomChatManager.setRoomData(e,t)}},{key:"logout",value:function(){m["a"].dispatch("smallClass/updateIrcStatus",!1),this.chatInstance.logout&&this.chatInstance.logout()}},{key:"unInit",value:function(){this.chatInstance&&this.chatInstance.uninit()}},{key:"release",value:function(){this.logout(),this.unInit()}},{key:"isTriggerFun",value:function(e,t){var n="".concat(e,"_time"),s=this.triggerTimeMap[n];if(!s){var a=localStorage.getItem("triggerTimeMap");s=a&&JSON.parse(a)[n]?JSON.parse(a)[n]:0}var i=t.sendTime?t.sendTime:0,o=!1;return Number(i)>Number(s)?(this.triggerTimeMap[n]=i,localStorage.setItem("triggerTimeMap",JSON.stringify(this.triggerTimeMap)),o=!1,"canvas_switch_courseware"!==e&&this.sendLogger("kv消息未触发过，触发，key: ".concat(e))):(this.sendLogger("kv消息已触发过，不再触发，key: ".concat(e)),o=!0),o}},{key:"sendLogger",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";f["a"].send({tag:f["b"].irc,level:n,content:{msg:e,params:t}})}}]),n}(u["a"]),C=n("d15d"),b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(s["a"])(this,e);var n=t.planId,a=t.businessId,i=t.userId,o=t.ircOptions,r=t.rtcConfig,c=t.isAudition;this.planId=n,this.businessId=a,this.userId=i,this.ircOptions=o,this.rtcConfig=r,this.isAudition=c,this._initSignalService(),this._initRtcService()}return Object(a["a"])(e,[{key:"release",value:function(){this.SignalService.release(),this.RtcService.release()}},{key:"_initSignalService",value:function(){this.SignalService=new v({planId:this.planId,businessId:this.businessId,userId:this.userId,isAudition:this.isAudition,ircOptions:this.ircOptions})}},{key:"_initRtcService",value:function(){this.RtcService=new C["a"]({rtcConfig:this.rtcConfig,publishStatus:!this.isAudition})}}]),e}()},28345:function(e,t,n){},2849:function(e,t){e.exports=require("http")},"2a8f":function(e,t,n){"use strict";n("5433")},"2ae6":function(e,t,n){"use strict";n("d3b5")},"2b84":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAJDUExURUdwTPm5v/etsf26wv+lh/2/x/+hIf9+fv+dIv+fPv+vtf+XJv+yuP+hJf+pq/96QP+RLP+jJPqgof+/x/+ZKv+0u/+lIv+dIuqrpf+fKv+imv98bv+pLv/BxUX8l/l8fv1weP+bLv+Ql/twfKO3hWrXh1rnjf+XKM/Lsf+RMP+zt3TVh/+9x43nqdvPv1zrk++rqftqev+bfP+7wf/ByeHLv/+hq/+fJP+xt/+vt/+3v/+xuv+9xf+5wf+zu/+1vf+vtf/AyP+dMP+zuf+cpP+ss/+lrf+tt/+pr//BOf+1u/+3vf+Pl/90e/+5PP+9OkT/l/+Vn/+Llf+Fj/+Hk/+ps/94hf58iUz7mf+jqUn9mP6Tmv+zOP+Bjf+fMln2mv/XZv/RPP+nsf+jrf+vMv+3NeLAtf/TYnbpof+Lj/+/Uv97hv+Zofm3u/+zS//JWf+dOFT5m+25tX3qo2Dznf+nMP+fp8PNrv+jPK7UrP/XQNLKtojkpP/PXv+rRGjwnv9+dPW5u+PHvdjCsYvSlPlqdv+tLL3Hpf18fu3Bv/+Dh6PZqf+hWpvVn/uzt3Dtof/HOPXDw/+6TOO7sf+LZmbpkZHjqXrblbnatv/Lav+TMP+9MP+hLJHbof+ncrnRreelnf/AbLa+mtell/+RTp3jo/Wbn9mYiP+VfM6hi+2Ph/vJQNnPv4/7s/x/Ybuxh9G1o/+ZYP+HeG71jXT9n//FgXDjl/+zm/+ZULLsvs/RVv/FPL/ZdO2xStetbNuraP+1cDeYyGcAAAA4dFJOUwAo/LUQ+zoCSgifiUm12yLEWjfx09CjLPHpGZPTPqKFtffJ6fcShamvmeNLbM1a63o0wYPVx81ww517GwAABvlJREFUWMPtV/dTG9caFcUsAmNwHzuJ7fTe3kve2yLtLkirXa16X0kGoYIsgcAghEAI001HGFNt3HsvsVPJK39avruYmQhw/S0z+WCY0cA599zzne/ei0Lxd/1FSnnw4ME3hGK7vijbu7tapVKTnxV9sx17PXTxV0W7q6FUgFerSYbiC8u+fXX454esVmugfXlWrYIvNUkyIi6Eve/tejX49u8HZ8fH7y0vBnyLQIE0kAyNjwauGN96BXhBUfWadnW1KptK3VOhUpMinctIS3eOvNSKL7YBuFr1rGYXpaz8CTRo8LmZtttHXgz/8MvlwW2yb7JyA6me9GVVMgVpoFlh2vrB4RfK/3ImZZUWh0gDSZIGhqFp2nBdGlTLakiRIrhH0tKu5+4CewfJH+9st/YMiKJIayi5egLjaqRBDZtghUsLXyuf6z7Cg12aaF9blKJwHCegqFwsNWBAIkgNSPAaFz56Ph6WMdAanMj1tCUJnAAKisDZXN9MM7gBvwJKzn/n6w+3xMv61dBvtGwuFsPXi8KTqVgzQ4I0+MSG7Tc/2sqFApR66BUlL0wUDnEcyxJrBGwyEBtApgA1LtjGPtiCoPi7bQgPGwcQwQrhRELrFTh2XUNfX5RBm2MJVjth+nwzwyf3BmdRVuRihUQ8frm+vv7Hn0EEMpIaaJc6aRrxs7q46fAmgq9+/fX+/fvLSZmBdSXi/WcAX3/s2I+sTKARDRlfLIoM4rxx06aRKN69TTWQXX76tBPtn0vHTf9H6BPHjx+/DLugKJoxGAYhH1GWE/wTprc3EpRVw8CzQvL60+s50Ggcu3WsHsEbG0+fRrugaBRNZihmjY3eiJtaIsr8PeyqVpEU7xLCus4n1zmdbaL/DMAbT7e09Pb2XiCI6JBIknAqiNTc+ba2h43BlZJ8AUWIgOJ5XUg392TaOPGDjG8EeFdr6wUNNWlt68nCZDE4l3Y8/K27e6U0T0HBLDSQpsCsUMh76cnDC0g+wLtaz56t+nQHWDAA89EOfSSExFh/d3dQvzNPwCGrNDOZw1HDXGnnnd/X8WffLa/ECjic0jCMerBdylDInnkgWMknyA5mJ1OBKOogl54wnak/BnhYvqpSgRXvxTU4zcAkqC9K0wRk4DEiKM0bApKkcRifORQBaPLlE0hA19lPUX/38jiuYdAokYYhadprN00Fg8GG/X8m+CdJUxTLt6dyKIN+sPAEEvAxuhk+AzzsAPXAwNBDvitx01R38NRInodFkHWCxXOpHjmotvity6dbug4osYKyOel8UkOLKAQwizw3ar3pBgWr+UHaCzCWINg5XwbFUND67bcuzP+jbEeYd3WmpIxoQDeDSEMIhaUl0+Ng8NS+PAU7eI7jgYLttHZCJ+DvdLpwKBR2USAtd9HX3kyqQT/BhcLaS76bU8HVhvwm7BBgbFmexbmML4uMxFmYIDiLKI2GpphoYKYZxYR36dIJ//DS1N1TI8X5BKGQgCTwPDtpvcg/O4cATNMMA/6NB3pIDcC92oTfeVvqvauvyA/yv9I6F0+gIPLEKMwsLC7jRYDL9kV9nYQL9Cdsxlr3wt1TkdINZ0kiLPAUrIeO8SQM3MUkfBINDNwOajSE1GRA500nbH67o8n9v9WVDcOMHep7pONhXhlGpMHr6PmANbWYRWsjOISEL5RGQb7f7vS4x8z6kQ2jqPhm2He+kBNJueRTOZppl9oyzXAfPjNvus9utDtrPW5Ty2rDvo330Xbj1YXAEEGTKK+wII7OwYFMW9+4iG4SXVhru2G96nTUNrn7W/QrBza9eIodduOwNBpCMwNLgpco/9RALJXkEDxhtDuWht1NY/1Ter1lpHTTgYq953Q4r/hGdS4OdQJixcnJLJzpE8JayKXD4/7vb2Y9oPWWSPkWd8rhWofDcUW6mvaGdTohpBMEl4tzuYTCwLTNbwT4Y7PFDGBgiFRs+aCqRTUcuJHQatNebxjxQJq9iUfWS87aph96zRaLRW9etVhGKra+2t/yNHk8jp+uOo1+m00LNHJB438adrvnzWY9fFksZvNIhXJrguL33aYmk9tT67DbjX4gkQv6fts39osZCtAWS0PHvuc+Lb59/yQq4HA4gUMuO5jnWfiP2dwADpgtDUfP/fsFj9LKIydPPmitu/bABDKccqG+z0eOHm0wN8D30ZEDJS981ioqq2pq6urqWq/1ezzIUw/E5hfAr1Xk3D7lSx7GGFb+bg2q1tZr8/1N7qYH1zo6Il2RDkCPnNtTonj5WxkrqVpjqGmtQ9XR1dHRFYEfNVWl2Cs9tTFFacWaipq17SCamj3l+xWv8VJX7vx4zzpHzYE95TsrX/efBEyBKfeXlELth9Rg2Bv+r6FEyDcEr/vxd/1F6g9OO4/gdbF2GAAAAABJRU5ErkJggg=="},"2c09":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d}));var s=n("c7eb"),a=n("1da1"),i=n("dc21"),o=n("e39c"),r=function(){var e=Object(a["a"])(Object(s["a"])().mark((function e(t,n){var a,r,c;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object(o["h"])(),r=a.oversea,e.next=3,Object(i["a"])({url:t,params:n,apiDomain:r});case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c=function(){var e=Object(a["a"])(Object(s["a"])().mark((function e(t){var n,a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="/classroom-hub/question/student/game/status",e.next=3,r(n,t);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(a["a"])(Object(s["a"])().mark((function e(t){var n,a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="/classroom-hub/question/student/game/submit",e.next=3,r(n,t);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(a["a"])(Object(s["a"])().mark((function e(t){var n,a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="/classroom-hub/question/student/game/submitAsync",e.next=3,r(n,t);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(a["a"])(Object(s["a"])().mark((function e(t,n){var a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a="open"===t?"/classroom-hub/classroom/student/interact/partakereport":"/classroom-hub/question/student/game/close",e.next=3,r(a,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},"2d23":function(e,t,n){},"2eb0":function(e,t,n){"use strict";n("a26d")},"2f27":function(e,t,n){"use strict";n("a42e")},"2f7b":function(e,t,n){},"2f84":function(e,t,n){},"2f85":function(e,t,n){e.exports=n.p+"static/img/icon_back.7eb77b0f.png"},"30d3":function(e,t,n){"use strict";n("936a")},"313d":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAkCAYAAACe0YppAAAAAXNSR0IArs4c6QAABF5JREFUWMPtl2tMW1UcwKf4QRNnoh/k1QdtkcQPSqLjg4/ohzl1i9HFuJj5jF9M5liyRT9ojJFEwqIuzE3wseyBMMYSRUCzOZDxErcAY4z3IjpaCqWUVlra8ijt/fnhnpZL6W3v3L6YeJJfTs+5p/d37r3/87/nbtjwf4krwD7Ay40XCRgFCrRI9UCEm1s6tIhfB8DePUFxOhSnwyeC4nQozkjQp8LxZ2xCPKBF/JU8x/0+StKhJGMt+1O0lf0/7Z4Q4gYt4n4ATu+w8mkGMT7LZG07Y217HZnQXhIQ4tJU0ruAMJK0zBc5SxzIJDEZCjLVGfnBLcSFqcRPA+Cz2ziYSWKy5LpUEH9c2ee5Oi7EW1OJiwDoP+HlcBYcUnA4C3rLrQRntYO0IMQ5qcRNADTtsVOeBWVxBBy2f7GUjqaS3gr4AKh8yM032fC1giPmJWAZCAOPAA9rwKwlmvMBWAlOcySbdZx52SquwAMUAq8B2wDDjabJXQBMNE9zLJtVdHLdU+JLcjungRpgM3DL9YqrAOgu8lChgwodnBBU6KB9l5eBshCDZcuMHAtwrcGFp9/KSnBa5ORoGdSUmxXivwA4s81OpQ6qouihUrdKonZtgZv+UheheZeQh4A9WqQZ8rsk4ueUMUy1Hk7poVoNnQJFf40pxFiVTbxkIsCOVOIXAZgbtXFajzYM6seGSqPLbh5ITyY+AMBo+TzfG0iNXpBkzNywQ8iLkonPATB2dIjOV8cT88o4bdutND7mpM4YptYAtQb4UYXud6aEuC+ZuPz69hWRILMXp2h51kO9EeoN0GCQ63qjzC/5XkWgpamJNwIHgTagQ4XfgB7AHls+UjjA+Uc9/GwkIZLkF/K71cS3ATuBN4HbNa6CZgBGPnZx1sgqOavIVwtwp9qJTipu5BjwhAb5eQCG33fQmMM6Wgv+Fufzqp3gpdhtW5ycVUzgArAbeDA6Y+AOkfwrxcMO0rHJS7MJmk3wa84qQ3uj255ziaT3AE4A/iyZpC0vhO3bSaSVRHk5FBdhS4zsc9JighYTtCpoMYG7xSkGfphILM88MOKiwyzRboIOE3Tev8gfH8zgbnISCUxCLEjChAMOZupc9GyZjY1vN0G7WdQm6HrcA1JITNYQL90qR6e0wOXNHjrNrOH3+HZeiE6ztG7c+v9JzPfNiImeTBTF8vvVfsjORTPascj1BZXjjuPRfZYbyI4X58WCY+BJN90W1mJWYIEuQbcKXRbovi/MTE1UGgGeT/Rs04Bh2b3ix/Glgyv5fi5ZoDcXei0ylwS9in5lX/T36AszLF6LrohlYGeydXgvUKeI0gV8LU7GCycY3OSlLxf6cuGKqNdggaGCOWzvOVi4OqnYCEwAT2ndAGwBGuM+1CSkoIOFQSvzzQ481T5mvwvga3QSvGwj4p+K23X4gc9VM1SKCRiAj4BWcaJUxS+y19vAxpv1fZwGPAA8B7wB7AXeBd4Ctotslvaf+eD/BxAJQVEHBFJYAAAAAElFTkSuQmCC"},"314f":function(e,t,n){},"31e2":function(e,t){e.exports="data:image/png;base64,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"},3317:function(e,t,n){"use strict";n("e5cc")},3339:function(e,t,n){e.exports=n.p+"static/img/submit_btn_disabled.f13f8fa2.png"},33934:function(e,t,n){},"34bb":function(e,t){e.exports=require("electron")},"34c8":function(e,t,n){"use strict";n("d934")},3589:function(e,t,n){},3646:function(e,t){e.exports=require("buffer")},"36da":function(e,t,n){e.exports=n.p+"static/img/icon_percent.23526901.png"},"373c":function(e,t,n){},"378c":function(e,t,n){"use strict";n("9674")},3895:function(e,t,n){},3908:function(e,t,n){},"3abc":function(e,t,n){},"3c3f":function(e,t,n){"use strict";n("5195")},"3c93":function(e,t){e.exports=require("crypto")},"3d34":function(e,t,n){},"3e58":function(e,t,n){},"3f01":function(e,t,n){},4186:function(e,t,n){"use strict";n("a202")},4194:function(e,t,n){e.exports=n.p+"static/img/icon_add.4222151b.png"},"41db":function(e,t){e.exports=require("child_process")},"42b1":function(e,t,n){"use strict";n("28345")},"42cd":function(e,t){e.exports=require("assert")},"42cd9":function(e,t){e.exports=require("net")},"432e":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAkCAYAAADo6zjiAAAAAXNSR0IArs4c6QAABR5JREFUWEfFl1lslVUQx3/T0tJCkUIpSCllCREqPghYRFBkq00L1BCRCFECaKLxyQVExYQHkQcwxhBFQzCKYgBBVEQRsKwSQGSJcQGRtL2l2L29bSl0u2Pm9rbee78ut7SGeTxnvjn/M/Of/5xPuM0mt/l8ugWAqs4ENgEj27iQAn8Di0TkF3+fLgNQ1cnAQaBXCNk8JiIPdxsAVR0LHAP6c2lvHl8+k4i2ktV5m/K4O3MocFxEpnYLAFVNAk4AibhOFrBtfjweT7gjCzNX5zDxueHADWC6iJzuMgBVjbPbAMkU/VHK1owYGmp7Og4ft/QqqWuHAB7gcRH5Ktin0xxQVat1FjCJyrxyPk2NoNYd0xTYL9yotCIe/bgfEAE8LyIftMaRTgFQ1R7AHiCdG+UVfD4TqgtiHYEHjy9jwZ4oJMzArhWRVW0RNGQAqmq+W4CnaKxzs22Wh/IrdkPAusxnsSPLWZQVRnjPvuYvIkva647OAFgPLEc919mdWUvh+f6OwNHxbp7I8hAdZ8D2A3NEpKHLAFR1OWAA6ti32I3rUHzgxRUietXw2P6bxI40YGeBaSJS3ZE2dJgBVV0MfOLN8/HlBVzcnuDs9PAG5u4qY1DKQOAKMEVECjs6PIi2TndVzQC+9jL53HoXFzZY7/uZgogyY3M+w9ISfRtvA5eDolkm9otIachtqKqTgB+B3lz6LIdTr5uYOO3+N3MYs6T1vUBvF3CPiFT5L7daAlVN9glNHFcP5HHUJNbbBYGW/GweE96wmzftFZ3Kp6Yo0uGXMDWCyFhr19ki8n27AFTVAprEJlF8upBDC+PwNFj/B1pSRiFTPjRF/G9v970V1JY5dWHeORdRA6x8D4jIqTYBqKox2IbLWNwXSzmY2ZvGm1EtHzTnYEBKGTN2RYNEAx8BT+NpKGOntwMCBBHCPCzIrgWxOP1ExN0qAJ/E2lidTE1+OVnpPahz9/E6++kMd4wqZ9YP4YRF3AEcAHZ4QVRl53BgmpMLMSP+Ie3IYKAEeMh3eIGIVLRg9UmsDYo51LsrOPQI1LQisVED3cw8qL56BlHsi3LOrvApo99W4lwXKe8FdQ+NwEsissGbVFV93wYGnrpKjqZ7qLrSVMfmlFsGwsIbmLLzIn3uctbYfH9f05Pc7U0C5W8jniwk+dX6gLUeMTYhr4tIH1FVS3MZqIeT86spO+uUWEfULixE9nOTet7mRHUzAOv3k9SWujg8wZcq/6u32zSdRKIQ92AOKVuNK2dEZKJlYJmXRKWHr3FuWUJAxGbydSjYncCRtKSE0asHNE9KA2DS+TLZ79aQvaHpYenPei8XfAstgIIyFLzu+L4ZoMKYtypJWGQdtFJE1hmA74AM/nzBRdGephIEB+jEBR3kDa7gffty6T16GDBXRPYagG+ATLShBBrbnd1t4vh1YS2VFyxooA1ZWs6IV2oDFiUyDsTUc6iI5BuAicC3gI3SWzHlzPgq6t2W1kAbvbGQuLRBQav2QF0nIq95q+vNuKo9p42AnaGb3fgYWl/Mz2Oc/W+Bx53IJfJO85tvrPcBcfvLcWcODGwQ1dnAXm5ezuG3dKcEC8qEv65DmL2Y40XEpNhhXQGwwlJJ6Q43rlUmLIEWOaSIsUetrEUiElyGFt+uANjsnYLX1pRQvMX6OtD6puYyfKOl/4iITG+LXF0B8A7wYgisNcKt/D8A2Ijdbg9QwPlPiHfi/eT7JSvudgAh3Dwkl1suQUjRQ3D6F8TVwjS7mlJkAAAAAElFTkSuQmCC"},4335:function(e,t,n){"use strict";n("33934")},"44b5":function(e,t,n){e.exports=n.p+"static/img/icon_point.bc0eb468.png"},"44c0":function(e,t,n){"use strict";n("25da")},"44ed":function(e,t,n){},4551:function(e,t,n){e.exports=n.p+"static/media/wall_spinner1.9da005ed.mp3"},4558:function(e,t,n){},"456d9":function(e,t,n){e.exports=n.p+"static/media/click-error.de72b1bb.mp3"},"45df":function(e,t,n){},4600:function(e,t){e.exports=require("timers")},"473f":function(e,t,n){e.exports=n.p+"static/media/press.48c61cf3.mp3"},4855:function(e,t,n){},"49b8":function(e,t,n){"use strict";n("3908")},"4a19":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAABMCAMAAADwSaEZAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAJkUExURUdwTP/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////GJP/AH7a9yLrBzL7Ez/88dP+4GP+UHbO6xv+2Ff+yEf2EIv+aHP/DIf+MH6Oruv/MKTOT//+QH/84ZP87bv81WrC3w//PLf6rDf83X/86aiyG/8LJ0v+oB/+kAvUpRPb4+v+9HDie//+tDv/JKP/rz/9Cif+7Gv/ovv8+ef86Z/wxU0Kx/z+q/zGN/0zE///UMEi9//8+fTym///9+P/m6zui/yh//zaa/52ltfRNSf/ROUnA//9Ag07K//+fHK21wlLQ/wZw39zf5fgsSy6K/6/h/wZf1RLuhSV4//+vEEW3/yKV6v97pP9/sf+JIEO1//93lQRX0jWX/6iwviFkywZp2//YObLo/7Xv/4mTpv/176uzwP2MPSec9f/02z+t/wZk2P/78gnrx//Pcf/69hbvbf62Jf19JP+ePf/H2Ea6/5Gbrg/unU+T/v/Zl5ags8nR0/6UPOn3/1TX/wvut4GVuefp7SmE/P/HUpTQOgh24f/pxD3jbAbr1keFyv/HnNXZ3/9QaE2M///q8f+NvPdAUP/12f/crP/j5mWw///DhP/o4EHkTpze/w3tq/7hyNfs//+zWiJx0v+vNv+tzwbp3wh84zbhpUib/xrvWDjjg0qP+/9sodHV3f2VTgTp64nF///DMv9ak4u12/2jaGrX/7PBNP+hFoHh/2zbQP9iejbhkyp3DfwAAAAedFJOUwAf/u8w6ZH6fbWrPgjfwY88LDYOBtlQZuXL09H3zUp3JrYAAAU1SURBVFjDrdj5WxNHGAfwJZKQAOE+AsQViBQol5yJSEkUQQhBhQhGoUqNciRgEawWUDHIaSlQqgJaTxSVKqi9aO1FL3v8U52Z7ALZmdkkPnl/8lk2H79z7O7MMIxYBQfFhioSlNIAtVSZoAiNDQpm3rIi5CFqVlDqEHmE95KfPJqlVLTczyvKP1DCipQk0N9zSiFKIU7hGRcpC2A9qABZpHsrRsV6WKoYN1SUTMJ6XBJZlOgYxrFeVZzIuIarWC9LFU6zwrawXteWMIqlFvmRo2/vvsmluT7sD2qiFk7M5bh06/HklbmREe17sPYRshFa6of3l+PK3JqhIi0tPT29fY9WW0LGWBU2ClGEcVzMzDQYKipSgNYOtJISMsbGCWeIjCViiYmGipQUEA5oe4BGxFiZYN6T5uriNldNS8MkLs9CJHGCLW6DmoHXQLdRMFYV6aaRACsrE2glFGxzQ/1J74mhhZWyzVp6u5aOBWy8kRSufxnv6vr3/v1H1iNFAOO1tPl/5uf/mn4xoydqivVggt7vKgBltJYeOeDUEqGW/uz74eFhe1tDzerTp78+PyUwJXy0QMH/0lWl0xUYjQDLycnhtIr2Z8PDrRP2huKamu7d9fWmU4IfBXJzXzgtOqqqdAUFKFlRDpctRftFa+sEwnYc3m0aGBBiEudzIBe2vysfaiDZuaJ1bQRgE8vL9pMomKn6QyHGyhGGfdM68ncCDWIHjjq1TEPKmx+Wl68NXkTB6khYNPrWYiPTsR1ougIrwEBDwSCUwWT/XRscvH0RBFutNw3YbBjGRpBaCTCkWR+dO8rV2trIyHeDt7/5pZsLZjuIY7CdIThWWZmfD7DS0lLrE7PZPDRk1jscr9vaZmdPOnus+mDjeexnIWBtgr9fO2uhtjPPaLVan/AX9Q/a2hqK14MRMHUwE4TP5o6mykrY0Dyd0Xho/eoDYIFgh+vrBmxXG/fjGBvExOIXO5ugth0MaZ7OFavZ0Q3mKwi2/30CFsuEErHaWi7bBvZpQ3ExDGYyVV8lY6HChxxh5eVNAEND6oLBHlt1Bms+T3rY44kY1FA2hJn1oF7PzsLZX2ey2RoB9jH+u3hGiV98CDEuG8KSLVOf9J5tuXz5ow9ufmtHwUiYkpHiFxfGv37Y+eNv5TDaArxQmG2BWAvEbtphjzV/TsCkDP0zbh46ND6O/pVqsfT2nj0DMKDZkUXC1IzagwVFKkp2BmkQa/7z7+czJEzqGTYFk7W8enXnzu8vZii3SUkDQMCgdv36lMWSnT1NvU3JJHiAJfX0ZIPq6T9emJp0j3pbAmnSkrB+ABUmJSUna05Qb1OQHicCBjOlAkujEcFCSQ86Vsn9/YWFqSiXZhcdiyW9gvBkm4KJYEGklyOe7PhGMDoGXo6E1zYJA8GcFh0LIX5QcIwLlqyZPnGDepec+KnDSoN6bNe9G3qxuyKIH2ECpvlJHOI/wh60U683u48vJy9c3qq4hQu2pHKpvqW7j1e+7HOLBVIWey619/Tpd0Fd+PmPu6LB/CnLUJdayc3KAtzo6OgFMUwhvkDmk73Da2LYpgUyZenOYbwmhsncbip4DGqw20T2sJFutztOLCODy/YZvfdj3G/EeAxpYphMuEXcSsPeHANabm5uFhXDtoikzSuPOTUqpvLzdFsNtsNfHctA2hhlyx/uzYZff2ny5RjQyJg6zOujCP2tpbGX3hxF+PaQBIzCVt8d3/j2YMm3R14+Pozz7TGhjw8wfXy06uND303H0fFKqTpAqox3fxz9P7Ff9RoP+8uUAAAAAElFTkSuQmCC"},"4a79":function(e,t,n){},"4aa5":function(e,t,n){},"4aa56":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAAAXNSR0IArs4c6QAAAcZJREFUSEvtlbFLllEUxn8PRqRJSv4BYUQRgUNhpEtTQ5NONbQEIQQNQoM4ukiDQ05OhW1ZkxI0N1RYFCGCBEEKDQ0SaoRJVI8ceZX3e/3ez4vftwie+ZzfPec8z71XNDjUYB6HwPo3egB3aPse0JU4/HdJI/ncXSPbfgv0JAIXJF3YC/gV6GwkcB1ozoDPgfc14D8kPSnt0HYbsJpL6Jc0k9jtVlrFDm2fAz7nAFckvasHeBV4lQN0SlqqB3gTmMoBWoHfkv6nQosjDwLjVYr/AGvAl0ykp5KqilUEPgCGE7t5AdyRtFxL5UngdiIw0uaAEG5ju6bY4XHgaAF4BDgBnAGuAwNASy5nSNJYVWBKZ7avAS+BOCjig6TufQOj0PZH4GIGWZPUXi/wDdCbQVYknSzbYexiQtJi2fi2z2ZiHMtyZiXtvE47otjuA6aBUCzM/Qx4LelXNmYI1g+MAqdyB96X9LCiQ9tNwDxwvtCZgZ/AXyDGKr6fC8ClXbaxHYl3gTB2vDgp8Qnok/StlrHDb7eAG8Dlgt+i7l+2v0fAY0lxJSui9NezHT47DXQAIcAKsCgp7nRpHMBvNEWNw5HTbLPfXW4CCJKIJR4BGuEAAAAASUVORK5CYII="},"4ade":function(e,t,n){},"4aff":function(e,t,n){},"4b9d":function(e,t,n){"use strict";var s=n("0416"),a=n("f228"),i=n("2877"),o=Object(i["a"])(a["default"],s["a"],s["b"],!1,null,null,null);t["default"]=o.exports},"4bda":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAkCAMAAACg5NohAAAAAXNSR0IArs4c6QAAAZhQTFRFAAAA/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////6pf/9hb/+/g//Hg//Xc//bc//ni/6xP/8Vo//bo//Xr/7ht/+rI/7RH/+J5//z1//31/9+7/////9OV/////++2//z3/////7x7/9J2/8I5/807//zx//3y/+7L/746/9GC/96t/6Au/9ih/9SE/8+k//bl//z5/9mi/+Cj/////8GE/9uf//79///+/9ya/8qT/+eT///////+/70i/8Mj/////5wb/////4UX/4oY/44Z/5Ia/5ca/5sb/58b/58c/6Mc/6Qc/6gd/6we/60e/7Ae/7Ee/7Ef/7Uf/7kg/70h/74h/8Ih/8Yi/8oj/88j////S4BVGQAAAG90Uk5TAAEEBwkLDBMWGSEmKDI1ODw9R0tOT1JXWVpgZm1wcXZ5e3+Cg4WHkJKVmJqeo6mvub7AyM/Y39/f39/f3+Dg4OHi4uPk5eXm5ufn6Ojo6enq6urq6+zs7O7u7/Dw8PHx8vP09PX29/f4+f39/f7+DCt+fAAAARhJREFUGBnVwYVSAmEYBdBrt4ituHYnit3d2N3draDiuop1X9vPZYYZf56AcxBMQhOsIikaAcIcNJ2kQZXCzVbRywaocrl+LZpZD1UZd2/EFKuhqmPfrThiIVSN7LoTI8yGX1iW9meHK/eijZWaSA2BsNPn4PJBTNKnHEA097dMYy6Xy+1e3fqzzFEAFvY8KR4fB9gEIIP9zwG6aQeQxz2P5+XF888SqwBUcE0XhvEqdGEYun7IAgA1XNg2Lb6J6W3TBjMBpF/QZ+ZdtNPHGQWRmKNpWj5Pzrxe78cwizRhi4FfPIc+xfnpVTgUyez4ErN0QmXjxLdooQOqEh7/iEHWQlXKuU4xz2Ko4pw0jcciQKTFKiwRCCK/TcOJ2Z6Vb6cAAAAASUVORK5CYII="},"4c438":function(e,t,n){},"4d71":function(e,t,n){e.exports=n.p+"static/img/icon_8.55424262.png"},"4e4e":function(e,t,n){e.exports=n.p+"static/img/correct_lottie.d0861579.png"},"50bf":function(e,t,n){},"50ef":function(e,t,n){},5195:function(e,t,n){},"519f":function(e,t,n){"use strict";n("a550")},"521a":function(e,t,n){"use strict";n("50bf")},5264:function(e,t,n){},"52a9":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAcBAMAAACJyGLdAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAkUExURUdwTP+rCv+rCP+rCf+qCv+rCP+jAP+rC/+rBv+rCP+rCv+qCn9KHKEAAAALdFJOUwB+90HIlw4nbFjl8LNS6gAAAIJJREFUGNNjYMAApeEINrP2JgM4x2j3bmWExO7dcCmgBFwKJAGXAktApSASUCmoBFgKJOG6e3cIWKpo9+4tibt3i3nv3q3OEL17txvj7t0CKbt3bwVytiSAOGzeQE7RbjcGEIchBaiMvZMBwmGYUQC2FsKBAnpxmHcjBRVD1wrMgAUA53xNzEyb/KQAAAAASUVORK5CYII="},"52d3":function(e,t,n){"use strict";n("5f30")},"53b1":function(e,t,n){},5433:function(e,t,n){},"547b":function(e,t){e.exports="data:image/png;base64,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"},"552b":function(e,t,n){"use strict";n("0567")},5562:function(e,t,n){e.exports=n.p+"static/img/normal.2e99a41b.png"},"55ef":function(e,t,n){},5632:function(e,t,n){},5750:function(e,t,n){"use strict";n("d6593")},5880:function(e,t){e.exports=Vuex},5884:function(e,t,n){e.exports=n.p+"static/img/icon_0.95d753e8.png"},5919:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAcBAMAAACJyGLdAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAhUExURUdwTKOruaGruaOrtaGpuZGjt6OruKKquaOruqOrt6OruU9IpHoAAAAKdFJOUwB+90LJDieXaOVc0UabAAAAhElEQVQY073QPQqDQBBA4RHROo0nCFhYiXeQgJWCBwg2uUCw8AR6A2sRhHdKZ39YA/aZah/fwMKI3OYzXu+42MoQFTwvgEAKgQwEsuDJgSeFDQpLBl7wtTTA3kHWQC4T1BE8ejg09tZE0mgM1GJCel1LZ3Eh89t+68LPvyLm51SyrPfDnrP1Rzr87URqAAAAAElFTkSuQmCC"},"5ae7":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAApJJREFUSEu9lk2ITmEUx39/n0X5Lh8pURZIEhulrEhJERtJhoUdNsJCTEKMopEsZjFjiNX4qFmwmJ0FKxNTbM1CyVejKOOjv870zNt9r/ede99pZs7m7d73POf3nPP8z3mumGDTBPNoGGh7MrAobfSDpL+NbLo00PZUYD+wHZiZID+Ap8A9Sb/LgEsBbU8BzgNr6wTtA85K+lMELQvcCRwpCNYmqXusgC3AqoJgbyWdtB1VaAK+ATckDWTXlc2wA1hQAPwM3AGOAXEEYQ8k3R4NsBOYVwAMtU6CKuXfkvRkvID5/TyS1J5/WbakZTIcjm2gXdLjWhUZa2D04nVJz+qV/z+g7fXAQaBXUmSG7TIZxhC4KKnPdqyPOJ2Sekc8Q9tXgNXJqUnSF9ttwOIRRBMKbZbUbzvUHKoOeyPpVBHwMrAmOR2V9M72CWBLHWB/ggU0qrESuJZ8X0k6UwSMHW1OTi1xHrZXpCAxuLMWIy3KGOUcMttbUy/GY4+k1iLgbuBwcnou6ZLtPelcs2cewgiBVA1t2xeAdWl9q6SeIuBCIM4smjgk/gLYlMssJB/Sj/8rZnsjcC69+AkckvR9RGAqS7asVTHr9Zjt5UBkNysteChpWDyVGDX70PYy4GYuq5o9li7kbWlgz0hr3gPHJQ3mhVarD2cDodSlGedsj0XQuISj5NEqG4D5Gd9PwGlJH/OweK4FjKslRDJs2R6LAd4MRPlq2cskpKorqUg0WZVWesx2nM1VYEmOFGV7DXTnp0rZDKPXdgBzga5cj00H7gPTUrBfwD5J8VvKSg3vKpnaXUCAwwYl7S1FSk6jAd4F5qT1A5IOjDdwVzR0gnTUu/fqbaLhDCOQ7aHPDUlfG8kufP8BAyL4Hdw1URYAAAAASUVORK5CYII="},"5b64":function(e,t,n){"use strict";n("0045")},"5bcc":function(e,t,n){},"5cf5":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAAAXNSR0IArs4c6QAAAkZJREFUSEvtlUuIjmEUx39/YaSQJIZyy2XDhhKbkYXSsJCNhaawIqkpQhYuSZEkkkiiKFIWolAWrFwWiCIUJVkMJhZKufx1puf9PN8730XMZmrO7rznPL/33J7ziD4W9TGPAeD/V7Qf19D2ZGA1sBiYAPwA3gI3gQuSPtUqUK+UbQ8CdgFbgWF1qtoddkmny/YqoO3Qz6XI/qZDOyXtzR3LwE7gcObwFTgB3AOGAEuADmBw8jHQLulGcaYCtD0m1Wh4Mn4E2iQ9zyOwHdCrQEv6/gaYLulX6DlwG7A/O9wh6XytvG3vA3ZkthWSrpSBd4EFWXStkqKzvcR2K/AOiAaGnJW0tgK0Hd38AgxNDpckrWrUFdtPgDnJ55WkmTkwlBcZYI+k3U2AF4Hipz+jaZJ6xgTbkWqkXEinpCNNgMeBDZnPaEmfC2AbcCczbpQUB+qK7aPApsxhnKSuAhi1iJoUsl3SgSbAM8Ca5BPz2CLpewEcC3RlgJOS1jcB3gYWJZ9uSTHHVXP4GpiaHB5JmlsPaDumIQIYlXyuS2ovA+Oir8tSmC3pWS2o7ZXA5cwWi+JgGTgfuJ853QKWSoqRqIjtkcADYFb6+A2YJOlDFTAU29eAZdn50DdLepnsMV7HgHmZzyFJWwq9vG3iSj0ExpdSjf0X22ZE6ftjYKGkiLJHai3YGUCso2mNupwuwnJJ8bOK1HykbMcKizTiwk8pgZ8CMfSnyvWtGWE5KtsxShOLN0XS+0aR9+NntElD6poHUv7Xyv059xvvWsElgO+nlwAAAABJRU5ErkJggg=="},"5d1b":function(e,t,n){e.exports=n.p+"static/media/get-coins.71310f30.mp3"},"5e38":function(e,t,n){e.exports=n.p+"static/media/getResult.91e65299.mp3"},"5e62":function(e,t,n){e.exports=n.p+"static/media/wheel_selected.ef965b4f.mp3"},"5e73":function(e,t,n){e.exports=n.p+"static/img/icon_muti.83a78302.png"},"5f14":function(e,t,n){"use strict";n("a2a8")},"5f29":function(e,t,n){"use strict";n("b65f")},"5f30":function(e,t,n){},"5f36":function(e,t){e.exports="data:image/png;base64,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"},"5fb3":function(e,t,n){"use strict";n("14b3")},6154:function(e,t,n){e.exports=n.p+"static/media/interact-submit.83bed748.mp3"},"62bf":function(e,t,n){},"637b":function(e,t,n){},"638d":function(e,t,n){e.exports=n.p+"static/img/icon_equal.92cef432.png"},6403:function(e,t,n){},6429:function(e,t,n){"use strict";n("da8d")},"645f":function(e,t){e.exports="data:image/png;base64,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"},65432:function(e,t,n){"use strict";n("86cd")},"670d":function(e,t,n){e.exports=n.p+"static/media/interact-fail.55547638.mp3"},"674f":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAWBAMAAAAC47AUAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAqUExURUdwTP///////////////////////////////////////////////////4sGkswAAAANdFJOUwALocMg4ckO2bs+iUBtW26jAAAAQElEQVQI12NgAAJGbQYwEL6rAOba3r0F4d5NhHCvFUC46QS5DHMhXIbeu5fAZrrehRjKEkuOwB2ogCGYZukUAACXNCrRmZ43VwAAAABJRU5ErkJggg=="},"683e":function(e,t,n){"use strict";n("8af0")},68978:function(e,t,n){"use strict";n("8f2b")},6986:function(e,t,n){e.exports=n.p+"static/media/backgroundAudio.9b907a48.mp3"},"69b0":function(e,t,n){e.exports=n.p+"static/img/icon_3.1f4942ea.png"},"6b8e":function(e,t,n){"use strict";n("9ab3")},"6c154":function(e,t,n){"use strict";n("011a")},"6dc3":function(e,t,n){e.exports=n.p+"static/img/icon_clear.5fab5eb7.png"},"6e2e":function(e,t,n){"use strict";n("e401a")},"6f3a":function(e,t){e.exports=require("url")},"6fb2":function(e,t,n){},"712f":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"f",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return p}));var s=n("c7eb"),a=n("1da1"),i=n("dc21"),o=n("e39c");function r(e,t,n){return c.apply(this,arguments)}function c(){return c=Object(a["a"])(Object(s["a"])().mark((function e(t,n,a){var r,c,l;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Object(o["h"])(),c=r.oversea,e.next=3,Object(i["a"])({url:n,params:a,apiDomain:c});case 3:return l=e.sent,e.abrupt("return",l);case 5:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function l(e,t){var n="/classroom-hub/classroom/student/interact/partakereport";return r(e,n,t)}function u(e,t){var n="/classroom-hub/vote/student/commit";return r(e,n,t)}function d(e,t){var n="/classroom-hub/vote/student/getStatistics";return r(e,n,t)}function h(e,t){var n="/classroom-hub/vote/student/status";return r(e,n,t)}function m(e,t){var n="/classroom-hub/vote/student/noAnswerCommit";return r(e,n,t)}function f(e,t){var n="/api/vote/oneanswer/student/check";return r(e,n,t)}function p(e,t){var n="/api/vote/oneanswer/student/commit";return r(e,n,t)}},"71af":function(e,t,n){e.exports=n.p+"static/media/vote-has-correct-fail.55547638.mp3"},"71b9":function(e,t,n){},7263:function(e,t){e.exports="data:audio/mpeg;base64,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JH6uGXWdXXUN9OwC3Oky8oEGZgsqZXyZgB23ygVgWFPMbh6XQE3EKqUIgb/jMZxsTtLvLu7lqU40/51aTdnuNb+1BJFEj0Emo7cg6iU+smxspErYsBLLJBXi2KTNw0uaflJWjhxMkRh0iYY8jOyjSaREiiXJL68yx1N3l/UwDSSLya2dBQCR3G5NGnzTQWUXrXi0DjkmlN4ydTY3sXehAdT2UnX1u0Eq6daBb+uVVUhJfVqlAZAAKXL0mI2cCKTjDGhqlhO4ZiuW86WajU9KW7JjQNllTZZbpcKaN+Ua+1El8VVjVV2qrDuGUofG5sGPal1VL/aHVLWN/qqgJQa1FZENYlcTbOrUBZYs/JFZ4JHqw0RU9QdE35Hlqjst//uQwPSAGMmjM8e8zaK+tKUw/Bm8DcsDX/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////7///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////uQwP+AMXz9GSVka4AAACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uQwP+AMYABLgAAACAAACXAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVEFHc2Z4X3BvcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAyMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf8="},"73bc":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABCUExURUdwTP8yMv9OPP9NPv9QPP9QRP9MPv9OPv9OPf9OPP9MPP9QQv9QPv////9gUv+bkf/Z1f90Zv/z8/+tp/+JfP+/uQdkbLEAAAAMdFJOUwAE01frFpf5gLHjNuGC4G8AAAEJSURBVDjLlZXrDoMwCIWr9kIVW93l/V91Ysw2Ck52/piQL6XAKTrHNEHufUq+zzC5UwUYMSXctX1GCDoWD+ajFBV08KjIDw3WRTxR7BiX8VS5s3GMjPhT8V0Hj5daC48cFQVeb7nN842TPmiJn/Omp5I8NH1eCFyaztORgNcgwlb5iNepcdz80jbjTuC9jU4isw4mcGIolcAqxuP6NvQg8NFGe+dtoHfCrSuBq/CwBAuBRYLS2IvsN6UWxSju2YvJaFHKDpKJBDlCPfUkTbGScVdpis5mM8W48y7FuO1T0E6M2uNS7ng8LvNztS8A+0oxLyn72rMv0j9W87Hsv+d7suzppvz3wW73AuO2O5X1jG6cAAAAAElFTkSuQmCC"},"73de":function(e,t,n){e.exports=n.p+"static/img/icon_forward.82ce2f34.png"},"747e":function(e,t,n){},"74dc":function(e,t,n){e.exports=n.p+"static/media/vote-key-tone.631f9373.mp3"},"76ac":function(e,t,n){},7714:function(e,t,n){},7728:function(e,t,n){"use strict";n("26c0")},7771:function(e,t,n){"use strict";n("5bcc")},"77b24":function(e,t,n){},"79a4":function(e,t,n){e.exports=n.p+"static/media/open.808a35b3.mp3"},"79d3":function(e,t,n){"use strict";n("e1f0")},"7acc":function(e,t,n){"use strict";n("cbff")},"7ad5":function(e,t,n){e.exports=n.p+"static/img/icon_4.9646f5da.png"},"7b7b":function(e,t,n){"use strict";n("4855")},"7d76":function(e,t,n){"use strict";n("d1dd")},"7e59":function(e,t,n){"use strict";n("bdc3")},"7ecf":function(e,t,n){"use strict";n("fb38")},"7fed":function(e,t,n){"use strict";n("eea0")},8030:function(e,t,n){},8267:function(e,t,n){e.exports=n.p+"static/media/error.1a56d946.mp3"},"828e":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAMAAAC+LeqSAAAAAXNSR0IArs4c6QAAAKVQTFRFAAAA////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////uP3jVQAAADZ0Uk5TAAECAwQGCBITFhchIycsN0FERkhdYGNleXp8gIGRlZeZm5yes7e5zs/R09Xl5unq9PX3+P3+j3Vq3QAAAIZJREFUGBnVwcUBg1AURcEbgTg/7q7EldN/aQF2jw6YUW401lZRMYdVVsxhRCXFHLCYpDbAQQkHBEotga4SDgiUqLzgolQQhmFTiTEwlOXd4OHL6gMzZZzgU5PVBrbK2EMUyGr94KiMFdCTVX3DtSBrCoxkeXd4+rIGwFwZZ/jWZXWAnXLnD9DcGeFYJgsHAAAAAElFTkSuQmCC"},"834e":function(e,t,n){e.exports=n.p+"static/media/show-red-package.b0ec20b3.mp3"},"85b3":function(e,t,n){"use strict";n("c18c")},"85b5":function(e,t,n){e.exports=n.p+"static/img/icon_6.4a271e40.png"},"85e5":function(e,t){e.exports="data:image/png;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgICAcIBwcHBwcHBw0HBwcHBw8ICQcNFREWFhURExMYHSggGCYxGxMTITEhJSkrLi4uFx8zODMsNygtLisBCgoKDQ0NDw8PDysZFRkrKystKys3LSsrNys3KysrKysrLSstKystKy0rKysrKysrKysrKysrKysrKysrKysrK//AABEIAMIBAwMBIgACEQEDEQH/xAAWAAEBAQAAAAAAAAAAAAAAAAAAAQf/xAAXEAEBAQEAAAAAAAAAAAAAAAAAARFR/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8Aw4gCAIqqAgAKIAgKgACqICggACiAoICgIAAgAAAAAAAoAICKUUAUAQABAAUAVBAFAAAAAABUUBBQAEQAAAAAURQQQUVRFRBQQAAAAAAABQAAAAVAFRUQVFFACIgAAAAAAAAEAEVBQAAAAAAAABQAQAAAAAAUQBQAABAAAADABQAQQBQAAAAAAAAAAAAAABQABQEAAAAQAAAAAAAFQBQAQAAAAAAAAAAAFAAAAFBEF0BQARAAAAAAAAEAFAAAAAAAAAAAAAFAAAWgIoiCggKAIAACgIAAAKgqAKiggAAAAAAAACgAAAgoigigAAIAAAAAACKKAAICgAgAKACAAAAAAoAAKgCiCCgAACAAAAAAAAoAIigqiKIIAoCiCAKAqIAoCAtURQARRAAEAAAAAAAAAAAAAAAAANFKagAogCoqgioCwCIIKAACAAAAAAAAAIqqAiAAAAAACKCopQAwAABBFAAAAAAAAAAAAAAAAAVAAAAICqAIgABQBRABUAFAEIAAAAAoAIHQAFQAAAAaV//Z"},"862e":function(e,t,n){},8651:function(e,t,n){"use strict";n("3589")},"86cd":function(e,t,n){},"86f0":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAkCAYAAACe0YppAAAAAXNSR0IArs4c6QAABAxJREFUWMPllltMHFUYgFFTm5pqNDGR5bqXQtMSo9HGVBNtNDaNiTGmaupD28REmzZRXzRNeNBoKonQdIWAVQSMNVVaYkFRW0qlQqE3L1QpWKi6sKXLwrIse2Nhd3bn82HODN1llsuyPhhP8j1M5pzzzZnz//85GRn/pQbcCTwC7ABeA/YCu4EXgAeBW9IpKwTeA7qBGPM3P9AMbFmOcANwHJC1aeXYNP7RIf5sc3Dp8CQXPgrR0+DGdmaYae/1hA/7BVi7FOFq4ENtEjkW5Mo3YzRst1OaN0PJPSTFut5LR+kYYf+EkAcWtXrABPSK5YXp/myEinU+3s9kSVgtU1xtcQi5DyiaT1oAOJWduu7h0JNuyjJh/xIpE+w3yNjaVPnpZNLbgSEAnN1uqgqDHMhEwRCPVXBgITKhqjBATAoI+UN64hcBCE26qDKHKDcwLxVZMSpypAX7lRug94tJIS7REz+gBdNgq4PqwiCVWcRx7DknA1+PI4WcQBiQiUbcDDQ6qVnvp9KAgjpGPP+4d0SIG5P97p1AEIBpj4fGZ90czILawiDX2h1xaaV8ZER7Gu8b4WAWurTsGhK9Ts0XYGtF/gFIXK4dxvv3jamxDygCVoj+64BpQKbOEqI6Cz4WVGcrdLwxLMYfWyilVgClCcVgADDp9L0LiAIz1Bkj1GQzh0vlanCVLraQbAIagU+Au5P0eReAib5hPs1BITsen80uxFvTVcOfASQgRus2F4dymEPToy7x50LA6nRItwEzAPTXDnI4B12Gf3CK1dakQ/qWtv+2I4McyZWpz4UvE+jaNSoyIQQYlyNcBRwVK4jSZx3iaC5zaMiFlic8xCS/6PvmcqQ5WprJ0QDnXxnjqzx0aXlskohPrVZNwE2pSjcCSvUJT3ho2+yhKQ9dTj/lQQqo0i5gVarSHaJAgLfHxYn7/DTnE0+ewsWXx5CjQSFtTymKgZtFEVHK5EizneMWie/z0fjuBq5+YBepBVAPrExFegfwrZgkwkDJNU4YmSV/lpMFYcZOqiVRBt5JaU8Bs3YDiUV8/Lp9nFYjunRs8BLodwtpEHg+1f18HFAmmnZ4OL/JQ5sR2kwC4ywXn/YgaZErAcXAFh0eVg+UZNI92jHn+2mUznuDtJvQ5Y/XnRCbYvGtS/e+Dbyt7ZGzfohOS4wzZug0zaV35wDBKzam+gcXhRzxibk3JkpXipIW5a9iB2fNJOVcAmcX4JwZol418O5PFBcpBTDo4IIZBYvAnCLq+IIoyGFR129LFG9VYrLHzs8W0srlzepdy663v8UAuD4P0G0hrdheVe9arXriOgAc+1z8voZ4LII1+vwmSPbeWaaeTpV6Yiv/fntJT2wAOsSFLd1tRpzft2b8r9s/rVO37GFvvioAAAAASUVORK5CYII="},"87d2":function(e,t,n){e.exports=n.p+"static/media/wall_selected.ef965b4f.mp3"},"88f0":function(e,t,n){},"8a29":function(e,t,n){e.exports=n.p+"static/media/click.50f3e642.mp3"},"8af0":function(e,t,n){},"8bac8":function(e,t){e.exports="data:image/png;base64,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"},"8bbf":function(e,t){e.exports=Vue},"8c77":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d}));var s=n("c7eb"),a=n("1da1"),i=n("dc21"),o=n("e39c");function r(e,t,n){return c.apply(this,arguments)}function c(){return c=Object(a["a"])(Object(s["a"])().mark((function e(t,n,a){var r,c,l;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Object(o["h"])(),c=r.oversea,e.next=3,Object(i["a"])({url:n,params:a,apiDomain:c});case 3:return l=e.sent,e.abrupt("return",l);case 5:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function l(e,t){var n="/classroom-hub/gift/v2/detail";return r(e,n,t)}function u(e,t){var n="/classroom-hub/gift/student/v2/send";return r(e,n,t)}function d(e,t){var n="/classroom-hub/gift/student/status";return r(e,n,t)}},"8c77a":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAAAXNSR0IArs4c6QAAAXhJREFUSEvtlD8vpUEUxn8Psg2Vgqgk29EoEGJFopZtNlGIUIgo7kfQ+wAKUUgkRJZCJaoVHY0CEUFEyRcg/nSPTDI3Gdfrvu8N2+B0kzPnN2ee58yIDw59MI9v4PsV/UQa2p4EfiWizEs6qxSp0JVtDwG7QEMEbEoazVI8F2i7FTgC2iLgCuiWdFsz0HY9sAMMx+InYEBSOCAzqnZoew6YTSpLkharDdebQNsjwBZQFwEbksbyJjUTaLsdOASaI+AS6JF0VzPQ9g9gD+iNxY9Av6STPFjIv+rQ9gJQSopnJC2Fte0WYDrJrUq6Tg96AbQdNPqbbFiTNFFe2+4CjpP8oKT9TKDtDuAAaIobzsO1Jd3XDLTdGGGdsfgB6JN0mp5euEPba8B4Uhwc/pdhQtBwKpUEKGt4IWlFtsMVc8ehgMPbkn7/F2CYu/DEisRP4E+ycR24KZsoaTn3t6kwJTzH7UJjU6S9+L6/ErCILDWZ8g3MVOALavgM8CGEJRFTRMIAAAAASUVORK5CYII="},"8cad":function(e,t){e.exports=require("util")},"8d1d":function(e,t,n){e.exports=n.p+"static/img/icon_flower_r.5dab610e.png"},"8e57":function(e,t){e.exports=require("os")},"8f2b":function(e,t,n){},"8f59":function(e,t,n){"use strict";n.r(t);n("dc5a");var s,a=n("56cd"),i=(n("3b18"),n("f64c")),o=(n("5704"),n("b558")),r=(n("2ef0"),n("9839")),c=(n("6ba6"),n("5efb")),l=(n("1273"),n("f2ca")),u=(n("fbd8"),n("55f1")),d=(n("9d5c"),n("a600")),h=(n("fbd6"),n("160c")),m=(n("cd17"),n("ed3b")),f=(n("8fb1"),n("0c63")),p=n("8bbf"),g=n.n(p),v=(n("7714"),n("ed09")),C=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"small-class-live"},[e.isLoading?t("div",{staticClass:"loading"},[t("Loading")],1):e.errorObject.isShow?t("div",{staticClass:"error"},[t("ErrorStatus",{attrs:{message:e.errorObject.message,showRefresh:e.errorObject.showRefresh,isClassLiveOrPlayback:!0,scene:"ClassLiving",subMessage:e.subMessage}})],1):e.rtcReady&&e.ircReady?[e.isAllOnStageStatus?t("div",{staticClass:"all-onStage-status"},[t("WholeOnStage")],1):[t("div",{staticClass:"class-header"},[t("Header")],1),t("div",{staticClass:"class-body"},[t("div",{staticClass:"class-container"},[t("div",{staticClass:"video-list"},[t("VideoGroup"),t("CurrentSpeakers",{staticStyle:{"z-index":"94",position:"absolute",right:"0.04rem",top:"0.04rem"}})],1),t("div",{staticClass:"class-content"},[t("div",{class:[e.is4b3Layout?"class-courseware_4b3-layer":"class-courseware_16b9-layer"],attrs:{id:"class-courseware-layer"}},[t("Courseware")],1),t("div",{class:[e.is4b3Layout?"class-board_4b3-layer":e.isFollowCourseware?"class-board_16b9_follow-layer":"class-board_16b9_not_follow-layer"],attrs:{id:"class-board-layer"}},[t("WhiteBoard")],1),t("OnStageLayer",{class:["class-onstage-layer",e.is4b3Layout?"class-onstage_4b3-layer":e.isFollowCourseware?"class-onstage_16b9_follow-layer":"class-onstage_16b9_not_follow-layer"]}),t("Interactions",{staticClass:"class-interaction-layer",attrs:{isCourseware4b3:e.is4b3Layout}}),t("FloatLayer",{staticClass:"class-float-layer"})],1)]),t("FullFloatLayer",{staticClass:"class-full-float-layer"})],1)],t("ContinuousCorrect")]:e._e(),e.thinkClassReady?t("NetworkError"):e._e()],2)},b=[],A=(n("e260"),n("d3b7"),n("e6cf"),n("3ca3"),n("ddb0"),n("0d52")),S=(n("b0c0"),function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"class-interaction",attrs:{id:"interactionController"}},[e._l(e.interactions,(function(n){return[n.isShow?t(n.componentName,{key:n.name,ref:n.name,refInFor:!0,tag:"component",staticStyle:{"pointer-events":"auto"},attrs:{layout:n.layout,options:n.options},on:{close:e.interactionClose}}):e._e()]}))],2)}),w=[],y=n("5530"),k=(n("caad"),n("7db0"),n("2532"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"photoWallContainer",attrs:{id:"photoWallContainer"}},[t("div",{ref:"countdownContainer",staticClass:"countdownContainer",style:e.countdownStyle,attrs:{id:"countdownContainer"}},[t("i",{staticClass:"countDown-icon"}),t("NeCountdown",{ref:"countDown",staticClass:"countdown",attrs:{time:e.countDownTime,format:"mm:ss"},on:{complete:e.countdownComplete}})],1),e.showCamera||e.showGraffiti?t("div",{staticClass:"toolbar",staticStyle:{"pointer-events":"auto"},attrs:{id:"toolbar"}},[t("i",{staticClass:"back",on:{click:e.goClassRoom}})]):e._e(),!e.isSubmit&&e.isCanOpenCamera?t("div",{ref:"photoShotBtn",staticClass:"photoShotBtn",class:e.disableCamera,staticStyle:{"pointer-events":"auto"},attrs:{id:"photoShotBtnId"},on:{click:e.openClassCamera}},[t("i")]):e._e(),e.showCamera&&!e.showGraffiti?t("camera",{attrs:{delay:2e3,options:e.options},on:{changeTakePhotoWay:e.changeTakePhotoWay,submit:e.submitPhoto,photoData:e.getPhotoData}}):e._e(),e.showGraffiti&&!e.showCamera?t("graffiti",{attrs:{options:e.options,cameraAccess:e.cameraAccess,closeInteractive:e.closeInteractive},on:{submit:e.submitPhoto,photoData:e.getPhotoData,changeTakePhotoWay:e.changeTakePhotoWay}}):e._e(),!e.showPhotoShotTip||e.isSubmit||e.userClosePhotoShotTip?e._e():t("div",{ref:"photoShotTip",staticClass:"photoShotTip animateSlideInDown",staticStyle:{"pointer-events":"auto"}},[t("div",{staticClass:"close",on:{click:e.closePhotoShotTip}}),t("ul",[t("li",[e._v(e._s(this.$t("classroom.interactions.photoWall.hasAccessNotice")[0]))]),t("li",[e._v(e._s(this.$t("classroom.interactions.photoWall.hasAccessNotice")[1]))]),t("li",[e._v(e._s(this.$t("classroom.interactions.photoWall.hasAccessNotice")[2]))])])]),e.cameraAccess?e._e():t("div",{staticClass:"cameraAccessToast animateFadeIn",staticStyle:{"pointer-events":"auto"}},[t("p",[e._v(" "+e._s(this.$t("classroom.interactions.photoWall.notAccessNotice")[0])),t("br"),e._v(" "+e._s(this.$t("classroom.interactions.photoWall.notAccessNotice")[1])+" ")]),t("div",{staticClass:"showGraffiti",on:{click:e.openClassGraffiti}},[e._v("去涂鸦")])]),t("photoWallDialog",{attrs:{cancelText:e.$t("common.no"),confirmText:e.confirmText,visible:e.dialogVisible,content:e.dialogContent,description:e.dialogDescription},on:{cancel:e.dialogCancel,confirm:e.dialogConfirm}}),t("uploadProgress",{attrs:{percent:e.percent,visible:e.showUploadProgress}}),t("MediaSecurityAccess",{attrs:{type:"camera",visible:!0}}),t("audio",{ref:"photoWallBeginSound",staticClass:"hide",attrs:{src:n("ad11")}}),t("audio",{ref:"photoWallBtnSound",staticClass:"hide",attrs:{src:n("7263")}}),t("audio",{ref:"photoWallSuccessSound",staticClass:"hide",attrs:{src:n("f7e4")}})],1)}),I=[],x=n("c7eb"),O=n("1da1"),P=(n("99af"),n("d4ec")),j=n("bee2"),T=n("262e"),B=n("2caf"),L=n("753a"),M=n("c5f1"),R=function(e){Object(T["a"])(n,e);var t=Object(B["a"])(n);function n(){var e,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.info("函数申明 Main(opts)",s,"filePath:renderer/SmallClass/interactions/TakePicture/photoWall.js"),Object(P["a"])(this,n),e=t.call(this),e.options=s,e.tipTimer=null,e}return Object(j["a"])(n,[{key:"clearTipTimer",value:function(){this.tipTimer&&(clearTimeout(this.tipTimer),this.tipTimer=null)}},{key:"closeTip",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(e&&(this.clearTipTimer(),t>0))var a=setTimeout((function(){var t,i;null!==e&&void 0!==e&&e.parentNode&&s&&(null===e||void 0===e||null===(i=e.parentNode)||void 0===i||i.classList.remove(s));null===e||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(e),clearTimeout(a),a=null,n&&n()}),t)}},{key:"showNotjoinTip",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.tips,s=t.callback,a=t.className,i=void 0===a?null:a,o=t.duration,r=void 0===o?3e3:o,c=t.dom,l=void 0===c?"photoWallContainer":c,u=document.createElement("div");u.setAttribute("class","notJoinTip ".concat(i||"")),u.innerHTML="\n      <p>".concat(n,"</p>\n    "),null===(e=document.getElementById(l))||void 0===e||e.appendChild(u),this.closeTip(u,r,s)}},{key:"showCoinsTip",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.duration,s=void 0===n?3200:n,a=t.callback,i=void 0===a?null:a,o=t.dom,r=void 0===o?"photoWallContainer":o,c=t.maskClass,l=void 0===c?"photoWallContainer-mask":c,u=document.getElementById("submitTipContainer");u&&u.parentNode.removeChild(u);var d,h=document.createElement("div");l&&document.getElementById(r)&&(null===(d=document.getElementById(r))||void 0===d||null===(d=d.classList)||void 0===d||d.add(l));null===(e=document.getElementById(r))||void 0===e||e.appendChild(h),this.closeTip(h,s,i,l)}},{key:"showSubmitTip",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.duration,s=void 0===n?3e3:n,a=t.callback,i=void 0===a?null:a,o=t.text,r=t.icon,c=t.dom,l=void 0===c?"photoWallContainer":c,u="loading"===r?0:s,d=document.getElementById("submitTipContainer");d&&d.parentNode.removeChild(d);var h=document.createElement("div");h.setAttribute("id","submitTipContainer"),h.setAttribute("class","submitTipContainer"),h.innerHTML='\n      <div class="tipContainer">\n        '.concat(r?'<i class="'+r+'"></i>':"","\n        <p>").concat(o,"</p>\n      </div>\n    "),null===(e=document.getElementById(l))||void 0===e||e.appendChild(h),this.closeTip(h,u,i)}},{key:"initCountdownTime",value:function(){var e=+new Date,t=this.options.roomMessage.roomInfo.commonOption.timeOffset,n=1e3*this.options.ircMsg.totalTime-(e+t-this.options.ircMsg.beginTime);return n}},{key:"interactOpen",value:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(){var t;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={planId:1*this.options.roomMessage.roomInfo.stuLiveInfo.planId,classId:1*this.options.roomMessage.roomInfo.stuLiveInfo.classId,interactId:this.options.ircMsg.interactId},e.next=3,Object(M["b"])(t);case 3:case"end":return e.stop()}}),e,this)})));function t(){return console.info("函数申明 interactOpen, filePath:renderer/SmallClass/interactions/TakePicture/photoWall.js"),e.apply(this,arguments)}return t}()},{key:"submitPhoto",value:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(t){var n,s;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={planId:1*this.options.roomMessage.roomInfo.stuLiveInfo.planId,classId:this.options.roomMessage.roomInfo.stuLiveInfo.classId,tutorId:this.options.roomMessage.roomInfo.stuLiveInfo.tutorId,photoPath:t,interactId:this.options.ircMsg.interactId,teacherId:this.options.roomMessage.roomInfo.teacherInfo.id,version:0},e.next=3,Object(M["d"])(n);case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return console.info("函数申明 submitPhoto(_x)",t,"filePath:renderer/SmallClass/interactions/TakePicture/photoWall.js"),e.apply(this,arguments)}return t}()},{key:"getWallStatus",value:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(){var t,n;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={planId:1*this.options.roomMessage.roomInfo.stuLiveInfo.planId,interactId:this.options.ircMsg.interactId},e.next=3,Object(M["a"])(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));function t(){return console.info("函数申明 getWallStatus, filePath:renderer/SmallClass/interactions/TakePicture/photoWall.js"),e.apply(this,arguments)}return t}()}]),n}(L["a"]),E=function(){var e=this,t=e._self._c;return t("div",{staticClass:"photoShotContainer"},[t("div",{staticClass:"cameraContainer",attrs:{id:"cameraContainer","data-log":"相机视频区"}},[t("img",{ref:"previewDom",staticClass:"previewDom",attrs:{id:"previewDom"}}),t("div",{ref:"photoShotVideo",style:{width:e.curWidth+"px"},attrs:{id:"photoShotVideo"}})]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showPhotoShotControl&&!e.isPhotoShot,expression:"showPhotoShotControl && !isPhotoShot"}],staticClass:"photoShotControl",staticStyle:{"pointer-events":"auto"},attrs:{id:"photoShotControl","data-log":"拍照控制区"}},[t("div",{staticStyle:{width:"40%","text-align":"right"}},[e.deviceLists.length?t("div",{staticClass:"changeCameraDropdown",attrs:{"data-log":"摄像头列表"}},[t("a",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:function(){return e.showLists=!1},expression:"() => (showLists = false)"}],staticClass:"ant-dropdown-link",attrs:{href:"javascript:;"},on:{click:e.toggleLists}},[t("i",{staticClass:"changeCameraIcon"}),e._v(" "+e._s(e.deviceName)+" "),t("a-icon",{attrs:{type:"caret-up"}})],1),e.showLists?t("div",{staticClass:"ant-dropdown"},[t("ul",{staticClass:"ant-dropdown-menu"},e._l(e.deviceLists,(function(n){return t("li",{key:n.deviceId,staticClass:"ant-dropdown-menu-item",on:{click:function(t){return e.changeCameraId(n.deviceId,n.label)}}},[t("a",{attrs:{href:"javascript:;"}},[e._v(e._s(n.label))])])})),0)]):e._e()]):e._e()]),t("div",{ref:"takePhotoControl",staticStyle:{width:"33.33%"}},[t("div",{staticClass:"photoShotBtn",attrs:{"data-log":"拍照按钮"},on:{click:e.photoShot}},[t("i")])]),t("div",{staticClass:"graffitiBtn",attrs:{"data-log":"拍照上墙中的涂鸦画板"}},[e._v(" "+e._s(e.$t("classroom.interactions.photoWall.graffitiBtnName"))+" "),t("i",{on:{click:e.goGraffiti}}),t("span",[e._v(" "+e._s(e.$t("classroom.interactions.photoWall.graffitiDesc")[0])),t("br"),e._v(" "+e._s(e.$t("classroom.interactions.photoWall.graffitiDesc")[1])+" ")])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isPhotoShot,expression:"isPhotoShot"}],staticClass:"submitControl",staticStyle:{"pointer-events":"auto"}},[t("div",{staticClass:"retryPhotoShot",on:{click:e.retryPhotoShot}},[t("i"),e._v(e._s(e.$t("common.retry")))]),t("div",{staticClass:"submit",on:{click:e.submit}},[t("i"),e._v(e._s(e.$t("common.submit")))])]),t("audio",{ref:"photoWallBtnSound",staticClass:"hide",attrs:{src:n("7263")}})])},D=[],N=(n("14d9"),n("b7ef"),n("907a"),n("986a"),n("1d02"),n("3c5d"),n("6ce5"),n("2834"),n("4ea1"),n("a9e3"),n("4de4"),n("159b"),n("c19f"),n("ace4"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("a5d8")),V=n("e417"),F=n("d0db"),U=n("6543"),W=n("e39c"),G=n("e177"),_=n("b047"),H=n.n(_),Q={name:"photoShotCamera",props:{delay:{type:Number,default:0},options:{type:Object,default:function(){return{}}}},data:function(){return{deviceLists:[],deviceName:null,isPhotoShot:!1,showPhotoShotControl:!1,showLists:!1,rtcEngine:null,localDisplayVideoStatus:!0,curWidth:960,highEncoderConfig:{width:960,height:720,bitrate:910,frameRate:15},lowEncoderConfig:{bitrate:80,frameRate:10,width:160,height:120}}},directives:{Clickoutside:N["a"]},mounted:function(){var e=this;window.addEventListener("resize",this.resetWidth),this.$bus.$emit("getLocalDisplayVideoStatus",(function(t){e.localDisplayVideoStatus=t,t&&e.$bus.$emit("cameraStatus",!0)})),this.$nextTick(Object(O["a"])(Object(x["a"])().mark((function t(){var n,s,a,i,o,r,c;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.rtcEngine=(null===(n=window.RTC_COMMON)||void 0===n?void 0:n.rtcEngine)||(null===(s=e.thinkClass)||void 0===s||null===(s=s.RtcService)||void 0===s?void 0:s.rtcEngine),e.rtcService=(null===(a=window.RTC_COMMON)||void 0===a?void 0:a.classRtcChannel)||(null===(i=e.thinkClass)||void 0===i?void 0:i.RtcService),e.deviceLists=e.loadDeviceList(),t.next=5,Object(U["a"])();case 5:r=t.sent,c=e.deviceLists.filter((function(e){return e.deviceId===r})),null!==(o=c[0])&&void 0!==o&&o.label?e.deviceName=c[0].label:e.deviceName=e.deviceLists.length&&e.deviceLists[0]["label"].substring(0,16),e.resetWidth(),e.showPhotoShotControl=!0,e.rtcService.setVideoEncoderConfiguration(e.highEncoderConfig),e.rtcEngine.setupLocalVideo(document.getElementById("photoShotVideo"));case 12:case"end":return t.stop()}}),t)}))))},methods:{resetWidth:H()((function(){var e=this;this.$nextTick((function(){var t=document.querySelector("#photoShotVideo");t.clientHeight&&(e.curWidth=4*t.clientHeight/3)}))}),300,{leading:!0}),loadDeviceList:function(){var e,t=(null===(e=this.rtcEngine)||void 0===e?void 0:e.getVideoDevices())||[],n=[];return t.forEach((function(e){n.push({label:e.devicename,deviceId:e.deviceid})})),n},reSensorEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(V["e"])(e,this.options.roomMessage.roomInfo.commonOption,Object(y["a"])({interact_id:this.options.ircMsg.interactId},t))},toggleLists:function(){this.showLists=!0,this.reSensorEvent("hw_classroom_interact_photograph_control",{control_type:"切换摄像头"}),F["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"点击打开摄像头列表"}})},base64ToBlob:function(e,t){for(var n=window.atob(e.split(",")[1]),s=new ArrayBuffer(n.length),a=new Uint8Array(s),i=0;i<n.length;i++)a[i]=n.charCodeAt(i);return new Blob([s],{type:t})},photoShot:H()((function(){var e=this;this.$refs.photoWallBtnSound.play(),this.reSensorEvent("hw_classroom_interact_photograph_control",{control_type:"拍照"});try{var t=document.querySelector("#photoShotVideo"),n=t.clientWidth,s=t.clientHeight,a=document.createElement("canvas");a.width=n,a.height=s;var i=document.querySelector("#photoShotVideo canvas"),o=a.getContext("2d");o.drawImage(i,0,0,n,s);var r=a.toDataURL("image/jpeg",1);this.$refs.previewDom.src=r,this.$refs.previewDom.style.width="100%",this.$refs.previewDom.style.height="100%";var c=Number(Object(W["r"])("imageCompressionFactor","configValue"))||.75;Object(G["c"])(r,1440,c).then((function(t){var n=e.base64ToBlob(t,"image/jpeg");e.$emit("photoData",{base64:r,blob:n}),e.isPhotoShot=!0,F["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"点击拍照",blob:n,base64:r.substring(r.indexOf(",")+1).length}})}))}catch(l){F["a"].send({tag:"student.Interact",level:"error",content:{interactType:"Wall",msg:"点击拍照报错",err:l}})}}),300),retryPhotoShot:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:F["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"点击重拍按钮"}}),e.$refs.photoWallBtnSound.play(),e.$refs.previewDom.src="",e.$refs.previewDom.style.width="",e.$refs.previewDom.style.height="",e.isPhotoShot=!1;case 6:case"end":return t.stop()}}),t)})))()},changeCameraId:function(e,t){e&&t&&(this.deviceName=t.substring(0,16),this.$bus.$emit("setDefaultVideoDevice",e),this.thinkClass.RtcService.setVideoDevice(e),Object(U["e"])(e),F["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"点击切换摄像头"}}))},goGraffiti:function(){this.$refs.photoShotVideo.innerHTML="",this.$emit("changeTakePhotoWay","graffiti"),this.reSensorEvent("hw_classroom_interact_photograph_control",{control_type:"涂鸦板"}),F["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"点击切换到涂鸦画板"}})},submit:function(){this.$refs.photoWallBtnSound.play(),this.$emit("submit"),this.reSensorEvent("hw_classroom_interact_photograph_submit",{submit_type:1})}},beforeDestroy:function(){this.rtcService.setVideoEncoderConfiguration(this.lowEncoderConfig),this.localDisplayVideoStatus&&(this.$bus.$emit("cameraStatus",!1),this.rtcEngine.setupLocalVideo(document.getElementById("video-group-local"))),window.removeEventListener("resize",this.resetWidth),this.$refs.photoShotVideo.innerHTML=""}},J=Q,q=(n("e562"),n("2877")),K=Object(q["a"])(J,E,D,!1,null,"760061da",null),$=K.exports,z=function(){var e=this,t=e._self._c;return t("div",{staticClass:"photoShotContainer",staticStyle:{"pointer-events":"auto"}},[t("div",{staticClass:"tools"},[t("div",{staticClass:"graffitiTools"},[t("i",{staticClass:"icon draw select",on:{click:e.graffitiDraw}},[e._v("画笔")]),t("i",{staticClass:"icon eraser",on:{click:e.graffitiEraser}},[e._v("橡皮擦")]),t("i",{staticClass:"icon prev",on:{click:e.graffitiPrev}},[e._v("上一步")]),t("i",{staticClass:"icon next",on:{click:e.graffitiNext}},[e._v("下一步")])]),t("div",{staticClass:"userTools"},[t("div",{staticClass:"goCamera",class:e.disableCamera,on:{click:e.goCamera}},[t("span",[e._v(e._s(e.$t("classroom.interactions.photoWall.cameraBtnName")))]),t("a-icon",{attrs:{type:"caret-right"}})],1),t("a-button",{staticClass:"submit-btn",attrs:{shape:"round"},on:{click:e.confirmSubmit}},[e._v(e._s(e.$t("common.submit")))])],1)]),t("div",{staticClass:"graffitiContainer",attrs:{id:"graffitiContainer"}}),t("photoWallDialog",{attrs:{cancelText:e.$t("common.cancel"),confirmText:e.$t("common.submit"),visible:e.dialogVisible,content:e.dialogContent},on:{cancel:e.cancel,confirm:e.confirm}})],1)},Y=[],X=n("6e4d"),Z=n.n(X),ee=(n("a4d3"),n("e01a"),function(){var e=this,t=e._self._c;return t("a-modal",{staticClass:"ignore-photoShot-modal",attrs:{closable:!1,maskClosable:!1,width:e.width,destroyOnClose:!0,centered:"",zIndex:2021},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[e.title?t("h2",[e._v(e._s(e.title))]):e._e(),e.content?t("h3",{domProps:{innerHTML:e._s(e.content)}}):e._e(),e.description?t("p",{domProps:{innerHTML:e._s(e.description)}}):e._e(),t("template",{slot:"footer"},[t("button",{staticClass:"ant-btn",attrs:{type:"button"},on:{click:e.cancel}},[t("span",[e._v(e._s(e.cancelText))])]),t("a-button",{staticClass:"ant-btn-primary",attrs:{loading:e.loading},on:{click:e.confirm}},[t("span",[e._v(e._s(e.confirmText))])])],1)],2)}),te=[],ne=void 0,se={name:"dialog",props:{visible:{type:Boolean,default:!0},width:{type:Number,default:380},title:{type:String,default:""},content:{type:String,default:""},description:{type:String,default:""},cancelText:{type:String,default:function(){return ne.$t("common.cancel")}},confirmText:{type:String,default:function(){return ne.$t("common.confirm")}},loading:{type:Boolean,default:!1},getContainer:{type:String,default:"photoWallContainer"}},data:function(){return{disabled:!1}},methods:{cancel:function(){console.info("对象函数 cancel,filePath:renderer/SmallClass/interactions/TakePicture/components/dialog.vue"),this.$emit("cancel")},confirm:function(){console.info("对象函数 confirm,filePath:renderer/SmallClass/interactions/TakePicture/components/dialog.vue"),this.disabled=!0,this.$emit("confirm")}}},ae=se,ie=Object(q["a"])(ae,ee,te,!1,null,null,null),oe=ie.exports,re={name:"photoShotGraffiti",props:{cameraAccess:{style:Boolean,default:!1},closeInteractive:{style:Boolean,default:!1},options:{type:Object,default:function(){return{}}}},data:function(){return{graffiti:null,dialogVisible:!1,dialogContent:null,dialogDescription:null,graffitiInit:{dom:"graffitiContainer",quality:.8,lineColor:"#FFCF1B",background:"#111111",lineSize:2}}},components:{photoWallDialog:oe},mounted:function(){var e=this;this.$nextTick(Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Z.a.init(e.graffitiInit);case 2:e.graffiti=t.sent,e.graffiti.setAttribute("class","penCursor"),Z.a.draw();case 5:case"end":return t.stop()}}),t)}))))},computed:{disableCamera:function(){return console.info("对象函数 disableCamera,filePath:renderer/SmallClass/interactions/TakePicture/components/graffiti.vue"),!this.cameraAccess&&"disabled"}},methods:{setClass:function(e){console.info("对象函数 setClass(target)",e,"filePath:renderer/SmallClass/interactions/TakePicture/components/graffiti.vue"),e.parentNode.children.forEach((function(e){Object(W["y"])(e,"select")})),Object(W["a"])(e,"select")},goCamera:function(){console.info("对象函数 goCamera,filePath:renderer/SmallClass/interactions/TakePicture/components/graffiti.vue"),F["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"点击切换到相机",disableCamera:this.disableCamera}}),Z.a.destroy(),this.graffiti=null,this.$emit("changeTakePhotoWay","camera")},graffitiDraw:function(e){console.info("对象函数 graffitiDraw(e)",e,"filePath:renderer/SmallClass/interactions/TakePicture/components/graffiti.vue"),F["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"选择画笔"}}),this.setClass(e.target),this.graffiti.setAttribute("class","penCursor"),Z.a.draw()},graffitiEraser:function(e){console.info("对象函数 graffitiEraser(e)",e,"filePath:renderer/SmallClass/interactions/TakePicture/components/graffiti.vue"),F["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"选择涂鸦橡皮擦"}}),this.setClass(e.target),this.graffiti.setAttribute("class","eraserCursor"),Z.a.eraser(20)},graffitiPrev:function(){console.info("对象函数 graffitiPrev,filePath:renderer/SmallClass/interactions/TakePicture/components/graffiti.vue"),F["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"选择涂鸦上一步"}}),Z.a.prev()},graffitiNext:function(){console.info("对象函数 graffitiNext,filePath:renderer/SmallClass/interactions/TakePicture/components/graffiti.vue"),F["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"选择涂鸦下一步"}}),Z.a.next()},createImage:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 createImage,filePath:renderer/SmallClass/interactions/TakePicture/components/graffiti.vue"),t.next=3,Z.a.createImage();case 3:n=t.sent,0===n.errCode&&e.$emit("photoData",n.data);case 5:case"end":return t.stop()}}),t)})))()},confirmSubmit:function(){console.info("对象函数 confirmSubmit,filePath:renderer/SmallClass/interactions/TakePicture/components/graffiti.vue"),F["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"点击提交涂鸦按钮"}}),this.dialogContent="\n        ".concat(this.$t("classroom.interactions.photoWall.confirmNotice")[0],"<br>\n        ").concat(this.$t("classroom.interactions.photoWall.confirmNotice")[1],"\n      "),this.dialogVisible=!0},cancel:function(){console.info("对象函数 cancel,filePath:renderer/SmallClass/interactions/TakePicture/components/graffiti.vue"),F["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"点击弹窗取消提交"}}),this.dialogVisible=!1},confirm:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 confirm,filePath:renderer/SmallClass/interactions/TakePicture/components/graffiti.vue"),F["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"点击弹窗确认提交"}}),e.dialogVisible=!1,t.next=5,e.createImage();case 5:Object(V["e"])("hw_classroom_interact_photograph_submit",e.options.roomMessage.roomInfo.commonOption,{interact_id:e.options.ircMsg.interactId,submit_type:2}),e.$emit("submit");case 7:case"end":return t.stop()}}),t)})))()}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/SmallClass/interactions/TakePicture/components/graffiti.vue"),Z.a.destroy()},watch:{closeInteractive:function(e){console.info("对象函数 closeInteractive(val)",e,"filePath:renderer/SmallClass/interactions/TakePicture/components/graffiti.vue"),e&&(F["a"].send({tag:"student.Interact",content:{interactType:"Wall",msg:"监听关闭互动，创建涂鸦图片"}}),this.createImage())}}},ce=re,le=(n("2f27"),Object(q["a"])(ce,z,Y,!1,null,"14b47fea",null)),ue=le.exports,de=function(){var e=this,t=e._self._c;return e.visible?t("div",{staticClass:"progressContainer"},[t("div",{staticClass:"progress"},[t("div",{staticClass:"progress-text"},[e._v(e._s(e.$t("common.uploading"))+"… "+e._s(e.percent)+"%")]),t("a-progress",{attrs:{percent:e.percent,"stroke-color":{"0%":"rgba(255,213,24,1)","100%":"rgba(255,170,10,1)"},strokeWidth:4,showInfo:!1}})],1)]):e._e()},he=[],me={name:"photoWallProgress",props:{visible:{type:Boolean,default:!1},percent:{type:Number,default:0}},methods:{}},fe=me,pe=(n("9f30"),Object(q["a"])(fe,de,he,!1,null,"fc090bcc",null)),ge=pe.exports,ve=n("3b29"),Ce=n("1a37"),be=n("3898"),Ae=n("bcaf"),Se=n("c02a"),we={name:"TakePicture",props:{options:{type:Object,default:function(){return{}}}},i18n:be["b"],components:{camera:$,graffiti:ue,photoWallDialog:oe,uploadProgress:ge,MediaSecurityAccess:ve["a"]},data:function(){return{showPhotoShotTip:!1,userClosePhotoShotTip:!1,dialogVisible:!1,cameraAccess:!0,isCountdownComplete:!1,countDownTime:0,showCamera:!1,showGraffiti:!1,isSubmit:!1,submiting:!1,submitTimer:null,submitCountdown:5,confirmText:"".concat(this.$t("common.yes")," (5)"),percent:0,showUploadProgress:!1,photoData:!1,uploadError:!1,closeInteractive:!1,isInteraction:!1,classType:0,isCanOpenCamera:!0,coinShow:!1,rainCoin:0}},created:function(){this.photoWall=new R(Object(y["a"])({},this.options)),this.countDownTime=this.photoWall.initCountdownTime()||0,this.classType=this.options.roomMessage.roomInfo.commonOption.classType},mounted:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.userTrackLogger("拍照上墙启动"),t.next=3,e.getWallStatus();case 3:e.start();case 4:case"end":return t.stop()}}),t)})))()},computed:{countdownStyle:function(){return this.showCamera||this.showGraffiti?"left:67.5%":""},disableCamera:function(){return!this.cameraAccess&&"disabled"}},methods:{start:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$bus.$emit("photoWallInteractId",e.options.ircMsg.interactId),e.photoWall.interactOpen(),t.next=4,A["nativeApi"].getCameraAccessStatus();case 4:if(n=t.sent,"granted"===n){t.next=9;break}return e.sendLogger("拍照上墙初始化摄像头无权限，code:".concat(n),"init"),e.cameraAccess=!1,t.abrupt("return");case 9:e.showPhotoShotTip=!0,localStorage.setItem("photoWallOptions",JSON.stringify(e.options));case 11:case"end":return t.stop()}}),t)})))()},changeTakePhotoWay:function(e){"graffiti"===e?(this.showCamera=!1,this.showGraffiti=!0,this.sendLogger("切换到涂鸦板成功")):(this.showCamera=!0,this.showGraffiti=!1,this.sendLogger("切换到拍照成功"))},closePhotoShotTip:function(){this.sendLogger("点击关闭有权限提示层"),this.showPhotoShotTip=!1,this.userClosePhotoShotTip=!0},openClassCamera:function(){var e=this;this.$nextTick((function(){e.$refs.photoWallBtnSound.play()})),this.showCamera=!this.showCamera,this.isInteraction=!0,this.sendLogger("打开拍照弹层成功"),this.addSmallClassStyle(),Object(V["e"])("hw_classroom_interact_photograph_click",this.options.roomMessage.roomInfo.commonOption,{interact_id:this.options.ircMsg.interactId})},sendPeerMessageToTutor:function(e){var t={type:170,isFunction:1,msg:"拍照上墙",parameter:{cameraBusy:e}};window.ChatClient.PeerChatManager.sendPeerMessage([{nickname:this.options.roomMessage.roomInfo.configs.tutorIrcId}],JSON.stringify(t),Ae["a"].privMsg)},openClassGraffiti:function(){this.showGraffiti=!this.showGraffiti,this.isInteraction=!0,this.sendLogger("打开涂鸦板成功"),this.addSmallClassStyle()},goClassRoom:function(){this.sendLogger("点击返回课堂"),this.showPhotoShotTip=!0,this.showCamera=this.showGraffiti=this.isInteraction=!1,this.removeSmallClassStyle()},getPhotoData:function(e){this.sendLogger("[拍照上墙]获取图片数据"),this.photoData=e},getWallStatus:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n,s,a;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.photoWall.getWallStatus();case 3:n=t.sent,s=n.code,a=n.data,F["a"].send({tag:"student.Interact",content:{interactType:"PhotoWall",msg:"拍照上墙异常恢复",code:s,data:a}}),0===s&&(e.isSubmit=a.isSubmit,e.isSubmit?F["a"].send({tag:"student.Interact",content:{interactType:"PhotoWall",msg:"已提交答案,不需要恢复",code:s,data:a}}):(F["a"].send({tag:"student.Interact",content:{interactType:"PhotoWall",msg:"未提交答案,需要恢复",code:s,data:a}}),e.$refs.photoWallBeginSound.play())),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),F["a"].send({tag:"student.Interact",content:{interactType:"PhotoWall",msg:"拍照上墙异常恢复错误",error:t.t0},level:"error"});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},interactiveOver:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.showPhotoShotTip=!1,t.next=3,Object(W["f"])(800);case 3:if(e.photoData||e.isSubmit||e.submiting){t.next=7;break}return e.sendLogger("没参与拍照上墙结束"),e.destroy(),t.abrupt("return");case 7:if(!e.photoData||e.isSubmit||e.submiting){t.next=15;break}return e.sendLogger("有图片数据，弹框提醒提交"),e.clearSubmitTimer(),e.dialogContent=e.$t("classroom.interactions.photoWall.endNotice")[0],e.dialogDescription=e.$t("classroom.interactions.photoWall.endNotice")[1],e.dialogVisible=!0,e.submitTimer=setInterval((function(){e.submitCountdown--,e.confirmText="".concat(e.$t("common.yes")," (").concat(e.submitCountdown,")"),0===e.submitCountdown&&(clearInterval(e.submitTimer),e.submitTimer=null,e.destroy())}),1e3),t.abrupt("return");case 15:e.destroy();case 16:case"end":return t.stop()}}),t)})))()},submitPhoto:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n,s,a,i,o;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.sendLogger("[拍照上墙]提交数据"),!e.submiting||!e.closeInteractive){t.next=4;break}return F["a"].send({tag:"student.Interact",content:{interactType:"PhotoWall",msg:"提交中或者老师已经关闭互动"}}),t.abrupt("return");case 4:return e.dialogVisible=e.showPhotoShotTip=!1,e.submiting=e.showUploadProgress=!0,e.isCanOpenCamera=!1,n=new Ce["b"]({scene:"pictureWall"}),e.photoData.base64&&e.photoData.base64.substring(e.photoData.base64.indexOf(",")+1).length>0?F["a"].send({tag:"student.Interact",content:{interactType:"PhotoWall",msg:"base64有内容开始拍照上墙文件上传"}}):F["a"].send({tag:"student.Interact",content:{interactType:"PhotoWall",msg:"拍照文件为空"},level:"error"}),t.prev=9,t.next=12,n.putFile({filePath:"pictureWall.jpg",file:e.photoData.blob,progress:function(t){e.percent=t},success:function(t){var n;e.sendLogger("上传照片成功, url: ".concat(t.url)),Se["l"](null===(n=e.options)||void 0===n||null===(n=n.ircMsg)||void 0===n?void 0:n.interactId,t)},fail:function(t){e.showUploadProgress=!1,e.submiting=!1,e.percent=0,e.photoWall.showSubmitTip({text:e.$t("common.uploadFailed"),icon:"error",callback:function(){e.isCountdownComplete&&e.destroy()}}),console.error("上传照片失败",t),e.sendLogger("上传照片失败","","error")}});case 12:if(s=t.sent,a=s.key,!a){t.next=22;break}return e.showUploadProgress=!1,e.photoWall.showSubmitTip({text:"".concat(e.$t("common.submiting"),"..."),icon:"loading",duration:0}),t.next=19,e.photoWall.submitPhoto(a);case 19:i=t.sent,F["a"].send({tag:"student.Interact",content:{interactType:"PhotoWall",msg:"拍照上墙提交地址完毕",submitRes:i}}),0===i.code&&i.data?(o=i.data.rightCoin,e.showGraffiti=e.showCamera=!1,e.isSubmit=!0,e.removeSmallClassStyle(),e.$nextTick((function(){var t;null===(t=e.$refs.photoWallSuccessSound)||void 0===t||t.play()})),e.$bus.$emit("uploadSuccess",{tips:e.$t("common.sumbittedSuccessfully"),coins:1!==e.options.ircMsg.rewardType?o:0}),e.photoWall.showCoinsTip({callback:function(){var t;if(e.closeInteractive)return e.destroy();e.rainCoin=o,o&&e.$bus.$emit("addCoin",!0,o),e.isInteraction=!1,null!==(t=e.$refs)&&void 0!==t&&t.photoShotBtn&&(e.$refs.photoShotBtn.style.display="none")}}),e.sendLogger("获得金币成功, ".concat(JSON.stringify(i)))):(e.submiting=!1,e.percent=0,e.photoWall.showSubmitTip({text:e.$t("common.submissionFailed"),icon:"error",callback:function(){e.isCountdownComplete&&e.destroy()}}),e.sendLogger("获得金币失败, ".concat(JSON.stringify(i))));case 22:t.next=29;break;case 24:t.prev=24,t.t0=t["catch"](9),e.$Message.error({content:e.$t("setting.reportLogs.uploadfailed"),duration:2}),e.showUploadProgress=!1,e.isCanOpenCamera=!0;case 29:case"end":return t.stop()}}),t,null,[[9,24]])})))()},dialogCancel:function(){this.sendLogger("弹框提醒取消按钮点击"),this.clearSubmitTimer(),this.destroy()},dialogConfirm:function(){this.sendLogger("弹框提醒提交按钮点击"),this.clearSubmitTimer(),this.confirmText="".concat(this.$t("common.submiting"),"..."),this.submitPhoto()},clearSubmitTimer:function(){this.submitTimer&&(clearInterval(this.submitTimer),this.submitTimer=null)},countdownComplete:function(){},destroyInteraction:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return document.getElementById("correctPhotoWallContainer")||e.sendPeerMessageToTutor(2),e.closeInteractive=!0,e.isCanOpenCamera=!1,e.$bus.$emit("photoWallInteractId",null),t.next=6,e.interactiveOver();case 6:case"end":return t.stop()}}),t)})))()},addSmallClassStyle:function(){var e=this;this.$nextTick((function(){2==e.classType&&(Object(W["a"])(document.getElementById("countdownContainer"),"smallclass-countdownContainer"),Object(W["a"])(document.getElementById("toolbar"),"small-class-toolbar"))}))},removeSmallClassStyle:function(){2==this.classType&&(Object(W["y"])(document.getElementById("countdownContainer"),"smallclass-countdownContainer"),Object(W["y"])(document.getElementById("toolbar"),"small-class-toolbar"))},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";F["a"].send({tag:"student.Interact",content:{msg:e,interactType:"PhotoWall",interactId:this.options.ircMsg.interactId,interactStage:t},level:n})},userTrackLogger:function(e){F["a"].send({tag:"userTrack",content:{msg:e,tag:"student.Interact",interactType:"PhotoWall"}})},destroy:function(){this.clearSubmitTimer(),this.$bus.$emit("updateAchievement","update"),this.$bus.$off("changeTakePhotoWay"),this.$bus.$emit("photoWallInteractId",null),this.userTrackLogger("拍照上墙结束"),this.$emit("close","take_picture")}},watch:{showCamera:{handler:function(e){var t=e?1:2;this.sendPeerMessageToTutor(t)},deep:!0,immediate:!0},isInteraction:function(e){e?Object(W["a"])(document.getElementById("interactionController"),"index-1000"):Object(W["y"])(document.getElementById("interactionController"),"index-1000")}}},ye=we,ke=(n("378c"),Object(q["a"])(ye,k,I,!1,null,"05035384",null)),Ie=ke.exports,xe=function(){var e=this,t=e._self._c;return e.isSubmit?e._e():t("div",{class:["full"===e.layout?"fullContainer":"layout4b3container"],attrs:{id:"graffitiContainer"}},[e.isNewGraffiti?t("GraffitiViewNew",{attrs:{countDownTime:e.countDownTime,options:e.options,isSubmit:e.GraffitIsSubmit},on:{submit:e.submitNotice}}):""!==e.isNewGraffiti?t("GraffitiView",{attrs:{countDownTime:e.countDownTime,options:e.options,isSubmit:e.GraffitIsSubmit},on:{submit:e.submitPhoto,photoData:e.getPhotoData}}):e._e(),t("UploadProgress",{attrs:{classType:e.classType,percent:e.percent,visible:e.showUploadProgress}})],1)},Oe=[],Pe=(n("b64b"),function(e){Object(T["a"])(n,e);var t=Object(B["a"])(n);function n(){var e,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.info("函数申明 Main(opts)",s,"filePath:renderer/SmallClass/interactions/DrawBoard/graffiti.js"),Object(P["a"])(this,n),e=t.call(this),e.options=s,e}return Object(j["a"])(n,[{key:"clearTipTimer",value:function(){this.tipTimer&&(clearTimeout(this.tipTimer),this.tipTimer=null)}},{key:"closeTip",value:function(e,t,n){if(e&&(this.clearTipTimer(),t>0))var s=setTimeout((function(){e.parentNode.removeChild(e),clearTimeout(s),s=null,n&&n()}),t)}},{key:"showShortCutTip",value:function(e){var t=e.duration,n=void 0===t?3e3:t,s=e.tips,a=JSON.parse(window.sessionStorage.getItem("photoWallShortCutTip"));if(!a){var i=document.createElement("div");i.setAttribute("class","shortCutTip animateTada"),i.innerHTML="\n      <p>".concat(s,"</p>\n    "),document.getElementById("graffitiContainer").appendChild(i),window.sessionStorage.setItem("photoWallShortCutTip",!0),this.closeTip(i,n)}}},{key:"showNotjoinTip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tips,n=e.callback,s=e.className,a=void 0===s?null:s,i=e.duration,o=void 0===i?3e3:i,r=e.dom,c=void 0===r?"graffitiContainer":r,l=document.createElement("div");l.setAttribute("class","notJoinTip ".concat(a||"")),l.innerHTML="\n      <p>".concat(t,"</p>\n    "),document.getElementById(c)&&document.getElementById(c).appendChild(l),this.closeTip(l,o,n)}},{key:"showCoinsTip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.duration,n=void 0===t?3e3:t,s=e.callback,a=void 0===s?null:s,i=e.dom,o=void 0===i?"graffitiContainer":i,r=document.getElementById("submitTipContainer");r&&r.parentNode.removeChild(r);var c=document.createElement("div");document.getElementById(o)&&document.getElementById(o).appendChild(c),this.closeTip(c,n,a)}},{key:"showSubmitTip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.duration,n=void 0===t?3e3:t,s=e.callback,a=void 0===s?null:s,i=e.text,o=e.icon,r=e.dom,c=void 0===r?"graffitiContainer":r,l="loading"===o?0:n,u=document.getElementById("submitTipContainer");u&&u.parentNode.removeChild(u);var d=document.createElement("div");d.setAttribute("id","submitTipContainer"),d.setAttribute("class","submitTipContainer"),d.innerHTML='\n      <div class="tipContainer">\n        '.concat(o?'<i class="'+o+'"></i>':"","\n        <p>").concat(i,"</p>\n      </div>\n    "),document.getElementById(c)&&document.getElementById(c).appendChild(d),this.closeTip(d,l,a)}},{key:"initCountdownTime",value:function(){var e=+new Date,t=this.options.commonOption.timeOffset,n=1e3*this.options.ircMsg.totalTime-(e+t-this.options.ircMsg.beginTime);return n}},{key:"interactOpen",value:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(){var t;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={planId:1*this.options.stuLiveInfo.planId,classId:1*this.options.stuLiveInfo.classId,interactId:this.options.ircMsg.interactId},e.next=3,Object(M["b"])(t);case 3:case"end":return e.stop()}}),e,this)})));function t(){return console.info("函数申明 interactOpen, filePath:renderer/SmallClass/interactions/DrawBoard/graffiti.js"),e.apply(this,arguments)}return t}()},{key:"submitPhoto",value:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(t,n){var s,a;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={planId:1*this.options.stuLiveInfo.planId,classId:this.options.stuLiveInfo.classId,tutorId:this.options.stuLiveInfo.tutorId,photoPath:t,interactId:this.options.ircMsg.interactId,teacherId:this.options.teacherInfo.id},n&&(s.version=722),e.next=4,Object(M["d"])(s);case 4:return a=e.sent,0===a.code&&a.data&&g.a.prototype.$bus.$emit("updateAchievement","update"),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));function t(t,n){return console.info("函数申明 submitPhoto(_x, _x2)",t,n,"filePath:renderer/SmallClass/interactions/DrawBoard/graffiti.js"),e.apply(this,arguments)}return t}()},{key:"getWallStatus",value:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(){var t,n;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={planId:1*this.options.stuLiveInfo.planId,interactId:this.options.ircMsg.interactId},e.next=3,Object(M["a"])(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));function t(){return console.info("函数申明 getWallStatus, filePath:renderer/SmallClass/interactions/DrawBoard/graffiti.js"),e.apply(this,arguments)}return t}()},{key:"submitGratiffi",value:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(){var t,n;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={planId:1*this.options.stuLiveInfo.planId,classId:this.options.stuLiveInfo.classId,tutorId:this.options.stuLiveInfo.tutorId,interactId:this.options.ircMsg.interactId,version:722},e.next=3,Object(M["c"])(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));function t(){return console.info("函数申明 submitGratiffi, filePath:renderer/SmallClass/interactions/DrawBoard/graffiti.js"),e.apply(this,arguments)}return t}()}]),n}(L["a"])),je=function(){var e=this,t=e._self._c;return t("div",{staticClass:"photoShotContainer"},[t("GratiffiTools",{attrs:{minutes:e.minutes,seconds:e.seconds,isSubmit:e.isSubmit},on:{graffitiDraw:e.graffitiDraw,graffitiEraser:e.graffitiEraser,confirm:e.confirm}}),t("div",{staticClass:"graffitiWrapper",attrs:{id:"graffitiWrapper"}})],1)},Te=[],Be=(n("4d90"),n("25f0"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"tools"},[t("div",{staticClass:"graffitiTools"},[t("i",{staticClass:"draw draw-yellow select",on:{click:function(t){return e.graffitiDraw("yellow","#ffcf1b",t)}}},[e._v(" "+e._s(e.$t("classroom.interactions.graffiti.yellow"))+" ")]),t("i",{staticClass:"draw draw-red",on:{click:function(t){return e.graffitiDraw("red","#ff503f",t)}}},[e._v(" "+e._s(e.$t("classroom.interactions.graffiti.red"))+" ")]),t("i",{staticClass:"draw draw-blue",on:{click:function(t){return e.graffitiDraw("blue","#1572ff",t)}}},[e._v(" "+e._s(e.$t("classroom.interactions.graffiti.blue"))+" ")]),t("i",{staticClass:"draw eraser",on:{click:e.graffitiEraser}})]),t("div",{staticClass:"userTools"},[t("div",{staticClass:"time"},[t("div",{staticClass:"minutes"},[t("span",{staticClass:"line"}),t("span",{staticClass:"num"},[e._v(e._s(e.minutes))])]),e._m(0),t("div",{staticClass:"seconds"},[t("span",{staticClass:"line"}),t("span",{staticClass:"num"},[e._v(e._s(e.seconds))])])]),t("a-button",{staticClass:"submit-btn",class:{"is-submit":e.isSubmit},attrs:{shape:"round",disabled:e.isSubmit},on:{click:e.confirm}},[e._v(" "+e._s(e.$t("common.done"))+" ")])],1)])}),Le=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"dots"},[t("span"),t("span")])}],Me={name:"GratiffiTools",props:{minutes:{type:String,default:"00"},seconds:{type:String,default:"00"},isSubmit:{style:Boolean,default:!1}},methods:{graffitiDraw:function(e,t,n){console.info("对象函数 graffitiDraw(abstractColor, specificColor, e)",e,t,n,"filePath:renderer/SmallClass/interactions/DrawBoard/components/graffitiTools.vue"),n&&this.setClass(n.target),this.$emit("graffitiDraw",e,t)},graffitiEraser:function(e){console.info("对象函数 graffitiEraser(e)",e,"filePath:renderer/SmallClass/interactions/DrawBoard/components/graffitiTools.vue"),this.setClass(e.target),this.$emit("graffitiEraser")},setClass:function(e){console.info("对象函数 setClass(target)",e,"filePath:renderer/SmallClass/interactions/DrawBoard/components/graffitiTools.vue"),e.parentNode.children.forEach((function(e){Object(W["y"])(e,"select")})),Object(W["a"])(e,"select")},confirm:function(){console.info("对象函数 confirm,filePath:renderer/SmallClass/interactions/DrawBoard/components/graffitiTools.vue"),this.$emit("confirm")}}},Re=Me,Ee=(n("3c3f"),Object(q["a"])(Re,Be,Le,!1,null,"62b7083f",null)),De=Ee.exports,Ne={name:"smallClassGraffiti",props:{closeInteractive:{style:Boolean,default:!1},isSubmit:{style:Boolean,default:!1},countDownTime:{type:Number,default:0},options:{type:Object,default:function(){}}},data:function(){return{graffiti:null,dialogVisible:!1,dialogContent:null,dialogDescription:null,timer:null,minutes:"00",seconds:"00",graffitiInit:{dom:"graffitiWrapper",width:840,height:630,quality:.8,lineColor:"#ffcf1b",background:"",lineSize:3},eraserSize:25}},components:{GratiffiTools:De},mounted:function(){var e=this;this.renderCountDown(),this.$nextTick(Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.initGraffitiDraw();case 1:case"end":return t.stop()}}),t)})))),window.addEventListener("resize",this.setGraffitiScale)},computed:{},methods:{initGraffitiDraw:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 initGraffitiDraw,filePath:renderer/SmallClass/interactions/DrawBoard/components/graffiti.vue"),n=document.querySelector("#graffitiContainer"),e.graffitiInit.width=n.clientWidth,e.graffitiInit.height=n.clientHeight,console.log(e.options,"this.options"),e.sendLogger("涂鸦画板this.options : ".concat(JSON.stringify(e.options))),e.graffitiInit.background=e.options.ircMsg.imageUrl||"#000000",t.next=9,Z.a.init(e.graffitiInit);case 9:e.graffiti=t.sent,e.graffiti.setAttribute("class","yellow_penCursor"),Z.a.draw();case 12:case"end":return t.stop()}}),t)})))()},renderCountDown:function(){console.info("对象函数 renderCountDown,filePath:renderer/SmallClass/interactions/DrawBoard/components/graffiti.vue"),this.countDown(),this.timer=setInterval(this.countDown,1e3)},setGraffitiScale:H()((function(){var e=document.querySelector("#graffitiContainer"),t=document.querySelector("#graffitiWrapper");if(e){var n=e.querySelector("canvas"),s=e.querySelector("img");t.firstChild.style.width=t.style.width=s.style.width=n.style.width=e.clientWidth+"px",t.firstChild.style.height=t.style.height=s.style.height=n.style.height=e.clientHeight+"px"}}),300),graffitiDraw:function(e,t){console.info("对象函数 graffitiDraw(abstractColor, specificColor)",e,t,"filePath:renderer/SmallClass/interactions/DrawBoard/components/graffiti.vue"),this.graffiti.setAttribute("class","".concat(e,"_penCursor")),Z.a.lineColor(t),Z.a.draw()},graffitiEraser:function(){console.info("对象函数 graffitiEraser,filePath:renderer/SmallClass/interactions/DrawBoard/components/graffiti.vue"),this.graffiti.setAttribute("class","eraserCursor"),Z.a.eraser(this.eraserSize)},createImage:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 createImage,filePath:renderer/SmallClass/interactions/DrawBoard/components/graffiti.vue"),t.next=3,Z.a.createImage();case 3:n=t.sent,console.log("res"),0===n.errCode&&(e.sendLogger("生成涂鸦图片 : ".concat(JSON.stringify(n.data))),e.$emit("photoData",n.data));case 6:case"end":return t.stop()}}),t)})))()},confirm:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 confirm,filePath:renderer/SmallClass/interactions/DrawBoard/components/graffiti.vue"),e.sendLogger("涂鸦画板学生点击提交"),t.next=4,e.createImage();case 4:e.$emit("submit");case 5:case"end":return t.stop()}}),t)})))()},countDown:function(){if(console.info("对象函数 countDown,filePath:renderer/SmallClass/interactions/DrawBoard/components/graffiti.vue"),this.countDownTime>=0){var e=Math.floor(this.countDownTime/60),t=Math.floor(this.countDownTime%60);this.countDownTime=this.countDownTime-1,this.minutes=e.toString().padStart(2,"0"),this.seconds=t.toString().padStart(2,"0")}else clearInterval(this.timer)},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";F["a"].send({tag:"student.Interact",content:{msg:e,interactType:"Graffiti",interactId:"",interactStage:t}})}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/SmallClass/interactions/DrawBoard/components/graffiti.vue"),window.removeEventListener("resize",this.setGraffitiScale),Z.a.destroy(),console.log("Graffiti destroy"),this.sendLogger("关闭互动"),this.timer&&clearInterval(this.timer)},watch:{closeInteractive:function(e){console.info("对象函数 closeInteractive(val)",e,"filePath:renderer/SmallClass/interactions/DrawBoard/components/graffiti.vue"),e&&this.createImage()}}},Ve=Ne,Fe=(n("2eb0"),Object(q["a"])(Ve,je,Te,!1,null,"76b5e986",null)),Ue=Fe.exports,We=function(){var e=this,t=e._self._c;return t("div",{staticClass:"photoShotContainer photoShotNewContainer"},[t("GratiffiTools",{ref:"GratiffiTools",attrs:{minutes:e.minutes,seconds:e.seconds,isSubmit:e.isSubmit},on:{graffitiDraw:e.graffitiDraw,graffitiEraser:e.graffitiEraser,confirm:e.confirm}}),t("div",{staticClass:"graffitiWrapper graffitiNewWrapper",attrs:{id:"graffitiWrapper"}},[t("img",{attrs:{id:"gratiffiImg",src:n("85e5")},on:{load:function(t){return e.handleImgLoad(t)},error:function(t){return e.handleImgError(t)}}}),t("white-board-canvas",{ref:"WhiteBoardNew"}),t("white-board-tools",{ref:"WhiteBoardTools"})],1),e.teacherWatching?t("div",{staticClass:"teacher-watching-label"},[e._v(" "+e._s(e.$t("common.teacherWatching"))+" ")]):e._e()],1)},Ge=[],_e=n("2909"),He=(n("0481"),n("4069"),n("20bf"),n("f3f2")),Qe=n.n(He),Je=(n("bcac"),n("281f")),qe=n.n(Je),Ke=(n("8d67"),n("612a")),$e=n("97a4"),ze=n("c58d"),Ye={name:"smallClassGraffitiNew",props:{closeInteractive:{style:Boolean,default:!1},isSubmit:{style:Boolean,default:!1},countDownTime:{type:Number,default:0},options:{type:Object,default:function(){}}},data:function(){return{dialogVisible:!1,dialogContent:null,dialogDescription:null,timer:null,minutes:"00",seconds:"00",isBanned:!1,currentThickness:4,currentLineDashed:!1,containerWidth:0,containerHeight:0,gratiffiMsgArray:[],teacherWatching:!1,eraserSize:50,countDownTimeCopy:null,canvasScale:2}},components:{WhiteBoardCanvas:Qe.a.WhiteBoardCanvas,WhiteBoardTools:qe.a,GratiffiTools:De},mounted:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.teacherIsWatchingMe(Ke["a"].state.smallClass.gratiffiBoardWatchingInfo),t.next=3,Object(ze["a"])();case 3:e.canvasScale=t.sent,e.$nextTick(Object(O["a"])(Object(x["a"])().mark((function t(){var n;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.initBoard(),e.listenerSignalService(),e.options.ircMsg.imageUrl&&(n=document.querySelector("#gratiffiImg"),e.sendLogger("涂鸦画板更换背景图 ".concat(n,",").concat(e.options.ircMsg.imageUrl)),n.src=e.options.ircMsg.imageUrl),e.sendLogger("this.options, ".concat(JSON.stringify(e.options)));case 4:case"end":return t.stop()}}),t)})))),e.renderCountDown(),window.addEventListener("resize",e.setGraffitiScale);case 7:case"end":return t.stop()}}),t)})))()},watch:{teacherWatching:function(e){e&&this.sendGratiffiMsg()}},methods:{handleImgLoad:function(e){this.sendLogger("涂鸦画板背景图加载成功",{url:e.target.src})},handleImgError:function(e){console.error("涂鸦画板背景图加载失败",e.target.src),this.sendLogger("涂鸦画板背景图加载失败",{url:e.target.src},"error")},initBoard:function(){var e=this;this.getCurrentCanvasSize();var t={canvas:{penType:"Bspline",strokeType:"none",scale:this.canvasScale,pageChangeReport:!1,sendRoomCanvasMessage:this.sendRoomCanvasMessage.bind(this),getHistoryMessage:this.getHistoryMessage.bind(this),enableKeyboardDelete:!0,enableFittingShape:!1},common:{liveId:String(this.options.planInfo.id),role:"student",dataVersion:"1",courseId:"",userId:this.options.stuInfo.id+"",userName:this.options.stuInfo.nickName,screenWidth:this.containerWidth,screenHeight:this.containerHeight,roomIds:[this.options.commonOption.roomlist[0]],fastFrequency:2e3,slowFrequency:3e3,serverTimestamp:+new Date+this.options.commonOption.timeOffset},accessControl:{showMenu:!1,mode:"itsAndCanvas",isBanned:this.isBanned,enableHistoryMessage:!0,showCursor:!0,enableRetrySend:!0,enableLogSend:!1,enableFittingShape:!1}};if(this.sendLogger("涂鸦初始化参数, ".concat(JSON.stringify(t))),this.$refs.WhiteBoardNew){this.$refs.WhiteBoardNew.uninit(),this.$refs.WhiteBoardNew.init(t),this.$refs.WhiteBoardNew.handleMouse("default");var n=this.$refs.WhiteBoardNew.getMainBoardHandWritting(),s=this.$refs.WhiteBoardNew.getPluginManager(),a=this.$refs.WhiteBoardNew,i="".concat(this.options.stuInfo.id,"_").concat(this.options.ircMsg.dbkey,"#").concat(this.options.stuInfo.id),o=i.split("_")[5];this.$refs.WhiteBoardTools.init(a,n,s);var r=[11,12,13,14,15,1e3];r.forEach((function(t){1e3===t?s.registerEvent("WhiteboardResize",t,e.toolsMessageHandler("WhiteboardResize",t,String(o))):s.registerEvent("ReceiveBinaryData",t,e.toolsMessageHandler("ReceiveBinaryData",t,String(o)))})),this.$refs.WhiteBoardTools.setWBToolsStatus(!1),this.$refs.WhiteBoardTools.handleMenuEnable(!1),this.$refs.WhiteBoardNew.handleResetImComingDbkey(i),this.$refs.WhiteBoardNew.handlePageChange(String(o)),this.$refs.WhiteBoardTools.handlePageChange(String(o)),this.$refs.GratiffiTools.graffitiDraw("yellow","#ffcf1b")}},toolsMessageHandler:function(e,t,n){var s=this;return function(a){s.$refs.WhiteBoardTools.receiveBinaryData(e,t,n,a)}},sendRoomCanvasMessage:function(e,t){this.teacherWatching?(this.thinkClass.SignalService.sendRoomBinMessage([this.options.commonOption.roomlist[0]],"".concat(this.options.ircMsg.dbkey,"#").concat(this.options.stuInfo.id),t.keyMsgId,t.content),this.sendLogger("发送涂鸦画板涂鸦消息:".concat(t.dbKey," ").concat(t.keyMsgId))):(this.gratiffiMsgArray.push(t),this.$refs.WhiteBoardNew&&this.$refs.WhiteBoardNew.handleSendMessageSuccess(t.dbKey,t.keyMsgId),this.sendLogger("保存涂鸦画板涂鸦消息:".concat(t.dbKey," ").concat(t.keyMsgId)))},getHistoryMessage:function(){var e=this,t="".concat(this.options.ircMsg.dbkey,"#").concat(this.options.stuInfo.id),n="teacher_".concat(t),s=[t,n];this.sendLogger("拉取历史消息dbkey :".concat(JSON.stringify(s)));var a=[];s.forEach((function(e){a.push(Object($e["a"])({dbkey:e,appId:Ke["a"].state.smallClass.baseData.configs.ircAk,sk:Ke["a"].state.smallClass.baseData.configs.ircSk,businessId:3,liveId:Ke["a"].state.smallClass.baseData.planInfo.id,ircApiHost:Ke["a"].state.smallClass.baseData.configs.ircApiHost}))})),Promise.all(a).then((function(t){var n=t.flat();try{e.$refs.WhiteBoardNew&&e.$refs.WhiteBoardNew.handleRecoverHistoryMessage([{content:n}])}catch(s){console.error(s)}})).catch((function(e){console.error(e)}))},listenerSignalService:function(){var e=this;this.thinkClass.SignalService.on("onGetRoomHistoryBinMessageNotice",this.handleOnGetRoomHistoryBinMessageNotice),this.$bus.$on("graffiti_board_watching",(function(t){e.handleGraffitiBoardWatching(t)})),this.thinkClass.SignalService.on("onRecvRoomBinMessageNotice",this.handleOnRecvRoomBinMessageNotice),this.thinkClass.SignalService.on("onSendRoomBinMessageResp",this.handleOnSendRoomBinMessageResp)},handleOnGetRoomHistoryBinMessageNotice:function(e){this.sendLogger("监听信令历史消息 :".concat(JSON.stringify(e)));var t=e;if(Array.isArray(t)){t.forEach((function(e,n){t[n].content=Uint8Array.from(e.content)}));try{this.$refs.WhiteBoardNew&&this.$refs.WhiteBoardNew.handleRecoverHistoryMessage([{content:t}])}catch(n){this.sendLogger("涂鸦sdk报错 ".concat(n),{},"error")}}else this.sendLogger("涂鸦历史消息格式错误 res: ".concat(JSON.stringify(e)),{},"error")},handleGraffitiBoardWatching:function(e){this.sendLogger("老师正在查看学生涂鸦 :".concat(JSON.stringify(e))),this.teacherIsWatchingMe(e)},handleOnRecvRoomBinMessageNotice:function(e){this.$refs.WhiteBoardNew&&this.$refs.WhiteBoardNew.handleRoomCanvasMessage(e)},handleOnSendRoomBinMessageResp:function(e){0===e.code?this.$refs.WhiteBoardNew&&this.$refs.WhiteBoardNew.handleSendMessageSuccess(e.dbKey,e.keyMsgId):(this.$refs.WhiteBoardNew&&this.$refs.WhiteBoardNew.handleSendMessageError(e.code,e.msg,e.dbKey,e.keyMsgId),this.sendLogger("涂鸦发送失败:".concat("code:"+e.code+"msg:"+e.msg+"dbKey:"+e.dbKey+"keyMsgId:"+e.keyMsgId),{},"error"))},teacherIsWatchingMe:function(e){this.teacherWatching=e.studentId===this.options.stuInfo.id},sendGratiffiMsg:function(){var e=this,t=Object(_e["a"])(this.gratiffiMsgArray);this.gratiffiMsgArray=[],t.forEach((function(t){e.thinkClass.SignalService.sendRoomBinMessage([e.options.commonOption.roomlist[0]],"".concat(e.options.ircMsg.dbkey,"#").concat(e.options.stuInfo.id),t.keyMsgId,t.content),e.sendLogger("发送涂鸦画板保存的涂鸦消息:".concat(t.dbKey," ").concat(t.keyMsgId))}))},getCurrentCanvasSize:function(){var e=document.querySelector("#graffitiContainer");this.containerWidth=e.clientWidth,this.containerHeight=e.clientHeight},renderCountDown:function(){this.countDownTimeCopy=this.countDownTime,this.countDown(),this.timer=setInterval(this.countDown,1e3)},graffitiDraw:function(e,t){if(this.$refs.WhiteBoardNew){var n={color:t,thickness:this.currentThickness,lineDashed:this.currentLineDashed};this.$refs.WhiteBoardNew.setPenStyle(n),this.$refs.WhiteBoardNew.handlePen(),this.sendLogger("选择了涂鸦画笔, ".concat(JSON.stringify(n)))}else this.sendLogger("选择了涂鸦画笔, 但是未获得涂鸦工具WhiteBoardNew")},graffitiEraser:function(){this.$refs.WhiteBoardNew.setEraserStyle(this.eraserSize),this.$refs.WhiteBoardNew.handleEraser(),this.sendLogger("选择了涂鸦橡皮擦, ".concat(JSON.stringify({eraserSize:this.eraserSize})))},setGraffitiScale:H()((function(){this.getCurrentCanvasSize(),this.$refs.WhiteBoardNew&&this.$refs.WhiteBoardNew.handleResizeCanvas(this.containerWidth,this.containerHeight,!0)}),300),confirm:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:Se["j"](null===(n=e.options)||void 0===n?void 0:n.ircMsg),e.sendLogger("涂鸦画板学生点击提交"),e.$emit("submit");case 3:case"end":return t.stop()}}),t)})))()},countDown:function(){if(this.countDownTimeCopy>=0){var e=Math.floor(this.countDownTimeCopy/60),t=Math.floor(this.countDownTimeCopy%60);this.countDownTimeCopy=this.countDownTimeCopy-1,this.minutes=e.toString().padStart(2,"0"),this.seconds=t.toString().padStart(2,"0")}else clearInterval(this.timer)},sendLogger:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";F["a"].send({tag:"student.Interact",content:Object(y["a"])({msg:e,interactType:"Graffiti",interactId:""},t),level:n})},removeListenerSignalService:function(){this.thinkClass.SignalService.off("onGetRoomHistoryBinMessageNotice",this.handleOnGetRoomHistoryBinMessageNotice),this.$bus.$off("graffiti_board_watching"),this.thinkClass.SignalService.off("onRecvRoomBinMessageNotice",this.handleOnRecvRoomBinMessageNotice),this.thinkClass.SignalService.off("onSendRoomBinMessageResp",this.handleOnSendRoomBinMessageResp)}},beforeDestroy:function(){Ke["a"].dispatch("smallClass/updateGraffitiBoardWatchingStutus",{}),this.removeListenerSignalService(),this.$refs.WhiteBoardNew.uninit(),window.removeEventListener("resize",this.setGraffitiScale),this.timer&&clearInterval(this.timer)}},Xe=Ye,Ze=(n("cc9c"),Object(q["a"])(Xe,We,Ge,!1,null,"327878a8",null)),et=Ze.exports,tt=function(){var e=this,t=e._self._c;return e.visible?t("div",{staticClass:"progressContainer"},[t("div",{staticClass:"progress",class:2==e.classType?"progress-small-class":"progress-normal-class"},[t("div",{staticClass:"progress-text"},[e._v(e._s(e.$t("common.uploading"))+"… "+e._s(e.percent)+"%")]),t("a-progress",{attrs:{percent:e.percent,"stroke-color":{"0%":"rgba(255,213,24,1)","100%":"rgba(255,170,10,1)"},strokeWidth:4,showInfo:!1}})],1)]):e._e()},nt=[],st={name:"photoWallProgress",props:{visible:{type:Boolean,default:!0},percent:{type:Number,default:0},classType:{type:Number,default:0}},methods:{}},at=st,it=(n("ea2f"),Object(q["a"])(at,tt,nt,!1,null,"04552100",null)),ot=it.exports,rt={name:"DrawBoard",props:{options:{type:Object,default:function(){}},layout:{type:String,default:"full"}},components:{GraffitiView:Ue,GraffitiViewNew:et,UploadProgress:ot},data:function(){return{graffitiOptions:null,showUploadProgress:!1,countDownTime:0,classType:0,isSubmit:!1,isNewGraffiti:"",GraffitIsSubmit:!1}},created:function(){this.graffitiOptions=new Pe(Object(y["a"])({},this.options)),this.countDownTime=parseFloat(this.graffitiOptions.initCountdownTime()/1e3)||0,this.sendLogger("涂鸦画板互动开始倒计时, ".concat(this.countDownTime,"s")),this.classType=this.options.commonOption.classType},mounted:function(){var e=this;this.userTrackLogger("涂鸦画板启动"),this.$nextTick(Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.isNewGraffiti=e.options.ircMsg.dbkey,e.sendLogger("收到涂鸦画板互动, 信令内容为: ".concat(JSON.stringify(e.options.ircMsg)),"start"),e.$bus.$emit("photoWallInteractId",e.options.ircMsg.interactId),localStorage.setItem("photoWallOptions",JSON.stringify(e.options)),e.getWallStatus(),e.graffitiOptions.interactOpen();case 6:case"end":return t.stop()}}),t)}))))},computed:{},methods:{getPhotoData:function(e){this.photoData=e},submitPhoto:function(e){var t=this;return Object(O["a"])(Object(x["a"])().mark((function n(){var s,a,i,o,r,c;return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.submiting){n.next=2;break}return n.abrupt("return");case 2:return t.dialogVisible=t.showPhotoShotTip=!1,t.submiting=t.showUploadProgress=!0,s=new Ce["b"]({scene:"pictureWall"}),n.next=7,s.putFile({filePath:"pictureWall.jpg",file:e||t.photoData.blob,progress:function(e){t.percent=e},success:function(e){t.sendLogger("上传照片成功, url: ".concat(e.url))},fail:function(e){t.showUploadProgress=!1,t.submiting=!1,t.percent=0,t.graffitiOptions.showSubmitTip({text:t.$t("common.uploadFailed"),icon:"error",callback:function(){}}),console.error("上传照片失败",e),t.sendLogger("上传照片失败")}});case 7:if(a=n.sent,i=a.key,!i){n.next=32;break}return t.showUploadProgress=!1,n.next=13,t.graffitiOptions.submitPhoto(i,t.isNewGraffiti);case 13:if(o=n.sent,0!==o.code){n.next=25;break}if(t.GraffitIsSubmit=!0,t.isNewGraffiti&&(t.isSubmit=!0),null!==o&&void 0!==o&&null!==(r=o.data)&&void 0!==r&&r.rightCoin&&!t.isNewGraffiti){n.next=19;break}return n.abrupt("return");case 19:c=o.data.rightCoin,t.$bus.$emit("uploadSuccess",{tips:t.$t("common.sumbittedSuccessfully"),coins:c}),t.graffitiOptions.showCoinsTip({callback:function(){t.isSubmit=!0}}),t.sendLogger("获得金币成功, ".concat(JSON.stringify(o))),n.next=32;break;case 25:if(t.submiting=!1,t.isSubmit=!0,t.percent=0,!t.isNewGraffiti){n.next=30;break}return n.abrupt("return");case 30:t.graffitiOptions.showSubmitTip({text:t.$t("common.submissionFailed"),icon:"error",callback:function(){}}),t.sendLogger("获得金币失败, ".concat(JSON.stringify(o)));case 32:case"end":return n.stop()}}),n)})))()},stopGratiffi:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n,s,a,i,o,r,c,l,u;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.sendLogger("老师发送停止作答"),n=document.querySelector("#graffitiContainer"),s=n.clientWidth,a=n.clientHeight,i=document.createElement("canvas"),i.width=s,i.height=a,o=document.querySelector("#gratiffiImg"),r=document.querySelector("#graffitiWrapper .canvas-container .canvas-shape"),c=document.querySelector("#graffitiWrapper .canvas-container .canvas-main"),i.getContext("2d").drawImage(o,0,0,s,a),i.getContext("2d").drawImage(r,0,0,s,a),i.getContext("2d").drawImage(c,0,0,s,a),l=i.toDataURL(),u=e.base64ToBlob(l,"image/jpeg"),e.submitPhoto(u);case 16:case"end":return t.stop()}}),t)})))()},submitNotice:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n,s,a;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.sendLogger("学员提交涂鸦"),t.next=3,e.graffitiOptions.submitGratiffi();case 3:if(n=t.sent,0!==n.code){t.next=13;break}if(e.GraffitIsSubmit=!0,null!==n&&void 0!==n&&null!==(s=n.data)&&void 0!==s&&s.rightCoin){t.next=8;break}return t.abrupt("return");case 8:a=n.data.rightCoin,e.$bus.$emit("uploadSuccess",{tips:e.$t("common.sumbittedSuccessfully"),coins:a}),e.graffitiOptions.showCoinsTip({callback:function(){}}),e.sendLogger("获得金币成功, ".concat(JSON.stringify(n))),setTimeout((function(){e.$bus.$emit("addCoin",!0,a)}),3e3);case 13:case"end":return t.stop()}}),t)})))()},base64ToBlob:function(e,t){for(var n=window.atob(e.split(",")[1]),s=new ArrayBuffer(n.length),a=new Uint8Array(s),i=0;i<n.length;i++)a[i]=n.charCodeAt(i);return new Blob([s],{type:t})},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";F["a"].send({tag:"student.Interact",content:{msg:e,interactType:"Photopost",interactId:"",interactStage:t}})},userTrackLogger:function(e){F["a"].send({tag:"userTrack",content:{msg:e,tag:"student.Interact",interactType:"Photopost"}})},getWallStatus:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n,s,a;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.graffitiOptions.getWallStatus();case 3:n=t.sent,s=n.code,a=n.data,0===s&&(e.isSubmit=a.isSubmit),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error("异常恢复error",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},destroyInteraction:function(e){var t=this;return Object(O["a"])(Object(x["a"])().mark((function n(){return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.pub||e.isEnd||!e.dbkey){n.next=3;break}return t.stopGratiffi(),n.abrupt("return");case 3:t.photoData||t.isSubmit||t.submiting||t.graffitiOptions.showNotjoinTip({className:"notJoin",tips:t.$t("classroom.interactions.photoWall.notjoinTip"),callback:function(){t.destroy()}});case 4:case"end":return n.stop()}}),n)})))()},destroy:function(){this.$bus.$emit("photoWallInteractId",null),this.userTrackLogger("涂鸦画板结束"),this.$emit("close","graffiti_board")}}},ct=rt,lt=(n("0a17"),Object(q["a"])(ct,xe,Oe,!1,null,"6cb8e53e",null)),ut=lt.exports,dt=function(){var e=this,t=e._self._c;return t("div",{ref:"praise-container",staticClass:"praise-container"},[Object.keys(e.praiseInfo).length>0?t("PraiseList",{ref:"praiseList",class:{"class-interaction__fourToThree":"full"!==e.layout},attrs:{role:"student",praiseInfo:e.praiseInfo,planId:e.planId,savingText:e.$t("classroom.interactions.praiseList.savingText"),getThumbInfo:e.getThumbInfo},on:{sendThumbNumMsg:e.sendThumbNumMsg,composeImgSuccess:e.composeImgSuccess},scopedSlots:e._u([{key:"empty",fn:function(){return[t("span",[e._v(e._s(e.$t("classroom.interactions.praiseList.emptyText")))])]},proxy:!0}],null,!1,1700699023)}):e._e(),t("Transition",{attrs:{name:"fade"}},[e.showSavePathToast?t("div",{staticClass:"save-path-toast"},[t("span",[e._v(e._s(e.$t("classroom.interactions.praiseList.saveText")))]),t("span",{staticClass:"path"},[e._v(" "+e._s(e.$t("classroom.interactions.praiseList.savePath")))])]):e._e()])],1)},ht=[],mt=n("2033"),ft=n("4bde"),pt=n("3631"),gt=n("9b0f"),vt=n.n(gt),Ct=n("fe26"),bt={props:{options:{type:Object,default:function(){return{ircMsg:{},roomMessage:{roomInfo:{commonOption:{}}}}}},layout:{type:String,default:"full"}},data:function(){return{list:[],praiseInfo:{},getThumbInfo:{},downloadImgUrl:"",showSavePathToast:"",useInfo:window.localStorage.getItem("userInfo"),planId:0}},mounted:function(){this.sendLogger("收到课堂表扬榜互动, 内容为: ".concat(JSON.stringify(this.options.ircMsg))),this.planId=this.options.roomMessage.roomInfo.planInfo.id,this.useInfo=this.useInfo?JSON.parse(this.useInfo):{},this.praiseInfo=this.options.ircMsg,this.listenerSignalService(),this.reportInterct()},components:{PraiseList:mt["PraiseList"]},beforeDestroy:function(){if(console.info("对象函数 beforeDestroy,filePath:renderer/SmallClass/interactions/ClassPraiseList/index.vue"),this.thinkClass){var e=this.thinkClass.SignalService;e.off("onRecvRoomMessage",this.getThumbNumMsg)}else this.$bus.$off("chats.getThumbNumMsg",this.getThumbNumMsg)},methods:{receiveMessage:function(e){var t=this;if(console.info("对象函数 receiveMessage(noticeContent)",e,"filePath:renderer/SmallClass/interactions/ClassPraiseList/index.vue"),!this.options.isHistory&&e.isUpdate){this.praiseInfo=Object(y["a"])({},e);var n=this.praiseInfo.position;this.sendLogger("收到翻转卡片操作, 方向：".concat(n)),this.$nextTick((function(){var e;null===(e=t.$refs.praiseList)||void 0===e||e.reverseCardHandler(n)}))}},listenerSignalService:function(){if(console.info("对象函数 listenerSignalService,filePath:renderer/SmallClass/interactions/ClassPraiseList/index.vue"),this.thinkClass){var e=this.thinkClass.SignalService;e.on("onRecvRoomMessage",this.getThumbNumMsg)}else this.$bus.$on("chats.getThumbNumMsg",this.getThumbNumMsg)},getThumbNumMsg:function(e){console.info("对象函数 getThumbNumMsg(res)",e,"filePath:renderer/SmallClass/interactions/ClassPraiseList/index.vue");var t=e.content||e;t&&"praise_list_point_like"===t.ircType&&(this.sendLogger("收到其他人点赞群聊消息, ".concat(JSON.stringify(e.content))),this.getThumbInfo=t)},sendThumbNumMsg:function(e){console.info("对象函数 sendThumbNumMsg(count)",e,"filePath:renderer/SmallClass/interactions/ClassPraiseList/index.vue");var t={roomList:this.options.roomMessage.roomInfo.commonOption.roomlist,content:{ircType:"praise_list_point_like",interactId:this.praiseInfo.interactId,userId:this.useInfo.uid||"",avatar:this.useInfo.avatar||"",likeNum:e},chatMsgPriority:99};this.sendLogger("自己点赞, ".concat(JSON.stringify(t.content))),this.thinkClass.SignalService.sendRoomMessage(t)},composeImgSuccess:function(e){var t=this;return Object(O["a"])(Object(x["a"])().mark((function n(){var s,a,i;return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.info("对象函数 composeImgSuccess(url)",e,"filePath:renderer/SmallClass/interactions/ClassPraiseList/index.vue"),n.next=3,Object(ft["b"])();case 3:s=n.sent,a="".concat(s,"/").concat(t.$t("classroom.interactions.praiseList.fileName",{firstTitle:t.praiseInfo.firstTitle,lessonName:t.praiseInfo.lessonName,courseName:t.praiseInfo.courseName}),"_").concat((new Date).getTime(),".png"),Object(pt["b"])(s),i=e.split(";base64,").pop(),vt.a.writeFileSync(a,i,"base64"),t.sendLogger("图片下载成功, base64: ".concat(e)),setTimeout((function(){t.showSavePathToast=!0,setTimeout((function(){t.showSavePathToast=!1}),2e3)}),2e3);case 10:case"end":return n.stop()}}),n)})))()},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";F["a"].send({tag:"student.Interact",content:{msg:e,interactType:"praiseList",interactId:this.options.ircMsg.interactId,interactStage:t}})},reportInterct:function(){console.info("对象函数 reportInterct,filePath:renderer/SmallClass/interactions/ClassPraiseList/index.vue"),Object(Ct["a"])({planId:this.planId,classId:this.options.roomMessage.roomInfo.commonOption.classId,interactId:this.options.ircMsg.interactId||""})}}},At=bt,St=(n("521a"),Object(q["a"])(At,dt,ht,!1,null,"639e8e4e",null)),wt=St.exports,yt=function(){var e=this,t=e._self._c;return t("div",["wheel"==e.randomType?t("Wheel",{attrs:{options:e.options},on:{close:e.closeInteract}}):"wall"==e.randomType?t("PhotoWall",{attrs:{options:e.options},on:{close:e.closeInteract}}):e._e()],1)},kt=[],It=function(){var e=this,t=e._self._c;return t("div",{class:["randomCallContainer","small_random_call"==e.msgType?"smallRandomStyle":""],attrs:{id:"randomCallContainer"}},[t("audio",{ref:"xuanren",staticClass:"hidden",attrs:{src:n("1435")}}),t("audio",{ref:"wheelSelectedAudio",staticClass:"hidden",attrs:{src:n("5e62")}}),e.showMachine&&!e.showWinner?t("div",{staticClass:"machineContainer"},[t("h3",[e._v(e._s(e.$t("classroom.interactions.randomCall.title")))]),t("div",{ref:"rocker",staticClass:"rocker",attrs:{id:"rocker"}},[e._v("摇杆")]),t("div",{staticClass:"studentsRollContainer",attrs:{NeosScroll:""}})]):e._e(),e.showWinner&&!e.showMachine&&e.selected?t("div",{staticClass:"winerContainer"},[t("h3",[e._v(e._s(e.winnerMsg))]),t("lottie-player",{staticClass:"lottie-player",attrs:{autoplay:"",loop:"",mode:"normal",src:"./lottiefiles/randomCall/data.json"}}),t("div",{staticClass:"winerInfo"},[t("i",{staticClass:"level",class:e.level}),t("span",{staticClass:"word-ellipsis"},[e._v(e._s(e.selected.name))])]),t("img",{attrs:{src:e.selected.avatar}}),t("i",{staticClass:"close",on:{click:function(t){return e.destroyInteraction("close")}}})],1):e._e()])},xt=[],Ot=(n("d81d"),n("96fb")),Pt=n.n(Ot),jt=(n("a717"),n("099c")),Tt={name:"RandomCall",props:{options:{type:Object,default:function(){}},msgType:{type:String,default:"random_call"},studentList:{type:Array,default:function(){return[]}}},data:function(){return{showMachine:!0,showWinner:!1,selected:null,winnerMsg:"",cameraStatus:!0,cameraSettingStatus:!1,microphoneStatus:!1,localDisplayVideoStatus:!0,students:[],myself:this.options.roomMessage.roomInfo.stuInfo.id}},created:function(){this.options.ircMsg.students.push(this.options.ircMsg.selected),this.students=this.options.ircMsg.students.map((function(e){return e.name=e.nickName,e}))},mounted:function(){var e=this,t=new Pt.a;t.on("finished",(function(t){console.info("箭头函数 监听 finished(item)",t,"filePath:renderer/SmallClass/interactions/RandomCall/Wheel/index.vue"),e.selected=e.students[t],e.selected.userId===e.myself?e.winnerMsg=e.$t("classroom.interactions.randomCall.finishedNotice.self"):e.winnerMsg=e.$t("classroom.interactions.randomCall.finishedNotice.other",{name:e.selected.name}),e.$refs.wheelSelectedAudio.play(),e.showMachine=!1,e.showWinner=!0})),this.$nextTick((function(){Object(W["a"])(e.$refs.rocker,"active"),t.init({selected:e.students.length-1,count:1,duration:3.5,direction:"up",items:e.scrollItems()}),e.$refs.rocker.addEventListener("animationend",(function(){console.info("箭头函数 监听 animationend,filePath:renderer/SmallClass/interactions/RandomCall/Wheel/index.vue"),Object(W["y"])(e.$refs.rocker,"active"),e.$refs.xuanren.play(),t.start()}))})),this.sendLogger("开启随机点名")},computed:{level:function(){return console.info("对象函数 level,filePath:renderer/SmallClass/interactions/RandomCall/Wheel/index.vue"),"level_".concat(this.selected.level)}},methods:{scrollItems:function(){if(console.info("对象函数 scrollItems,filePath:renderer/SmallClass/interactions/RandomCall/Wheel/index.vue"),this.students){var e=[];return this.students.forEach((function(t){e.push('<div class="rollBg">\n          <div class="avatar">\n            <img src="'.concat(t.avatar,'" />\n          </div>\n          <p class="name">').concat(t.name,"</p>\n        </div>"))})),e}},getMediaStatus:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 getMediaStatus,filePath:renderer/SmallClass/interactions/RandomCall/Wheel/index.vue"),t.next=3,Object(jt["c"])();case 3:return e.cameraStatus=t.sent,t.next=6,Object(jt["f"])();case 6:e.microphoneStatus=t.sent;case 7:case"end":return t.stop()}}),t)})))()},destroyInteraction:function(){console.info("对象函数 destroyInteraction,filePath:renderer/SmallClass/interactions/RandomCall/Wheel/index.vue"),this.$emit("close")},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";F["a"].send({tag:"student.Interact",content:{msg:e,interactType:"randomCall",interactId:"",interactStage:t}})}}},Bt=Tt,Lt=(n("52d3"),Object(q["a"])(Bt,It,xt,!1,null,"037db67d",null)),Mt=Lt.exports,Rt=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"wallRandomCall"}},[t("audio",{ref:"wallBg",staticClass:"hidden",attrs:{src:n("f004")}}),t("audio",{ref:"wallSpinner1",staticClass:"hidden",attrs:{src:n("4551")}}),t("audio",{ref:"wallSpinner2",staticClass:"hidden",attrs:{src:n("e5ba")}}),t("audio",{ref:"wallSelected",staticClass:"hidden",attrs:{src:n("87d2")}}),e.animationStatus?t("div",{staticClass:"wallBackground"},[t("div",{class:["wallTitle",e.titleClassName]}),t("div",{staticClass:"wallContent"},e._l(e.studentsInfo,(function(n){return t("div",{key:n.userId,class:["wallVideoOutBorder",e.selectStutId==n.userId?"selectBorder":""]},[t("div",{staticClass:"wallVideoBox"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showVideo(n),expression:"showVideo(item)"}],staticClass:"video-wrapper",attrs:{id:"wall-video-"+n.userId}}),t("div",{staticClass:"avatar-wrapper"},[t("img",{attrs:{src:n.avatar?n.avatar:e.defaultAvatar}}),t("span",{staticClass:"student-name"},[e._v(e._s(n.stuName))])])])])})),0)]):t("div",{staticClass:"selectBackground"},[t("div",{staticClass:"close",on:{click:e.clickClose}}),t("div",{class:["wallTitle",e.titleClassName]}),t("div",{staticClass:"selectVideoBox"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showVideo(e.selectInfo),expression:"showVideo(selectInfo)"}],staticClass:"video-wrapper",attrs:{id:"select-video-"+e.selectInfo.userId}}),t("div",{staticClass:"avatar-wrapper"},[t("img",{attrs:{src:e.selectInfo.avatar?e.selectInfo.avatar:e.defaultAvatar}})]),t("div",{staticClass:"stuInfoBox"},[0!=e.selectInfo.level?t("div",{staticClass:"stuLevel"},[t("span",{staticClass:"levelBox"},[t("i",{class:["levelIcon",e.level]})])]):e._e(),t("div",{staticClass:"stuName"},[t("span",{staticClass:"leftBg"}),t("span",{staticClass:"nameBg word-ellipsis"},[e._v(e._s(e.selectInfo.stuName))]),t("span",{staticClass:"rightBg"})])])])])])},Et=[],Dt=(n("6062"),n("b680"),n("5880")),Nt=n("4a19"),Vt={name:"WallRandomCall",props:{options:{type:Object,default:function(){}},studentList:{type:Array,default:function(){return[]}}},computed:Object(y["a"])(Object(y["a"])({},Object(Dt["mapState"])("smallClass",["studentList","cameraStatus"])),{},{titleClassName:function(){return console.info("对象函数 titleClassName,filePath:renderer/SmallClass/interactions/RandomCall/PhotoWall/index.vue"),"hk"==this.local?"title_zh":"title_en"},ircStudentList:function(){return console.info("对象函数 ircStudentList,filePath:renderer/SmallClass/interactions/RandomCall/PhotoWall/index.vue"),this.options.ircMsg.students},selectedStuId:function(){return console.info("对象函数 selectedStuId,filePath:renderer/SmallClass/interactions/RandomCall/PhotoWall/index.vue"),this.options.ircMsg.selected.userId},selectInfo:function(){var e=this;return console.info("对象函数 selectInfo,filePath:renderer/SmallClass/interactions/RandomCall/PhotoWall/index.vue"),this.studentList.find((function(t){return t.userId==e.options.ircMsg.selected.userId}))},level:function(){return console.info("对象函数 level,filePath:renderer/SmallClass/interactions/RandomCall/PhotoWall/index.vue"),"level_".concat(this.selectInfo.level)}}),data:function(){return{local:"",stuId:this.options.roomMessage.roomInfo.stuInfo.id,studentsInfo:[],randomStuIdList:[],selectStutId:0,randomCount:16,currentRandomCount:0,animationStatus:!0,defaultAvatar:Nt,animationTimer:null}},created:function(){this.local=window.localStorage.getItem("local"),this.thinkClass.RtcService.on("studentVideoStart",this.creatStudentVideo)},mounted:function(){this.$store.dispatch("smallClass/updateWallRandomCallStatus",!0),this.sendLogger("开启照片墙随机点名互动"),this.$refs.wallBg.play(),this.initVideo()},methods:{creatStudentVideo:function(e){var t=this;console.info("对象函数 creatStudentVideo(uid)",e,"filePath:renderer/SmallClass/interactions/RandomCall/PhotoWall/index.vue");var n=this.studentsInfo.find((function(t){return t.userId==e})),s="";n&&(this.animationStatus?s="wall-video-".concat(n.userId):n.userId==this.selectedStuId?s="select-video-".concat(n.userId):console.log("已经到达选中状态，且不是选中的学生，不需要恢复视频流")),document.getElementById(s)&&this.$nextTick((function(){t.thinkClass.RtcService.createRemoteVideo(e,s)}))},showVideo:function(e){return console.info("对象函数 showVideo(item)",e,"filePath:renderer/SmallClass/interactions/RandomCall/PhotoWall/index.vue"),e.isSelf?this.cameraStatus&&!e.multVideoLinkStatus:e.displayVideo&&!e.mutedVideoStatus&&!e.multVideoLinkStatus&&e.inClass},initVideo:function(){var e=this;console.info("对象函数 initVideo,filePath:renderer/SmallClass/interactions/RandomCall/PhotoWall/index.vue");var t=new Set(this.ircStudentList.map((function(e){return e.userId})));this.studentsInfo=this.studentList.filter((function(e){return t.has(Number(e.userId))})),this.initRandomList(),this.$nextTick((function(){e.studentsInfo.forEach((function(t){var n="wall-video-".concat(t.userId);e.createVideo(t,n)}))}))},initRandomList:function(){console.info("对象函数 initRandomList,filePath:renderer/SmallClass/interactions/RandomCall/PhotoWall/index.vue");for(var e=0;e<this.randomCount;e++){var t=this.getRandomIndex(),n=this.studentsInfo[t].userId;if(e>0){var s=this.randomStuIdList[e-1];this.reRandom(s,n)}else this.randomStuIdList.push(this.selectedStuId)}this.randomStuIdList.reverse(),this.beginAnimation()},reRandom:function(e,t){if(console.info("对象函数 reRandom(lastRandomId, currentRandomId)",e,t,"filePath:renderer/SmallClass/interactions/RandomCall/PhotoWall/index.vue"),e==t){var n=this.getRandomIndex(),s=this.studentsInfo[n].userId;this.reRandom(e,s)}else this.randomStuIdList.push(t)},getRandomIndex:function(){return console.info("对象函数 getRandomIndex,filePath:renderer/SmallClass/interactions/RandomCall/PhotoWall/index.vue"),Math.ceil(Math.random()*this.studentsInfo.length)-1},beginAnimation:function(){console.info("对象函数 beginAnimation,filePath:renderer/SmallClass/interactions/RandomCall/PhotoWall/index.vue"),this.selectStutId=this.randomStuIdList[0],this.$refs.wallSpinner1.play(),this.animations()},animations:function(){var e=this;console.info("对象函数 animations,filePath:renderer/SmallClass/interactions/RandomCall/PhotoWall/index.vue"),this.currentRandomCount+=1;var t=(Math.pow(this.currentRandomCount-1,3)/6+100).toFixed(2);this.currentRandomCount==this.randomCount?this.animationTimer=setTimeout((function(){e.destroyedTimer(),e.animationStatus=!1,e.$refs.wallSelected.play(),e.$nextTick((function(){var t="select-video-".concat(e.selectInfo.userId);e.createVideo(e.selectInfo,t)}))}),t):this.animationTimer=setTimeout((function(){e.destroyedTimer(),e.selectStutId=e.randomStuIdList[e.currentRandomCount];var t=e.currentRandomCount%2==0?"wallSpinner1":"wallSpinner2";e.$refs[t].play(),e.currentRandomCount<e.randomCount&&e.animations()}),t)},destroyedTimer:function(){console.info("对象函数 destroyedTimer,filePath:renderer/SmallClass/interactions/RandomCall/PhotoWall/index.vue"),this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},createVideo:function(e,t){console.info("对象函数 createVideo(stuInfo, videoId)",e,t,"filePath:renderer/SmallClass/interactions/RandomCall/PhotoWall/index.vue"),e.userId==this.stuId?this.thinkClass.RtcService.createLocalVideo(t):this.thinkClass.RtcService.createRemoteVideo(e.userId,t)},clickClose:function(){console.info("对象函数 clickClose,filePath:renderer/SmallClass/interactions/RandomCall/PhotoWall/index.vue"),this.$store.dispatch("smallClass/updateWallRandomCallStatus",!1),this.destroyedTimer(),this.$emit("close")},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";F["a"].send({tag:"student.Interact",content:{msg:e,interactType:"wallRandomCall",interactId:this.options.ircMsg.interactId,interactStage:t}})}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/SmallClass/interactions/RandomCall/PhotoWall/index.vue"),this.destroyedTimer(),this.thinkClass.RtcService.off("studentVideoStart",this.creatStudentVideo)}},Ft=Vt,Ut=(n("7fed"),Object(q["a"])(Ft,Rt,Et,!1,null,null,null)),Wt=Ut.exports,Gt={name:"TakePicture",props:{options:{type:Object,default:function(){return{}}}},components:{Wheel:Mt,PhotoWall:Wt},data:function(){return{randomType:""}},methods:{receiveMessage:function(){console.info("对象函数 receiveMessage,filePath:renderer/SmallClass/interactions/RandomCall/index.vue"),this.$store.dispatch("smallClass/updateStudentList",{uid:this.options.ircMsg.selected.userId,data:Object(y["a"])(Object(y["a"])({},this.options.ircMsg.selected),{},{stuName:this.options.ircMsg.selected.nickName})}),this.randomType=this.options.ircMsg.type},closeInteract:function(){console.info("对象函数 closeInteract,filePath:renderer/SmallClass/interactions/RandomCall/index.vue"),this.$emit("close","small_random_call")},destroyInteraction:function(e){console.info("对象函数 destroyInteraction(msg)",e,"filePath:renderer/SmallClass/interactions/RandomCall/index.vue"),"wall"===e.type&&e.recoverVideo&&this.$store.dispatch("smallClass/updateWallRandomCallStatus",!1),this.closeInteract()}}},_t=Gt,Ht=Object(q["a"])(_t,yt,kt,!1,null,null,null),Qt=Ht.exports,Jt=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{width:"100%",height:"100%",top:"0",left:"0",position:"absolute"}},[t("audio",{ref:"giftSelect",staticClass:"hiden",attrs:{src:n("fc9c")}}),t("audio",{ref:"giftShow",staticClass:"hiden",attrs:{src:n("b561")}}),t("audio",{ref:"giftSubmit",staticClass:"hiden",attrs:{src:n("a1cb")}}),t("GiftBarrage",{ref:"giftBarrage"}),t("div",{staticClass:"live-gifts-container"},[t("div",{staticClass:"toast-item-container hover-trainsition",class:{show:e.sendStatusData.isSuccessful}},[t("img",{staticClass:"gift-tost-icon",attrs:{height:"30px",src:e.submitGitPic}}),t("span",[e._v(e._s(e.sendStatusData.successfulMsg))])]),e.showGiftsPannel&&e.queryGiftDataSuccess?[t("div",{staticClass:"gifts-pannel-container",on:{click:function(e){e.stopPropagation()}}},[t("div",{staticClass:"close-icon-container",on:{click:function(t){return t.stopPropagation(),e.closeGiftsPannel.apply(null,arguments)}}},[t("a-icon",{staticClass:"icon-close",attrs:{type:"close"}})],1),""!=e.sendStatusData.sendMsg&&e.sendStatusData.showSendMsg?t("div",{staticClass:"operate-text-container"},[e._v(" "+e._s(e.sendStatusData.sendMsg)+" ")]):e._e(),t("div",{staticClass:"gifts-pannel-body-container"},[t("section",[t("button",{staticClass:"arrow-left",attrs:{disabled:e.leftArrowDisabled},on:{click:function(t){return t.stopPropagation(),e.handleLeftScroll.apply(null,arguments)}}},[t("span",{class:e.leftArrowDisabled?"arrow-disabled":"arrow"})]),t("div",{staticClass:"gifts-list-wrapper"},[t("div",{ref:"scrollWrapper",staticClass:"scroll-wrapper"},e._l(e.giftData.giftList,(function(n,s){return t("div",{key:s,staticClass:"gift-item hover-trainsition",class:{selected:n.giftId==e.selectedGift.giftId},on:{click:function(t){return t.stopPropagation(),e.chooseGift(n)}}},[t("div",{staticClass:"gift-image"},[t("img",{attrs:{src:n.imagePc}})]),t("div",{staticClass:"gift-name text-overflow-ellipsis"},[e._v(e._s(n.giftName))]),t("div",{staticClass:"gift-price"},[t("a-icon",{staticClass:"icon-coins",attrs:{component:e.coinsSvg}}),e._v(e._s(n.coin)+" ")],1)])})),0)]),t("button",{staticClass:"arrow-right",attrs:{disabled:e.rightArrowDisabled},on:{click:function(t){return t.stopPropagation(),e.handleRightScroll.apply(null,arguments)}}},[t("span",{class:e.rightArrowDisabled?"arrow-disabled":"arrow"})])]),t("div",{staticClass:"account-operate-pannel-container"},[t("div",{staticClass:"coins-item"},[t("div",{staticClass:"header"},[e._v(e._s(e.$t("common.coins"))+":")]),t("div",{staticClass:"account-conins-number"},[t("a-icon",{staticClass:"icon-coins",attrs:{component:e.coinsSvg}}),e._v(e._s(e.userCoin)+" ")],1)]),t("button",{staticClass:"btn btn-send-gift hover-trainsition",attrs:{disabled:e.sendStatusData.sendTimes>=3||2==e.sendStatusData.sendStatus},on:{click:function(t){return t.stopPropagation(),e.sendSubmit.apply(null,arguments)}}},[e.isSending?t("a-icon",{attrs:{type:"loading"}}):e._e(),t("span",{staticClass:"btn-text"},[e._v(e._s(e.$t("common.send")))])],1)])])])]:e._e(),!e.showGiftsPannel&&e.queryGiftDataSuccess?[t("div",{staticClass:"icon-btn btn-open-gifts-pannel",on:{click:function(t){return t.stopPropagation(),e.openGiftsPannel.apply(null,arguments)}}})]:e._e()],2)],1)},qt=[],Kt=(n("cca6"),n("ac1f"),n("5319"),n("a630"),n("19d1")),$t=n.n(Kt),zt=n("1427"),Yt=n("8c77"),Xt=function(){var e=this,t=e._self._c;return t("div",{ref:"stage",staticClass:"stage"},[t("vue-baberrage",{ref:"vueBaberrage",attrs:{isShow:e.barrageIsShow,barrageList:e.messageList,loop:e.barrageLoop,lanesCount:3,messageGap:10}})],1)},Zt=[],en=n("b629"),tn={name:"app",components:{vueBaberrage:en["vueBaberrage"]},data:function(){return{barrageIsShow:!0,currentId:0,barrageLoop:!1,messageList:[],timer:null}},mounted:function(){},methods:{init:function(){console.info("对象函数 init,filePath:renderer/SmallClass/interactions/Gift/components/GiftBarrage/index.vue"),window.addEventListener("resize",this.resetWidth),this.$refs.vueBaberrage.replay(),this.resetWidth()},resetWidth:H()((function(){var e=this;this.$nextTick((function(){e.$refs.vueBaberrage.boxWidthVal=document.querySelector(".class-content").offsetWidth}))}),300),addMessage:function(e){console.info("对象函数 addMessage(message)",e,"filePath:renderer/SmallClass/interactions/Gift/components/GiftBarrage/index.vue"),this.messageList.push(e)},removeList:function(){console.info("对象函数 removeList,filePath:renderer/SmallClass/interactions/Gift/components/GiftBarrage/index.vue"),this.messageList=[]},addToList:function(e){console.info("对象函数 addToList(giftItem)",e,"filePath:renderer/SmallClass/interactions/Gift/components/GiftBarrage/index.vue");var t=e.text.replace("#name#",this.$t("common.i"));this.addMessage({icon_pc:e.imagePc,message:"<span style='color:#FFDC0A'>".concat(t,"</span>"),time:10})}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/SmallClass/interactions/Gift/components/GiftBarrage/index.vue"),window.removeEventListener("resize",this.resetWidth)}},nn=tn,sn=(n("263e"),Object(q["a"])(nn,Xt,Zt,!1,null,null,null)),an=sn.exports,on={props:{options:{type:Object,default:function(){return{ircMsg:{},roomMessage:{roomInfo:{commonOption:{}}}}}}},components:{GiftBarrage:an},data:function(){return{isSending:!1,myOptions:{},coinsSvg:$t.a,showGiftsPannel:!0,interactionData:{interactId:"",planId:"",classId:""},giftData:{activityId:"",activityName:"",giftList:[]},queryGiftDataSuccess:!1,sendStatusData:{sendMsg:"",showSendMsg:!1,isSuccessful:!1,successfulMsg:"",sendTimes:0,sendStatus:1},selectedGift:{coin:"",giftId:""},submitGitPic:"",userCoin:0,elementScrollLeft:0,arrowLeftDisabled:!1,arrowRightDisabled:!1}},computed:{leftArrowDisabled:function(){return console.info("对象函数 leftArrowDisabled,filePath:renderer/SmallClass/interactions/Gift/index.vue"),this.arrowLeftDisabled||this.giftData.giftList.length<6},rightArrowDisabled:function(){return console.info("对象函数 rightArrowDisabled,filePath:renderer/SmallClass/interactions/Gift/index.vue"),this.arrowRightDisabled||this.giftData.giftList.length<6}},destroyed:function(){console.info("对象函数 destroyed,filePath:renderer/SmallClass/interactions/Gift/index.vue"),this.$bus.$off("sendGiftBarrage"),this.sendLogger("结束互动","end")},mounted:function(){this.$bus.$on("sendGiftBarrage",this.receiveGiftBarrage),this.init(),this.$refs.giftBarrage.init()},methods:{init:function(){console.info("对象函数 init,filePath:renderer/SmallClass/interactions/Gift/index.vue"),this.$refs.giftShow.play(),this.interactionData.interactId=this.options.ircMsg.interactId,this.interactionData.planId=this.options.roomMessage.roomInfo.commonOption.planId,this.interactionData.classId=this.options.roomMessage.roomInfo.commonOption.classId,this.myOptions=this.options,Object(Ct["a"])({planId:this.interactionData.planId,classId:this.interactionData.classId,interactId:this.interactionData.interactId}),this.queryCoinsCount(),this.queryGiftsList(),this.recoverGiftStatus(),this.sendLogger("收到互动","start")},receiveGiftBarrage:function(e){console.info("对象函数 receiveGiftBarrage(notice)",e,"filePath:renderer/SmallClass/interactions/Gift/index.vue"),this.sendLogger("接收弹幕互动消息"),e.userId!=this.options.roomMessage.roomInfo.stuInfo.id&&this.$refs.giftBarrage.addMessage({icon_pc:e.icon_pc,message:e.message,time:10})},queryGiftsList:function(){var e=this;console.info("对象函数 queryGiftsList,filePath:renderer/SmallClass/interactions/Gift/index.vue"),Object(Yt["a"])(this,{planId:this.interactionData.planId}).then((function(t){if(console.info("箭头函数 queryGiftsListApi的then(res)",t,"filePath:renderer/SmallClass/interactions/Gift/index.vue"),0!=t.code)return e.queryGiftDataSuccess=!1,e.$Message.info(t.msg),void e.sendLogger("获取礼物数据失败");var n=t.data||{};if("giftList"in n&&"[object Array]"===Object.prototype.toString.call(n.giftList)&&n.giftList.length>0)return e.giftData=Object.assign(e.giftData,n),void(e.queryGiftDataSuccess=!0);e.sendLogger("获取礼物数据格式错误:".concat(JSON.stringify(n))),e.queryGiftDataSuccess=!1})).catch((function(t){console.info("箭头函数 catch(err)",t,"filePath:renderer/SmallClass/interactions/Gift/index.vue"),e.queryGiftDataSuccess=!1,e.sendLogger("获取礼物数据接口报错:".concat(t),"","error")}))},recoverGiftStatus:function(){var e=this;console.info("对象函数 recoverGiftStatus,filePath:renderer/SmallClass/interactions/Gift/index.vue");var t={planId:this.interactionData.planId,interactId:this.interactionData.interactId};Object(Yt["b"])(this,t).then((function(t){if(console.info("箭头函数 recoverGifteStatusApi的then(res)",t,"filePath:renderer/SmallClass/interactions/Gift/index.vue"),0==t.code){var n=t.data||{};1!=n.interactStatus&&e.$emit("close","openGift"),e.sendStatusData.sendStatus=n.sendStatus,e.sendStatusData.sendTimes=n.sendTimes,(2==e.sendStatusData.sendStatus||e.sendStatusData.sendTimes>=3)&&e.sendStatusToast(e.$t("classroom.interactions.gift.notEnoughTimes")),e.sendLogger("获取互动恢复数据状态:".concat(JSON.stringify(n)))}else e.$Message.info(t.msg)})).catch((function(t){console.info("箭头函数 catch(err)",t,"filePath:renderer/SmallClass/interactions/Gift/index.vue"),e.sendLogger("获取互动恢复数据失败:".concat(t),"","error")}))},sendSubmit:function(){console.info("对象函数 sendSubmit,filePath:renderer/SmallClass/interactions/Gift/index.vue"),Object(V["e"])("hw_classroom_interact_gift",this.options.roomMessage.roomInfo.commonOption,{interact_id:this.interactionData.interactId,gift_id:this.selectedGift.giftId?this.selectedGift.giftId:-1,gift_price:this.selectedGift.coin?this.selectedGift.coin:-1,click_button:1}),this.sendLogger("点击送礼物按钮,selectedGift:".concat(JSON.stringify(this.selectedGift))),null!=this.selectedGift&&""!=this.selectedGift.giftId?this.isSending||this.sendGift():this.$Message.info(this.$t("classroom.interactions.gift.pleaseChooseGiftNotice"))},sendGift:function(){var e=this;console.info("对象函数 sendGift,filePath:renderer/SmallClass/interactions/Gift/index.vue");var t={planId:this.interactionData.planId,interactId:this.interactionData.interactId,giftId:this.selectedGift.giftId,classId:this.interactionData.classId};this.isSending=!0,Se["i"](this.interactionData.interactId,this.selectedGift),Object(Yt["c"])(this,t).then((function(n){if(console.info("箭头函数 sendGiftApi的then(res)",n,"filePath:renderer/SmallClass/interactions/Gift/index.vue"),e.isSending=!1,"42001"==n.code)return e.sendStatusToast(e.$t("classroom.interactions.gift.notEnoughTimes")),void e.sendLogger("送礼物失败, 原因: 次数达到上限","","error");if("42002"==n.code)return e.sendStatusToast(e.$t("classroom.interactions.gift.notEnoughCoin"),3e3),void e.sendLogger("送礼物失败, 原因: 金币数量不够","","error");if(0!=n.code)return e.$Message.info(n.msg),void e.sendLogger("送礼物失败, 原因: ".concat(n.msg),"","error");var s=n.data||{};e.$refs.giftSubmit.play(),e.$refs.giftBarrage.addToList(e.selectedGift),e.sendGiftSuccessHandler(s),e.sendLogger("送礼物成功, params: ".concat(JSON.stringify(t)," res: ").concat(JSON.stringify(n)))})).catch((function(t){console.info("箭头函数 catch(err)",t,"filePath:renderer/SmallClass/interactions/Gift/index.vue"),e.sendLogger("送礼物失败, 原因: ".concat(JSON.stringify(t)),"","error"),e.isSending=!1}))},sendGiftSuccessHandler:function(e){console.info("对象函数 sendGiftSuccessHandler(resData)",e,"filePath:renderer/SmallClass/interactions/Gift/index.vue"),this.myOptions.roomMessage.roomInfo.stuInfo.goldNum=e.userLatestCoin,this.$bus.$emit("updateAchievement","update",e.userLatestCoin),this.userCoin=e.userLatestCoin,this.sendStatusData.sendStatus=e.sendStatus,this.sendStatusData.sendTimes=e.sendTimes,(this.sendStatusData.sendTimes>=3||2==this.sendStatusData.sendStatus)&&this.sendStatusToast(this.$t("classroom.interactions.gift.notEnoughTimes"))},sendSuccessToast:function(){var e=this;console.info("对象函数 sendSuccessToast,filePath:renderer/SmallClass/interactions/Gift/index.vue");var t=null;clearTimeout(t),this.sendStatusData.isSuccessful=!0,this.submitGitPic=this.selectedGift.iconPc,this.sendStatusData.successfulMsg=this.selectedGift.text.replace(/#.*?#/,this.$t("common.i")),t=setTimeout((function(){e.sendStatusData.isSuccessful=!1}),3e3),this.sendStatusData.sendMsg="",this.sendStatusData.showSendMsg=!1},sendStatusToast:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;console.info("对象函数 sendStatusToast(msg, timing)",t,n,"filePath:renderer/SmallClass/interactions/Gift/index.vue");var s=null;clearTimeout(s),this.sendStatusData.sendMsg=t,this.sendStatusData.showSendMsg=!0,n>0&&(s=setTimeout((function(){e.sendStatusData.showSendMsg=!1}),3e3))},chooseGift:function(e){console.info("对象函数 chooseGift(giftItem)",e,"filePath:renderer/SmallClass/interactions/Gift/index.vue"),this.sendLogger("点击选择礼物"),this.$refs.giftSelect.play(),this.selectedGift=e},closeGiftsPannel:function(){console.info("对象函数 closeGiftsPannel,filePath:renderer/SmallClass/interactions/Gift/index.vue"),Object(V["e"])("hw_classroom_interact_gift",this.options.roomMessage.roomInfo.commonOption,{interact_id:this.interactionData.interactId,gift_id:""==this.selectedGift.giftId?-1:this.selectedGift.giftId,gift_price:""==this.selectedGift.coin?-1:this.selectedGift.coin,click_button:0}),this.showGiftsPannel=!1,this.sendLogger("关闭送礼物窗口")},openGiftsPannel:function(){console.info("对象函数 openGiftsPannel,filePath:renderer/SmallClass/interactions/Gift/index.vue"),Object(V["e"])("hw_classroom_interact_gift_icon",this.options.roomMessage.roomInfo.commonOption,{interact_id:this.interactionData.interactId}),this.sendLogger("打开送礼物窗口"),this.showGiftsPannel=!0,this.arrowLeftDisabled=!0},queryCoinsCount:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n,s,a,i;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 queryCoinsCount,filePath:renderer/SmallClass/interactions/Gift/index.vue"),t.next=3,Object(zt["a"])(e).catch((function(t){console.info("箭头函数 _queryCoinsCount的catch(err)",t,"filePath:renderer/SmallClass/interactions/Gift/index.vue"),e.sendLogger("接口报错:获取金币数量:".concat(JSON.stringify(t)),"","error")}));case 3:if(n=t.sent,s=n.code,a=n.data,0==s){t.next=8;break}return t.abrupt("return");case 8:i=a.latestCoin||0,e.userCoin=i;case 10:case"end":return t.stop()}}),t)})))()},handleLeftScroll:function(){var e=this;console.info("对象函数 handleLeftScroll,filePath:renderer/SmallClass/interactions/Gift/index.vue"),this.sendLogger("点击礼物窗口左边滚动");var t=this.$refs.scrollWrapper;t.scrollLeft-=124,this.arrowLeftDisabled=!0,setTimeout((function(){e.elementScrollLeft=t.scrollLeft,e.arrowLeftDisabled=!1}),300)},handleRightScroll:function(){var e=this;console.info("对象函数 handleRightScroll,filePath:renderer/SmallClass/interactions/Gift/index.vue"),this.sendLogger("点击礼物窗口右边滚动");var t=this.$refs.scrollWrapper;t.scrollLeft+=124,this.arrowRightDisabled=!0,setTimeout((function(){e.arrowRightDisabled=!1,e.elementScrollLeft=t.scrollLeft}),300)},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";F["a"].send({tag:"student.Interact",content:{msg:e,interactType:"Gifts",interactId:this.options.ircMsg.interactId,interactStage:t},level:n})}},watch:{elementScrollLeft:function(e){if(console.info("对象函数 elementScrollLeft(newVal)",e,"filePath:renderer/SmallClass/interactions/Gift/index.vue"),console.log(e,"newVal"),0==e)this.arrowLeftDisabled=!0,this.arrowRightDisabled=!1;else{this.arrowLeftDisabled=!1;var t=0,n=Array.from(document.getElementsByClassName("gift-item"));n.forEach((function(e){t+=e.clientWidth+20}));var s=t-620;this.arrowRightDisabled=e>=s}}}},rn=on,cn=(n("7771"),Object(q["a"])(rn,Jt,qt,!1,null,"595bd88a",null)),ln=cn.exports,un=function(){var e=this,t=e._self._c;return e.isAnswer?e._e():t("div",[t("audio",{ref:"voteKeyTone",staticClass:"hide",attrs:{src:n("74dc")}}),t("audio",{ref:"voteSubmit",staticClass:"hide",attrs:{src:n("d0d1")}}),t("audio",{ref:"voteHasCorrectFail",staticClass:"hide",attrs:{src:n("71af")}}),t("audio",{ref:"voteHasCorrectSuccess",staticClass:"hide",attrs:{src:n("1cdf")}}),t("transition",{attrs:{name:"slide-fade"},on:{"after-leave":e.destroy}},[e.getResult?e._e():t("div",{staticClass:"vote"},[t("div",{ref:"voteBarContainer",staticClass:"vote-bar-container pt-[0.16rem] pr-[0.16rem] pl-[0.16rem]",class:e.toShow?"ease-in":"ease-out"},[t("div",{staticClass:"vote-pri-bar-container w-[0.9rem] h-[0.3rem] top-[-0.3rem]",on:{click:e.handleToggleBar}},[e.toShow?t("img",{staticClass:"w-[0.12rem] h-[0.08rem]",attrs:{src:n("9d3e")}}):t("img",{staticClass:"w-[0.12rem] h-[0.08rem]",attrs:{src:n("c8cf")}})]),t("div",{staticClass:"vote-wrapper"},[t("div",{staticClass:"vote-title text-large"},[t("p",[e._v(e._s(e.$t("classroom.interactions.vote.title")))])]),e.optionList.length?t("ul",{staticClass:"vote-options mt-[0.16rem] mb-[0.16rem]"},e._l(e.optionList,(function(n){return t("li",{key:n.option,staticClass:"option-item text-superLarge",class:[{active:e.curtOption===n.option},{"panduan-option-item":2===e.options.ircMsg.pattern||3===e.options.ircMsg.pattern}],on:{click:function(t){return t.stopPropagation(),e.handleSelectOption(n)}}},[t("span",[e._v(e._s(n.option.replace("TRUE",e.$t("classroom.interactions.vote.true")).replace("FALSE",e.$t("classroom.interactions.vote.false"))))])])})),0):e._e(),t("div",{staticClass:"vote-submit-container h-[0.44rem]"},[t("div",{staticClass:"vote-submit text-large",class:e.curtOption?"isSelected":"",on:{click:function(t){return t.stopPropagation(),e.submit(e.curtOption)}}},[e._v(" "+e._s(e.$t("common.submit"))+" ")])])])])]),3===e.options.ircMsg.pattern||e.options.ircMsg.hascorrect?e._e():t("div",[e.statistics.length?t("div",{staticClass:"vote-result-inCorrect"},[t("div",{staticClass:"vote-bar-container pt-[0.16rem] pr-[0.16rem] pl-[0.16rem]"},[t("div",{staticClass:"vote-wrapper"},[t("div",{staticClass:"vote-title res text-large"},[t("p",[e._v(" "+e._s(e.$t("classroom.interactions.vote.voteResult"))+" ")])]),t("ul",{staticClass:"vote-options-res mt-[0.16rem] mb-[0.16rem]"},e._l(e.statistics,(function(n){return t("li",{key:n.option,staticClass:"option-item-res text-superLarge",class:{"panduan-option-item-res":2===e.options.ircMsg.pattern}},[t("div",{staticClass:"option-item-res-desc"},[t("div",{staticClass:"option-name text-superLarge",class:(e.isRepeatPrevOption||e.curtOption)===n.option?"user-selected-name":""},[e._v(" "+e._s(n.option.replace("TRUE",e.$t("classroom.interactions.vote.true")).replace("FALSE",e.$t("classroom.interactions.vote.false")))+" ")]),t("div",{staticClass:"option-percent text-large",class:[{"user-selected-percent":(e.isRepeatPrevOption||e.curtOption)===n.option},{"text-middle":2===e.options.ircMsg.pattern}]},[e._v(" "+e._s(n.percent)+"% ")])])])})),0),t("div",{staticClass:"vote-res-close-container h-[0.34rem]"},[t("div",{staticClass:"icon-close w-[0.34rem] h-full",on:{click:e.destroy}})])])])]):e._e()])])],1)},dn=[],hn=n("712f"),mn=function(e){Object(T["a"])(n,e);var t=Object(B["a"])(n);function n(){var e,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.info("函数申明 Main(opts)",s,"filePath:renderer/SmallClass/interactions/vote/vote.js"),Object(P["a"])(this,n),e=t.call(this),e.options=s,e.skinType=e.options.roomMessage.roomInfo.commonOption,e.vm=s.vm,e}return Object(j["a"])(n,[{key:"handleOptions",value:function(){var e=this.options.ircMsg;return e.options=Object.keys(e.options).map((function(t){var n=e.options[t];return n.height=0,n.percent=0,n})),e.options}},{key:"submitVote",value:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(t){var n,s,a,i,o,r;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.options.roomMessage.roomInfo.commonOption,s=n.planId,a=n.classId,i=this.options.ircMsg.interactId,o={planId:s,classId:a,interactionId:i,option:t},e.next=5,Object(hn["g"])(this,o);case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return console.info("函数申明 submitVote(_x)",t,"filePath:renderer/SmallClass/interactions/vote/vote.js"),e.apply(this,arguments)}return t}()},{key:"getVoteStatistics",value:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(){var t,n,s,a;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.options.roomMessage.roomInfo.commonOption.planId,n=this.options.ircMsg,s={planId:t,interactionId:n.interactId},e.next=5,Object(hn["b"])(this,s);case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));function t(){return console.info("函数申明 getVoteStatistics, filePath:renderer/SmallClass/interactions/vote/vote.js"),e.apply(this,arguments)}return t}()},{key:"getVoteStatus",value:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(){var t,n;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={planId:1*this.options.roomMessage.roomInfo.stuLiveInfo.planId,interactionId:this.options.ircMsg.interactId},e.prev=1,e.next=4,Object(hn["d"])(this,t);case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e["catch"](1),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(){return console.info("函数申明 getVoteStatus, filePath:renderer/SmallClass/interactions/vote/vote.js"),e.apply(this,arguments)}return t}()},{key:"voteReport",value:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(){var t,n;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={planId:1*this.options.roomMessage.roomInfo.stuLiveInfo.planId,classId:1*this.options.roomMessage.roomInfo.stuLiveInfo.classId,interactId:this.options.ircMsg.interactId},e.next=3,Object(hn["c"])(this,t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));function t(){return console.info("函数申明 voteReport, filePath:renderer/SmallClass/interactions/vote/vote.js"),e.apply(this,arguments)}return t}()},{key:"getUnSubmit",value:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(){var t,n;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={planId:1*this.options.roomMessage.roomInfo.stuLiveInfo.planId,interactionId:this.options.ircMsg.interactId},e.next=3,Object(hn["f"])(this,t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));function t(){return console.info("函数申明 getUnSubmit, filePath:renderer/SmallClass/interactions/vote/vote.js"),e.apply(this,arguments)}return t}()}]),n}(L["a"]),fn={props:{options:{type:Object,default:function(){return{ircMsg:{},roomMessage:{roomInfo:{commonOption:{}}}}}}},data:function(){return{toShow:!0,curtOption:"",skinType:1,optionList:[],vote:null,getResult:!1,isCorrect:!1,getGold:0,statistics:[],timer:null,unSubmit:!0,isAnswer:!0,isRepeatPrevOption:"",clickVoteDurationInterval:!1}},mounted:function(){this.recoverVoteStatus(),this.optionList=this.vote.handleOptions(),this.sendLogger("收到互动","start")},created:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.timer&&clearTimeout(e.timer),e.timer=null,e.vote=new mn(Object(y["a"])({},e.options)),e.voteReport(),e.$bus.$on("getVoteStatistics",(function(t){console.info("箭头函数 监听 getVoteStatistics(noticeContent)",t,"filePath:renderer/SmallClass/interactions/vote/index.vue"),e.getVoteStatistics(t)}));case 5:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/SmallClass/interactions/vote/index.vue"),this.$bus.$off("getVoteStatistics")},methods:{handleToggleBar:function(){console.info("对象函数 handleToggleBar,filePath:renderer/SmallClass/interactions/vote/index.vue"),this.toShow=!this.toShow},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";F["a"].send({tag:"student.Interact",level:n,content:{msg:e,interactType:"Vote",interactId:this.options.ircMsg.interactId,interactStage:t}})},voteReport:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 voteReport,filePath:renderer/SmallClass/interactions/vote/index.vue"),t.next=3,e.vote.voteReport();case 3:if(n=t.sent,0==n.code){t.next=7;break}return e.$Message.info(n.msg),t.abrupt("return");case 7:case"end":return t.stop()}}),t)})))()},recoverVoteStatus:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 recoverVoteStatus,filePath:renderer/SmallClass/interactions/vote/index.vue"),t.prev=1,t.next=4,e.vote.getVoteStatus();case 4:n=t.sent,0!=n.code&&(e.$Message.info(n.msg),e.sendLogger("互动状态查询接口code不为0","start","error")),e.isRepeatPrevOption=n.data.option,e.isAnswer=n.data.voteState,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),e.isAnswer=!1,e.sendLogger("互动状态查询接口报错","start","error");case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()},handleSelectOption:function(e){console.info("对象函数 handleSelectOption(opt)",e,"filePath:renderer/SmallClass/interactions/vote/index.vue"),this.getResult||(this.$refs.voteKeyTone.play(),this.curtOption=e.option)},submit:function(e){var t=this;return Object(O["a"])(Object(x["a"])().mark((function n(){var s,a;return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.info("对象函数 submit(isClick)",e,"filePath:renderer/SmallClass/interactions/vote/index.vue"),!e||!t.unSubmit){n.next=16;break}return t.$refs.voteSubmit.play(),t.unSubmit=!1,n.next=6,t.vote.submitVote(t.curtOption);case 6:if(a=n.sent,Se["p"](null===(s=t.options)||void 0===s?void 0:s.ircMsg,null===a||void 0===a?void 0:a.data),t.sendLogger("投票数据提交结果: ".concat(JSON.stringify(a))),t.clickVoteDurationInterval=!0,t.unSubmit=!0,t.getResult=!0,0==a.code){n.next=15;break}return t.$Message.info(a.msg),n.abrupt("return");case 15:t.handleSubmit(a.data);case 16:case"end":return n.stop()}}),n)})))()},handleSubmit:function(e){var t=this;return Object(O["a"])(Object(x["a"])().mark((function n(){var s,a,i,o,r;return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.info("对象函数 handleSubmit(data)",e,"filePath:renderer/SmallClass/interactions/vote/index.vue"),s=e.answerStat,a=e.gold,i=e.isRepeat,t.getGold=a,i&&t.$Message.warn(t.$t("classroom.interactions.vote.repeatSubmitMessage")),t.options.ircMsg.hascorrect&&(i?t.destroy():(t.isCorrect=1==s,1==s?null===(o=t.$refs.voteHasCorrectSuccess)||void 0===o||o.play():null===(r=t.$refs.voteHasCorrectFail)||void 0===r||r.play(),t.$bus.$emit("continuousCorrect",Object(y["a"])(Object(y["a"])({},e),{},{isNoMedal:!0})),setTimeout((function(){t.destroy()}),3e3)));case 5:case"end":return n.stop()}}),n)})))()},getVoteStatistics:function(e){var t=this;return Object(O["a"])(Object(x["a"])().mark((function n(){var s;return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.info("对象函数 getVoteStatistics(result)",e,"filePath:renderer/SmallClass/interactions/vote/index.vue"),t.statistics=[],t.getResult){for(s in e)t.statistics.push(e[s]);t.getResult=!0}case 3:case"end":return n.stop()}}),n)})))()},destroy:function(){console.info("对象函数 destroy,filePath:renderer/SmallClass/interactions/vote/index.vue"),this.$emit("close","vote")},destroyInteraction:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.info("对象函数 destroyInteraction,filePath:renderer/SmallClass/interactions/vote/index.vue"),console.log("教师端主动关闭互动"),e.clickVoteDurationInterval||e.isAnswer){t.next=15;break}if(!e.curtOption){t.next=9;break}return t.next=6,e.submit(e.curtOption);case 6:e.timer=setTimeout(Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.destroy();case 1:case"end":return t.stop()}}),t)}))),4e3),t.next=13;break;case 9:return t.next=11,e.vote.getUnSubmit();case 11:e.sendLogger("互动结束，投票未提交"),e.destroy();case 13:t.next=16;break;case 15:e.destroy();case 16:case"end":return t.stop()}}),t)})))()}}},pn=fn,gn=(n("913b"),Object(q["a"])(pn,un,dn,!1,null,null,null)),vn=gn.exports,Cn=function(){var e=this,t=e._self._c;return t("div",[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpenKeyBoardContainer,expression:"isOpenKeyBoardContainer"}],staticClass:"fill-blank-container"},[t("div",{staticClass:"keyboard-input"},[t("img",{staticClass:"expand-btn",attrs:{src:e.isShowKeyBoard?n("2f85"):n("ae7f"),id:"expand-btn"},on:{click:function(t){return t.stopPropagation(),e.expandKeyBoard("expand-btn")},mouseout:function(t){return e.removeKeyDownClass("expand-btn")},mousemove:function(t){return e.addHoverClass("expand-btn")}}}),t("div",{staticClass:"input-container",on:{click:function(t){return t.stopPropagation(),e.clickInputBox.apply(null,arguments)}}},[e.inputValue||e.isClicked?e._e():t("span",{staticClass:"placeholder"},[e._v(e._s(e.$t("classroom.interactions.nonPersetFillBlank.inputPlaceholder")))]),t("span",{staticClass:"math-input",attrs:{id:"mathinput"}})]),t("div",{staticClass:"submit-btn",attrs:{id:"submit-btn"},on:{click:function(t){return t.stopPropagation(),e.clickSubmitBtn("submit-btn")},mouseout:function(t){return e.removeKeyDownClass("submit-btn")},mousemove:function(t){return e.addHoverClass("submit-btn")}}},[t("img",{attrs:{src:e.inputValue&&e.inputValue!==e.emptyFenshi?n("e2a1"):n("3339")}}),t("span",{attrs:{id:"submit-text"}},[e._v(e._s(e.$t("classroom.interactions.nonPersetFillBlank.submit")))])])]),t("KeyBoard",{directives:[{name:"show",rawName:"v-show",value:e.isShowKeyBoard,expression:"isShowKeyBoard"}],ref:"keyBoard",on:{updateInputValue:e.updateInputValue}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpenAnswerCorrectDialog,expression:"isOpenAnswerCorrectDialog"}],staticClass:"vote-result-isCorrect"},[t("div",{staticClass:"myAnswer-container"},[t("div",{staticClass:"note-container"},[t("img",{staticClass:"note-img",attrs:{src:n("15b9")}}),t("span",{staticClass:"answer-desc"},[e._v(e._s(e.$t("classroom.interactions.nonPersetFillBlank.myAnswer")))])]),t("span",{staticClass:"answer-text",attrs:{id:"myAnswer"}},[e._v(e._s(this.myAnswer))]),t("img",{staticClass:"lottie-img",attrs:{src:n("4e4e")}})])]),e.submitStatus?t("div",{staticClass:"toast-tips"},[1===e.submitStatus?t("span",[e._v(" "+e._s(e.$t("classroom.interactions.nonPersetFillBlank.submitSuccessfully"))+" ")]):t("span",[e._v(" "+e._s(e.$t("classroom.interactions.nonPersetFillBlank.submitFailed"))+" ")])]):e._e()])},bn=[],An=(n("1276"),n("d4be")),Sn=function(e){Object(T["a"])(n,e);var t=Object(B["a"])(n);function n(){var e,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.info("函数申明 Main(opts)",s,"filePath:renderer/SmallClass/interactions/NonpresetFillBlank/fillBlank.js"),Object(P["a"])(this,n),e=t.call(this),e.options=s,e.skinType=e.options.roomMessage.roomInfo.commonOption,e.vm=s.vm,e}return Object(j["a"])(n,[{key:"handleOptions",value:function(){var e=this.options.ircMsg;return e.options=Object.keys(e.options).map((function(t){var n=e.options[t];return n.height=0,n.percent=0,n})),e.options}},{key:"checkAnswerResult",value:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(){var t,n;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={planId:1*this.options.roomMessage.roomInfo.stuLiveInfo.planId,classId:1*this.options.roomMessage.roomInfo.stuLiveInfo.classId,interactionId:this.options.ircMsg.interactId},e.next=3,Object(hn["a"])(this,t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));function t(){return console.info("函数申明 checkAnswerResult, filePath:renderer/SmallClass/interactions/NonpresetFillBlank/fillBlank.js"),e.apply(this,arguments)}return t}()},{key:"submitAnswerResult",value:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(t){var n,s;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={planId:1*this.options.roomMessage.roomInfo.stuLiveInfo.planId,classId:1*this.options.roomMessage.roomInfo.stuLiveInfo.classId,interactionId:this.options.ircMsg.interactId,option:t},e.next=3,Object(hn["e"])(this,n);case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return console.info("函数申明 submitAnswerResult(_x)",t,"filePath:renderer/SmallClass/interactions/NonpresetFillBlank/fillBlank.js"),e.apply(this,arguments)}return t}()},{key:"fillBlankReport",value:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(){var t;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("fillBlankReport",this.options),t={planId:1*this.options.roomMessage.roomInfo.stuLiveInfo.planId,classId:1*this.options.roomMessage.roomInfo.stuLiveInfo.classId,interactId:this.options.ircMsg.interactId},Object(An["b"])(t);case 3:case"end":return e.stop()}}),e,this)})));function t(){return console.info("函数申明 fillBlankReport, filePath:renderer/SmallClass/interactions/NonpresetFillBlank/fillBlank.js"),e.apply(this,arguments)}return t}()}]),n}(L["a"]),wn=function(){var e=this,t=e._self._c;return t("div",{staticClass:"keyboard-container"},["N+1"==e.panelType?t("div",{staticClass:"keyboard-panel"},e._l(e.keypanelConfig[e.panelType].keyList,(function(n,s){return t("div",{key:s,staticClass:"keyboard-item",attrs:{id:"key-"+s},on:{click:function(t){return t.stopPropagation(),e.insertar(n.v,"key-".concat(s))},mouseout:function(t){return e.removeKeyDownClass("key-".concat(s))},mousemove:function(t){return e.addHoverClass("key-".concat(s))}}},["del"===n.v?t("span",{staticClass:"text"},[e._v(e._s(e.$t("classroom.interactions.nonPersetFillBlank.clear")))]):e._e(),t("img",{staticClass:"key-icon",attrs:{src:n.i,alt:""}})])})),0):e._e(),t("audio",{ref:"keyDownSound",attrs:{src:n("0f9b")}})])},yn=[],kn={name:"keyboard",data:function(){return{mathField:null,panelType:"N+1",keypanelConfig:{"N+1":{keyList:[{k:"1",v:"1",i:n("f773")},{k:"2",v:"2",i:n("1c7b")},{k:"3",v:"3",i:n("69b0")},{k:"4",v:"4",i:n("7ad5")},{k:"5",v:"5",i:n("1fcc")},{k:"",v:"/",i:n("1eb8")},{k:"+",v:"+",i:n("4194")},{k:"-",v:"-",i:n("a33c")},{k:"×",v:"\\times",i:n("5e73")},{k:"÷",v:"\\div",i:n("1719")},{k:"",v:"Backspace",i:n("73de")},{k:"6",v:"6",i:n("85b5")},{k:"7",v:"7",i:n("b4db")},{k:"8",v:"8",i:n("4d71")},{k:"9",v:"9",i:n("9112d")},{k:"0",v:"0",i:n("5884")},{k:".",v:".",i:n("44b5")},{k:"<",v:"<",i:n("a503")},{k:">",v:">",i:n("9553")},{k:"%",v:"%",i:n("36da")},{k:"=",v:"=",i:n("638d")},{k:"清空",v:"del",i:n("6dc3")}]}},controller:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initMathQuill()}))},methods:{initMathQuill:function(){console.info("对象函数 initMathQuill,filePath:renderer/SmallClass/interactions/NonpresetFillBlank/keyboard.vue");var e=this,t=document.getElementById("mathinput"),n=MathQuillTal.getInterface(2);this.mathField=n.MathField(t,{restrictMismatchedBrackets:!0,handlers:{edit:function(){console.log("输入的内容--------",e.mathField.latex()),e.$emit("updateInputValue",e.mathField.latex()),e.controller=e.mathField.__controller,e.controller.cursor.show(),e.controller.blurred=!1}}})},setMathFieldBlur:function(){console.info("对象函数 setMathFieldBlur,filePath:renderer/SmallClass/interactions/NonpresetFillBlank/keyboard.vue"),this.mathField.blur()},setMathFieldFocus:function(){console.info("对象函数 setMathFieldFocus,filePath:renderer/SmallClass/interactions/NonpresetFillBlank/keyboard.vue"),this.mathField.focus()},insertar:function(e,t){if(console.info("对象函数 insertar(valor, id)",e,t,"filePath:renderer/SmallClass/interactions/NonpresetFillBlank/keyboard.vue"),this.addKeyDownClass(t),"Backspace"==e){var n=this.mathField.latex();this.mathField.keystroke(e);var s=this.mathField.latex();if(n.indexOf("frac")>-1&&-1===s.indexOf("frac")){var a=n.split("\\frac")[0];this.mathField.latex(a)}}else if("del"==e)this.mathField.latex("");else if(-1==this.mathField.latex().indexOf("frac")&&"/"==e){if(this.mathField.cmd("1"),!this.filterStrLength(this.mathField.latex()))return void this.mathField.keystroke("Backspace");this.mathField.keystroke("Backspace"),this.mathField.latex(this.mathField.latex()+"\\frac{}{1}"),this.mathField.keystroke("Backspace"),this.mathField.keystroke("Backspace")}else"/"!=e&&("="==e?this.mathField.latex(this.mathField.latex()+"="):this.mathField.cmd(e),this.filterStrLength(this.mathField.latex())||this.mathField.keystroke("Backspace"))},filterStrLength:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;console.info("对象函数 filterStrLength(val, len)",e,t,"filePath:renderer/SmallClass/interactions/NonpresetFillBlank/keyboard.vue");var n="",s=0,a=!1;if(-1!=e.indexOf("frac")){n=e.replace("\\frac","");var i=n.split("}{"),o=i[0].split("{"),r=this.latexToOne(o[1]),c=i[1].split("}"),l=this.latexToOne(c[0]),u=this.latexToOne(o[0]+c[1]);(c[1].length>0||isNaN(o[1])||isNaN(c[0]))&&(a=!0),s=r>l?r+u:l+u}else s=this.latexToOne(e);return!(s>t||a)},latexToOne:function(e){return console.info("对象函数 latexToOne(str)",e,"filePath:renderer/SmallClass/interactions/NonpresetFillBlank/keyboard.vue"),e.replace("\\%","1").replace("\\times","1").replace("\\div","1").replace("\\ge","1").replace("\\le","1").length},addKeyDownClass:function(e){console.info("对象函数 addKeyDownClass(id)",e,"filePath:renderer/SmallClass/interactions/NonpresetFillBlank/keyboard.vue"),this.$refs.keyDownSound.play(),document.getElementById(e).classList.remove("hover_style"),document.getElementById(e).classList.add("click-style")},removeKeyDownClass:function(e){console.info("对象函数 removeKeyDownClass(id)",e,"filePath:renderer/SmallClass/interactions/NonpresetFillBlank/keyboard.vue"),document.getElementById(e).classList.remove("hover_style"),document.getElementById(e).classList.remove("click-style")},addHoverClass:function(e){console.info("对象函数 addHoverClass(id)",e,"filePath:renderer/SmallClass/interactions/NonpresetFillBlank/keyboard.vue"),document.getElementById(e).classList.add("hover_style")}}},In=kn,xn=(n("519f"),Object(q["a"])(In,wn,yn,!1,null,"515e5dd0",null)),On=xn.exports,Pn={props:{options:{type:Object,default:function(){return{ircMsg:{},roomMessage:{roomInfo:{commonOption:{}}}}}}},components:{KeyBoard:On},data:function(){return{nonPersetFillBlank:null,fillBlankAnswerState:0,fillBlankAnswerIsSubmit:!1,timer:null,isShowKeyBoard:!0,myAnswer:"",isStopAnswer:!1,inputValue:"",rewardCoins:0,submitStatus:0,isSubmitting:!1,isClicked:!1,emptyFenshi:"\\frac{ }{ }",durationTime:3e3}},mounted:function(){this.sendLogger("收到填一填互动","start"),this.listenerSignalService(),console.log("收到填一填互动",this.options),this.recoverHistory()},computed:{isOpenKeyBoardContainer:function(){return console.info("对象函数 isOpenKeyBoardContainer,filePath:renderer/SmallClass/interactions/NonpresetFillBlank/index.vue"),!1===this.fillBlankAnswerIsSubmit&&!this.isStopAnswer},isOpenAnswerCorrectDialog:function(){return console.info("对象函数 isOpenAnswerCorrectDialog,filePath:renderer/SmallClass/interactions/NonpresetFillBlank/index.vue"),this.fillBlankAnswerIsSubmit&&1===this.fillBlankAnswerState}},created:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.timer&&clearTimeout(e.timer),e.timer=null,e.nonPersetFillBlank=new Sn(Object(y["a"])({},e.options)),e.nonPersetFillBlank.fillBlankReport();case 4:case"end":return t.stop()}}),t)})))()},watch:{isOpenAnswerCorrectDialog:{handler:function(e){e&&(console.log("打开作答正确结果弹窗"),this.$nextTick((function(){var e=document.getElementById("myAnswer"),t=MathQuillTal.getInterface(2);t.StaticMath(e)})))},immediate:!0}},methods:{receiveMessage:function(e){console.info("对象函数 receiveMessage(noticeContent)",e,"filePath:renderer/SmallClass/interactions/NonpresetFillBlank/index.vue"),e.isStop&&(this.sendLogger("收到老师停止作答消息"),this.isStopAnswer=!0,this.fillBlankAnswerIsSubmit||this.submitFillBlankAnswer())},listenerSignalService:function(){console.info("对象函数 listenerSignalService,filePath:renderer/SmallClass/interactions/NonpresetFillBlank/index.vue");var e=this.thinkClass.SignalService;e.on("onRecvRoomMessage",this.markCorrectHandler)},markCorrectHandler:function(e){console.info("对象函数 markCorrectHandler(res)",e,"filePath:renderer/SmallClass/interactions/NonpresetFillBlank/index.vue"),e.content&&"fill_blank_mark_correct"===e.content.ircType&&(console.log("收到标记正确群聊消息"),this.sendLogger("收到标记正确群聊消息, 当前作答状态: ".concat(this.fillBlankAnswerState)),2===this.fillBlankAnswerState&&this.checkAnswerResult())},removeSignalService:function(){console.info("对象函数 removeSignalService,filePath:renderer/SmallClass/interactions/NonpresetFillBlank/index.vue");var e=this.thinkClass.SignalService;e.off("onRecvRoomMessage",this.markCorrectHandler)},recoverHistory:function(){var e;console.info("对象函数 recoverHistory,filePath:renderer/SmallClass/interactions/NonpresetFillBlank/index.vue"),null!==(e=this.options)&&void 0!==e&&e.isHistory&&(this.sendLogger("填一填历史互动恢复: ".concat(JSON.stringify(this.options))),this.fillBlankAnswerIsSubmit=null,this.checkAnswerResult())},checkAnswerResult:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 checkAnswerResult,filePath:renderer/SmallClass/interactions/NonpresetFillBlank/index.vue"),console.log("查询学生作答结果"),t.next=4,e.nonPersetFillBlank.checkAnswerResult();case 4:n=t.sent,e.sendLogger("查询【填一填】学员作答结果: ".concat(JSON.stringify(n))),e.setAnswerResultState(n);case 7:case"end":return t.stop()}}),t)})))()},clickSubmitBtn:function(e){console.info("对象函数 clickSubmitBtn(id)",e,"filePath:renderer/SmallClass/interactions/NonpresetFillBlank/index.vue"),this.sendLogger("点击提交按钮"),this.isSubmitting||(this.$refs.keyBoard.addKeyDownClass(e),this.submitFillBlankAnswer())},submitFillBlankAnswer:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n,s,a;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.info("对象函数 submitFillBlankAnswer,filePath:renderer/SmallClass/interactions/NonpresetFillBlank/index.vue"),e.inputValue&&e.inputValue!==e.emptyFenshi){t.next=4;break}return e.sendLogger("提交内容为空或空分式, inputValue: ".concat(e.inputValue)),t.abrupt("return");case 4:return e.$sensors.track("keyboard_submit"),e.formatAnswerHandler(),console.log("学员提交的答案",e.inputValue),e.sendLogger("学员提交答案: ".concat(e.inputValue)),e.isSubmitting=!0,t.prev=9,t.next=12,e.nonPersetFillBlank.submitAnswerResult(e.inputValue);case 12:n=t.sent,0===n.code?(e.submitStatus=1===(null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.answerStat)?0:1,e.setAnswerResultState(n,!0),Se["p"](null===(a=e.options)||void 0===a?void 0:a.ircMsg,n.data)):(e.submitStatus=2,e.sendLogger("[接口报错]学员提交答案失败".concat(n.code))),t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](9),e.submitStatus=2,e.sendLogger("[接口报错]学员提交答案失败");case 20:e.isSubmitting=!1,setTimeout((function(){e.submitStatus=0}),e.durationTime);case 22:case"end":return t.stop()}}),t,null,[[9,16]])})))()},formatAnswerHandler:function(){console.info("对象函数 formatAnswerHandler,filePath:renderer/SmallClass/interactions/NonpresetFillBlank/index.vue"),this.inputValue.includes(this.emptyFenshi)&&(this.inputValue=this.inputValue.split(this.emptyFenshi)[0]),this.inputValue=this.inputValue.replace(/\\\./g,".").replace("{ }","{}")},setAnswerResultState:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(console.info("对象函数 setAnswerResultState(res, isClickSubmit)",e,n,"filePath:renderer/SmallClass/interactions/NonpresetFillBlank/index.vue"),0===e.code){var s,a,i,o,r;if(n)this.fillBlankAnswerIsSubmit=!0;else this.fillBlankAnswerIsSubmit=!(null===e||void 0===e||null===(o=e.data)||void 0===o||!o.answerStat);if(this.fillBlankAnswerState=null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.answerStat,console.log("当前学员作答状态",this.fillBlankAnswerIsSubmit),this.sendLogger("当前学员作答状态: ".concat(this.fillBlankAnswerState)),this.myAnswer=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.option,this.rewardCoins=null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.addCoin,1===this.fillBlankAnswerState)this.$bus.$emit("continuousCorrect",{answerStat:this.fillBlankAnswerState,gold:null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.addCoin,isNoMedal:!0}),setTimeout((function(){t.destroy()}),this.durationTime)}},expandKeyBoard:function(e){console.info("对象函数 expandKeyBoard(id)",e,"filePath:renderer/SmallClass/interactions/NonpresetFillBlank/index.vue"),this.$refs.keyBoard.addKeyDownClass(e),this.isShowKeyBoard=!this.isShowKeyBoard,this.$sensors.track("click_expand_keyboard_btn",{isShowKeyBoard:this.isShowKeyBoard}),this.sendLogger("伸缩键盘, 当前键盘是否展开: ".concat(this.isShowKeyBoard)),this.isShowKeyBoard||this.$refs.keyBoard.setMathFieldBlur()},clickInputBox:function(){console.info("对象函数 clickInputBox,filePath:renderer/SmallClass/interactions/NonpresetFillBlank/index.vue"),this.isClicked||(this.isClicked=!0,this.$refs.keyBoard.setMathFieldFocus()),this.isShowKeyBoard||(this.isShowKeyBoard=!0)},removeKeyDownClass:function(e){console.info("对象函数 removeKeyDownClass(id)",e,"filePath:renderer/SmallClass/interactions/NonpresetFillBlank/index.vue"),this.$refs.keyBoard.removeKeyDownClass(e)},addHoverClass:function(e){console.info("对象函数 addHoverClass(id)",e,"filePath:renderer/SmallClass/interactions/NonpresetFillBlank/index.vue"),this.$refs.keyBoard.addHoverClass(e)},updateInputValue:function(e){console.info("对象函数 updateInputValue(val)",e,"filePath:renderer/SmallClass/interactions/NonpresetFillBlank/index.vue"),this.isClicked=!0,this.inputValue=e},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";F["a"].send({tag:"student.Interact",content:{msg:e,interactType:"nonPersetFillBlank",interactId:this.options.ircMsg.interactId,interactStage:t}})},destroy:function(){console.info("对象函数 destroy,filePath:renderer/SmallClass/interactions/NonpresetFillBlank/index.vue"),this.$emit("close","nonpreset_fill_blank")},destroyInteraction:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.info("对象函数 destroyInteraction,filePath:renderer/SmallClass/interactions/NonpresetFillBlank/index.vue"),e.isStopAnswer=!0,e.sendLogger("互动结束，教师端主动关闭互动"),e.fillBlankAnswerIsSubmit){t.next=6;break}return t.next=6,e.submitFillBlankAnswer();case 6:e.timer=setTimeout(Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.destroy();case 1:case"end":return t.stop()}}),t)}))),e.durationTime);case 7:case"end":return t.stop()}}),t)})))()}}},jn=Pn,Tn=(n("94c2"),Object(q["a"])(jn,Cn,bn,!1,null,"69ebbdbf",null)),Bn=Tn.exports,Ln=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:e.isSubmit&&!e.isExceptionStatus?"courseware-board-container-musk":"courseware-board-container"},[t("audio",{ref:"interactFail",staticClass:"hide",attrs:{src:n("670d")}}),t("audio",{ref:"interactKeyTone",staticClass:"hide",attrs:{src:n("d2b0")}}),t("audio",{ref:"interactSubmit",staticClass:"hide",attrs:{src:n("6154")}}),t("audio",{ref:"interactSuccess",staticClass:"hide",attrs:{src:n("a475")}}),t("audio",{ref:"coinAudio",attrs:{src:n("acd6")}}),t("div",{ref:"coursewareBoardBlock",staticClass:"vote-bar-container pt-[0.16rem] pr-[0.16rem] pl-[0.16rem]",class:e.isExpanded?"ease-out":"ease-in"},[e.isSubmit?e._e():[t("div",{staticClass:"vote-pri-bar-container w-[0.9rem] h-[0.3rem] top-[-0.3rem]",on:{click:function(t){e.isExpanded=!e.isExpanded}}},[e.isExpanded?t("img",{staticClass:"w-[0.12rem] h-[0.08rem]",attrs:{src:n("c8cf")}}):t("img",{staticClass:"w-[0.12rem] h-[0.08rem]",attrs:{src:n("9d3e")}})]),t("div",{staticClass:"vote-wrapper"},[e.countdownOptions?t("div",{ref:"timerBox",staticClass:"timer-box text-large",class:[e.isSubmit?"hidden":""]},[t("CountDown",{attrs:{time:e.countdownOptions,format:"mm:ss"},on:{complete:e.countdownComplete}})],1):e._e(),t("QuestionOption",{attrs:{optionList:e.optionList,quesTypeId:e.quesTypeId},on:{change:e.upodateUserAnswer}}),t("div",{staticClass:"vote-submit-container h-[0.44rem]"},[t("div",{staticClass:"vote-submit text-large",class:e.btnDisabled?"":"isSelected",on:{click:function(t){return t.stopPropagation(),e.submitAnswer(!0)}}},[e._v(" "+e._s(e.$t("common.submit"))+" ")])])],1)],e.isSubmit&&!e.isExceptionStatus?[t("div",{staticClass:"vote-wrapper-result"},[t("div",{staticClass:"vote-title res vote-title"}),t("QuestionJudge",{attrs:{quesTypeId:e.quesTypeId,userAnswer:e.userAnswer,quesAnswer:e.quesAnswer}}),t("div",{staticClass:"vote-res-close-container h-[0.34rem]"},[t("div",{staticClass:"icon-close w-[0.34rem] h-full",on:{click:e.destroy}})])],1)]:e._e()],2)])},Mn=[],Rn=(n("4e82"),n("ceab")),En=function(){var e=this,t=e._self._c;return t("transition",{on:{"after-leave":e.handleAfterLeave}},[e.visible?t("div",{staticClass:"coursewae-toast",class:[e.typeClass],on:{mouseenter:e.clearTimer,mouseleave:e.startTimer}},[t("h2",[e._v(e._s(e.title))]),t("p",[e._v(e._s(e.message))]),"right"===e.type?t("div",{staticClass:"coins-number"},[t("i"),e._v(" +"+e._s(e.coin))]):e._e()]):e._e()])},Dn=[],Nn={right:"right",wrong:"wrong"},Vn={data:function(){return{visible:!1,type:"right",title:"",message:"",coin:0,duration:0,closed:!1,onClose:null,timer:null}},computed:{typeClass:function(){return console.info("对象函数 typeClass,filePath:renderer/SmallClass/interactions/VoteForCourseware/components/toast/toast.vue"),"is-".concat(Nn[this.type])}},mounted:function(){this.startTimer()},methods:{handleAfterLeave:function(){var e;console.info("对象函数 handleAfterLeave,filePath:renderer/SmallClass/interactions/VoteForCourseware/components/toast/toast.vue"),this.$destroy(!0),null===(e=this.$el)||void 0===e||null===(e=e.parentNode)||void 0===e||e.removeChild(this.$el)},close:function(){console.info("对象函数 close,filePath:renderer/SmallClass/interactions/VoteForCourseware/components/toast/toast.vue"),this.closed=!0,"function"===typeof this.onClose&&this.onClose(this)},clearTimer:function(){console.info("对象函数 clearTimer,filePath:renderer/SmallClass/interactions/VoteForCourseware/components/toast/toast.vue"),clearTimeout(this.timer)},startTimer:function(){var e=this;console.info("对象函数 startTimer,filePath:renderer/SmallClass/interactions/VoteForCourseware/components/toast/toast.vue"),this.duration>0&&(this.timer=setTimeout((function(){e.closed||e.close()}),this.duration))}},watch:{closed:function(e){console.info("对象函数 closed(newVal)",e,"filePath:renderer/SmallClass/interactions/VoteForCourseware/components/toast/toast.vue"),e&&(this.visible=!1)}}},Fn=Vn,Un=(n("d119"),Object(q["a"])(Fn,En,Dn,!1,null,"da9f9826",null)),Wn=Un.exports,Gn=g.a.extend(Wn),_n=1,Hn=function(e){console.info("箭头函数 ToastBox(options)",e,"filePath:renderer/SmallClass/interactions/VoteForCourseware/components/toast/index.js"),e=e||{},"string"===typeof e&&(e={message:e});var t="toast_"+_n++;return s=new Gn({data:e}),s.id=t,s.$mount(),document.getElementById("interactionController").appendChild(s.$el),s.visible=!0,s};Hn.close=function(){s&&(s.visible=!1)};var Qn,Jn=Hn,qn=function(e){Object(T["a"])(n,e);var t=Object(B["a"])(n);function n(){var e,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.info("函数申明 Main(opts)",s,"filePath:renderer/SmallClass/interactions/VoteForCourseware/coursewareBoard.js"),Object(P["a"])(this,n),e=t.call(this),e.options=s,e.vm=s.vm,e.quesInfo=null,e.handleQuesInfo(),e}return Object(j["a"])(n,[{key:"initCountdown",value:function(){var e=+new Date,t=this.options.roomMessage.roomInfo.commonOption.timeOffset,n=1e3*this.options.ircMsg.countDownTime-(e+t-this.options.ircMsg.currentTime);return F["a"].send({tag:"student.Interact",content:{msg:"本机时间：".concat(e,",偏移量:").concat(t,",倒计时").concat(n),interactType:"答题h5互动",interactId:this.options.ircMsg.interactId}}),n}},{key:"handleQuesInfo",value:function(){var e=this.options.ircMsg,t=e.quesTypeId,n=e.quesAnswer,s=e.quesOptions,a=e.quesId,i=e.interactId,o=e.rightCoin,r=e.countDownTime,c=this.options.roomMessage.roomInfo,l=c.stuInfo,u=c.teacherInfo,d=c.stuLiveInfo;return this.quesInfo={quesTypeId:1*t,quesAnswer:n,quesOptions:s.flat(),quesId:a,interactId:i,rightCoin:o,countDownTime:r,stuInfo:l,teacherInfo:u,stuLiveInfo:d},this.quesInfo}},{key:"handleCorrectQues",value:function(e,t){return e.length?Object(_e["a"])(new Set(e)).sort().toString()===Object(_e["a"])(new Set(t)).sort().toString()?1:2:3}},{key:"submitAnswer",value:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(t){var n,s,a,i,o,r,c;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={teacherId:this.quesInfo.teacherInfo.id,tutorId:this.quesInfo.stuLiveInfo.tutorId,planId:this.quesInfo.stuLiveInfo.planId,classId:this.quesInfo.stuLiveInfo.classId,interactId:this.quesInfo.interactId,questionId:this.quesInfo.quesId,userAnswer:Object(_e["a"])(t),isRight:this.handleCorrectQues(t,this.quesInfo.quesAnswer),userName:this.quesInfo.stuInfo.nickName},e.next=3,Object(Rn["f"])(n).catch((function(e){return console.info("箭头函数 submitUserAnswer的catch(err)",e,"filePath:renderer/SmallClass/interactions/VoteForCourseware/coursewareBoard.js"),F["a"].send({tag:"http",content:{msg:"接口报错:提交答案:",err:e,params:n},level:"error"}),e}));case 3:if(s=e.sent,a=s.code,i=s.data,o=n.isRight,r=Object(y["a"])(Object(y["a"])({},i),{},{isRight:o,rightCoin:null===i||void 0===i?void 0:i.rightCoin}),c={params:n,response:s,isSubmit:!1,isRight:o},g.a.prototype.$bus.$emit("continuousCorrect",r),0!==a){e.next=12;break}return c.isSubmit=!0,e.abrupt("return",c);case 12:return e.abrupt("return",c);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return console.info("函数申明 submitAnswer(_x)",t,"filePath:renderer/SmallClass/interactions/VoteForCourseware/coursewareBoard.js"),e.apply(this,arguments)}return t}()},{key:"questionStatus",value:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(){var t;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t={teacherId:this.quesInfo.teacherInfo.id,tutorId:this.quesInfo.stuLiveInfo.tutorId,planId:this.quesInfo.stuLiveInfo.planId,courseId:this.quesInfo.stuLiveInfo.courseId,classId:this.quesInfo.stuLiveInfo.classId,interactId:this.quesInfo.interactId},e.next=4,Object(Rn["d"])(t);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e["catch"](0),console.error("getQuestionStatus",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return console.info("函数申明 questionStatus, filePath:renderer/SmallClass/interactions/VoteForCourseware/coursewareBoard.js"),e.apply(this,arguments)}return t}()},{key:"interactReport",value:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(){var t;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t={planId:this.quesInfo.stuLiveInfo.planId,classId:this.quesInfo.stuLiveInfo.classId,interactId:this.quesInfo.interactId},e.next=4,Object(Rn["e"])(t);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e["catch"](0),console.error("interactReport",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return console.info("函数申明 interactReport, filePath:renderer/SmallClass/interactions/VoteForCourseware/coursewareBoard.js"),e.apply(this,arguments)}return t}()},{key:"closeToast",value:function(){return Jn.close()}}]),n}(L["a"]),Kn=function(){var e=this,t=e._self._c;return t("div",{staticClass:"vote-options-courseware mt-[0.16rem] mb-[0.16rem]",attrs:{"data-log":"单选多选判断面板"}},[1===e.quesTypeId?t("Single",{attrs:{options:e.optionList},on:{change:e.handleChange},model:{value:e.userAnswer,callback:function(t){e.userAnswer=t},expression:"userAnswer"}}):e._e(),2===e.quesTypeId?t("Multiple",{attrs:{options:e.optionList},on:{change:e.handleChange},model:{value:e.userAnswer,callback:function(t){e.userAnswer=t},expression:"userAnswer"}}):e._e(),5===e.quesTypeId?t("Judge",{attrs:{options:e.judgeOptions,value:e.userAnswer},on:{change:e.handleChange}}):e._e()],1)},$n=[],zn=function(){var e=this,t=e._self._c;return t("div",{staticClass:"multi-select vote-options mt-[0.16rem] mb-[0.16rem]"},e._l(e.options,(function(n,s){return t("div",{key:s,staticClass:"option-item text-superLarge",class:{active:e.selectedOptions.includes(n)},on:{click:function(t){return e.toggleOption(n)}}},[t("span",[e._v(e._s(n))])])})),0)},Yn=[],Xn=(n("a434"),{props:{options:{type:Array,required:!0},value:{type:Array,default:function(){return[]}}},mounted:function(){console.log("optionList",this.optionList)},data:function(){return{selectedOptions:this.value}},watch:{value:function(e){console.info("对象函数 value(newValue)",e,"filePath:renderer/SmallClass/interactions/VoteForCourseware/components/Multiple.vue"),this.selectedOptions=e}},methods:{toggleOption:function(e){console.info("对象函数 toggleOption(option)",e,"filePath:renderer/SmallClass/interactions/VoteForCourseware/components/Multiple.vue");var t=this.selectedOptions.indexOf(e);-1===t?this.selectedOptions.push(e):this.selectedOptions.splice(t,1),console.log("this.selectedOptions",this.selectedOptions),this.$emit("input",this.selectedOptions),this.$emit("change",this.selectedOptions)}}}),Zn=Xn,es=(n("1500"),Object(q["a"])(Zn,zn,Yn,!1,null,"0b84dd56",null)),ts=es.exports,ns=function(){var e=this,t=e._self._c;return t("div",{staticClass:"vote-options mt-[0.16rem] mb-[0.16rem]"},e._l(e.options,(function(n,s){return t("div",{key:s,staticClass:"option-item text-superLarge",class:{active:e.selectedOption===n},on:{click:function(t){return e.selectOption(n)}}},[t("span",[e._v(e._s(n))])])})),0)},ss=[],as={props:{options:{type:Array,required:!0},value:{type:String,default:""}},data:function(){return{selectedOption:this.value}},watch:{value:function(e){console.info("对象函数 value(newValue)",e,"filePath:renderer/SmallClass/interactions/VoteForCourseware/components/Single.vue"),this.selectedOption=e}},methods:{selectOption:function(e){console.info("对象函数 selectOption(option)",e,"filePath:renderer/SmallClass/interactions/VoteForCourseware/components/Single.vue"),this.selectedOption=e,this.$emit("input",e),this.$emit("change",e)}}},is=as,os=(n("e71a"),Object(q["a"])(is,ns,ss,!1,null,"65c23cf2",null)),rs=os.exports,cs=function(){var e=this,t=e._self._c;return t("div",{staticClass:"vote-options mt-[0.16rem] mb-[0.16rem]"},e._l(e.options,(function(n,s){return t("div",{key:s,staticClass:"option-item text-superLarge panduan-option-item",class:{active:n.value===e.selected},on:{click:function(t){return e.select(n.value)}}},[t("span",[e._v(e._s(n.label))])])})),0)},ls=[],us={props:{options:{type:Array,required:!0,validator:function(e){return e.every((function(e){return console.info("箭头函数 every(option)",e,"filePath:renderer/SmallClass/interactions/VoteForCourseware/components/Judge.vue"),"string"===typeof e.label&&["T","F"].includes(e.value)}))}},value:{type:String,validator:function(e){return["T","F"].includes(e)}}},data:function(){return{selected:this.value}},methods:{select:function(e){console.info("对象函数 select(value)",e,"filePath:renderer/SmallClass/interactions/VoteForCourseware/components/Judge.vue"),this.selected=e,this.$emit("input",e),this.$emit("change",e)}}},ds=us,hs=(n("050b"),Object(q["a"])(ds,cs,ls,!1,null,"95325e36",null)),ms=hs.exports,fs={name:"QuestionOption",props:{optionList:{type:Array,default:function(){return[]}},quesTypeId:{type:Number,default:0}},components:{Multiple:ts,Single:rs,Judge:ms},data:function(){return{userAnswer:[],judgeOptions:[{label:this.$t("classroom.interactions.coursewareBoard.true"),value:"T"},{label:this.$t("classroom.interactions.coursewareBoard.false"),value:"F"}]}},methods:{handleChange:function(e){console.info("对象函数 handleChange(val)",e,"filePath:renderer/SmallClass/interactions/VoteForCourseware/components/question-option.vue"),this.$emit("change",e)}}},ps=fs,gs=Object(q["a"])(ps,Kn,$n,!1,null,null,null),vs=gs.exports,Cs=function(){var e=this,t=e._self._c;return t("div",{staticClass:"answer-box mt-[0.16rem] mb-[0.16rem]"},[e.theUserAnswer&&e.theUserAnswer!==e.theQuesAnswer?t("div",{staticClass:"my-answer-box option-item text-superLarge option-item-courseware"},[t("div",{staticClass:"option-item-res-desc"},[t("div",{staticClass:"option-name text-superLarge"},[5===e.quesTypeId?[[e._v(e._s("T"===e.theUserAnswer?e.$t("classroom.interactions.coursewareBoard.true"):e.$t("classroom.interactions.coursewareBoard.false")))]]:[e._l(e.userAnswer,(function(t){return[e._v(e._s(t[0]))]}))]],2),t("div",{staticClass:"option-text text-middle"},[e._v(" "+e._s(e.$t("classroom.interactions.coursewareBoard.yourAnswer"))+" ")])])]):e._e(),t("div",{staticClass:"right-answer-box option-item text-superLarge option-item-courseware"},[t("div",{staticClass:"option-item-res-desc"},[t("div",{staticClass:"option-name text-superLarge correct-answer-option"},[5===e.quesTypeId?[[e._v(e._s("T"===e.theQuesAnswer?e.$t("classroom.interactions.coursewareBoard.true"):e.$t("classroom.interactions.coursewareBoard.false")))]]:[e._l(e.quesAnswer,(function(t){return[e._v(e._s(t[0]))]}))]],2),t("div",{staticClass:"option-text text-middle correct-answer-text"},[e._v(" "+e._s(e.$t("classroom.interactions.coursewareBoard.correctAnswer"))+" ")])])])])},bs=[],As={name:"QuestionJudge",props:{quesTypeId:{type:Number,default:0},userAnswer:{type:Array,default:function(){return[]}},quesAnswer:{type:Array,default:function(){return[]}}},computed:{theUserAnswer:function(){return console.info("对象函数 theUserAnswer,filePath:renderer/SmallClass/interactions/VoteForCourseware/components/question-judge.vue"),console.log("quesTypeId",this.quesTypeId),Object(_e["a"])(new Set(this.userAnswer)).sort().toString()},theQuesAnswer:function(){return console.info("对象函数 theQuesAnswer,filePath:renderer/SmallClass/interactions/VoteForCourseware/components/question-judge.vue"),Object(_e["a"])(new Set(this.quesAnswer)).sort().toString()}}},Ss=As,ws=Object(q["a"])(Ss,Cs,bs,!1,null,null,null),ys=ws.exports,ks=function(){var e=this,t=e._self._c;return t("p",{staticClass:"countdown"},[e._v(e._s(e.countdown))])},Is=[],xs={props:{time:{type:Number,required:!0},format:{type:String,default:"mm:ss"}},data:function(){return{remainingTime:Math.ceil(this.time/1e3)}},computed:{countdown:function(){var e=Math.floor(this.remainingTime/60),t=this.remainingTime%60,n=this.format;return n=n.replace("mm",e.toString().padStart(2,"0")),n=n.replace("ss",t.toString().padStart(2,"0")),n}},mounted:function(){var e=this;this.timer=setInterval((function(){e.remainingTime>0?e.remainingTime--:(clearInterval(e.timer),e.$emit("complete"))}),1e3)},beforeDestroy:function(){clearInterval(this.timer)}},Os=xs,Ps=Object(q["a"])(Os,ks,Is,!1,null,null,null),js=Ps.exports,Ts={props:{options:{type:Object,default:function(){return{}}}},data:function(){return{quesAnswer:[],optionList:[],quesTypeId:null,clickDisabled:!1,btnDisabled:!0,userAnswer:[],isExpanded:!1,isSubmit:!1,isExceptionStatus:!1,countdownOptions:null,visible:!1,teacherClosedInteract:!1}},components:{QuestionOption:vs,QuestionJudge:ys,CountDown:js},created:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.initEventListener(),e.coursewareBoard=new qn(Object(y["a"])({},e.options)),e.$nextTick((function(){var t=e.coursewareBoard.quesInfo;e.optionList=t.quesOptions,e.quesAnswer=t.quesAnswer,e.quesTypeId=t.quesTypeId,e.sendLogger({msg:"收到互动",stage:"start",response:t}),e.coursewareBoard.interactReport();var n=e.questionStatus();e.sendLogger({msg:"上报结果".concat(JSON.stringify(n)),stage:"开始互动上报"}),e.countdownOptions=e.coursewareBoard.initCountdown(),e.sendLogger({msg:"互动倒计时".concat(e.countdownOptions),stage:"开始互动倒计时"})}));case 3:case"end":return t.stop()}}),t)})))()},computed:{iconClass:function(){return console.info("对象函数 iconClass,filePath:renderer/SmallClass/interactions/VoteForCourseware/index.vue"),this.isExpanded?"ne-icon-courseware-arrow ne-icon-courseware-up":"ne-icon-courseware-arrow"}},methods:{initEventListener:function(){var e=this;console.info("对象函数 initEventListener,filePath:renderer/SmallClass/interactions/VoteForCourseware/index.vue"),this.$bus.$emit("initClose"),this.$bus.$on("closeContinusCorrect",(function(t){console.info("箭头函数 监听 closeContinusCorrect(data)",t,"filePath:renderer/SmallClass/interactions/VoteForCourseware/index.vue"),t&&e.teacherClosedInteract&&e.closeBoard()}))},upodateUserAnswer:function(e){console.info("对象函数 upodateUserAnswer(val)",e,"filePath:renderer/SmallClass/interactions/VoteForCourseware/index.vue"),this.sendLogger({msg:"学生答案",stage:"start",params:{val:e}}),this.$refs.interactKeyTone.play(),this.userAnswer=e},closeBoard:function(){var e=this;console.info("对象函数 closeBoard,filePath:renderer/SmallClass/interactions/VoteForCourseware/index.vue"),this.isExpanded=!0,this.$refs.coursewareBoardBlock&&this.$refs.coursewareBoardBlock.addEventListener("transitionend",(function(){console.info("箭头函数 监听 transitionend,filePath:renderer/SmallClass/interactions/VoteForCourseware/index.vue"),e.destroy()}),!1)},questionStatus:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n,s,a;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 questionStatus,filePath:renderer/SmallClass/interactions/VoteForCourseware/index.vue"),t.next=3,e.coursewareBoard.questionStatus().catch((function(t){return console.info("箭头函数 catch(err)",t,"filePath:renderer/SmallClass/interactions/VoteForCourseware/index.vue"),e.sendLogger({msg:"接口报错:异常恢复:",response:t},"error"),t||{}}));case 3:n=t.sent,s=n.code,a=n.data,0===s&&(a.userAnswer?(e.isSubmit=!0,e.isExceptionStatus=!0,e.userAnswer=a.userAnswer):e.visible=!0);case 7:case"end":return t.stop()}}),t)})))()},submitAnswer:function(e){var t=this;return Object(O["a"])(Object(x["a"])().mark((function n(){var s,a,i,o,r,c,l,u;return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.info("对象函数 submitAnswer(isClickBtn)",e,"filePath:renderer/SmallClass/interactions/VoteForCourseware/index.vue"),!(t.clickDisabled||e&&0===t.userAnswer.length)){n.next=3;break}return n.abrupt("return");case 3:return t.btnDisabled=!0,t.clickDisabled=!0,t.$refs.interactSubmit&&t.$refs.interactSubmit.play(),n.next=8,t.coursewareBoard.submitAnswer(t.userAnswer);case 8:return o=n.sent,r=o.isSubmit,c=o.isRight,l=o.params,u=o.response,t.isSubmit=r,t.clickDisabled=!1,t.sendLogger({msg:"提交答案结果",params:l,response:u}),n.next=18,t.$nextTick();case 18:1===c?null===(s=t.$refs.interactSuccess)||void 0===s||s.play():null===(a=t.$refs.interactFail)||void 0===a||a.play(),Se["f"](null===(i=t.options)||void 0===i?void 0:i.ircMsg,t.quesTypeId,c);case 20:case"end":return n.stop()}}),n)})))()},countdownComplete:function(){console.info("对象函数 countdownComplete,filePath:renderer/SmallClass/interactions/VoteForCourseware/index.vue"),this.sendLogger({msg:"倒计时结束自动提交答案结果",stage:"submit"}),!this.isSubmit&&this.submitAnswer()},destroyInteraction:function(){console.info("对象函数 destroyInteraction,filePath:renderer/SmallClass/interactions/VoteForCourseware/index.vue"),this.sendLogger({msg:"主讲关闭自动提交答案结果",stage:"submit"}),this.teacherClosedInteract=!0,this.isSubmit?this.destroy():this.submitAnswer()},sendLogger:function(e){var t=e.msg,n=void 0===t?"":t,s=e.stage,a=void 0===s?"":s,i=e.params,o=void 0===i?{}:i,r=e.response,c=void 0===r?{}:r,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",u={1:"QuestionDanxuan",2:"QuestionDuoxuan",5:"QuestionPanduan"};F["a"].send({tag:"student.Interact",content:{msg:n,interactType:u[this.quesTypeId],interactId:this.options.ircMsg.interactId,interactStage:a,params:JSON.stringify(o),response:JSON.stringify(c)},level:l})},destroy:function(){console.info("对象函数 destroy,filePath:renderer/SmallClass/interactions/VoteForCourseware/index.vue"),this.sendLogger({msg:"结束互动",stage:"end"}),this.coursewareBoard.closeToast(),this.$emit("close","interact"),this.$bus.$off("closeContinusCorrect")}},watch:{userAnswer:function(e){console.info("对象函数 userAnswer(val)",e,"filePath:renderer/SmallClass/interactions/VoteForCourseware/index.vue"),e.length>0?this.btnDisabled=!1:this.btnDisabled=!0}}},Bs=Ts,Ls=(n("bafe"),Object(q["a"])(Bs,Ln,Mn,!1,null,null,null)),Ms=Ls.exports,Rs=function(){var e=this,t=e._self._c;return e.showRankBox?t("div",{staticClass:"class-rank small-class"},[t("div",{staticClass:"close",on:{click:e.closeRankBox}}),t("div",{staticClass:"rank-container"},e._l(e.rankList,(function(s){return t("section",{key:s.id,staticClass:"rank-item",class:s.id==e.common.stuId?"active":""},[s.id==e.common.stuId?t("img",{staticClass:"current-student",attrs:{src:n("b4b04"),alt:""}}):e._e(),s.level>0?t("span",{staticClass:"medal",class:"level-".concat(s.level)}):t("span",{staticClass:"medal no-level"}),t("span",{staticClass:"name",class:s.id==e.common.stuId?"active-name":""},[e._v(e._s(s.name))]),t("span",{staticClass:"coins"},[t("label"),t("span",[e._v(e._s(s.coin))])])])})),0),t("audio",{ref:"showRankSound",attrs:{src:n("1a6a")}})]):e._e()},Es=[],Ds=n("18f6"),Ns={name:"StudentRank",props:{options:{type:Object,default:null}},data:function(){return{timer:null,planId:null,classId:null,interactId:null,currentStudentId:null,ircMessage:null,showRankBox:!1,rankList:[],common:{}}},created:function(){this.common=this.options.roomMessage.roomInfo.commonOption,this.getStudentRankData()},methods:{receiveMessage:function(e){var t=this;console.info("对象函数 receiveMessage(ircMessage)",e,"filePath:renderer/SmallClass/interactions/StudentRank/index.vue"),this.showRankBox=!0,this.$nextTick((function(){t.$refs.showRankSound.play()})),this.getStudentRankData(),Object(Ct["a"])({planId:this.common.planId,classId:this.common.classId,interactId:e.interactId}),this.sendLogger("互动开始","start")},destroyInteraction:function(){console.info("对象函数 destroyInteraction,filePath:renderer/SmallClass/interactions/StudentRank/index.vue"),this.showRankBox=!1,this.rankList=[],this.sendLogger("互动结束","end"),this.$emit("close","student_rank")},getStudentRankData:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 getStudentRankData,filePath:renderer/SmallClass/interactions/StudentRank/index.vue"),t.next=3,e.querySmallClassRankList();case 3:n=t.sent,e.sendLogger("排行榜结果, res: ".concat(JSON.stringify(n))),1==(null===n||void 0===n?void 0:n.stat)&&(e.rankList=n.data);case 6:case"end":return t.stop()}}),t)})))()},querySmallClassRankList:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n,s;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 querySmallClassRankList,filePath:renderer/SmallClass/interactions/StudentRank/index.vue"),n={planId:1*e.common.planId,classId:1*e.common.classId},t.next=4,Object(Ds["a"])(e,n);case 4:return s=t.sent,t.abrupt("return",s);case 6:case"end":return t.stop()}}),t)})))()},closeRankBox:function(){console.info("对象函数 closeRankBox,filePath:renderer/SmallClass/interactions/StudentRank/index.vue"),this.showRankBox=!1,this.sendLogger("手动关闭小班排行")},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";F["a"].send({tag:"student.Interact",content:{msg:e,interactType:"Rank",interactStage:t}})}}},Vs=Ns,Fs=(n("915e"),Object(q["a"])(Vs,Rs,Es,!1,null,null,null)),Us=Fs.exports,Ws=function(){var e=this,t=e._self._c;return e.visible?t("div",{staticClass:"fillBlanksBox"},[t("ne-fill-blanks",{staticClass:"fillBlanksContainer",attrs:{userConfig:e.userConfig,judgeConfig:e.judgeConfig,quesContent:e.quesContent,countDownTime:e.countDownTime,disableSubmit:e.disableSubmit,showResultToast:e.showResultToast,coin:e.rightCoin,submitText:e.$t("common.submit")},on:{submit:e.submitAnswer,changeAnswer:e.changeAnswer,countDownComplete:e.countDownComplete}})],1):e._e()},Gs=[],_s=function(e){Object(T["a"])(n,e);var t=Object(B["a"])(n);function n(){var e,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.info("函数申明 FillBlanks(opts)",s,"filePath:renderer/SmallClass/interactions/FillBlankForCourseware/fillBlanks.js"),Object(P["a"])(this,n),e=t.call(this),e.options=s,e}return Object(j["a"])(n,[{key:"initCountdownTime",value:function(){var e=+new Date,t=this.options.roomMessage.roomInfo.commonOption.timeOffset,n=1e3*this.options.ircMsg.countDownTime-(e+t-this.options.ircMsg.currentTime);return n}},{key:"submitAnswer",value:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(t){var n,s,a,i,o,r;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n={planId:1*this.options.roomMessage.roomInfo.stuLiveInfo.planId,interactId:this.options.ircMsg.interactId,questionId:this.options.ircMsg.quesId,classId:this.options.roomMessage.roomInfo.stuLiveInfo.classId,isRight:t.isRight,userAnswer:Object(_e["a"])(t.answerData),userAnswerResult:{userAnswer:Object(_e["a"])(t.answerData),userAnswerResult:Object(_e["a"])(t.judgeData)},userName:this.options.roomMessage.roomInfo.stuInfo.nickName},e.next=4,Object(An["c"])(n).catch((function(e){console.info("箭头函数 submit的catch(err)",e,"filePath:renderer/SmallClass/interactions/FillBlankForCourseware/fillBlanks.js"),F["a"].send({tag:"http",content:{msg:"接口报错:提交答案:",err:e,params:n},level:"error"})}));case 4:return s=e.sent,a=s.code,i=s.data,o=Object(y["a"])(Object(y["a"])({},i),{},{isRight:t.isRight,isFillBank:!0}),g.a.prototype.$bus.$emit("continuousCorrect",o),r={params:n,response:s,code:a,isSubmit:0===a,rightCoin:i.rightCoin||0},e.abrupt("return",r);case 12:return e.prev=12,e.t0=e["catch"](0),console.error("submitAnswer",e.t0),e.abrupt("return",{code:-1,errMsg:e.t0});case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));function t(t){return console.info("函数申明 submitAnswer(_x)",t,"filePath:renderer/SmallClass/interactions/FillBlankForCourseware/fillBlanks.js"),e.apply(this,arguments)}return t}()},{key:"interactOpen",value:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(){var t;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={planId:1*this.options.roomMessage.roomInfo.stuLiveInfo.planId,classId:1*this.options.roomMessage.roomInfo.stuLiveInfo.classId,interactId:this.options.ircMsg.interactId},e.next=3,Object(An["b"])(t);case 3:case"end":return e.stop()}}),e,this)})));function t(){return console.info("函数申明 interactOpen, filePath:renderer/SmallClass/interactions/FillBlankForCourseware/fillBlanks.js"),e.apply(this,arguments)}return t}()},{key:"getStatus",value:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(){var t,n;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t={planId:1*this.options.roomMessage.roomInfo.stuLiveInfo.planId,interactId:this.options.ircMsg.interactId,classId:this.options.roomMessage.roomInfo.stuLiveInfo.classId,courseId:this.options.roomMessage.roomInfo.stuLiveInfo.courseId},e.next=4,Object(An["a"])(t);case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e["catch"](0),console.error("获取题目数据",e.t0),e.abrupt("return",{code:-1,errMsg:e.t0});case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return console.info("函数申明 getStatus, filePath:renderer/SmallClass/interactions/FillBlankForCourseware/fillBlanks.js"),e.apply(this,arguments)}return t}()}]),n}(L["a"]),Hs={name:"FillBlanks",props:{options:{type:Object,default:function(){return{}}}},data:function(){return{showResultToast:!1,judgeConfig:{halfRight:!1},userConfig:null,quesContent:null,disableSubmit:!0,userAnswerData:null,countDownTime:0,isSubmit:!1,isRight:3,rightCoin:0,visible:!1}},created:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n,s,a;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$bus.$emit("initClose"),e.fillBlanks=new _s(Object(y["a"])({},e.options)),e.countDownTime=e.fillBlanks.initCountdownTime()||0,t.next=5,e.fillBlanks.getStatus();case 5:if(n=t.sent,s=n.data,a=n.code,0===a&&s){t.next=10;break}return t.abrupt("return");case 10:4===s.questionType&&(e.quesContent=JSON.parse(s.questionContent)),e.isSubmit=s.isSubmit,e.initEventListener();case 13:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;console.log(this.options,"options"),this.userConfig={org:"haiwaifenxiao",sys:"zaixianketang",stuId:this.options.roomMessage.roomInfo.stuInfo.id},this.$nextTick((function(){Object(W["a"])(document.getElementById("interactionController"),"index-99"),window.TalqsInteraction.lang="en",e.fillBlanks.interactOpen(),e.sendLogger({msg:"收到互动",stage:"start"})}))},watch:{quesContent:{handler:function(e){console.info("对象函数 handler(newVal)",e,"filePath:renderer/SmallClass/interactions/FillBlankForCourseware/index.vue"),e&&!this.isSubmit&&(this.visible=!0)},deep:!0}},methods:{countDownComplete:function(){console.info("对象函数 countDownComplete,filePath:renderer/SmallClass/interactions/FillBlankForCourseware/index.vue"),this.destroyInteraction()},initEventListener:function(){var e=this;console.info("对象函数 initEventListener,filePath:renderer/SmallClass/interactions/FillBlankForCourseware/index.vue"),this.$bus.$on("closeContinusCorrect",(function(t){console.info("箭头函数 监听 closeContinusCorrect(data)",t,"filePath:renderer/SmallClass/interactions/FillBlankForCourseware/index.vue"),t&&(e.showResultToast=!1,e.destroyInteraction())}))},submitAnswer:function(e){var t=this;return Object(O["a"])(Object(x["a"])().mark((function n(){var s,a,i,o,r,c,l,u;return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.info("对象函数 submitAnswer(userAnswerData)",e,"filePath:renderer/SmallClass/interactions/FillBlankForCourseware/index.vue"),t.disableSubmit=!0,n.next=4,t.fillBlanks.submitAnswer(e);case 4:if(a=n.sent,i=a.params,o=a.response,r=a.code,c=a.rightCoin,l=a.isSubmit,t.sendLogger({msg:"提交答案结果",params:i,response:o}),0===r){n.next=13;break}return n.abrupt("return");case 13:u=e.isRight,t.showResultToast=!0,t.rightCoin=c,t.isRight=u,t.isSubmit=l,Se["f"](null===(s=t.options)||void 0===s?void 0:s.ircMsg,"4",u);case 19:case"end":return n.stop()}}),n)})))()},changeAnswer:function(e){console.info("对象函数 changeAnswer(userAnswerData)",e,"filePath:renderer/SmallClass/interactions/FillBlankForCourseware/index.vue"),this.disableSubmit=e.answerData.every((function(e){return!e})),this.sendLogger({msg:"课件填空题-输入答案更改",params:{answerData:e.answerData,disableSubmit:this.disableSubmit}})},sendLogger:function(e){var t=e.msg,n=void 0===t?"":t,s=e.stage,a=void 0===s?"":s,i=e.params,o=void 0===i?{}:i,r=e.response,c=void 0===r?{}:r;F["a"].send({tag:"student.Interact",content:{msg:n,interactType:"FillBlank",interactId:this.options.ircMsg.interactId,interactStage:a,params:JSON.stringify(o),response:JSON.stringify(c)}})},destroyInteraction:function(){console.info("对象函数 destroyInteraction,filePath:renderer/SmallClass/interactions/FillBlankForCourseware/index.vue"),this.sendLogger({msg:"结束互动",stage:"end"});var e=document.getElementsByClassName("keyboardLayerOfPad")[0];e&&document.body.removeChild(e);var t=document.getElementsByClassName("blankOptionKeypad")[0];t&&document.body.removeChild(t),this.$emit("close","fill_blank")}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/SmallClass/interactions/FillBlankForCourseware/index.vue"),this.isSubmit||this.submitAnswer({isRight:3,answerData:[],judgeData:[]})},destroyed:function(){console.info("对象函数 destroyed,filePath:renderer/SmallClass/interactions/FillBlankForCourseware/index.vue"),this.$bus.$off("closeContinusCorrect")}},Qs=Hs,Js=(n("c315"),n("9fee"),Object(q["a"])(Qs,Ws,Gs,!1,null,"22e5c644",null)),qs=Js.exports,Ks=function(){var e=this,t=e._self._c;return t("div",{staticClass:"orientation-coins"},[t("transition",{attrs:{name:"slide-fade"}},[e.currentStudentGotCoins&&!e.isShowBoxCommon&&e.showCoinsBox?t("div",{staticClass:"orientation-coins-content"},[t("div",{staticClass:"coins"},[t("div",{staticClass:"coins-pag"},[t("canvas",{staticClass:"coins-pag",attrs:{id:"orientationCoinsPag"}})]),t("div",{staticClass:"coins-content"},[t("div",{staticClass:"title"},[e._v(" "+e._s(e.$t("classroom.modules.orientationCoins.smallCongrats"))+" ")]),t("div",{staticClass:"icon-img"},[t("img",{staticClass:"img-plus",attrs:{src:n("4bda")}}),e._l(String(e.studentCoinsResult.rewardCoinNum).split(""),(function(n,s){return t("div",{key:s,staticClass:"img-num"},[t("img",{attrs:{src:e.numImgArr[n]}})])}))],2)])])]):e._e()])],1)},$s=[],zs=n("507f"),Ys=n("d2b2"),Xs=n.n(Ys),Zs=n("ad52"),ea=n.n(Zs),ta=n("86f0"),na=n.n(ta),sa=n("15b3"),aa=n.n(sa),ia=n("432e"),oa=n.n(ia),ra=n("313d"),ca=n.n(ra),la=n("daf8"),ua=n.n(la),da=n("1818"),ha=n.n(da),ma=n("a3ad"),fa=n.n(ma),pa=n("ef37"),ga=n.n(pa),va={props:{options:{type:Object,default:null}},data:function(){return{numImgArr:[Xs.a,ea.a,na.a,aa.a,oa.a,ca.a,ua.a,ha.a,fa.a,ga.a],coins:null,timer:null,planId:null,interactId:null,currentStudentId:null,ircMessage:null,showCoinsBox:!1,timeDuration:4e3,studentCoinsResult:{},lastCoinSum:0,currentStudentGotCoins:!1,smallCoinsShowTime:4e3}},computed:Object(y["a"])(Object(y["a"])({},Object(Dt["mapGetters"])({isShowBox:"smallClass/isShowBox"})),{},{isShowBoxCommon:function(){var e;return console.info("对象函数 isShowBoxCommon,filePath:renderer/SmallClass/interactions/orientationCoins/index.vue"),2==(null===(e=this.options)||void 0===e||null===(e=e.roomMessage)||void 0===e||null===(e=e.roomInfo)||void 0===e||null===(e=e.commonOption)||void 0===e?void 0:e.classType)&&this.isShowBox}}),methods:{receiveMessage:function(e){console.info("对象函数 receiveMessage(noticeContent)",e,"filePath:renderer/SmallClass/interactions/orientationCoins/index.vue"),e.duration&&(this.timeDuration=e.duration),this.timeDuration=this.smallCoinsShowTime,this.getSpecialCoinsStatus(e)},getSpecialCoinsStatus:function(e){var t=this;return Object(O["a"])(Object(x["a"])().mark((function n(){var s,a,i,o,r,c,l;return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.info("对象函数 getSpecialCoinsStatus(ircMessage)",e,"filePath:renderer/SmallClass/interactions/orientationCoins/index.vue"),s=localStorage.getItem("orientationCoinsId"),s!=e.interactId){n.next=6;break}t.showCoinsBox=!1,n.next=29;break;case 6:if(window.PAG){n.next=10;break}return n.next=9,window.libpag.PAGInit();case 9:window.PAG=n.sent;case 10:return a="./pagfiles/orientationCoinsPag.pag",n.next=13,fetch(a);case 13:return i=n.sent,n.next=16,i.blob();case 16:return o=n.sent,r=new window.File([o],a.replace(/(.*\/)*([^.]+)/i,"$2")),n.next=20,window.PAG.PAGFile.load(r);case 20:return c=n.sent,n.next=23,t.init(e);case 23:if(l=n.sent,!l){n.next=26;break}return n.abrupt("return");case 26:t.$nextTick(Object(O["a"])(Object(x["a"])().mark((function e(){var n;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.currentStudentGotCoins||t.isShowBoxCommon||!t.showCoinsBox){e.next=8;break}return e.next=3,window.PAG.PAGView.init(c,"#orientationCoinsPag");case 3:return n=e.sent,e.next=6,n.play();case 6:console.log("play"),t.$bus.$emit("addCoin",!0,t.studentCoinsResult.rewardCoinNum,!0);case 8:case"end":return e.stop()}}),e)})))),t.sendLogger("收到定向发金币消息: ".concat(JSON.stringify(e)),"start"),localStorage.setItem("orientationCoinsId",e.interactId);case 29:case"end":return n.stop()}}),n)})))()},init:function(e){var t=this;return Object(O["a"])(Object(x["a"])().mark((function n(){var s,a;return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.info("对象函数 init(ircMessage)",e,"filePath:renderer/SmallClass/interactions/orientationCoins/index.vue"),t.ircMessage=e,a=null===(s=t.options)||void 0===s||null===(s=s.roomMessage)||void 0===s||null===(s=s.roomInfo)||void 0===s?void 0:s.commonOption,t.planId=a.planId,t.currentStudentId=a.stuId,t.interactId=e.interactId,n.next=8,t.getStudentCoins();case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}}),n)})))()},getOrientationCoins:function(e){var t=this;return Object(O["a"])(Object(x["a"])().mark((function n(){var s,a;return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.info("对象函数 getOrientationCoins(options)",e,"filePath:renderer/SmallClass/interactions/orientationCoins/index.vue"),s={planId:1*e.planId,interactId:e.interactId,interactType:t.ircMessage.interactType},"classroomPraise"===s.interactType&&(s.interactId=t.ircMessage.parentsInteractId),n.next=5,Object(zs["a"])(t,s);case 5:return a=n.sent,n.abrupt("return",a);case 7:case"end":return n.stop()}}),n)})))()},getStudentCoins:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n,s;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 getStudentCoins,filePath:renderer/SmallClass/interactions/orientationCoins/index.vue"),t.next=3,e.getOrientationCoins({planId:e.planId,interactId:e.interactId});case 3:if(n=t.sent,1!=n.stat){t.next=24;break}if(s=n.data.users&&n.data.users[0].userId==e.currentStudentId,e.interactId&&Se["g"](e.interactId,n.data.rewardCoinNum),e.sendLogger("定向发金币获取金币: ".concat(JSON.stringify(n.data))),!s){t.next=16;break}e.currentStudentGotCoins=s,e.timer?(e.lastCoinSum+=e.studentCoinsResult.rewardCoinNum,clearTimeout(e.timer),e.timer=null,e.showCoinsBox=!1):e.lastCoinSum=0,e.$nextTick((function(){return e.showCoinsBox=!0})),e.timer=setTimeout((function(){e.showCoinsBox=!1,e.sendLogger("关闭定向发金币","end"),e.smallClassTipsAction(s)}),e.timeDuration),e.studentCoinsResult=n.data,t.next=23;break;case 16:if(!e.showCoinsBox){t.next=20;break}return t.abrupt("return",!0);case 20:e.showCoinsBox=!1,e.currentStudentGotCoins=s,e.smallClassTipsAction(s);case 23:return t.abrupt("return",!1);case 24:case"end":return t.stop()}}),t)})))()},smallClassTipsAction:function(e){console.info("对象函数 smallClassTipsAction(isMeGetCoins)",e,"filePath:renderer/SmallClass/interactions/orientationCoins/index.vue"),e&&this.showCoinsBox||this.$emit("close","distribute_coins")},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";F["a"].send({tag:"student.Interact",content:{msg:e,interactType:"Coins",interactStage:t}})}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/SmallClass/interactions/orientationCoins/index.vue"),clearTimeout(this.timer)}},Ca=va,ba=(n("5fb3"),Object(q["a"])(Ca,Ks,$s,!1,null,"3fabb34e",null)),Aa=ba.exports,Sa=function(){var e=this,t=e._self._c;return e.show?t("div",{staticClass:"class-praise"},[t("audio",{ref:"praiseShow",staticClass:"hiden",attrs:{src:n("1cb1")}}),t("audio",{ref:"praiseClick",staticClass:"hiden",attrs:{src:n("8a29")}}),t("audio",{ref:"praiseOpen",staticClass:"hiden",attrs:{src:n("79a4")}}),t("audio",{ref:"praiseSuccess",staticClass:"hiden",attrs:{src:n("bbe3a")}}),t("audio",{ref:"praiseFail",staticClass:"hiden",attrs:{src:n("f190")}}),"large"===e.showStatus?t("div",{staticClass:"praise-large coins-small-class"},[t("div",{staticClass:"treasure-box"},[e.showAnimation?t("div",{staticClass:"status-unclaimed"},[e.openStatus?t("div",[t("lottie-player",{staticClass:"lottie-player",attrs:{autoplay:"",mode:"normal",src:"./lottiefiles/treasure/open/index.json"}})],1):t("div",{on:{click:function(t){return e.openTreasure("large")}}},[t("lottie-player",{staticClass:"lottie-player",attrs:{autoplay:"",loop:"",mode:"normal",src:"./lottiefiles/treasure/normal/index.json"}})],1)]):e._e(),e.showResult?t("div",{staticClass:"status-result",class:e.resultClassName},[t("div",{staticClass:"icon-close",on:{click:e.closeTreasure}}),t("div",{staticClass:"result-head"},[t("div",{staticClass:"student-info-wrapper"},[t("div",{staticClass:"student-info"},[t("div",{staticClass:"student-avatar"},[t("img",{attrs:{src:e.resultData.avatar}})]),t("div",{staticClass:"student-name"},[e._v(e._s(e.curOptions.nickName))])])]),t("div",{staticClass:"message-wrapper"},[t("div",{staticClass:"message-title"},[e._v(e._s(e.resultData.messageTitle))]),t("div",{staticClass:"message-content"},[e._v(e._s(e.resultData.messageContent))])])]),t("div",{staticClass:"coin-wrapper"},[t("div",{staticClass:"coin-num"},[e._v("+"+e._s(e.resultData.rewardCoin))])]),e.hasBadge?t("div",{staticClass:"icon-badge",class:e.badgeClassName}):e._e()]):e._e()])]):e._e(),"small"===e.showStatus?t("div",{staticClass:"praise-small coins-small-class",on:{click:function(t){return e.openTreasure("small")}}}):e._e()]):e._e()},wa=[],ya=n("c342"),ka={props:{options:{type:Object,default:null}},data:function(){return{show:!1,showStatus:"large",showAnimation:!0,showResult:!1,openStatus:!1,timer:null,interactId:"",planId:0,classId:"",loading:!1,resultData:{avatar:"",level:0,title:"",messageTitle:"",messageContent:"",rewardCoin:0,userLatestCoin:0},curOptions:{},rewardCoin:0}},computed:{hasBadge:function(){return console.info("对象函数 hasBadge,filePath:renderer/SmallClass/interactions/classPraise/index.vue"),this.resultData.level>0},resultClassName:function(){return console.info("对象函数 resultClassName,filePath:renderer/SmallClass/interactions/classPraise/index.vue"),this.hasBadge?"result-success":"result-fail"},badgeClassName:function(){return console.info("对象函数 badgeClassName,filePath:renderer/SmallClass/interactions/classPraise/index.vue"),this.hasBadge?"level-".concat(this.resultData.level):""}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/SmallClass/interactions/classPraise/index.vue"),this.timer&&clearTimeout(this.timer)},methods:{destroyInteraction:function(){console.info("对象函数 destroyInteraction,filePath:renderer/SmallClass/interactions/classPraise/index.vue")},receiveMessage:function(e){console.info("对象函数 receiveMessage(ircMessage)",e,"filePath:renderer/SmallClass/interactions/classPraise/index.vue"),this.init(e),this.sendLogger("收到课堂表扬消息: ".concat(JSON.stringify(e)),"start")},init:function(e){var t=this;return Object(O["a"])(Object(x["a"])().mark((function n(){var s,a;return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.info("对象函数 init(ircMessage)",e,"filePath:renderer/SmallClass/interactions/classPraise/index.vue"),t.curOptions=null===(s=t.options)||void 0===s||null===(s=s.roomMessage)||void 0===s||null===(s=s.roomInfo)||void 0===s?void 0:s.commonOption,t.planId=t.curOptions.planId,t.classId=t.curOptions.classId,t.interactId=(null===e||void 0===e?void 0:e.interactId)||"",n.next=7,window.thinkApi.ipc.invoke("getStoreValue","classPraiseInteractId_".concat(t.planId));case 7:if(a=n.sent,a!=t.interactId){n.next=10;break}return n.abrupt("return");case 10:return n.next=12,window.thinkApi.ipc.invoke("setStoreValue","classPraiseInteractId_".concat(t.planId),t.interactId);case 12:Object(Ct["a"])({planId:t.planId,classId:t.classId,interactId:t.interactId}),t.show=!0,t.resetData(),t.$nextTick((function(){t.$refs.praiseShow.play()})),t.timer&&clearTimeout(t.timer),t.timer=setTimeout((function(){t.minimizeTreasure()}),5e3);case 18:case"end":return n.stop()}}),n)})))()},openTreasure:function(e){var t=this;console.info("对象函数 openTreasure(type)",e,"filePath:renderer/SmallClass/interactions/classPraise/index.vue"),Object(V["e"])("hw_classroom_interact_treasure_click",this.options,{interact_id:this.interactId,click_button:"large"==e?1:0}),this.showStatus="large",this.openStatus=!0,this.$refs.praiseClick.play(),this.timer&&clearTimeout(this.timer),setTimeout((function(){t.showAnimation=!1,t.submitPraise().then(function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(n){var s;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.info("箭头函数 then(data)",n,"filePath:renderer/SmallClass/interactions/classPraise/index.vue"),t.delayClose(1e4),t.showResult=!0,t.hasBadge?t.$refs.praiseSuccess.play():t.$refs.praiseFail.play(),s=n.rewardCoin,t.rewardCoin=s,Object.keys(n).forEach((function(e){t.resultData[e]=n[e]})),Se["m"](t.interactId,n.rewardCoin);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.info("箭头函数 catch(error)",e,"filePath:renderer/SmallClass/interactions/classPraise/index.vue"),t.closeTreasure(),console.error("打开宝箱报错",e)}))}),2200),this.sendLogger("点击打开宝箱, 入口来自: ".concat(e))},closeTreasure:function(){console.info("对象函数 closeTreasure,filePath:renderer/SmallClass/interactions/classPraise/index.vue"),this.show=!1,this.resetData(),this.sendLogger("完课宝箱关闭"),this.rewardCoin&&this.$bus.$emit("addCoin",!0,this.rewardCoin,!0),this.$emit("close","classroom_praise")},resetData:function(){console.info("对象函数 resetData,filePath:renderer/SmallClass/interactions/classPraise/index.vue"),this.showAnimation=!0,this.showResult=!1,this.openStatus=!1,this.showStatus="large"},minimizeTreasure:function(){console.info("对象函数 minimizeTreasure,filePath:renderer/SmallClass/interactions/classPraise/index.vue"),this.showStatus="small",this.delayClose(3e5),this.sendLogger("宝箱最小化")},delayClose:function(e){var t=this;console.info("对象函数 delayClose(time)",e,"filePath:renderer/SmallClass/interactions/classPraise/index.vue"),this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.closeTreasure(),t.timer=null,t.sendLogger("宝箱延迟关闭, 延迟时间: ".concat(e,"ms"))}),e)},submitPraise:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n,s,a;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.info("对象函数 submitPraise,filePath:renderer/SmallClass/interactions/classPraise/index.vue"),!e.loading){t.next=3;break}return t.abrupt("return");case 3:return e.loading=!0,n={classId:e.classId,planId:Number(e.planId),interactId:String(e.interactId)},t.next=7,Object(ya["v"])(n);case 7:if(s=t.sent,e.loading=!1,e.sendLogger("提交领取奖励接口, params: ".concat(JSON.stringify(n)," res: ").concat(JSON.stringify(s)),"submit"),0==s.code){t.next=13;break}return e.$Message.info(s.msg),t.abrupt("return",Promise.reject(s.msg));case 13:return a=s.data||{},t.abrupt("return",Promise.resolve(a));case 15:case"end":return t.stop()}}),t)})))()},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";F["a"].send({tag:"student.Interact",content:{msg:e,interactType:"ClassPraise",interactStage:t}})}}},Ia=ka,xa=(n("eb99"),Object(q["a"])(Ia,Sa,wa,!1,null,"21bd93e1",null)),Oa=xa.exports,Pa=(n("33d1"),n("ea98"),n("fb6a"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"class-content"},[t("div",{class:["schulte-table",e.step>0?"schulte-table-bg":""]},[t("transition",{attrs:{name:"slide-fade"}},[[1,3].includes(e.step)?t("div",[t("div",{staticClass:"box-title"},[t("div",{staticClass:"box-title-main"},[e._v(" "+e._s(e.$t("classroom.interactions.schulteTable.schulteTable"))+" ")]),t("div",{staticClass:"box-title-sub"},[e._v(" "+e._s(e.subTitle)+" ")])]),t("div",{staticClass:"box-bottom"},[t("p",[e._v(" "+e._s(1===e.step?e.$t("classroom.interactions.schulteTable.gameObjectives")[0]:e.$t("classroom.interactions.schulteTable.leaderboardTip")[0])+" ")]),t("p",[e._v(" "+e._s(1===e.step?e.$t("classroom.interactions.schulteTable.gameObjectives")[1]:e.$t("classroom.interactions.schulteTable.leaderboardTip")[1])+" ")])])]):e._e()]),t("transition",{attrs:{name:"slide-fade"}},[1===e.step?t("div",{staticClass:"ready"},[t("lottie-player",{staticClass:"lottie-player",attrs:{id:"ready",autoplay:"",mode:"normal",src:"./lottiefiles/schulteTable/daojishi.json"},on:{complete:e.onLottieReadyComplete}}),t("audio",{ref:"readygoAudio",staticClass:"hide",attrs:{src:n("906a"),autoplay:""}})],1):e._e()]),2===e.step?t("div",[t("audio",{ref:"playAudio",staticClass:"hide",attrs:{src:n("b290"),loop:"",autoplay:""}})]):e._e(),t("transition",{attrs:{name:"slide-show"}},[2===e.step?t("div",{staticClass:"playing cursor-hand",attrs:{id:"playing"},on:{click:e.handlerPlayMask}},[t("div",{staticClass:"playing-left"},[t("div",{staticClass:"game-box"},[t("div",{class:["top-tip",e.isShowPlayMask?"top-tip-light":""]},[t("p",[e._v(" "+e._s(e.$t("classroom.interactions.schulteTable.gameInstructions[".concat(1===e.category?0:1,"]"),{start:e.playNumberOrderArr[0],end:e.playNumberOrderArr.at(-1)}))+" ")])]),t("div",{staticClass:"content"},[t("div",{class:["mode-".concat(e.level*e.level),e.isDisabled?"mode-disabled":""],attrs:{id:"play-moudle"}},e._l(e.playNumberShowArr,(function(n,s){return t("div",{key:n,class:["mode-item",e.curClickPlayNumber>0&&e.curClickPlayNumber===n?"mode-item-up":""],attrs:{id:n},on:{click:function(t){return t.stopPropagation(),e.clickCheck(n)},mousedown:function(t){return e.addPressBox(n)},mouseup:function(t){return e.removePressBox(n)}}},[e.isShowPlayMask&&e.nextPlayNumber===n?t("div",{staticClass:"bg-mask"}):e._e(),e.isShowPlayMask&&e.nextPlayNumber===n?t("div",{class:["bg-mask-lottie","bg-mask-nth".concat(s%e.level)],on:{click:function(t){return t.stopPropagation(),e.clickCheck(0)}}},[t("lottie-player",{staticClass:"lottie-player",attrs:{id:"jiantou",autoplay:"",loop:"",mode:"normal",src:"./lottiefiles/schulteTable/jiantou.json"}})],1):e._e(),e.curClickPlayNumber>0&&e.curClickPlayNumber===n?t("div",{class:e.curClickCorrectMap[e.curClickCorrectStatus]}):e._e(),t("div",{staticClass:"num"},[e._v(e._s(n))])])})),0)])])]),t("div",{staticClass:"playing-right"},[t("div",{staticClass:"title"},[e._v(" "+e._s(e.$t("classroom.interactions.schulteTable.schulteTable"))+" ")]),t("div",{class:["mode",e.random?"mode-shuffle":"mode-normal"]},[e._v(" "+e._s(e.random?e.$t("classroom.interactions.schulteTable.shuffleMode"):e.$t("classroom.interactions.schulteTable.normalMode"))+" ")]),t("div",{staticClass:"next-number"},[t("div",{staticClass:"next-number-title"},[e._v(" "+e._s(e.$t("classroom.interactions.schulteTable.nextNumber"))+" ")]),t("div",{class:["number",e.isChangeNextNumber?"animate-number":""]},[e._v(" "+e._s(e.nextPlayNumber)+" ")])]),t("div",{staticClass:"time"},[t("div",{staticClass:"time-desc"},[e._v(" "+e._s(e.$t("classroom.interactions.schulteTable.duration",{duration:"".concat(e.seconds,".").concat(e.milliSeconds)}))+" ")])])])]):e._e()]),[3,4].includes(e.step)?t("div",{class:["caidai",4===e.step?"caidai-mask":""]},[t("lottie-player",{staticClass:"lottie-player",attrs:{id:"caidai",autoplay:"",loop:"",mode:"normal",src:"./lottiefiles/schulteTable/caidai.json"}})],1):e._e(),t("transition",{attrs:{name:"slide-fade"}},[3===e.step&&e.ownResultShow?t("div",{staticClass:"result-mask"},[t("div",{staticClass:"result-mask-bg"},[t("p",{staticClass:"tip"},[e._v(e._s(e.resultTip))])]),e.isShowBestTime&&+e.curDuration<+e.bestDuration?t("div",{staticClass:"new-record"},[t("lottie-player",{staticClass:"lottie-player",attrs:{id:"newRecord",autoplay:"",mode:"normal",src:"./lottiefiles/schulteTable/new_record.json"}})],1):e._e()]):e._e()]),3===e.step?t("div",{staticClass:"personal-result"},[t("div",{staticClass:"result-content"},[t("div",{staticClass:"current-result"},[t("div",{staticClass:"left"},[e._v(e._s(e.$t("classroom.interactions.schulteTable.yourCurrentTime")))]),t("div",{staticClass:"right"},[e._v(" "+e._s(e.$t("classroom.interactions.schulteTable.duration",{duration:e.curDuration}))+" ")]),e.isShowBestTime&&+e.curDuration>=+e.bestDuration?e._e():t("div",{staticClass:"current-result-tag",domProps:{textContent:e._s(e.isShowBestTime?Number(e.curDuration)<Number(e.bestDuration)?e.$t("classroom.interactions.schulteTable.newRecord"):"":e.$t("classroom.interactions.schulteTable.firstChallenge"))}})]),e.isShowBestTime?t("div",{staticClass:"best-result"},[t("div",{staticClass:"left"},[e._v(e._s(e.$t("classroom.interactions.schulteTable.yourBestTime")))]),t("div",{staticClass:"right"},[e._v(" "+e._s(e.$t("classroom.interactions.schulteTable.duration",{duration:e.bestDuration}))+" ")])]):e._e()]),t("audio",{ref:"resultAudio",staticClass:"hide",attrs:{src:n("929b"),autoplay:""}})]):e._e(),4===e.step?t("div",{staticClass:"paihangbang"},[t("audio",{ref:"paihangbangAudio",staticClass:"hide",attrs:{src:n("a182"),autoplay:""}})]):e._e(),4===e.step?t("div",{staticClass:"rank-list"},[t("lottie-player",{staticClass:"lottie-player",attrs:{id:"paihangbang",autoplay:"",mode:"normal",src:"./lottiefiles/schulteTable/paihangbang.json"}}),t("div",{staticClass:"penzi-box"},[e.isOnRankList?t("lottie-player",{staticClass:"lottie-player",attrs:{id:"penzi",autoplay:"",loop:"",mode:"normal",src:"./lottiefiles/schulteTable/penzi.json"}}):e._e()],1),t("div",{staticClass:"rank-list-content"},[t("div",{staticClass:"title"},[e._v(" "+e._s(e.$t("classroom.interactions.schulteTable.leaderboard"))+" ")]),e.ownRankResult?t("div",{class:["tip",e.isOnRankList?"tip-in-rank":"tip-not-in-rank"]},[e._v(" "+e._s(e.isOnRankList?e.$t("classroom.interactions.schulteTable.congratulations"):e.$t("classroom.interactions.schulteTable.tryAgain"))+" ")]):e._e(),t("div",{staticClass:"rank-list-show"},[t("div",{attrs:{id:"show-box"},on:{mouseenter:e.listEnterHandler,mouseleave:e.listLeaveHandler}},[t("div",{class:["rank-top3",3===e.showRankList.length?"rank-top3-only":""],attrs:{id:"top3"}},e._l(e.showRankList.slice(0,3),(function(n,s){return t("div",{key:s,class:["rank-top3-item","rank-top3-".concat(s+1)]},[t("div",{class:["name",n.nickName?"":"opacity0"]},[e._v(" "+e._s(n.nickName||"-")+" ")]),t("div",{class:["duration",n.duration?"":"opacity0"]},[e._v(" "+e._s(n.duration?e.$t("classroom.interactions.schulteTable.duration",{duration:n.duration}):"-")+" ")]),t("div",{staticClass:"bg-in-list"},[t("img",{staticClass:"img-avatar",attrs:{src:n.avatar}}),t("div",{class:"rank-bg-".concat(s+1)}),n.coin?t("div",{staticClass:"gold-coin"},[e._v("+"+e._s(n.coin))]):e._e()])])})),0),e.showRankList.length>3?t("div",{attrs:{id:"rank-normal"}},e._l(e.showRankList.slice(3),(function(n,s){return t("div",{key:n.userId,staticClass:"content"},[t("div",{staticClass:"left"},[e._v(" "+e._s(s+4)+". "),t("img",{staticClass:"img-avatar ml12 mr8",attrs:{src:n.avatar}}),e._v(" "+e._s(n.nickName)+" ")]),t("div",{staticClass:"right"},[t("span",{staticClass:"card-clock"},[e._v(e._s(e.$t("classroom.interactions.schulteTable.duration",{duration:n.duration})))]),t("span",{staticClass:"card-coin"},[e._v("+"+e._s(n.coin))])])])})),0):e._e()])]),e.ownRankResult?t("div",{staticClass:"rank-list-owner"},[t("div",{staticClass:"content"},[t("div",{staticClass:"left"},[e._v(" "+e._s(e.ownRankIndex)+". "),t("img",{staticClass:"img-avatar ml12 mr8",attrs:{src:e.ownRankResult.avatar}}),e._v(" "+e._s(e.ownRankResult.nickName)+" ")]),t("div",{staticClass:"right"},[t("span",{staticClass:"card-clock"},[e._v(e._s(e.$t("classroom.interactions.schulteTable.duration",{duration:e.ownRankResult.duration})))]),t("span",{staticClass:"card-coin"},[e._v("+"+e._s(e.ownRankResult.coin))])])])]):e._e()])],1):e._e()],1)])}),ja=[],Ta=(n("c740"),n("a79d"),n("9f7a")),Ba=n.n(Ta),La=n("456d9"),Ma=n.n(La),Ra=n("be1c"),Ea=n.n(Ra),Da=n("230e"),Na={data:function(){return{step:0,subTitle:"",bestDuration:0,curDuration:0,resultTip:"",isShowBestTime:!1,isShowPlay:!1,level:3,category:1,random:!1,playNumberOrderArr:[],playNumberShowArr:[],nextPlayNumber:0,nextPlayIndex:0,curClickPlayNumber:-1,curClickCorrectStatus:0,curClickCorrectMap:{0:"",1:"correct-flower",2:"error-zadan"},isChangeNextNumber:!1,isDisabled:!1,isShowPlayMask:!1,showPlayMaskEle:null,time:0,pre_time:0,intervals:0,pre_intervals:0,secondsTimer:null,milliSeconds:"00",seconds:0,playDuration:0,showTopNum:3,showRankList:[],ownRankResult:null,ownResultShow:!0,isOnRankList:!1,ownRankIndex:-1,playing:"playing",halfWay:"halfway",endNormalWay:"normal",rotationListTimer:null,hasSubmitted:!1,loadStartTime:Date.now(),initAutoScroll:!1}},props:{options:{type:Object,default:function(){}}},beforeDestroy:function(){clearInterval(this.secondsTimer),clearInterval(this.rotationListTimer)},updated:function(){if(4===this.step&&this.showRankList.length>3&&!this.initAutoScroll){var e=document.getElementById("show-box"),t=document.getElementById("rank-normal");this.rotationListHandler(e,t),this.initAutoScroll=!0}},methods:{whenClick:function(e){"start"==e?(this.time=+(new Date).getTime(),this.pre_time=this.time,this.startTimer()):"end"==e?this.stopTimer():this.clearTimer()},clearTimer:function(){this.stopTimer(),this.milliSeconds="00",this.seconds=0,this.time=0,this.pre_time=0,this.intervals=0,this.pre_intervals=0},startTimer:function(){this.secondsTimer=setInterval(this.timeIncrement,10)},timeIncrement:function(){var e=new Date;this.intervals=+e.getTime()-this.time+this.pre_intervals;var t=this.intervals%1e3/10,n=this.intervals%6e4/1e3,s=Math.floor(this.intervals%36e5/6e4),a=Math.floor(this.intervals/36e5);this.milliSeconds=t<10?"0"+Math.floor(t):Math.floor(t);var i=n+60*s+3600*a;this.seconds=i<10?"0"+Math.floor(i):Math.floor(i)},stopTimer:function(){this.pre_intervals+=(new Date).getTime()-this.pre_time,clearInterval(this.secondsTimer)},listEnterHandler:function(){this.showRankList.length>3&&(this.rotationListTimer>0?(this.rotationListTimer&&window.clearInterval(this.rotationListTimer),this.rotationListTimer=null):this.rotationListTimer=-1)},listLeaveHandler:function(){if(this.showRankList.length>3){var e=document.getElementById("show-box"),t=document.getElementById("rank-normal");!this.rotationListTimer&&this.rotationListHandler(e,t)}},receiveMessage:function(e){var t=this,n=this.options.isHistory,s=e.actionType,a=e;if(!n||![1,2,3].includes(this.step)||"schulte_table_start"!==s)if("schulte_table_start"===s){var i=a.level,o=a.category,r=a.random;this.level=i,this.category=o,this.random=r,n?Object(ya["b"])({planId:this.options.roomMessage.roomInfo.planInfo.id,interactId:this.options.ircMsg.interactId}).then((function(e){0===e.code?e.data.curDuration?t.initPersonalResult(e.data):t.initReady(a):t.sendLogger("（舒尔特方格）查询历史提交接口code不为0","checkSubmitSchulteTable",{msg:e.msg,code:e.code})})).catch((function(e){t.sendLogger("（舒尔特方格）查询历史提交接口报错","checkSubmitSchulteTable",{err:e},"error")})):this.initReady(a),this.$sensors.track("pc_student_schulte_table_load",{result:"start",load_duration:Date.now()-this.loadStartTime})}else if("show_rank_list"===s){this.showTopNum=a.showTopNum,this.showRankList=a.rankList.slice(0,a.showTopNum);var c=this.showRankList.length;if(c<3){var l={avatar:Ea.a},u=3-c;1===u&&this.showRankList.splice(2,0,l),2===u&&this.showRankList.splice(1,0,l,l)}var d,h=a.rankList.findIndex((function(e){return e.userId===t.options.roomMessage.roomInfo.stuInfo.id}));if(h>-1)this.ownRankResult=a.rankList[h],this.isOnRankList=!(h>this.showTopNum-1),this.ownRankIndex=h+1,this.isOnRankList&&(null===(d=this.$refs)||void 0===d||null===(d=d.penziAudio)||void 0===d||d.play());2===this.step&&Object(Da["a"])({msg:be["b"].t("classroom.interactions.schulteTable.gameOver"),duration:2e3,parentNode:document.getElementById("interactionController")}),this.step=4}},destroyInteraction:function(){this.destoryLottie(),2===this.step&&Object(Da["a"])({msg:be["b"].t("classroom.interactions.schulteTable.gameOver"),duration:2e3,parentNode:document.getElementById("interactionController")}),this.step=0,this.$emit("close","schulte_table")},rotationListHandler:function(e,t){if(console.log("看下触发设置轮播定时器"),e&&t){var n=-1,s=this;console.log("看下触发设置轮播定时器 inin",e.scrollTop,t.scrollHeight),s.rotationListTimer=setInterval((function(){e.scrollTop>=t.scrollHeight?e.scrollTop=0:e.scrollTop++,e.scrollTop==n?(s.rotationListTimer&&window.clearInterval(s.rotationListTimer),s.rotationListTimer=-1):n=e.scrollTop}),62.5)}},initReady:function(){this.step=1,this.getSubTitle()},getSubTitle:function(){var e=1===this.category?this.$t("classroom.interactions.schulteTable.naturalNumber"):this.$t("classroom.interactions.schulteTable.primeNumber"),t=this.random?this.$t("classroom.interactions.schulteTable.shuffleMode"):this.$t("classroom.interactions.schulteTable.normalMode");this.subTitle="".concat(this.level,"×").concat(this.level," · ").concat(e," · ").concat(t)},onLottieReadyComplete:function(){var e;this.sendLogger("（舒尔特方格）倒计时 ready 播放完 onLottieReadyComplete","onLottieReadyComplete"),null===(e=document.getElementById("ready"))||void 0===e||e.destroy(),Object(Ct["a"])({planId:this.options.roomMessage.roomInfo.planInfo.id,interactId:this.options.ircMsg.interactId,classId:this.options.roomMessage.roomInfo.commonOption.classId}),localStorage.getItem("hasPlayedSchulteTable")||(this.isShowPlayMask=!0,localStorage.setItem("hasPlayedSchulteTable",!0)),this.step=2,this.isShowPlay=!0,this.initPlayDate(),this.whenClick("start")},shuffle:function(e){for(var t=e.length,n=0;n<t-1;n++){var s=parseInt(Math.random()*(t-n)),a=e[s];e[s]=e[t-n-1],e[t-n-1]=a}return e},initPlayDate:function(){var e=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25],t=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97],n=this.level,s=this.category,a=n*n;this.playNumberOrderArr=1===s?e.slice(0,a):t.slice(0,a),this.playModeReversal("mode-reversal"),this.playNumberShowArr=this.shuffle(Object(_e["a"])(this.playNumberOrderArr)),this.nextPlayIndex=0,this.nextPlayNumber=this.playNumberOrderArr[0]},addPressBox:function(e){var t,n;null===(t=document.getElementById(e))||void 0===t||null===(t=t.classList)||void 0===t||t.add("press-box"),null===(n=document.getElementById("playing"))||void 0===n||null===(n=n.classList)||void 0===n||n.add("cursor-hand90")},removePressBox:function(e){var t,n;null===(t=document.getElementById(e))||void 0===t||null===(t=t.classList)||void 0===t||t.remove("press-box"),null===(n=document.getElementById("playing"))||void 0===n||null===(n=n.classList)||void 0===n||n.remove("cursor-hand90")},handlerPlayMask:function(){this.isShowPlayMask=!1},clickCheck:function(e){var t=this;if(this.isDisabled)return this.curClickPlayNumber=-1,void(this.curClickCorrectStatus=0);this.isDisabled=!0,this.isChangeNextNumber=!1,this.curClickPlayNumber=e,new Audio(Ba.a).play();var n=!0;if(this.isShowPlayMask&&!this.nextPlayIndex&&(this.isShowPlayMask=!1,n=!1),e===this.playNumberOrderArr[this.nextPlayIndex])if(this.curClickCorrectStatus=1,this.nextPlayIndex===this.playNumberOrderArr.length-1)this.stopTimer(),this.playDuration=Number(this.seconds)+Number(this.milliSeconds)/100,this.submitPlay();else{if(this.random){this.playModeReversal("mode-reversal");var s=setTimeout((function(){t.curClickPlayNumber=-1,t.playNumberShowArr=t.shuffle(Object(_e["a"])(t.playNumberOrderArr)),clearTimeout(s)}),300)}this.nextPlayIndex++,this.nextPlayNumber=this.playNumberOrderArr[this.nextPlayIndex],this.isChangeNextNumber=!0;var a=setTimeout((function(){t.isChangeNextNumber=!1,t.isDisabled=!1,clearTimeout(a)}),300)}else if(n){this.playModeReversal("mode-moving"),this.curClickCorrectStatus=2,new Audio(Ma.a).play();var i=setTimeout((function(){t.curClickPlayNumber=-1,t.isDisabled=!1,clearTimeout(i)}),610)}else this.curClickCorrectStatus=0,this.isDisabled=!1},submitPlay:function(){var e=this;this.hasSubmitted||Object(ya["w"])({planId:this.options.roomMessage.roomInfo.planInfo.id,interactId:this.options.ircMsg.interactId,duration:this.playDuration}).then((function(t){0===t.code?(e.initPersonalResult(t.data),e.hasSubmitted=!0,e.$sensors.track("pc_student_schulte_table_load",{result:"submitSuccess",playDuration:e.playDuration})):(e.$sensors.track("pc_student_schulte_table_load",{result:"submitFail"}),e.sendLogger("（舒尔特方格）提交结果接口code不为0","submitSchulteTable",{msg:t.msg,code:t.code}))})).catch((function(t){2===e.step&&e.$Modal.info({class:"modal-simple apu-header center-modal",title:e.$t("classroom.interactions.schulteTable.submitFailTitle"),content:e.$t("classroom.interactions.schulteTable.submitFailTip"),okText:e.$t("classroom.interactions.schulteTable.submitFailBtn"),width:Object(W["x"])(416),centered:!0,closable:!1,zIndex:3e3,onOk:function(){e.submitPlay()}}),e.sendLogger("（舒尔特方格）提交结果接口报错","submitSchulteTable",{err:t},"error")})).finally((function(){e.isDisabled=!1,e.curClickCorrectStatus=0,e.curClickPlayNumber=-1}))},playModeReversal:function(e){this.$nextTick((function(){var t=document.getElementById("play-moudle");t.classList.add(e);var n="mode-moving"===e?1020:400,s=setTimeout((function(){t.classList.remove(e),clearTimeout(s)}),n)}))},initPersonalResult:function(e){var t=this;this.curDuration=e.curDuration||this.playDuration,this.bestDuration=e.bestDuration||0,this.isShowBestTime=!e.isFirst,e.isFirst?this.resultTip=this.$t("classroom.interactions.schulteTable.firstChallenge"):+this.curDuration<+this.bestDuration?this.resultTip=this.$t("classroom.interactions.schulteTable.newRecord")+"  "+this.$t("classroom.interactions.schulteTable.duration",{duration:this.curDuration}):this.resultTip=this.$t("classroom.interactions.schulteTable.gameCompleted"),this.getSubTitle(),this.step=3,this.ownResultShow=!0;var n=setTimeout((function(){t.ownResultShow=!1,clearTimeout(n)}),3e3)},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"info";F["a"].send({tag:"student.Interact",content:{msg:e,interactType:"SchulteTable",interactId:this.options.ircMsg.interactId,event:t,others:n},level:s})},destoryLottie:function(){var e,t,n,s,a,i,o;switch(this.sendLogger("（舒尔特方格）摧毁lottie","destoryLottie"),this.step){case 1:null===(e=document.getElementById("ready"))||void 0===e||e.destroy();break;case 2:null===(t=document.getElementById("jiantou"))||void 0===t||t.destroy();break;case 3:null===(n=document.getElementById("caidai"))||void 0===n||n.destroy(),null===(s=document.getElementById("newRecord"))||void 0===s||s.destroy();break;case 4:null===(a=document.getElementById("caidai"))||void 0===a||a.destroy(),null===(i=document.getElementById("paihangbang"))||void 0===i||i.destroy(),null===(o=document.getElementById("penzi"))||void 0===o||o.destroy();break;default:return}}}},Va=Na,Fa=(n("e32ca"),Object(q["a"])(Va,Pa,ja,!1,null,"6ca46fed",null)),Ua=Fa.exports,Wa=function(){var e=this,t=e._self._c;return t("div",{staticClass:"red-package-wrapper",attrs:{"data-log":"均等红包wrapper"}},[t("audio",{ref:"showRedMus",staticClass:"hiden",attrs:{src:n("834e")}}),t("audio",{ref:"getCoinMus",staticClass:"hiden",attrs:{src:n("5d1b")}}),"open"==e.redPackageStep?t("div",{staticClass:"equal-red-open",attrs:{"data-log":"红包open"}},[t("transition",{attrs:{name:"slide-bg",appear:""}},["large"==e.redPackageShowStatus?t("div",{staticClass:"red",attrs:{"data-log":"大红包"}},[t("div",{staticStyle:{position:"absolute",width:"38%",top:"0",bottom:"0",left:"31%"},on:{click:function(t){return e.openRedPackage(1)}}},[t("lottie-player",{attrs:{mode:"normal",autoplay:"",src:"./lottiefiles/redPacket/weidakai.json"}})],1)]):e._e()]),"small"==e.redPackageShowStatus?t("div",{staticClass:"red-small",attrs:{"data-log":"小红包"},on:{click:function(t){return e.openRedPackage(0)}}}):e._e()],1):e._e(),t("transition",{attrs:{name:"slide-bg",appear:""}},["opened"==e.redPackageStep&&e.redResultType?t("div",{staticClass:"get-red-result",class:[e.redResultType],attrs:{"data-log":"红包opened"}},[t("div",{staticStyle:{position:"absolute",width:"38%",top:"0",bottom:"0",left:"31%"}},[t("lottie-player",{attrs:{mode:"normal",autoplay:"",src:"./lottiefiles/redPacket/dakaihou.json"}})],1),e.resultTips[e.redResultType]?t("div",{staticClass:"red-result"},[e._v(" "+e._s(e.resultTips[e.redResultType])+" ")]):e._e(),t("div",{staticClass:"red-tips",domProps:{innerHTML:e._s(e.tips[e.redResultType])}}),t("div",{staticClass:"close-red-package",on:{click:e.closeRedPackage}},[t("i",{staticClass:"icon-close-red-package"})])]):e._e()])],1)},Ga=[],_a=n("6ce8"),Ha={props:{options:{type:Object,default:function(){return{ircMsg:{},roomMessage:{roomInfo:{commonOption:{}}}}}}},computed:{containerSize:function(){return console.info("对象函数 containerSize,filePath:renderer/SmallClass/interactions/redPacket/index.vue"),location.pathname.includes("largeClass.html")?(this.containerDom||this.setCoursewareAdaptation(),{width:this.containerDom.offsetWidth,height:this.containerDom.offsetHeight}):{width:Ke["a"].state.smallClass.coursesPosition.width,height:Ke["a"].state.smallClass.coursesPosition.height}},getEqualRedMargin:function(){return console.info("对象函数 getEqualRedMargin,filePath:renderer/SmallClass/interactions/redPacket/index.vue"),{top:"".concat((this.containerSize.height-this.getEqualRedWidth)/2,"px"),left:"".concat((this.containerSize.width-this.getEqualRedWidth)/2,"px")}},getEqualRedWidth:function(){return console.info("对象函数 getEqualRedWidth,filePath:renderer/SmallClass/interactions/redPacket/index.vue"),.4718*this.containerSize.width}},data:function(){var e=this.options.roomMessage.roomInfo.stuInfo.id,t=this.options.roomMessage.roomInfo.commonOption.planId,n=this.options.roomMessage.roomInfo.commonOption.classId,s=this.options.ircMsg.interactId||this.options.ircMsg.redPacket.interactId,a=this.$t("classroom.interactions.redPacket.oopsRedNotice"),i=this.$t("classroom.interactions.redPacket.congrats");return{equalCoinShow:!1,equalCoinX:0,equalCoinY:0,redPackageStep:"",redPackageShowStatus:"large",redResultType:"",currentStudentId:e,isPlayBack:this.options.roomMessage.roomInfo.isPlayBack,currentStuInfo:{},params:{classId:n,planId:t,interactId:s},redResult:{redbagNum:100,grabNum:10,list:[{userId:101,coin:10}]},curAddCoin:0,resultTips:{"congrats-red":i,"oops-red":"Oops~"},tips:{"congrats-red":"","oops-red":'<p class="has-get-coin">'.concat(a,"</p>")},timer:0,isRedGrabing:!1,disapperTime:35e3,containerDom:null}},destroyed:function(){console.info("对象函数 destroyed,filePath:renderer/SmallClass/interactions/redPacket/index.vue"),this.userTrackLogger("普通红包结束"),this.closeRedPackage()},methods:{receiveMessage:function(){console.info("对象函数 receiveMessage,filePath:renderer/SmallClass/interactions/redPacket/index.vue"),this.userTrackLogger("普通红包启动"),this.initAqual()},destroyInteraction:function(){console.info("对象函数 destroyInteraction,filePath:renderer/SmallClass/interactions/redPacket/index.vue")},setCoursewareAdaptation:H()((function(){var e=document.getElementById("interactionController");this.containerDom={offsetWidth:e.offsetWidth,offsetHeight:e.offsetHeight}}),300,{leading:!0}),initAqual:function(){console.info("对象函数 initAqual,filePath:renderer/SmallClass/interactions/redPacket/index.vue"),this.getstudentRedBagStatus(),this.onOpenSendData()},onOpenSendData:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n,s,a,i,o,r;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 onOpenSendData,filePath:renderer/SmallClass/interactions/redPacket/index.vue"),n=e.options.roomMessage.roomInfo.commonOption,s=n.planId,a=n.classId,i=e.options.ircMsg.interactId,o={planId:s,classId:a,interactId:i},t.next=6,Object(_a["e"])(e,o);case 6:r=t.sent,0==r.code&&console.log(r,"上报数据成功"),e.sendLogger("上报数据成功");case 9:case"end":return t.stop()}}),t)})))()},disapperRedPacket:function(){var e=this;console.info("对象函数 disapperRedPacket,filePath:renderer/SmallClass/interactions/redPacket/index.vue"),this.timer=setTimeout((function(){"open"==e.redPackageStep&&(e.sendLogger("超出时间".concat(e.disapperTime,"未点击，删除红包状态")),e.closeRedPackage())}),this.disapperTime)},getstudentRedBagStatus:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.info("对象函数 getstudentRedBagStatus,filePath:renderer/SmallClass/interactions/redPacket/index.vue"),e.isPlayBack){t.next=4;break}return e.openRedPackageOp(),t.abrupt("return",!1);case 4:case"end":return t.stop()}}),t)})))()},openRedPackageOp:function(){var e=this;console.info("对象函数 openRedPackageOp,filePath:renderer/SmallClass/interactions/redPacket/index.vue"),this.sendLogger("显示红包"),this.redPackageStep="open",console.log("看下 这里return??",this.redPackageStep),this.$nextTick((function(){e.$refs.showRedMus.play()})),this.disapperRedPacket(),setTimeout((function(){e.sendLogger("缩略小红包"),e.redPackageShowStatus="small"}),5e3)},openRedPackage:function(e){var t=this;return Object(O["a"])(Object(x["a"])().mark((function n(){var s,a;return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.info("对象函数 openRedPackage(clickButton)",e,"filePath:renderer/SmallClass/interactions/redPacket/index.vue"),t.curAddCoin=0,Object(V["e"])("hw_classroom_interact_red_packet_click",t.options.roomMessage.roomInfo.commonOption,{interact_id:t.options.ircMsg.interactId,click_button:e}),t.sendLogger("点击".concat(1===e?"大":"小","红包")),!t.isRedGrabing){n.next=6;break}return n.abrupt("return",!1);case 6:return t.isRedGrabing=!0,n.next=9,Object(_a["c"])(t,t.params);case 9:if(a=n.sent,Se["n"](null===(s=t.options)||void 0===s||null===(s=s.ircMsg)||void 0===s?void 0:s.interactId,a),t.isRedGrabing=!1,t.sendLogger("抢红包结果, res: ".concat(JSON.stringify(a))),41001!=a.code){n.next=17;break}return t.redPackageStep="opened",t.redResultType="oops-red",n.abrupt("return",!1);case 17:if(0==a.code){n.next=20;break}return t.$Message.warn(a.msg),n.abrupt("return");case 20:t.redPackageStep="opened",a.data.coin&&(t.redResultType="congrats-red",t.tips["congrats-red"]="<p><span class='get-coin'>+".concat(a.data.coin,"</span></p>"),t.$refs.getCoinMus&&t.$refs.getCoinMus.play(),t.curAddCoin=a.data.coin),clearTimeout(t.timer),t.timer=setTimeout((function(){t.closeRedPackage()}),5e3);case 24:case"end":return n.stop()}}),n)})))()},checkResults:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 checkResults,filePath:renderer/SmallClass/interactions/redPacket/index.vue"),t.next=3,Object(_a["d"])(e,e.params);case 3:if(n=t.sent,0==n.code){t.next=7;break}return e.$Message.info(n.msg),t.abrupt("return");case 7:e.redPackageStep="showResult",e.redResult.redbagNum=n.data.redbagNum,e.redResult.grabNum=n.data.grabNum,e.redResult.list=n.data.list,e.currentStuInfo=n.data.list.filter((function(t){if(t.userId===e.currentStudentId)return t})),e.currentStuInfo=e.currentStuInfo[0];case 13:case"end":return t.stop()}}),t)})))()},onEqualCoinLottieComplete:function(){console.info("对象函数 onEqualCoinLottieComplete,filePath:renderer/SmallClass/interactions/redPacket/index.vue"),this.equalCoinShow=!1,this.curAddCoin=0,this.equalCoinX=0,this.equalCoinY=0},closeRedPackage:function(){console.info("对象函数 closeRedPackage,filePath:renderer/SmallClass/interactions/redPacket/index.vue"),"opened"===this.redPackageStep&&this.curAddCoin&&(this.equalCoinShow=!0,this.$bus.$emit("addCoin",!0,this.curAddCoin,!0)),this.sendLogger("点击关闭红包"),this.timer&&clearTimeout(this.timer),this.redPackageStep="",this.$emit("close","redPacket")},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};F["a"].send({tag:"student.Interact",level:t,content:Object(y["a"])({msg:e,interactType:"Redpacket",interactId:this.options.ircMsg.interactId},n)})},userTrackLogger:function(e){console.info("对象函数 userTrackLogger(msg)",e,"filePath:renderer/SmallClass/interactions/redPacket/index.vue"),F["a"].send({tag:"userTrack",content:{msg:e,tag:"student.Interact",interactType:"Redpacket"}})}}},Qa=Ha,Ja=(n("1ac8"),Object(q["a"])(Qa,Wa,Ga,!1,null,null,null)),qa=Ja.exports,Ka=function(){var e=this,t=e._self._c;return t("div",{staticClass:"class-content"},[t("div",{staticClass:"red-rain-wrapper",style:{width:e.rainWidth},attrs:{"data-log":"红包雨"}},[t("audio",{ref:"rainPot",staticClass:"hidden",attrs:{src:n("9a45")}}),t("audio",{ref:"redRainClick",staticClass:"hidden",attrs:{src:n("1241")}}),e.rainGameShow&&e.rainSrc?t("iframe",{ref:"rainRed",attrs:{src:e.rainSrc,width:e.rainWidth,height:e.rainHeight,frameborder:"0",allow:"autoplay"},on:{onload:e.handleIframeLoad}}):e._e(),e.rainLoading?t("div",{staticClass:"redpacket-loading"},[t("div",{style:Object(y["a"])({position:"absolute",width:"".concat(e.getLoadingWidth,"px"),height:"".concat(e.getLoadingHeight,"px")},e.getLoadingMargin)},[t("lottie-player",{attrs:{mode:"normal",loop:"",autoplay:"",src:"./lottiefiles/redRain/loading/index.json"}}),t("div",{staticClass:"redpacked-loading-tip"},[e._v(" "+e._s(e.$t("classroom.interactions.redRain.loading"))+" ")])],1)]):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:e.rainPotShow||e.rainCoinShow,expression:"rainPotShow || rainCoinShow"}],staticClass:"mask"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.rainPotShow,expression:"rainPotShow"}],ref:"potWrap",class:["red-rain-pot",{"pot-move":!e.potRemove},{"pot-remove":e.potRemove}],style:Object(y["a"])({width:"".concat(e.getPotWidth,"px"),height:"".concat(e.getPotHeight,"px")},e.getPotMargin),on:{animationend:e.potWarpEnd}},[t("lottie-player",{attrs:{id:"pot",loop:"",mode:"normal",src:"./lottiefiles/redRain/pot/index.json"}}),t("div",{staticClass:"rain-coin",style:e.getRainCoinStyle},[e._v("+"+e._s(e.rainCoin))]),t("div",{ref:"rainPotBtn",staticClass:"rain-button",style:e.getRainBtnStyle,on:{pointerdown:e.rainPotBtnDown,pointerup:e.rainPotBtnUp}},[t("span",{style:e.getRainBtnText},[e._v(e._s(e.$t("classroom.interactions.redRain.collect"))+" ("+e._s(e.rainTime)+"s)")])])],1)])])},$a=[],za=n("dbc1"),Ya=n("02fc"),Xa=null,Za={props:{options:{type:Object,default:function(){return{ircMsg:{},roomMessage:{roomInfo:{commonOption:{}}}}}}},i18n:be["b"],computed:{rainSrc:function(){if(console.info("对象函数 rainSrc,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),this.rainHost){var e=this.options.ircMsg,t=e.redbagDuration,n=e.redbagQueue,s=e.bombQueue,a=e.action,i=e.parameter,o="".concat(this.rainHost,"?redbagDuration=").concat(t,"&redbagQueue=[").concat(n,"]&bombQueue=[").concat(s,"]&action=").concat(a).concat(i?"&"+i:"","&schoolCode=").concat(this.schoolCode);return this.sendLogger("加载红包雨Src：".concat(o)),window.thinkApi.ipc.send("test:url",o),encodeURI(o)}return""},containerSize:function(){var e,t;return console.info("对象函数 containerSize,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),{width:(null===(e=this.containerDom)||void 0===e?void 0:e.offsetWidth)/16*9/3*4,height:null===(t=this.containerDom)||void 0===t?void 0:t.offsetHeight}},rainWidth:function(){return console.info("对象函数 rainWidth,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),"".concat(this.containerSize.width,"px")},rainHeight:function(){return console.info("对象函数 rainHeight,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),"".concat(this.containerSize.height,"px")},getPotWidth:function(){console.info("对象函数 getPotWidth,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue");var e=this.containerSize.width/this.containerSize.height;if(e>1.167){var t=this.containerSize.height-64;return 1.167*t}var n=this.containerSize.width-168;return n/1.167},getPotHeight:function(){return console.info("对象函数 getPotHeight,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),this.getPotWidth/1.167},getPotMargin:function(){return console.info("对象函数 getPotMargin,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),{top:"".concat((this.containerSize.height-this.getPotHeight)/2,"px"),left:"".concat((this.containerSize.width-this.getPotHeight)/2,"px")}},getLoadingWidth:function(){console.info("对象函数 getLoadingWidth,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue");var e=this.containerSize.width/this.containerSize.height;if(e>1.108){var t=this.containerSize.height-235;return 1.108*t}var n=this.containerSize.width-418;return n/1.108},getLoadingHeight:function(){return console.info("对象函数 getLoadingHeight,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),this.getLoadingWidth/1.108},getLoadingMargin:function(){return console.info("对象函数 getLoadingMargin,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),{top:"".concat(.38*(this.containerSize.height-this.getLoadingHeight),"px"),left:"".concat((this.containerSize.width-this.getLoadingWidth)/2,"px")}},getRainCoinStyle:function(){return console.info("对象函数 getRainCoinStyle,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),{left:"".concat(273/594*this.getPotWidth,"px"),top:"".concat(213/509*this.getPotHeight,"px"),fontSize:"".concat(44/509*this.getPotHeight,"px"),lineHeight:"".concat(44/509*this.getPotHeight,"px")}},getRainBtnStyle:function(){return console.info("对象函数 getRainBtnStyle,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),{width:"".concat(164/594*this.getPotWidth,"px"),height:"".concat(61/509*this.getPotHeight,"px"),top:"".concat(301/509*this.getPotHeight,"px"),left:"".concat(215/594*this.getPotWidth,"px")}},getRainBtnText:function(){return console.info("对象函数 getRainBtnText,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),{marginTop:"-".concat(8/509*this.getPotHeight,"px"),fontSize:"".concat(18/509*this.getPotHeight,"px")}},getCoinWidth:function(){console.info("对象函数 getCoinWidth,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue");var e=this.containerSize.width/this.containerSize.height;if(e>1.046){var t=229/572*this.containerSize.height;return 1.046*t}var n=240/763*this.containerSize.width;return n/1.046},getCoinHeight:function(){return console.info("对象函数 getCoinHeight,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),this.getCoinWidth/1.046},getCoinMargin:function(){return console.info("对象函数 getCoinMargin,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),{top:"".concat((this.containerSize.height-this.getCoinHeight)/2,"px"),left:"".concat((this.containerSize.width-this.getCoinWidth)/2,"px")}}},data:function(){var e=this.options.roomMessage.roomInfo.stuInfo.id,t=this.options.roomMessage.roomInfo.commonOption.planId,n=this.options.roomMessage.roomInfo.commonOption.classId,s=this.options.ircMsg.interactId||this.options.ircMsg.redPacket.interactId;return{schoolCode:"",rainLoading:!0,rainStatus:"start",rainCoin:0,rainTime:3,rainTimer:null,rainPotShow:!1,rainCoinShow:!1,rainGameShow:!0,rainHost:"",rainDestory:null,rainStartTime:Date.now(),isAddingCoin:!1,potRemove:!1,needPlay:!1,currentStudentId:e,params:{classId:n,planId:t,interactId:s},containerDom:document.getElementsByClassName("class-interaction-layer")[0]}},mounted:function(){var e=this;this.$nextTick((function(){window.addEventListener("resize",e.setCoursewareAdaptation)}))},destroyed:function(){var e;console.info("对象函数 destroyed,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),this.userTrackLogger("红包雨结束"),null===(e=Xa)||void 0===e||e.disconnect(),Xa=null,window.removeEventListener("message",this.rainLoad,!1),location.pathname.includes("largeClass.html")&&window.removeEventListener("resize",this.setCoursewareAdaptation)},methods:{receiveMessage:function(e){var t=this;return Object(O["a"])(Object(x["a"])().mark((function n(){var s;return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.info("对象函数 receiveMessage(noticeContent)",e,"filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),s=e.action,t.$nextTick(Object(O["a"])(Object(x["a"])().mark((function n(){var a,i,o,r,c,l,u,d,h,m;return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.userTrackLogger("红包雨启动"),a=""!==t.schoolCode,!a||"start"!==s){n.next=4;break}return n.abrupt("return");case 4:if("play"!==s){n.next=25;break}if(o=localStorage.getItem("redPacketRainKey"),r=localStorage.getItem("redPacketRainStatus"),!a||o!==e.interactId||"end"!==r){n.next=9;break}return n.abrupt("return");case 9:if(!a||""!==r&&"start"!==r){n.next=12;break}return t.play(),n.abrupt("return");case 12:if(c=t.options.sendTime,l=(null===(i=t.$store.state.smallClass)||void 0===i||null===(i=i.baseData)||void 0===i||null===(i=i.commonOption)||void 0===i?void 0:i.timeOffset)+ +new Date,console.log("redpacketTime",l),!(l>c+1e4)){n.next=18;break}return t.$emit("close","red_packet_rain"),n.abrupt("return");case 18:return u=t.$store.state.smallClass.baseData,d=u.stuInfo,h=u.planInfo,n.next=21,Object(_a["b"])(t,{interactId:e.interactId,planId:h.id,userId:d.id.toString()});case 21:if(m=n.sent,!m){n.next=25;break}return t.$emit("close","red_packet_rain"),n.abrupt("return");case 25:t.initRandom();case 26:case"end":return n.stop()}}),n)}))));case 3:case"end":return n.stop()}}),n)})))()},destroy:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n,s;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.info("对象函数 destroy,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),e.sendLogger("老师结束了互动, 状态：".concat(e.rainStatus,", 是红包雨, 是否添加金币: ").concat(e.isAddingCoin)),n="start"===e.rainStatus||"play"===e.rainStatus,n&&(s=e.rainStatus,Object(Da["a"])({msg:be["b"].t("classroom.interactions.redRain.toastTip"),duration:2e3,parentNode:document.getElementById("interactionController"),callback:function(){"start"===s&&(e.sendLogger("倒计时销毁红包雨"),e.$emit("close","red_packet_rain"))}})),"play"!==e.rainStatus){t.next=7;break}return t.next=7,e.getPushData();case 7:if(!e.isAddingCoin){t.next=10;break}return t.next=10,e.getCoinStatus();case 10:e.rainStatus&&"start"!==e.rainStatus&&(e.sendLogger("直接销毁红包雨"),e.$emit("close","red_packet_rain"));case 11:case"end":return t.stop()}}),t)})))()},destroyInteraction:function(){console.info("对象函数 destroyInteraction,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),this.destroy()},checkRedPacketInfo:function(){var e=this;console.info("对象函数 checkRedPacketInfo,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),Object(za["a"])().then((function(t){console.info("箭头函数 checkRedPacket的then(res)",t,"filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),t?(e.rainHost=t,e.sendLogger("红包雨游戏地址:".concat(e.rainHost))):e.$Modal.confirm({class:"modal-simple apu-header center-modal",title:"".concat(e.$t("common.networkErr"),"(").concat(e.$t("classroom.interactions.redRain.title"),")"),content:e.$t("classroom.interactions.redRain.NetworkFailTip"),okText:e.$t("classroom.interactions.redRain.RetryBtn"),cancelText:e.$t("common.cancel"),width:Object(W["x"])(416),centered:!0,zIndex:3e3,onOk:function(){e.checkRedPacketInfo()}})})).catch((function(){console.info("箭头函数 catch,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue")}))},setCoursewareAdaptation:H()((function(){var e=document.getElementsByClassName("class-interaction-layer")[0];this.containerDom={offsetWidth:null===e||void 0===e?void 0:e.offsetWidth,offsetHeight:null===e||void 0===e?void 0:e.offsetHeight}}),300,{leading:!0}),initRandom:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 initRandom,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),e.$sensors.track("hw_red_package_rain_load",{result:"start",url:e.rainSrc,is_local:e.rainHost.includes("localhost")}),localStorage.setItem("redPacketRainStatus",""),e.onOpenSendData(),e.checkRedPacketInfo(),t.next=7,Object(Ya["f"])();case 7:e.schoolCode=t.sent,window.addEventListener("message",e.rainLoad,!1);case 9:case"end":return t.stop()}}),t)})))()},playCoinLottie:function(){if(console.info("对象函数 playCoinLottie,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),this.potRemove=!0,this.rainTime=3,this.rainTimer=null,0===+this.rainCoin)return this.isAddingCoin=!1,this.rainGameShow=!1,this.rainDestory&&this.rainDestory(),void this.$emit("close","red_packet_rain");this.rainCoinShow=!0,this.$bus.$emit("addCoin",!0,this.rainCoin,!0),this.$emit("close","red_packet_rain")},getCoinStatus:function(){var e=this;return console.info("对象函数 getCoinStatus,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),new Promise((function(t){e.rainDestory=t}))},getPushData:function(){var e=this;return console.info("对象函数 getPushData,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),new Promise((function(t){try{e.$refs.rainRed.contentWindow.postMessage({type:"getData"},"*")}catch(n){e.sendLogger("红包雨message信息","error",{err:"dom加载失败",meg:n,dom:"rainRed:".concat(e.rainSrc)})}e.rainDestory=t}))},play:function(){if(console.info("对象函数 play,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),this.$refs.rainRed&&!this.rainLoading){this.rainStatus="play";try{this.$refs.rainRed.contentWindow.postMessage({type:"play"},"*"),this.sendLogger("发送play红包雨")}catch(e){console.error(e),this.sendLogger("红包雨message信息","error",{err:"dom加载失败",meg:e,dom:"rainRed:".concat(this.rainSrc)})}}else this.needPlay=!0},rainLoad:function(e){var t=this;return Object(O["a"])(Object(x["a"])().mark((function n(){var s,a,i,o,r,c,l,u;return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.info("对象函数 rainLoad(event)",e,"filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),s=e.data.type,a=["init","push","error"],a.includes(s)){n.next=5;break}return n.abrupt("return");case 5:if(t.sendLogger("红包雨message信息","error"==s?"error":"info",{data:e.data}),"init"!==s){n.next=14;break}t.rainLoading=!1,console.log("发送红包雨消息，play",t.needPlay),t.needPlay&&(t.needPlay=!1,t.play()),t.sendLogger("红包雨init成功"),t.$sensors.track("hw_red_package_rain_load",{result:"success",url:t.rainSrc,is_local:t.rainHost.includes("localhost"),load_duration:Date.now()-t.rainStartTime}),n.next=34;break;case 14:if("push"!==s){n.next=33;break}return clearTimeout(t.rainTimer),i=t.options.roomMessage.roomInfo.commonOption,o=i.planId,r=i.classId,c=t.options.ircMsg.interactId,l={planId:o,classId:r,interactId:c,userId:t.currentStudentId,coin:e.data.coin,grabRedbagQueue:e.data.grabRedbagQueue,grabBombQueue:e.data.grabBombQueue},t.rainCoin=e.data.coin,t.rainPotShow=!0,t.rainStatus="end",t.isAddingCoin=!0,t.$refs.rainPot.play(),t.sendLogger("红包雨游戏push完成".concat(JSON.stringify(l))),t.countDown(),n.next=28,Object(_a["f"])(t,l);case 28:u=n.sent,0!==+u.code&&500!==+u.code&&(t.$Message.error(u.msg),localStorage.setItem("redPacketRainReportError",JSON.stringify(l))),Se["h"](c,t.rainCoin),n.next=34;break;case 33:"error"===s&&t.$sensors.track("hw_red_package_rain_load",{result:"fail",url:t.rainSrc,is_local:t.rainHost.includes("localhost")});case 34:localStorage.setItem("redPacketRainKey",t.params.interactId),localStorage.setItem("redPacketRainStatus",t.rainStatus);case 36:case"end":return n.stop()}}),n)})))()},countDown:function(){var e=this;console.info("对象函数 countDown,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),0===this.rainTime?(this.sendLogger("游戏结束倒计时开始收金币动效"),this.playCoinLottie()):this.rainTimer=setTimeout((function(){e.rainTime--,e.countDown()}),1e3)},potWarpEnd:function(){console.info("对象函数 potWarpEnd,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),this.sendLogger("展示获得金币数量弹窗"),this.potRemove,document.getElementById("pot").play()},rainPotBtnDown:function(){console.info("对象函数 rainPotBtnDown,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),this.$refs.rainPotBtn.style.transform="scale(0.9)"},rainPotBtnUp:function(){console.info("对象函数 rainPotBtnUp,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),this.$refs.rainPotBtn.style.transform="scale(1)",this.rainTimer&&setTimeout(this.rainPotClick,200)},rainPotClick:function(){console.info("对象函数 rainPotClick,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),this.rainTimer&&clearTimeout(this.rainTimer),this.sendLogger("游戏结束点击collect按钮开始收金币动效"),this.rainTimer&&this.$refs.redRainClick.play(),this.playCoinLottie()},onOpenSendData:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n,s,a,i,o,r;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 onOpenSendData,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),n=e.options.roomMessage.roomInfo.commonOption,s=n.planId,a=n.classId,i=e.options.ircMsg.interactId,o={planId:s,classId:a,interactId:i},t.next=6,Object(_a["e"])(e,o);case 6:r=t.sent,0==r.code&&console.log(r,"上报数据成功"),e.sendLogger("上报数据成功");case 9:case"end":return t.stop()}}),t)})))()},handleIframeLoad:function(){console.info("对象函数 handleIframeLoad,filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),this.sendLogger("加载H5成功-红包雨",{rainSrc:this.rainSrc})},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};F["a"].send({tag:"student.Interact",level:t,content:Object(y["a"])({msg:e,interactType:"red_packet_rain",interactId:this.options.ircMsg.interactId},n)})},userTrackLogger:function(e){console.info("对象函数 userTrackLogger(msg)",e,"filePath:renderer/SmallClass/interactions/redPacketRain/index.vue"),F["a"].send({tag:"userTrack",content:{msg:e,tag:"student.Interact",interactType:"red_packet_rain"}})}}},ei=Za,ti=(n("1d56"),Object(q["a"])(ei,Ka,$a,!1,null,null,null)),ni=ti.exports,si=function(){var e=this,t=e._self._c;return t("div",{staticClass:"speedy-hand"},[t("div",{staticClass:"speedy-hand-box"},[t("lottie-player",{staticClass:"lottie-player",attrs:{id:"ready",autoplay:"",mode:"normal",src:"./lottiefiles/speedyHand/01ready.json"},on:{complete:e.onLottieReadyComplete}}),t("audio",{ref:"readygoAudio",staticClass:"hide",attrs:{src:n("a21a"),autoplay:""}}),t("audio",{ref:"backgroundAudio",staticClass:"hide",attrs:{src:n("6986"),autoplay:""}}),t("lottie-player",{staticClass:"lottie-player",attrs:{id:"go",autoplay:"",mode:"normal",src:"./lottiefiles/speedyHand/01go.json"},on:{complete:e.onLottieGoComplete}}),t("lottie-player",{staticClass:"lottie-player",attrs:{id:"waitClickLottie",loop:"",mode:"normal",src:"./lottiefiles/speedyHand/02wait.json"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowBtn,expression:"isShowBtn"}],staticClass:"mouseAction",on:{click:e.onSpeedyHand}}),t("lottie-player",{staticClass:"lottie-player",attrs:{id:"press",mode:"normal",src:"./lottiefiles/speedyHand/03press.json"}}),t("audio",{ref:"pressAudio",staticClass:"hide",attrs:{src:n("473f")}}),t("lottie-player",{staticClass:"lottie-player",attrs:{id:"loading",loop:"",mode:"normal",src:"./lottiefiles/speedyHand/04loading.json"}}),t("lottie-player",{staticClass:"lottie-player",attrs:{id:"result",mode:"normal",src:"./lottiefiles/speedyHand/05result.json"},on:{complete:e.onResultLottieComplete}}),t("audio",{ref:"resultAudio",staticClass:"hide",attrs:{src:n("5e38")}}),t("lottie-player",{directives:[{name:"show",rawName:"v-show",value:e.isShowResult,expression:"isShowResult"}],staticClass:"lottie-player",attrs:{id:"onStage",loop:"",mode:"normal",src:"./lottiefiles/speedyHand/06onStage.json"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.resultData.studentId>0,expression:"resultData.studentId > 0"}],staticClass:"result-student-img"},[t("img",{attrs:{src:e.resultData.avatar,width:"140",height:"140"}})]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.resultData.studentId>0,expression:"resultData.studentId > 0"}],staticClass:"result-student-name"},[e._v(" "+e._s(e.resultData.nickName)+" ")]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isNoStudent,expression:"isNoStudent"}],staticClass:"result-nostudent-tips"},[e._v(e._s(e.$t("common.speedyHand")))]),t("lottie-player",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"lottie-player pos",attrs:{id:"errorLottie",mode:"normal",src:"./lottiefiles/speedyHand/07error.json"}}),t("audio",{ref:"errorLottieAudio",staticClass:"hide",attrs:{src:n("8267")}})],1)])},ai=[],ii={data:function(){return{isShowBtn:!1,pressTimer:null,destroyInteractionTimer:null,isShowResult:!1,isNoStudent:!1,resultData:{studentId:"",nickName:"",avatar:n("5562")},isPressSpeedyHand:!1,halfWay:"halfway",resultNoBody:"nobody",resultHasBody:"normal"}},props:{options:{type:Object,default:function(){}}},methods:{onLottieReadyComplete:function(){var e,t;console.info("对象函数 onLottieReadyComplete,filePath:renderer/SmallClass/interactions/speedyHand/index.vue"),this.sendLogger("（抢答）ready 播放完 onLottieReadyComplete","onLottieReadyComplete"),null===(e=document.getElementById("ready"))||void 0===e||e.destroy(),null===(t=document.getElementById("go"))||void 0===t||t.play(),this.isShowBtn=!0},onLottieGoComplete:function(){var e,t;console.info("对象函数 onLottieGoComplete,filePath:renderer/SmallClass/interactions/speedyHand/index.vue"),this.sendLogger("（抢答）go 播放完 onLottieGoComplete","onLottieGoComplete"),null===(e=document.getElementById("go"))||void 0===e||e.destroy(),null===(t=document.getElementById("waitClickLottie"))||void 0===t||t.play()},onResultLottieComplete:function(){var e,t,n=this;console.info("对象函数 onResultLottieComplete,filePath:renderer/SmallClass/interactions/speedyHand/index.vue"),console.log("抢答）有人抢答 播放完 onResultLottieComplete"),this.sendLogger("（抢答）有人抢答 播放完 onResultLottieComplete","onResultLottieComplete"),this.isShowResult=!0,null===(e=document.getElementById("result"))||void 0===e||e.destroy(),null===(t=document.getElementById("onStage"))||void 0===t||t.play();var s=this.$store.state.smallClass.videoMicLinkUsers,a=s.filter((function(e){return e==n.resultData.studentId}));this.sendLogger("（抢答）有人抢答 播放完 onResultLottieComplete","onResultLottieComplete",{videoMicLinkUsers:s,student:a});var i,o=setTimeout((function(){var e;null===(e=document.getElementById("onStage"))||void 0===e||e.destroy(),n.close(n.resultHasBody)}),5e3);a.length&&(null===(i=document.getElementById("onStage"))||void 0===i||i.destroy(),this.close(this.resultHasBody),clearTimeout(o))},onSpeedyHand:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n,s,a,i,o,r,c,l;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.info("对象函数 onSpeedyHand,filePath:renderer/SmallClass/interactions/speedyHand/index.vue"),!e.isPressSpeedyHand){t.next=3;break}return t.abrupt("return");case 3:return e.isPressSpeedyHand=!0,e.sendLogger("（抢答）点击抢答--初始","onSpeedyHand"),e.$refs.pressAudio.play(),null===(n=document.getElementById("go"))||void 0===n||n.destroy(),null===(s=document.getElementById("waitClickLottie"))||void 0===s||s.destroy(),null===(a=document.getElementById("press"))||void 0===a||a.play(),o={planId:e.options.roomMessage.roomInfo.planInfo.id,classId:e.options.roomMessage.roomInfo.commonOption.classId,interactId:e.options.ircMsg.interactId},console.log("0704 params",o),e.sendLogger("（抢答）点击抢答--params","onSpeedyHand",o),t.next=14,Object(ya["a"])(o).catch((function(t){return console.info("箭头函数 answerRob的catch(err)",t,"filePath:renderer/SmallClass/interactions/speedyHand/index.vue"),e.sendLogger("接口报错:抢答:","onSpeedyHand",{err:t},"error"),t}));case 14:r=t.sent,console.log("0704 res",r),e.sendLogger("（抢答）点击抢答--res","onSpeedyHand",r),c=r.code,l=r.data,0===c&&(null===l||void 0===l||null===(i=l.studentInfo)||void 0===i?void 0:i.userId)>0&&(e.isShowBtn=!1,e.resultStudent(l.studentInfo)),e.pressTimer=setTimeout((function(){var t,n;clearTimeout(e.pressTimer),null===(t=document.getElementById("press"))||void 0===t||t.destroy(),null===(n=document.getElementById("loading"))||void 0===n||n.play()}),800);case 20:case"end":return t.stop()}}),t)})))()},destroyInteraction:function(e){console.info("对象函数 destroyInteraction(noticeContent)",e,"filePath:renderer/SmallClass/interactions/speedyHand/index.vue"),console.log("抢答destroyInteraction",e),this.sendLogger("（抢答）接收消息--speedyHand-destroyInteraction","receiveMessage",e);var t,n,s,a=e.data,i=e.status;if(3===i)return this.sendLogger("(抢答) 中途结束","destroyInteraction",a),void this.close(this.halfWay);2!==i||a.studentId?1===i&&(null===a||void 0===a?void 0:a.studentId)>0&&(this.sendLogger("（抢答）有人抢答1","destroyInteraction",a),this.isShowBtn=!1,this.destoryLottie(),this.resultStudent(a),this.close(this.resultHasBody)):(this.sendLogger("（抢答）无人抢答2","destroyInteraction",a),this.isShowBtn=!1,this.isNoStudent=!0,null===(t=document.getElementById("errorLottie"))||void 0===t||t.play(),null===(n=this.$refs.errorLottieAudio)||void 0===n||n.play(),null===(s=this.$refs.backgroundAudio)||void 0===s||s.pause(),this.destoryLottie(),this.close(this.resultNoBody))},close:function(e){var t=this;console.info("对象函数 close(type)",e,"filePath:renderer/SmallClass/interactions/speedyHand/index.vue"),this.sendLogger("（抢答）摧毁互动","close",e),this.isPressSpeedyHand=!1,clearTimeout(this.pressTimer),clearTimeout(this.destroyInteractionTimer),e===this.halfWay?(Object(Da["a"])({msg:be["b"].t("classroom.interactions.redRain.toastTip"),duration:2e3,parentNode:document.getElementById("interactionController")}),this.$emit("close","speedyHand")):e===this.resultNoBody?this.destroyInteractionTimer=setTimeout((function(){clearTimeout(t.destroyInteractionTimer),t.$emit("close","speedyHand")}),3500):e===this.resultHasBody&&this.$emit("close","speedyHand")},resultStudent:function(e){var t,s;if(console.info("对象函数 resultStudent(data)",e,"filePath:renderer/SmallClass/interactions/speedyHand/index.vue"),console.log("0704 有人抢答",e,this.resultData.studentId),this.sendLogger("（抢答）有人抢答","resultStudent",e),!this.resultData.studentId){console.log("0704 有人抢答 1",this.resultData.studentId);var a=this.options.roomMessage.roomInfo.stuInfo.id,i=(null===e||void 0===e?void 0:e.studentId)||(null===e||void 0===e?void 0:e.userId),o="";o=a===i?"Me(".concat(null===e||void 0===e?void 0:e.nickName,")"):null===e||void 0===e?void 0:e.nickName,this.resultData.studentId=i,this.resultData.nickName=o,this.resultData.avatar=(null===e||void 0===e?void 0:e.avatar)||n("5562"),console.log("0704 有人抢答 2",this.resultData),null===(t=this.$refs.resultAudio)||void 0===t||t.play(),null===(s=document.getElementById("result"))||void 0===s||s.play(),this.destoryLottie()}},destoryLottie:function(){var e,t,n;console.info("对象函数 destoryLottie,filePath:renderer/SmallClass/interactions/speedyHand/index.vue"),this.sendLogger("（抢答）摧毁lottie","destoryLottie"),null===(e=document.getElementById("waitClickLottie"))||void 0===e||e.destroy(),null===(t=document.getElementById("press"))||void 0===t||t.destroy(),null===(n=document.getElementById("loading"))||void 0===n||n.destroy()},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"info";F["a"].send({tag:"student.Interact",content:{msg:e,interactType:"speedyHand",interactId:this.options.ircMsg.interactId,event:t,others:n},level:s})}}},oi=ii,ri=(n("5f29"),Object(q["a"])(oi,si,ai,!1,null,null,null)),ci=ri.exports,li=function(){var e=this,t=e._self._c;return e.showEaxmIframe?t("div",{ref:"exam-wrapper",staticClass:"exam-container"},[t("iframe",{attrs:{id:"class-examination",src:e.examUrl},on:{onload:e.handleIframeLoad}})]):e._e()},ui=[],di=n("7b1b"),hi={mixins:[di["a"]],data:function(){return{baseData:this.$store.state.smallClass.baseData,examUrl:"",showEaxmIframe:!1,useInfo:window.localStorage.getItem("userInfo")}},methods:{receiveMessage:function(e){console.info("对象函数 receiveMessage(noticeContent)",e,"filePath:renderer/SmallClass/interactions/ClassExamination/index.vue"),this.sendLogger("class_examination 课中考试",{noticeContent:e}),this.setExaminationInfo(e)},setExaminationInfo:function(e){var t=this;console.info("对象函数 setExaminationInfo(noticeContent)",e,"filePath:renderer/SmallClass/interactions/ClassExamination/index.vue"),this.$bus.$emit("setExaminationStatus",!0);var n=this.baseData.commonOption.timeOffset,s=+new Date,a=parseInt((s+n)/1e3),i=a-e.beginTime-60,o=e.beginTime+e.totaltime-a,r=this.useInfo?JSON.parse(this.useInfo).unifiedAccessToken:"";if(1===e.status&&i<=0&&(o=e.totaltime),!this.examUrl){var c="from=live&classId=".concat(this.baseData.commonOption.classId,"&studentId=").concat(this.baseData.commonOption.stuId,"&token=").concat(r),l="duration=".concat(e.totaltime,"&completed=").concat(3===e.status?1:0,"&isLate=").concat(i>0?1:0,"&remainSeconds=").concat(o);this.examUrl="".concat(e.examUrl,"&platform=3&").concat(c,"&").concat(l),window.thinkApi.ipc.send("test:url",this.examUrl),this.sendLogger("class_examination 课中考试加载地址".concat(this.examUrl))}this.showEaxmIframe=!0,2===e.status?this.$nextTick((function(){document.getElementById("class-examination").contentWindow.postMessage({type:"updateRemainSecondsTo",data:{remainSeconds:o}},"*"),t.sendLogger("class_examination 课中考试更改考试时间",{remainSeconds:o})})):3===e.status&&(this.$nextTick((function(){document.getElementById("class-examination").contentWindow.postMessage({type:"completeExam"},"*")})),this.sendLogger("class_examination 课中考试老师收卷结束考试"))},sendSubmitEaxmToTeacher:function(){console.info("对象函数 sendSubmitEaxmToTeacher,filePath:renderer/SmallClass/interactions/ClassExamination/index.vue");var e={nickname:this.baseData.configs.teacherIrcId,content:{type:128,submit:!0},chatMsgPriority:99};this.thinkClass.SignalService.sendPeerMessage(e)},destroyInteraction:function(){console.info("对象函数 destroyInteraction,filePath:renderer/SmallClass/interactions/ClassExamination/index.vue"),this.showEaxmIframe=!1,this.examUrl="",this.$bus.$emit("setExaminationStatus",!1),this.sendLogger("class_examination 关闭课中考试"),this.$emit("close","class_examination")},handleIframeLoad:function(){console.info("对象函数 handleIframeLoad,filePath:renderer/SmallClass/interactions/ClassExamination/index.vue"),F["a"].send({content:{msg:"加载H5成功-小班考试",examUrl:this.examUrl}})},sendLogger:function(e){F["a"].send({tag:"class_examination",content:{msg:e}})}},mounted:function(){this.bindEvent()}},mi=hi,fi=(n("30d3"),Object(q["a"])(mi,li,ui,!1,null,"5e8e50cc",null)),pi=fi.exports,gi=function(){var e=this,t=e._self._c;return e.options.ircMsg.beginTime?t("transition",{attrs:{name:"fade"}},[t("div",{staticClass:"class-rest",attrs:{id:"classRest"}},[t("p",{staticClass:"title"},[e._v(" "+e._s(e.$t("classroom.interactions.classRest.title"))+" ")]),t("p",{staticClass:"time-minuts"},[e._v(" "+e._s(e.getMinutes)+" ")]),t("p",{staticClass:"time-split"}),t("p",{staticClass:"time-seconds"},[e._v(" "+e._s(e.getSeconds)+" ")]),t("audio",{ref:"classRestSound",attrs:{src:n("03a0")}})])]):e._e()},vi=[],Ci={props:{options:{type:Object,default:function(){return{ircMsg:{},roomMessage:{roomInfo:{commonOption:{}}}}}}},data:function(){return{leftTime:0,timer:null}},computed:{getMinutes:function(){var e=Math.floor(this.leftTime/60);return e=e>=10?e:"0"+e,e},getSeconds:function(){var e=Math.floor(this.leftTime-60*this.getMinutes);return e=e>=10?e:"0"+e,5===this.leftTime&&this.$refs.classRestSound.play(),e}},methods:{receiveMessage:function(){this.getLeftTime(),this.$nextTick((function(){A["nativeApi"].elementDrag({dragDom:"classRest",areaDom:"interactionController"})})),this.sendLogger("老师开启课间休息")},destroyInteraction:function(){this.$emit("close","classRest")},getLeftTime:function(){if(isNaN(this.options.ircMsg.type)){var e=(new Date).getTime();this.leftTime=this.options.ircMsg.duration-(this.options.roomMessage.roomInfo.nowTime-this.options.ircMsg.beginTime)-parseInt((e-window._requestBasicTime)/1e3)}else this.leftTime=this.options.ircMsg.duration;this.startCountDown()},startCountDown:function(){var e=this;if(this.leftTime<=1)return this.leftTime=0,void this.resetCountDown();this.leftTime>1&&(this.leftTime=this.leftTime-1,this.timer=setTimeout((function(){e.startCountDown()}),1e3))},resetCountDown:function(){clearTimeout(this.timer),this.timer=null,this.$emit("close","classRest")},sendLogger:function(e){F["a"].send({tag:"classRest",content:{msg:e,interactType:"classRest"}})}},beforeDestroy:function(){this.sendLogger("老师结束课间休息")}},bi=Ci,Ai=(n("6429"),Object(q["a"])(bi,gi,vi,!1,null,"90a0c71c",null)),Si=Ai.exports,wi=Object(v["c"])({name:"Interactions",props:{isCourseware4b3:{type:"boolean",default:!1}},components:{TakePicture:Ie,ClassPraiseList:wt,RandomCall:Qt,Gift:ln,Vote:vn,NonpresetFillBlank:Bn,VoteForCourseware:Ms,StudentRank:Us,FillBlankForCourseware:qs,OrientationCoins:Aa,ClassPraise:Oa,SchulteTable:Ua,RedPacket:qa,RedPacketRain:ni,DrawBoard:ut,SpeedyHand:ci,ClassExamination:pi,ClassRest:Si},setup:function(e){var t=Object(v["a"])((function(){return e.isCourseware4b3})),n=Object(v["d"])(),s=n.proxy,a=s.$store.state.smallClass.baseData,i=Object(v["i"])([{name:"TakePicture",componentName:"TakePicture",layout:"full",isShow:!1,keys:["take_picture"],options:{roomMessage:{roomInfo:Object(y["a"])({},s.$store.state.smallClass.baseData)},ircMsg:""}},{name:"DrawBoard",componentName:"DrawBoard",layout:t.value?"isFourToThree":"full",isShow:!1,keys:["graffiti_board"],options:Object(y["a"])(Object(y["a"])({},s.$store.state.smallClass.baseData),{},{ircMsg:""})},{name:"ClassPraiseList",componentName:"ClassPraiseList",layout:"isFourToThree",isShow:!1,keys:["class_praise_list"],options:{roomMessage:{roomInfo:Object(y["a"])({},s.$store.state.smallClass.baseData)},ircMsg:""}},{name:"RandomCall",componentName:"RandomCall",layout:"full",isShow:!1,keys:["small_random_call"],options:{roomMessage:{roomInfo:Object(y["a"])({},s.$store.state.smallClass.baseData)},ircMsg:""}},{name:"Gift",componentName:"Gift",layout:"full",isShow:!1,keys:["openGift"],options:{roomMessage:{roomInfo:Object(y["a"])({},s.$store.state.smallClass.baseData)},ircMsg:""}},{name:"Vote",componentName:"Vote",layout:"full",isShow:!1,keys:["vote"],options:{roomMessage:{roomInfo:Object(y["a"])({},s.$store.state.smallClass.baseData)},ircMsg:""}},{name:"NonpresetFillBlank",componentName:"NonpresetFillBlank",layout:"full",isShow:!1,keys:["nonpreset_fill_blank"],options:{roomMessage:{roomInfo:Object(y["a"])({},s.$store.state.smallClass.baseData)},ircMsg:""}},{name:"VoteForCourseware",componentName:"VoteForCourseware",layout:"full",isShow:!1,keys:["interact"],options:{roomMessage:{roomInfo:Object(y["a"])({},s.$store.state.smallClass.baseData)},ircMsg:""}},{name:"StudentRank",componentName:"StudentRank",layout:"full",isShow:!1,keys:["student_rank"],options:{roomMessage:{roomInfo:Object(y["a"])({},s.$store.state.smallClass.baseData)},ircMsg:""}},{name:"VoteForCourseware",componentName:"VoteForCourseware",layout:"full",isShow:!1,keys:["interact"],options:{roomMessage:{roomInfo:Object(y["a"])({},s.$store.state.smallClass.baseData)},ircMsg:""}},{name:"FillBlankForCourseware",componentName:"FillBlankForCourseware",layout:"isFourToThree",isShow:!1,keys:["fill_blank"],options:{roomMessage:{roomInfo:Object(y["a"])({},s.$store.state.smallClass.baseData)},ircMsg:""}},{name:"OrientationCoins",componentName:"OrientationCoins",layout:"full",isShow:!1,keys:["distribute_coins"],options:{roomMessage:{roomInfo:Object(y["a"])({},s.$store.state.smallClass.baseData)},ircMsg:""}},{name:"ClassPraise",componentName:"ClassPraise",layout:"full",isShow:!1,keys:["classroom_praise"],options:{roomMessage:{roomInfo:Object(y["a"])({},s.$store.state.smallClass.baseData)},ircMsg:""}},{name:"SchulteTable",componentName:"SchulteTable",layout:"full",isShow:!1,keys:["schulte_table"],options:{roomMessage:{roomInfo:Object(y["a"])({},s.$store.state.smallClass.baseData)},ircMsg:""}},{name:"RedPacket",componentName:"RedPacket",layout:"full",isShow:!1,keys:["redPacket"],options:{roomMessage:{roomInfo:Object(y["a"])({},s.$store.state.smallClass.baseData)},ircMsg:""}},{name:"RedPacketRain",componentName:"RedPacketRain",layout:"full",isShow:!1,keys:["red_packet_rain"],options:{roomMessage:{roomInfo:Object(y["a"])({},s.$store.state.smallClass.baseData)},ircMsg:""}},{name:"SpeedyHand",componentName:"SpeedyHand",layout:"full",isShow:!1,keys:["speedyHand"],options:{roomMessage:{roomInfo:Object(y["a"])({},s.$store.state.smallClass.baseData)},ircMsg:""}},{name:"ClassExamination",componentName:"ClassExamination",layout:"isFourToThree",isShow:!1,keys:["class_examination"],options:{}},{name:"ClassRest",componentName:"ClassRest",layout:"full",isShow:!1,keys:["classRest"],options:{roomMessage:{roomInfo:Object(y["a"])({},s.$store.state.smallClass.baseData)},ircMsg:""}}]),o=["small_random_call","speedyHand","distribute_coins","redPacket"],r=function(e,t){e.isShow=!0,e.options.ircMsg=t.noticeContent,e.options.isHistory=t.isHistory,e.options["sendTime"]=t.sendTime,Object(v["e"])((function(){s.$refs[e.name]&&s.$refs[e.name][0].receiveMessage&&s.$refs[e.name][0].receiveMessage(t.noticeContent)}))};function c(e){var t=i.find((function(t){return t.keys.includes(e)}));return t}function l(e){var t=c(e);t.isShow=!1}return s.$bus.$on("interactions",(function(e){var t=e.key,n=e.noticeContent,a=e.isTrigger;if(!o.includes(t)||!a){var i=n.pub,l=n.open,u=n.publishTopic,d=c(t);if(i||l||u)s.$store.dispatch("smallClass/updateInteractionStatus",{interactionName:t,interactionStatus:!0}),d.isShow?n.interactId!==d.interactId&&"distribute_coins"!==t?(d.isShow=!1,Object(v["e"])((function(){r(d,e)}))):s.$refs[d.name][0].receiveMessage(e.noticeContent):r(d,e),d.interactId=n.interactId;else if(!1===i||!1===l||0===i||0===l||!1===u){var h,m;if(s.$store.dispatch("smallClass/updateInteractionStatus",{interactionName:t,interactionStatus:!1}),s.$refs[d.name]&&null!==(h=s.$refs[d.name][0])&&void 0!==h&&h.destroyInteraction)return void(null===(m=s.$refs[d.name][0])||void 0===m||m.destroyInteraction(n));d.isShow=!1}}})),Object(v["f"])((function(){s.$bus.$off("interactions")})),{baseData:a,interactions:i,interactionClose:l}}}),yi=wi,ki=(n("34c8"),Object(q["a"])(yi,S,w,!1,null,"d20868be",null)),Ii=ki.exports,xi=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{attrs:{id:"floatLayerController"}},[t("ScreenThumbnail",{staticClass:"pointer-events-auto",staticStyle:{"z-index":"92"}}),e.baseData.commonOption.isAudition?e._e():t("Tools",{staticClass:"absolute right-[0.16rem] bottom-[0.16rem]",staticStyle:{"z-index":"96"}}),t("CameraAllowConfirm",{staticClass:"pointer-events-auto absolute right-[1rem] bottom-[0.1rem]",staticStyle:{"z-index":"98"}}),t("MediaAccessModel",{staticClass:"pointer-events-auto",staticStyle:{"z-index":"99"}}),t("TeacherDisabledMicrophoneNotice",{staticClass:"pointer-events-auto",staticStyle:{"z-index":"97"}}),t("EmojiPane",{staticClass:"pointer-events-auto absolute bottom-0 left-[50%] translate-x-[-50%]",staticStyle:{"z-index":"95"}}),t("Atmosephere",{staticStyle:{"z-index":"100",position:"absolute"}}),t("CountDown",{ref:"CountDown",staticStyle:{"z-index":"93"},attrs:{options:e.baseData.commonOption}})],1)},Oi=[],Pi=function(){var e=this,t=e._self._c;return e.thumbnailBase64?t("div",{staticClass:"thumbnail-wrapper",on:{click:function(t){return t.stopPropagation(),e.handleScreenshotPath.apply(null,arguments)}}},[t("div",{staticClass:"thumbnail-img"},[t("img",{attrs:{src:e.thumbnailBase64}})]),t("div",{staticClass:"thumbnail-text"},[e._v(" "+e._s(e.$t("classroom.modules.screenThumbnail.successNotice"))+" ")])]):e._e()},ji=[],Ti={data:function(){return{waiting:!1,thumbnailBase64:null}},mounted:function(){var e=this;this.$bus.$on("screenThumbnail",(function(){console.info("箭头函数 监听 screenThumbnail,filePath:renderer/SmallClass/components/Header/ScreenThumbnail/index.vue"),e.handleScreenshot()}))},methods:{handleScreenshot:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.info("对象函数 handleScreenshot,filePath:renderer/SmallClass/components/Header/ScreenThumbnail/index.vue"),!e.waiting){t.next=3;break}return t.abrupt("return");case 3:return e.waiting=!0,t.next=6,Object(pt["a"])();case 6:n=t.sent,e.thumbnailBase64=n.thumbnail,Qn&&clearTimeout(Qn),Qn=setTimeout((function(){e.thumbnailBase64=null,e.waiting=!1}),3e3);case 10:case"end":return t.stop()}}),t)})))()},handleScreenshotPath:function(){return Object(O["a"])(Object(x["a"])().mark((function e(){var t;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.info("对象函数 handleScreenshotPath,filePath:renderer/SmallClass/components/Header/ScreenThumbnail/index.vue"),e.next=3,Object(ft["b"])();case 3:t=e.sent,A["nativeApi"].openDirBySystem(t);case 5:case"end":return e.stop()}}),e)})))()}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/SmallClass/components/Header/ScreenThumbnail/index.vue"),this.$bus.$off("screenThumbnail")}},Bi=Ti,Li=(n("91ea"),Object(q["a"])(Bi,Pi,ji,!1,null,"5021531b",null)),Mi=Li.exports,Ri=function(){var e=this,t=e._self._c;return t("div",{staticClass:"camera-allow-confirm"},[t("AllowAccessDialog",{attrs:{isAllOnStage:e.isAllOnStage,theme:"orange"},on:{ok:e.handleOk,cancel:e.handleCancel},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[t("div",{staticClass:"content"},[t("div",{staticClass:"icon-camera"}),t("div",{staticClass:"notice"},[e._v(" "+e._s(e.$t("classroom.smallClass.cameraAllowConfirm.notice"))+" ")])])])],1)},Ei=[],Di=function(){var e=this,t=e._self._c;return e.sVisible?t("div",{staticClass:"dialog-wrapper",class:[e.dialogClass,e.allOnStageClass]},[t("div",{staticClass:"dialog-content"},[e._t("default")],2),e.showOkButton||e.showCancelButton?t("div",{staticClass:"dialog-footer"},[e.showCancelButton?t("div",{staticClass:"dialog-button button-cancel",on:{click:e.handleCancel}},[e._v(" "+e._s(e.cancelValue||e.$t("common.deny"))+" ")]):e._e(),e.showOkButton?t("div",{staticClass:"dialog-button button-ok",on:{click:e.handleOk}},[e._v(" "+e._s(e.okValue||e.$t("common.agree"))+" ")]):e._e()]):e._e()]):e._e()},Ni=[],Vi={name:"AllowAccessDialog",model:{prop:"visible"},data:function(){return{sVisible:!!this.visible}},props:{dialogClass:{type:String,default:""},theme:{type:String,default:"green"},visible:{type:Boolean,default:!1},okValue:{type:String,default:""},cancelValue:{type:String,default:""},showOkButton:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!0},isAllOnStage:{type:Boolean,default:!1}},watch:{visible:function(e){this.sVisible=e}},computed:{allOnStageClass:function(){return console.info("对象函数 allOnStageClass,filePath:renderer/SmallClass/components/AllowAccessDialog/index.vue"),this.isAllOnStage?"all-on-stage-wrapper":""}},mounted:function(){},methods:{handleCancel:function(e){this.$emit("cancel",e)},handleOk:function(e){this.$emit("ok",e)}}},Fi=Vi,Ui=(n("7728"),Object(q["a"])(Fi,Di,Ni,!1,null,"8dd24c04",null)),Wi=Ui.exports,Gi={name:"CameraAllowConfirm",components:{AllowAccessDialog:Wi},data:function(){return{visible:!1,timer:null,duration:1e4}},props:{isAllOnStage:{type:Boolean,default:!1}},watch:{"$store.state.smallClass.cameraStatus":{handler:function(e){console.info("对象函数 handler(val)",e,"filePath:renderer/SmallClass/components/LayerFloat/CameraAllowConfirm/index.vue"),e&&this.closeDialog()}}},mounted:function(){this.$bus.$on("showCameraAllowConfirm",this.autoClose)},methods:{handleOk:function(){console.info("对象函数 handleOk,filePath:renderer/SmallClass/components/LayerFloat/CameraAllowConfirm/index.vue"),this.$bus.$emit("openCamera",!0),this.closeDialog(),this.sendLogger("学生同意打开摄像头")},handleCancel:function(){console.info("对象函数 handleCancel,filePath:renderer/SmallClass/components/LayerFloat/CameraAllowConfirm/index.vue"),this.closeDialog(),this.sendLogger("学生拒绝打开摄像头")},closeDialog:function(){console.info("对象函数 closeDialog,filePath:renderer/SmallClass/components/LayerFloat/CameraAllowConfirm/index.vue"),this.visible=!1,this.timer&&clearTimeout(this.timer)},autoClose:function(){var e=this;console.info("对象函数 autoClose,filePath:renderer/SmallClass/components/LayerFloat/CameraAllowConfirm/index.vue"),this.visible=!0,this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){e.closeDialog(),e.sendLogger("授权打开摄像头提示自动关闭")}),this.duration)},sendLogger:function(e){F["a"].send({tag:"cameraStatus",content:{msg:e}})}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/SmallClass/components/LayerFloat/CameraAllowConfirm/index.vue"),this.$bus.$off("showCameraAllowConfirm",this.autoClose)}},_i=Gi,Hi=(n("7b7b"),Object(q["a"])(_i,Ri,Ei,!1,null,"a9475d60",null)),Qi=Hi.exports,Ji=function(){var e=this,t=e._self._c;return t("Model",{attrs:{dialogClass:"ignore-mediaSecurityAccess",isShowModal:e.showModal,type:e.type,leftBtnText:e.$t("classroom.modules.mediaSecurityAccess.cancel"),rightBtnText:e.$t("classroom.modules.mediaSecurityAccess.confirm"),title:e.titleTip,subTitle:e.subTitleTip,zIndex:9999},on:{leftBtnOperation:e.cancelAccess,rightBtnOperation:e.confirmAccess}})},qi=[],Ki=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{width:e.width,maskClosable:!1,centered:!0,keyboard:!1,closable:!1,footer:null,dialogClass:e.classes,destroyOnClose:e.destroyOnClose,zIndex:e.zIndex},model:{value:e.isShowModal,callback:function(t){e.isShowModal=t},expression:"isShowModal"}},[t("div",{staticClass:"ignore-common-model-wrapper"},[t("div",{staticClass:"top-wrapper"},[t("div",{staticClass:"title"},[e._v(e._s(e.title))]),t("div",{staticClass:"sub-title"},[e._v(e._s(e.subTitle))])]),e.$slots.default?t("div",{staticClass:"content-wrapper"},[e._t("default")],2):e._e(),e.showFooter?t("div",{staticClass:"bottom-wrapper"},[e.showLeftBtn?t("a-button",{staticClass:"btn left-btn",attrs:{type:"primary",shape:"round",size:"large",loading:e.leftLoading},on:{click:function(t){return e.leftOperation()}}},[e._v(" "+e._s(e.leftBtnText)+" ")]):e._e(),e.showRightBtn?t("a-button",{staticClass:"btn right-btn",attrs:{type:"primary",shape:"round",size:"large",disabled:e.disabled,loading:e.rightLoading},on:{click:function(t){return e.rightOperation()}}},[e._v(" "+e._s(e.rightBtnText)+" ")]):e._e()],1):e._e()])])},$i=[],zi=(n("a15b"),{props:{width:{type:Number,default:343},title:{type:String,default:""},isShowModal:{type:Boolean,default:!1},subTitle:{type:String,default:""},leftBtnText:{type:String,default:""},rightBtnText:{type:String,default:""},showLeftBtn:{type:Boolean,default:!0},showRightBtn:{type:Boolean,default:!0},dialogClass:{type:String||Array,default:""},showFooter:{type:Boolean,default:!0},destroyOnClose:{type:Boolean,default:!1},zIndex:{type:Number,default:1e3},disabled:{type:Boolean,default:!1},leftLoading:{type:Boolean,default:!1},rightLoading:{type:Boolean,default:!1}},computed:{classes:function(){var e=this.dialogClass;return Array.isArray(this.dialogClass)&&(e=this.dialogClass.join(" ")),"common-model-cls ".concat(e)}},methods:{leftOperation:function(){this.$emit("leftBtnOperation")},rightOperation:function(){this.$emit("rightBtnOperation")}}}),Yi=zi,Xi=(n("fc8f"),Object(q["a"])(Yi,Ki,$i,!1,null,"38de1e3e",null)),Zi=Xi.exports,eo={data:function(){return{showModal:!1,type:"default",titleMsg:"",subTitleMsg:"",cameraAccess:"granted",microphoneAccess:"granted"}},i18n:be["b"],components:{Model:Zi},computed:{titleTip:function(){return console.info("对象函数 titleTip,filePath:renderer/SmallClass/components/LayerFloat/MediaAccessModel/index.vue"),this.titleMsg},subTitleTip:function(){return console.info("对象函数 subTitleTip,filePath:renderer/SmallClass/components/LayerFloat/MediaAccessModel/index.vue"),this.subTitleMsg}},mounted:function(){var e=this;this.$bus.$on("showMediaSecurityAccess",(function(t){console.info("箭头函数 监听 showMediaSecurityAccess(type)",t,"filePath:renderer/SmallClass/components/LayerFloat/MediaAccessModel/index.vue"),e.type=t,e.checkAccess()}))},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/SmallClass/components/LayerFloat/MediaAccessModel/index.vue"),this.$bus.$off("showMediaSecurityAccess")},methods:{checkAccess:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.info("对象函数 checkAccess,filePath:renderer/SmallClass/components/LayerFloat/MediaAccessModel/index.vue"),A["utilsApi"].isMacOS()){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,A["nativeApi"].getCameraAccessStatus();case 5:return e.cameraAccess=t.sent,t.next=8,A["nativeApi"].getMicAccessStatus();case 8:return e.microphoneAccess=t.sent,e.subTitleMsg=e.$t("classroom.modules.mediaSecurityAccess.tip"),n={camera:function(){"not-determined"!==e.cameraAccess&&"granted"!==e.cameraAccess&&(e.titleMsg=e.$t("classroom.modules.mediaSecurityAccess.camera"),e.showModal=!0,F["a"].send({tag:"access",content:{msg:"无摄像头权限弹窗",cameraAccess:e.cameraAccess,type:e.type}}))},microphone:function(){"not-determined"!==e.microphoneAccess&&"granted"!==e.microphoneAccess&&(e.titleMsg=e.$t("classroom.modules.mediaSecurityAccess.microphone"),e.showModal=!0,F["a"].send({tag:"access",content:{msg:"无麦克风权限弹窗",microphoneAccess:e.microphoneAccess,type:e.type}}))},default:function(){return"not-determined"!==e.cameraAccess&&"not-determined"!==e.microphoneAccess&&"granted"!==e.cameraAccess&&"granted"!==e.microphoneAccess?(e.titleMsg=e.$t("classroom.modules.mediaSecurityAccess.deniedAccess"),e.showModal=!0,void F["a"].send({tag:"access",content:{msg:"无麦克风和摄像头权限弹窗",cameraAccess:e.cameraAccess,microphoneAccess:e.microphoneAccess,type:e.type}})):"not-determined"!==e.cameraAccess&&"granted"!==e.cameraAccess?(e.titleMsg=e.$t("classroom.modules.mediaSecurityAccess.camera"),e.showModal=!0,void F["a"].send({tag:"access",content:{msg:"无摄像头权限弹窗",cameraAccess:e.cameraAccess,type:e.type}})):"not-determined"!==e.microphoneAccess&&"granted"!==e.microphoneAccess?(e.titleMsg=e.$t("classroom.modules.mediaSecurityAccess.microphone"),e.showModal=!0,void F["a"].send({tag:"access",content:{msg:"无麦克风权限弹窗",microphoneAccess:e.microphoneAccess,type:e.type}})):void 0}},t.abrupt("return",n[e.type]());case 12:case"end":return t.stop()}}),t)})))()},cancelAccess:function(){console.info("对象函数 cancelAccess,filePath:renderer/SmallClass/components/LayerFloat/MediaAccessModel/index.vue"),F["a"].send({tag:"access",content:{msg:"取消授权"}}),this.showModal=!1},confirmAccess:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.info("对象函数 confirmAccess,filePath:renderer/SmallClass/components/LayerFloat/MediaAccessModel/index.vue"),"default"!==e.type){t.next=12;break}if("granted"===e.cameraAccess){t.next=6;break}return t.next=5,A["nativeApi"].openPreferences("security","camera");case 5:return t.abrupt("return",t.sent);case 6:if("granted"===e.microphoneAccess){t.next=10;break}return t.next=9,A["nativeApi"].openPreferences("security","microphone");case 9:return t.abrupt("return",t.sent);case 10:t.next=24;break;case 12:if("camera"!==e.type){t.next=19;break}if("granted"===e.cameraAccess){t.next=17;break}return t.next=16,A["nativeApi"].openPreferences("security","camera");case 16:return t.abrupt("return",t.sent);case 17:t.next=24;break;case 19:if("microphone"!==e.type){t.next=24;break}if("granted"===e.microphoneAccess){t.next=24;break}return t.next=23,A["nativeApi"].openPreferences("security","microphone");case 23:return t.abrupt("return",t.sent);case 24:F["a"].send({tag:"access",content:{msg:"允许授权",cameraAccess:e.cameraAccess,type:e.type}});case 25:case"end":return t.stop()}}),t)})))()}}},to=eo,no=(n("6b8e"),Object(q["a"])(to,Ji,qi,!1,null,"68d0dec0",null)),so=no.exports,ao=function(){var e=this,t=e._self._c;return t("div",{staticClass:"microphone-disabled-notice"},[t("AllowAccessDialog",{attrs:{isAllOnStage:e.isAllOnStage,showCancelButton:!1,okValue:e.$t("common.gotIt")},on:{ok:e.handleOk,cancel:e.handleCancel},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[t("div",{staticClass:"content"},[t("div",{class:["on"==e.showOnOrOff?"icon-microphone":"icon-off-microphone"]}),t("div",{staticClass:"notice"},[e._v(" "+e._s("on"==e.showOnOrOff?e.$t("classroom.smallClass.teacherDisabledOnMicrophone.notice"):e.$t("classroom.smallClass.teacherDisabledOffMicrophone.notice"))+" ")])])])],1)},io=[],oo={name:"TeacherDisabledMicrophoneNotice",components:{AllowAccessDialog:Wi},data:function(){return{visible:!1,timer:null,duration:5e3,showOnOrOff:"on"}},props:{isAllOnStage:{type:Boolean,default:!1}},mounted:function(){this.$bus.$on("showTeacherDisabledMicrophoneNotice",this.autoClose)},methods:{handleOk:function(){console.info("对象函数 handleOk,filePath:renderer/SmallClass/components/LayerFloat/TeacherDisabledMicrophoneNotice/index.vue"),this.closeDialog()},handleCancel:function(){console.info("对象函数 handleCancel,filePath:renderer/SmallClass/components/LayerFloat/TeacherDisabledMicrophoneNotice/index.vue"),this.closeDialog()},closeDialog:function(){console.info("对象函数 closeDialog,filePath:renderer/SmallClass/components/LayerFloat/TeacherDisabledMicrophoneNotice/index.vue"),this.visible=!1,this.timer&&clearTimeout(this.timer)},autoClose:function(e){var t=this;console.info("对象函数 autoClose(type)",e,"filePath:renderer/SmallClass/components/LayerFloat/TeacherDisabledMicrophoneNotice/index.vue"),this.visible=!0,this.showOnOrOff=e,this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.closeDialog()}),this.duration)}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/SmallClass/components/LayerFloat/TeacherDisabledMicrophoneNotice/index.vue"),this.$bus.$off("showTeacherDisabledMicrophoneNotice",this.autoClose)}},ro=oo,co=(n("e758"),Object(q["a"])(ro,ao,io,!1,null,"e5ecad1a",null)),lo=co.exports,uo=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"flex-col pointer-events-auto"},[t("div",{staticClass:"w-[0.48rem] h-[0.48rem] rounded-[0.24rem] bg-cover mic cursor-pointer mb-[0.16rem]",class:{active:e.microphoneStatus,immutable:e.microphoneImmutable},on:{click:e.handleClickMicrophone}},[e.microphoneStatus?t("div",{staticClass:"mic-wave",style:e.micVolumeStyle}):e._e()]),t("div",{staticClass:"w-[0.48rem] h-[0.48rem] rounded-[0.24rem] bg-cover handsup cursor-pointer mb-[0.16rem]",class:{active:e.isHandsUpActive,close:e.isHandsUpClose},on:{click:e.handleHandsUpSwitch}},[e._m(0),e._m(1)]),t("div",{staticClass:"w-[0.48rem] h-[0.48rem] rounded-[0.24rem] bg-cover emoji cursor-pointer mb-[0.16rem]",class:{active:e.isEmojiActived,cooling:e.isEmojiCooling,close:e.isEmojiClose},on:{click:e.handleEmojiSwitch}},[e.isEmojiClose&&e.isShowEmojiCloseTip?t("div",{staticClass:"emoji-tip w-[1.5rem]"},[e._v(" "+e._s(e.emojiCloseTipText)+" ")]):e._e(),e.isEmojiCooling&&e.isShowEmojiCoolingTip?t("div",{staticClass:"emoji-tip w-[2.5rem]"},[e._v(" "+e._s(e.emojiCoolingTipText)+" ")]):e._e()]),t("div",{staticClass:"w-[0.48rem] h-[0.48rem] rounded-[0.24rem] bg-cover cursor-pointer chatbox",class:{active:e.isChatBoxOpen},attrs:{id:"tools-chatbox"},on:{click:e.handleChatBoxSwitchOpen}},[e.isChatBoxHasNewMsg&&!e.isChatBoxOpen?t("div",{staticClass:"chat-new-msg"}):e._e()])])},ho=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"left"},[t("span")])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"right"},[t("span")])}];function mo(){console.info("函数申明 useMediaAccess, filePath:renderer/SmallClass/hooks/useMediaAccess.js");var e=Object(v["j"])(!1);function t(){return console.info("函数申明 getCameraAccess, filePath:renderer/SmallClass/hooks/useMediaAccess.js"),n.apply(this,arguments)}function n(){return console.info("函数申明 _getCameraAccess, filePath:renderer/SmallClass/hooks/useMediaAccess.js"),n=Object(O["a"])(Object(x["a"])().mark((function t(){var n;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("函数申明 getCameraAccess, filePath:renderer/SmallClass/hooks/useMediaAccess.js"),t.next=3,A["nativeApi"].getCameraAccessStatus();case 3:n=t.sent,e.value="granted"===n;case 5:case"end":return t.stop()}}),t)}))),n.apply(this,arguments)}var s=Object(v["j"])(!1);function a(){return console.info("函数申明 getMicrophoneAccess, filePath:renderer/SmallClass/hooks/useMediaAccess.js"),i.apply(this,arguments)}function i(){return console.info("函数申明 _getMicrophoneAccess, filePath:renderer/SmallClass/hooks/useMediaAccess.js"),i=Object(O["a"])(Object(x["a"])().mark((function e(){var t;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.info("函数申明 getMicrophoneAccess, filePath:renderer/SmallClass/hooks/useMediaAccess.js"),e.next=3,A["nativeApi"].getMicAccessStatus();case 3:t=e.sent,s.value="granted"===t;case 5:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}return{cameraAccess:e,microphoneAccess:s,getCameraAccess:t,getMicrophoneAccess:a}}function fo(){var e=Object(v["d"])(),t=e.proxy,n=mo(),s=n.microphoneAccess,a=n.getMicrophoneAccess,i=Object(v["a"])((function(){return t.$store.state.smallClass.microphoneStatus})),o=Object(v["a"])((function(){return t.$store.state.smallClass.allowOpenMicrophone})),r=Object(v["a"])((function(){return t.$store.state.smallClass.forbidMuteAudio})),c=Object(v["a"])((function(){return t.$store.state.smallClass.selfVideoMicLink})),l=Object(v["a"])((function(){return i.value&&r.value})),u=Object(v["a"])((function(){return t.$store.state.smallClass.currentVolume})),d=Object(v["a"])((function(){return t.$store.state.smallClass.baseData})),h=Object(v["j"])({height:"0rem"}),m=function(e){var t=e/225*.24;h.value={height:"".concat(t,"rem")}};function f(e){return p.apply(this,arguments)}function p(){return p=Object(O["a"])(Object(x["a"])().mark((function e(n){return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("handleMicroPhoneSwitch",n,i.value),n!==i.value){e.next=3;break}return e.abrupt("return");case 3:if(!n){e.next=9;break}return e.next=6,a();case 6:if(s.value){e.next=9;break}return t.$bus.$emit("showMediaSecurityAccess","microphone"),e.abrupt("return");case 9:t.$store.dispatch("smallClass/updateMicrophoneStatus",n),t.thinkClass.RtcService.muteLocalAudio(!n);case 11:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function g(){return i.value?!r.value||(t.$bus.$emit("showTeacherDisabledMicrophoneNotice","off"),!1):!!o.value||(t.$bus.$emit("showTeacherDisabledMicrophoneNotice","on"),!1)}function C(){return b.apply(this,arguments)}function b(){return b=Object(O["a"])(Object(x["a"])().mark((function e(){return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$bus.$on("TeacherSwitchMicrophone",(function(e){f(e)})),t.$bus.$on("openMicrophone",(function(){f(!0)})),t.$bus.$on("all_audio_mute",(function(e){if(e)f(!0);else{if(c.value)return;f(!1)}}));case 3:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function A(){t.$bus.$off("TeacherSwitchMicrophone",(function(e){f(e)})),t.$bus.$off("openMicrophone",(function(){f(!0)})),t.$bus.$off("all_audio_mute",(function(e){if(e)f(!0);else{if(c.value)return;f(!1)}}))}function S(){var e=g();e&&f(!i.value)}function w(){return y.apply(this,arguments)}function y(){return y=Object(O["a"])(Object(x["a"])().mark((function e(){var t,n,s;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(ya["h"])({planId:d.value.planInfo.id});case 2:if(t=e.sent,t&&0==t.code){e.next=5;break}return e.abrupt("return");case 5:n=t.data,s=n.enterRoomMute,1==s&&f(!1);case 8:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}return Object(v["g"])(Object(O["a"])(Object(x["a"])().mark((function e(){return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:s.value||t.$store.dispatch("smallClass/updateMicrophoneStatus",!1);case 3:case"end":return e.stop()}}),e)})))),{handleMicroPhoneSwitch:f,removeMicroPhoneEvent:A,listenMicroPhoneEvent:C,handleClickMicrophone:S,microphoneStatus:i,microphoneImmutable:l,micVolumeStyle:h,currentVolume:u,updateMicBoxStyle:m,queryMuteStatus:w}}function po(){console.info("函数申明 useEmojiStatus, filePath:renderer/SmallClass/hooks/useEmojiStatus.js");var e=Object(v["d"])(),t=e.proxy,n=Object(v["j"])(!1),s=Object(v["j"])(!1),a=Object(v["j"])(0),i=Object(v["j"])(!1),o=null,r=Object(v["a"])((function(){return t.$t("classroom.smallClass.sendEmoji.forbiddenSendMessage")})),c=3,l=3,u=30,d=Object(v["j"])(!1),h=null,m=Object(v["j"])(!1),f=null,p=null,g=Object(v["j"])(30),C=Object(v["a"])((function(){return t.$t("classroom.smallClass.sendEmoji.sendTooFast",{num:g.value})}));function b(){if(console.info("函数申明 handleEmojiSwitch, filePath:renderer/SmallClass/hooks/useEmojiStatus.js"),s.value){if(i.value)return;I()}else if(d.value){if(m.value)return;y()}else n.value?j():T()}function A(){console.info("函数申明 handleEmojiSended, filePath:renderer/SmallClass/hooks/useEmojiStatus.js"),j(),a.value++,a.value>=l&&(d.value||w())}function S(){console.info("函数申明 resetEmojiCooling, filePath:renderer/SmallClass/hooks/useEmojiStatus.js"),d.value=!1,a.value=0,g.value=30,p&&clearInterval(p),h&&clearTimeout(h)}function w(){console.info("函数申明 openEmojiCooling, filePath:renderer/SmallClass/hooks/useEmojiStatus.js"),d.value=!0,p=setInterval((function(){g.value--}),1e3),h=setTimeout((function(){S()}),1e3*u)}function y(){console.info("函数申明 openEmojiCoolingTip, filePath:renderer/SmallClass/hooks/useEmojiStatus.js"),m.value=!0,f=setTimeout((function(){k()}),1e3*c)}function k(){console.info("函数申明 closeEmojiCoolingTip, filePath:renderer/SmallClass/hooks/useEmojiStatus.js"),m.value=!1,f&&clearTimeout(f)}function I(){console.info("函数申明 openEmojiCloseTip, filePath:renderer/SmallClass/hooks/useEmojiStatus.js"),i.value=!0,o=setTimeout((function(){x()}),3e3)}function x(){console.info("函数申明 closeEmojiCloseTip, filePath:renderer/SmallClass/hooks/useEmojiStatus.js"),i.value=!1,o&&clearTimeout(o)}function O(){console.info("函数申明 openEmojiClose, filePath:renderer/SmallClass/hooks/useEmojiStatus.js"),s.value=!0,j()}function P(){console.info("函数申明 resetEmojiClose, filePath:renderer/SmallClass/hooks/useEmojiStatus.js"),s.value=!1,x()}function j(){console.info("函数申明 closeEmojiPane, filePath:renderer/SmallClass/hooks/useEmojiStatus.js"),n.value=!1,t.$bus.$emit("openEmojiPane",!1)}function T(){console.info("函数申明 openEmojiPane, filePath:renderer/SmallClass/hooks/useEmojiStatus.js"),n.value=!0,t.$bus.$emit("openEmojiPane",!0)}return Object(v["g"])((function(){t.$bus.$on("forbidden_student_emoji",(function(e){console.info("箭头函数 监听 forbidden_student_emoji(data)",e,"filePath:renderer/SmallClass/hooks/useEmojiStatus.js"),e.pub?O():P(),S()})),t.$bus.$on("sendEmoji",(function(){console.info("箭头函数 监听 sendEmoji,filePath:renderer/SmallClass/hooks/useEmojiStatus.js"),A()}))})),Object(v["f"])((function(){t.$bus.$off("forbidden_student_emoji"),t.$bus.$off("sendEmoji")})),{handleEmojiSwitch:b,isEmojiActived:n,isEmojiCooling:d,isShowEmojiCoolingTip:m,emojiCoolingTipText:C,isEmojiClose:s,isShowEmojiCloseTip:i,emojiCloseTipText:r}}var go,vo,Co,bo,Ao=Object(v["c"])({name:"FloatLayer",setup:function(){var e=Object(v["d"])(),t=e.proxy,n=Object(v["j"])(!1);t.$bus.$on("raiseHandForMultVideoLink",(function(e){console.info("箭头函数 监听 raiseHandForMultVideoLink(status)",e,"filePath:renderer/SmallClass/components/LayerFloat/SideTools/index.vue"),n.value=e}));var s=Object(v["j"])(!1),a=Object(v["j"])(null),i=Object(v["a"])((function(){return t.$store.state.smallClass.selfVideoMicLink})),o=Object(v["a"])((function(){return t.$store.state.smallClass.baseData})),r=Object(v["a"])((function(){return t.$store.state.smallClass.cameraStatus}));Object(v["m"])((function(){i.value&&(s.value=!1,clearTimeout(a.value))}));var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";F["a"].send({tag:"student.Interact",content:{msg:e,interactType:"stu_handsup",interactId:"",interactStage:t}})};function l(){console.info("函数申明 handleHandsUpSwitch, filePath:renderer/SmallClass/components/LayerFloat/SideTools/index.vue"),s.value||i.value||(s.value=!0,L(),c("学员举手"),t.$bus.$emit("sendRaiseHand",!0),a.value=setTimeout((function(){s.value=!1}),1e4))}var u=fo(),d=u.handleClickMicrophone,h=u.microphoneStatus,m=u.microphoneImmutable,f=u.currentVolume,p=u.updateMicBoxStyle,g=u.micVolumeStyle,C=u.queryMuteStatus,b=Object(v["j"])(null);Object(v["g"])((function(){C()})),Object(v["m"])((function(){p(f.value)})),Object(v["f"])((function(){clearTimeout(a),clearInterval(b.value)}));var S=po(),w=S.handleEmojiSwitch,y=S.isEmojiActived,k=S.isEmojiCooling,I=S.isShowEmojiCoolingTip,P=S.emojiCoolingTipText,j=S.isEmojiClose,T=S.isShowEmojiCloseTip,B=S.emojiCloseTipText;Object(v["g"])((function(){console.log("proxy.$stote",t.$store)}));var L=function(){console.info("箭头函数 sendPeerMessage,filePath:renderer/SmallClass/components/LayerFloat/SideTools/index.vue"),R(),n.value&&M({type:125})},M=function(e){var t=e.type;console.info("箭头函数 sendPeerMessageToTeacher(type)",t,"filePath:renderer/SmallClass/components/LayerFloat/SideTools/index.vue");var n=o.value,s=n.stuInfo,a=n.configs,i={type:t||125,status:6,stuId:s.id,cameraIsOpen:r.value?1:2,mikeAvailable:h.value?1:2};window.ChatClient.PeerChatManager.sendPeerMessage([{nickname:a.teacherIrcId}],JSON.stringify(i),Ae["a"].notice)},R=function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(){var t,n,s,a,i,r,c,l,u,d,h;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.info("箭头函数 sendPeerMessageToTour,filePath:renderer/SmallClass/components/LayerFloat/SideTools/index.vue"),e.next=3,Object(Ya["f"])();case 3:return t=e.sent,e.next=6,A["nativeApi"].getDeviceInfo();case 6:n=e.sent,s=o.value,a=s.planId,i=s.classId,r=s.stuIRCId,c=s.stuInfo,l=s.teacherInfo,u=s.stime,d=s.configs,h={type:160,msg:"raiseHand",parameter:{schoolCode:t,planId:a,roomId:i,studentId:r,uid:c.id,teacherId:l.id,teacherName:l.name,startTime:u,currenTime:(new Date).getTime(),device:n.platform,deviceVersion:n.osVersion,AppVersion:n.appVersion}},window.ChatClient.PeerChatManager.sendPeerMessage([{nickname:d.tutorIrcId}],JSON.stringify(h),Ae["a"].notice);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=Object(v["a"])((function(){return t.$store.getters["smallClass/isShowBox"]})),D=Object(v["a"])((function(){return t.$store.getters["smallClass/hasNewMsg"]}));function N(){console.info("函数申明 handleChatBoxSwitchOpen, filePath:renderer/SmallClass/components/LayerFloat/SideTools/index.vue"),t.$store.dispatch("smallClass/updateChatboxIsShowBox",!E.value)}return{isHandsUpActive:s,isHandsUpClose:i,handleHandsUpSwitch:H()(l,300),microphoneStatus:h,microphoneImmutable:m,handleClickMicrophone:H()(d,300),micVolumeStyle:g,isEmojiActived:y,isEmojiCooling:k,isShowEmojiCoolingTip:I,emojiCoolingTipText:P,isEmojiClose:j,isShowEmojiCloseTip:T,emojiCloseTipText:B,handleEmojiSwitch:w,isChatBoxOpen:E,isChatBoxHasNewMsg:D,handleChatBoxSwitchOpen:N}}}),So=Ao,wo=(n("2a8f"),Object(q["a"])(So,uo,ho,!1,null,"21b7b53a",null)),yo=wo.exports,ko=function(){var e=this,t=e._self._c;return e.showEmojiPane?t("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.closeEmojiPane,expression:"closeEmojiPane"}],staticClass:"emojis-pane-container",class:e.allOnStage?"allOnStage-pane-container":""},[t("section",{staticClass:"emojis-nav"},[t("ul",e._l(e.getDynamicEmolist,(function(s,a){return t("li",{key:s.emojiPackageId,staticClass:"emoji-nav-content",class:s.emojiPackageId==e.currentOrderId?"active":"",on:{click:function(t){return e.selectedEmoji(s.emojiPackageId,a)}}},[s.isLocal?t("img",{attrs:{src:n("ff63"),alt:""}}):t("img",{attrs:{src:s.picture,alt:""}})])})),0)]),t("section",{staticClass:"emojis-list"},[t("div",{ref:"scrollWrapper",staticClass:"emoji-scroll-wrapper"},[e._l(e.getDynamicEmolist,(function(n){return[1==n.isOver&&1==n.overShow?t("expiredEmojiChunk",{key:n.emojiPackageId,attrs:{imgSrc:n.picture}}):t("emojiChunk",{key:n.emojiPackageId+1,staticClass:"emoji-show-list",attrs:{list:n.content,lineNum:1==n.isLocal?3:2,isLocal:n.isLocal},on:{handleClick:function(t){return e.sendEmoji(arguments,n)}}})]}))],2)])]):e._e()},Io=[],xo=n("3835"),Oo=(n("8a79"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"emojiPane"},e._l(e.lineNum,(function(n){return t("div",{key:n,staticClass:"emojiLine"},[e._l(e.list,(function(s,a){return[a<e.perLineEmojiNum*n&&a>=e.perLineEmojiNum*(n-1)?t("div",{key:a,class:["emoji-group-item",e.emojiSize]},[e.isLocal?t("Emoticon",{attrs:{name:s.name,type:s.type,enableHover:!0,hoverWidth:e.hoverWidth,hoverHeight:e.hoverHeight,width:e.width,height:e.height},on:{handleClick:function(t){return e.clickEmoji(s,a)}}}):t("div",{staticClass:"dynamic-emoji",on:{click:function(t){return e.clickEmoji(s,a)}}},[t("img",{attrs:{src:s.emojiPicture,alt:""}})])],1):e._e()]}))],2)})),0)}),Po=[],jo=n("90ea"),To={name:"emojiChunk",components:{Emoticon:jo["a"]},props:{list:{type:Array,default:function(){return[]}},lineNum:{type:Number,default:3},isLocal:{type:Boolean,default:!0},width:{type:Number,default:40},height:{type:Number,default:40},hoverWidth:{type:Number,default:45},hoverHeight:{type:Number,default:45}},data:function(){return{}},computed:{perLineEmojiNum:function(){return Math.ceil(this.list.length/this.lineNum)},emojiSize:function(){return"emojiSize".concat(this.lineNum)}},methods:{clickEmoji:function(e,t){this.$emit("handleClick",e,t)}}},Bo=To,Lo=(n("ba44"),Object(q["a"])(Bo,Oo,Po,!1,null,"3842bede",null)),Mo=Lo.exports,Ro=function(){var e=this,t=e._self._c;return t("div",{staticClass:"emojiPane"},[t("div",{staticClass:"emojiGroup-overShow"},[t("span",{staticClass:"overShow-emoji"},[t("img",{attrs:{src:e.imgSrc}}),t("span")]),t("p",{staticClass:"overShow-tips top"},[e._v(" "+e._s(e.$t("classroom.smallClass.dynamicEmoji[0]"))+" ")]),t("p",{staticClass:"overShow-tips"},[e._v(e._s(e.$t("classroom.smallClass.dynamicEmoji[1]")))])])])},Eo=[],Do={name:"ExpiredEmojiChunk",props:{imgSrc:{type:String,default:""}}},No=Do,Vo=(n("b6d3"),Object(q["a"])(No,Ro,Eo,!1,null,"16ce0048",null)),Fo=Vo.exports,Uo=n("92e5"),Wo=n("975c"),Go={name:"EmojiPane",components:{emojiChunk:Mo,expiredEmojiChunk:Fo},data:function(){return{showEmojiPane:!1,nickName:"",avatar:"",currentOrderId:0}},computed:{getDynamicEmolist:function(){return this.$store.state.smallClass.dynamicEmojiLists},options:function(){return this.$store.state.smallClass.baseData.commonOption},packageId:function(){return this.$store.state.smallClass.baseData.planInfo.packageId}},mounted:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$bus.$on("openEmojiPane",(function(t){t?e.openEmojiPane():e.closeEmojiPane()})),e.getUserInfo(),t.next=4,Object(Wo["a"])().then((function(t){e.$store.dispatch("smallClass/updateDynamicEmojiLists",t)}));case 4:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){this.$bus.$off("openEmojiPane")},methods:{getUserInfo:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n,s,a;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Uo["a"])();case 2:n=t.sent,s=n.nickName,a=n.avatar,e.nickName=s,e.avatar=a;case 7:case"end":return t.stop()}}),t)})))()},sendEmoji:function(e,t){var n,s=Object(xo["a"])(e,2),a=s[0],i=s[1];if(1==a.type)n=this.emojiIrcConfig("send_emoji",a);else{var o=a.lottieUrl.endsWith(".json")?2:3;a=Object.assign(a,{type:o,name:a.emojiName}),n=this.emojiIrcConfig("animation_emoji",a),n.content.data.resource={emojiName:a.emojiName,emojiId:a.emojiId,emojiPicture:a.emojiPicture,lottieUrl:a.lottieUrl}}this.thinkClass.SignalService&&this.thinkClass.SignalService.sendRoomMessage(n),this.$bus.$emit("sendEmoji",a),this.closeEmojiPane(),Object(Wo["c"])(this.options,a,t,i,this.allOnStage,this.packageId),Se["c"]({type:4,contentType:"emoji",msg:"".concat(a.name)})},emojiIrcConfig:function(e,t){return{roomList:this.options.roomlist,content:{ircType:e,data:{name:t.name,type:t.type},from:{username:this.nickName,path:this.avatar}},chatMsgPriority:99}},closeEmojiPane:function(){this.showEmojiPane=!1,this.currentOrderId=0},openEmojiPane:function(){this.showEmojiPane=!0},selectedEmoji:function(e,t){this.currentOrderId=e;var n=document.getElementsByClassName("emoji-show-list")[t];n&&n.scrollIntoView({inline:"center"})}}},_o=Go,Ho=(n("3317"),Object(q["a"])(_o,ko,Io,!1,null,"68a8561a",null)),Qo=Ho.exports,Jo=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.isShowPlay?t("div",{staticClass:"w-full pointer-events-auto top-[-0.5px] atmosephereBox"},[t("canvas",{staticClass:"w-full h-full",attrs:{id:"atmosepherePAG"}})]):e._e()},qo=[],Ko=(n("88a7"),n("271a"),n("5494"),n("2b3d"),n("9861"),Object(v["c"])({name:"FloatLayer",setup:function(){var e=Object(v["d"])(),t=e.proxy,n=null,s=null,a=Object(v["j"])(!1);t.$bus.$on("Ambiance_Tools",(function(e){console.info("箭头函数 监听 Ambiance_Tools(id)",e,"filePath:renderer/SmallClass/components/LayerFloat/Atmosephere/index.vue"),n&&n.isPlaying&&(s&&(s.pause(),s=null),n.stop(),r("未播放完成点击播放其他效果",{id:e},"warn")),a.value=!0,Object(v["e"])((function(){i(e)}))}));var i=function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(t){var i,o,c,l,u,d,h;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.info("箭头函数 playAnimation(fileName)",t,"filePath:renderer/SmallClass/components/LayerFloat/Atmosephere/index.vue"),window.PAG){e.next=5;break}return e.next=4,window.libpag.PAGInit();case 4:window.PAG=e.sent;case 5:return r("开始播放氛围效果",{fileName:t}),i="./pagfiles/".concat(t,".pag"),e.next=9,fetch(i).then((function(e){return e.arrayBuffer()}));case 9:return o=e.sent,e.next=12,window.PAG.PAGFile.load(o);case 12:return c=e.sent,l=document.getElementById("atmosepherePAG"),u=window.getComputedStyle(l,null),l.width=Number(u.width.replace("px","")),l.height=Number(u.height.replace("px","")),e.next=19,window.PAG.PAGView.init(c,l,{useScale:!1});case 19:return n=e.sent,d=c.audioBytes(),d.byteLength>0&&(s=document.createElement("audio"),s.preload="auto",h=new Blob([d],{type:"audio/mp3"}),s.src=URL.createObjectURL(h),n.addListener("onAnimationStart",(function(){console.info("箭头函数 监听 onAnimationStart,filePath:renderer/SmallClass/components/LayerFloat/Atmosephere/index.vue"),s.play()})),n.addListener("onAnimationEnd",(function(){console.info("箭头函数 监听 onAnimationEnd,filePath:renderer/SmallClass/components/LayerFloat/Atmosephere/index.vue"),a.value=!1,r("氛围效果播放完毕")})),n.addListener("onAnimationCancel",(function(){console.info("箭头函数 监听 onAnimationCancel,filePath:renderer/SmallClass/components/LayerFloat/Atmosephere/index.vue"),s&&(s.pause(),s=null),r("取消播放氛围效果",{fileName:t})}))),n.setRepeatCount(1),e.next=25,n.play();case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){console.info("箭头函数 destroyPagView,filePath:renderer/SmallClass/components/LayerFloat/Atmosephere/index.vue"),s&&(s.pause(),s=null)},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";F["a"].send({tag:"PAG",level:n,content:{msg:e,params:t}})};return Object(v["f"])((function(){o()})),{isShowPlay:a}}})),$o=Ko,zo=(n("ccc2"),Object(q["a"])($o,Jo,qo,!1,null,"e30aa484",null)),Yo=zo.exports,Xo=function(){var e=this,t=e._self._c;return e.show?t("div",{class:{"count-down":2!=e.options.classType},attrs:{id:"count-down"}},[t("div",{staticClass:"class-rest"},[t("p",{staticClass:"time-minuts"},[e._v(" "+e._s(e.getMinutes)+" ")]),t("p",{staticClass:"time-split"}),t("p",{staticClass:"time-seconds"},[e._v(" "+e._s(e.getSeconds)+" ")])]),t("audio",{ref:"countDownSound",attrs:{src:n("0013")}})]):e._e()},Zo=[],er={props:{options:{type:Object,default:null}},data:function(){return{show:!1,ircMsg:{},leftTime:0,timer:null,isMove:!1}},mounted:function(){var e=this;this.$bus.$on("room.countDown",(function(t){console.info("箭头函数 监听 room.countDown(ircMessage)",t,"filePath:renderer/SmallClass/components/LayerFloat/countDown/index.vue"),e.sendLogger("收到倒计时消息: ".concat(JSON.stringify(t))),e.ircMsg=t;var n=!!t.pub;n&&(e.show=!0,e.init()),e.show&&!n&&e.resetCountDown()}))},computed:{getMinutes:function(){console.info("对象函数 getMinutes,filePath:renderer/SmallClass/components/LayerFloat/countDown/index.vue");var e=Math.floor(this.leftTime/60);return e=e>=10?e:"0"+e,e},getSeconds:function(){console.info("对象函数 getSeconds,filePath:renderer/SmallClass/components/LayerFloat/countDown/index.vue");var e=Math.floor(this.leftTime-60*this.getMinutes);return e=e>=10?e:"0"+e,3===this.leftTime&&this.$refs.countDownSound.play(),e}},methods:{init:function(){if(console.info("对象函数 init,filePath:renderer/SmallClass/components/LayerFloat/countDown/index.vue"),isNaN(this.ircMsg.type)){var e=(new Date).getTime();this.leftTime=this.ircMsg.duration-(this.options.nowTime-this.ircMsg.beginTime)-parseInt((e-window._requestBasicTime)/1e3),this.sendLogger("倒计时init, 剩余时间: ".concat(this.leftTime,",duration:").concat(this.ircMsg.duration))}else this.leftTime=this.ircMsg.duration,this.sendLogger("倒计时init, 剩余时间: ".concat(this.leftTime,",type:").concat(this.ircMsg.type));this.startCountDown(),this.show&&this.$nextTick((function(){A["nativeApi"].elementDrag({dragDom:"count-down",areaDom:"floatLayerController"})}))},getStyle:function(e,t){return console.info("对象函数 getStyle(dom, attr)",e,t,"filePath:renderer/SmallClass/components/LayerFloat/countDown/index.vue"),getComputedStyle(e)[t]},startCountDown:function(){var e=this;if(console.info("对象函数 startCountDown,filePath:renderer/SmallClass/components/LayerFloat/countDown/index.vue"),this.leftTime<=1)return this.leftTime=0,void this.resetCountDown();this.leftTime>1&&(this.leftTime=this.leftTime-1,this.timer=setTimeout((function(){e.startCountDown()}),1e3))},resetCountDown:function(){console.info("对象函数 resetCountDown,filePath:renderer/SmallClass/components/LayerFloat/countDown/index.vue"),clearTimeout(this.timer),this.timer=null,this.show=!1,this.sendLogger("倒计时结束, 剩余时间: ".concat(this.leftTime))},sendLogger:function(e){F["a"].send({tag:"countDown",content:{msg:e}})}}},tr=er,nr=(n("e0b7"),Object(q["a"])(tr,Xo,Zo,!1,null,"c3213898",null)),sr=nr.exports,ar=Object(v["c"])({name:"FloatLayer",components:{ScreenThumbnail:Mi,Tools:yo,CameraAllowConfirm:Qi,MediaAccessModel:so,TeacherDisabledMicrophoneNotice:lo,EmojiPane:Qo,Atmosephere:Yo,CountDown:sr},setup:function(){var e=Object(v["d"])(),t=e.proxy,n=Object(v["a"])((function(){return t.$store.state.smallClass.baseData}));return Object(v["g"])((function(){})),Object(v["f"])((function(){})),{baseData:n}}}),ir=ar,or=Object(q["a"])(ir,xi,Oi,!1,null,null,null),rr=or.exports,cr=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"full-float-container"},[t("AssignmentBox",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.clickBoxOutside,expression:"clickBoxOutside"}],ref:"assignmentBoxRef",staticStyle:{"z-index":"-1"},attrs:{"plan-id":e.baseData.planInfo.id,options:e.baseData.commonOption}}),t("ChatBox",{staticClass:"pointer-events-auto absolute bottom-[0.16rem]",staticStyle:{"z-index":"-2"},style:{right:e.chatBoxDomRight}}),e.isShowGameInteraction?t("GameInteraction",{staticStyle:{"z-index":"97"},attrs:{options:e.gameInteractionOptions},on:{closeGame:function(t){e.isShowGameInteraction=!1}}}):e._e(),t("CoinsBadge",{staticStyle:{"z-index":"96"}}),t("FlyCoins",{staticStyle:{"z-index":"95"}}),t("UploadSuccessDialog",{staticStyle:{"z-index":"98"}}),t("LiveKickout",{staticStyle:{"z-index":"99"}}),e._l(e.interactions,(function(n){return[n.isShow?t(n.componentName,{key:n.name,ref:n.name,refInFor:!0,tag:"component",staticStyle:{"pointer-events":"none"},attrs:{layout:n.layout,options:n.options},on:{close:e.interactionClose}}):e._e()]})),t("ClassInfoDataReport",{ref:"ClassInfoDataReport"})],2)},lr=[],ur=function(){var e=this,t=e._self._c;return e.showCoinsBadge?t("div",{staticClass:"coins-badge"},[t("section",[t("div",{staticClass:"coins"},[t("div",{staticClass:"coins-curlesson-coins"},[t("div",{staticClass:"topTip"},[t("div",{staticClass:"tip"},[e._v(" "+e._s(e.$t("classroom.smallClass.coins.currentLessonCoinsTips"))+" ")])]),t("div",{staticClass:"content"},[t("span",{staticClass:"icon"}),e.coinDatas?t("span",{staticClass:"number"},[e._v("+"+e._s(e.coinDatas.planIdCoin))]):e._e()])]),t("div",{staticClass:"coins-total-coins"},[t("div",{staticClass:"topTip"},[t("div",{staticClass:"tip"},[e._v(" "+e._s(e.$t("classroom.smallClass.coins.totalCoinsTips"))+" ")])]),t("div",{staticClass:"content"},[t("span",{staticClass:"icon"}),e.coinDatas?t("span",{staticClass:"number"},[e._v(e._s(e.coinDatas.totalCoin))]):e._e()])])]),t("div",{staticClass:"badge"},[t("div",{staticClass:"badge-icon"},e._l(e.totalBadgeList,(function(n,s){return t("span",{key:s,staticClass:"badge-item",class:s+1<=e.level?"level-".concat(s+1):"lock-level-".concat(s+1),style:{marginRight:s+1==e.level&&7!=e.level?"44px":""}},[s+1==e.level&&7!=e.level?t("label"):e._e()])})),0),t("span",{staticClass:"text"},[e._v(e._s(e.levelText))])]),t("div",{staticClass:"badge-close",on:{click:e.closeBadgePane}})])]):e._e()},dr=[],hr={components:{},data:function(){return{level:0,totalBadgeList:new Array(7),currentBadgeList:null,showCoinsBadge:!1,coinDatas:{},levelList:["Level 1","Level 2","Level 3","Level 4","Level 5","Level 6","Level 7"]}},computed:{levelText:function(){console.info("对象函数 levelText,filePath:renderer/SmallClass/components/Header/Coins/CoinsBadge/index.vue");var e=this.$t("classroom.smallClass.coins.levelNameList");return 0==this.level?this.$t("classroom.smallClass.coins.levelNotice_0"):7==this.level?this.$t("classroom.smallClass.coins.levelNotice_7"):this.$t("classroom.smallClass.coins.levelNotice_other",{levelName:e[this.level]})}},mounted:function(){var e=this;this.currentBadgeList=new Array(this.level),this.$bus.$on("openBadgePane",(function(t){console.info("箭头函数 监听 openBadgePane(coinsData)",t,"filePath:renderer/SmallClass/components/Header/Coins/CoinsBadge/index.vue"),e.coinDatas=t,e.showCoinsBadge=!0,e.level=e.coinDatas.medalNum}))},methods:{closeBadgePane:function(){console.info("对象函数 closeBadgePane,filePath:renderer/SmallClass/components/Header/Coins/CoinsBadge/index.vue"),this.showCoinsBadge=!1}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/SmallClass/components/Header/Coins/CoinsBadge/index.vue"),this.$bus.$off("openBadgePane")}},mr=hr,fr=(n("c85a"),Object(q["a"])(mr,ur,dr,!1,null,"af661d44",null)),pr=fr.exports,gr=function(){var e=this,t=e._self._c;return t("div",{staticClass:"assignment-container",attrs:{"data-name":"assignment-container",id:"assignment-container"}},[e.showAssignmentBox?t("div",{staticClass:"box-inner"},[t("span",{staticClass:"box-shadow box-shadow-top"}),t("div",{staticClass:"box-container"},[e.loading?[t("a-spin",{staticClass:"loading"},[t("a-icon",{attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"})],1)]:[e.boxLists&&e.boxLists.length>0?t("section",{staticClass:"box-scroll",attrs:{id:"box-scroll"}},e._l(e.boxLists,(function(s){return t("div",{key:s.index,staticClass:"box-content"},[t("div",{class:["box-item",e.assignmentStatus(s.newCorrectStatus,e.isShowIncorrectModify(s)||!e.isShowIncorrectModify(s)&&s.correctPoint).bgClassName]},[t("span",{staticClass:"number"},[e._v(e._s(s.index))]),t("div",{staticClass:"img-wrapper",on:{click:function(t){return e.handleBigPicture(s)}}},[t("span",{staticClass:"check-big-img"}),s.photoThumbUrl?t("img",{attrs:{src:0==s.newCorrectStatus||3==s.newCorrectStatus?s.photoThumbUrl:s.correctThumbUrl,alt:""}}):t("img",{attrs:{src:n("7f12"),alt:""}}),t("div",{staticClass:"answer-status"},[t("span",{staticClass:"icon-feedback",class:[e.assignmentStatus(s.newCorrectStatus).feedbackStatus]}),t("span",{class:e.assignmentStatus(s.newCorrectStatus).fontStyleStatus},[e._v(e._s(e.assignmentStatus(s.newCorrectStatus).feedbackTitle))])])]),t("div",{staticClass:"box-tips"},[!e.isShowIncorrectModify(s)&&s.correctPoint?t("div",{staticClass:"coins-num"},[t("img",{attrs:{src:n("904c")}}),t("span",[e._v("+"+e._s(s.correctPoint))])]):e._e(),e.isShowIncorrectModify(s)?t("a-button",{staticClass:"open-photowall",attrs:{type:"primary",size:"small",shape:"round"},on:{click:function(t){return e.openPhotowall(s)}}},[t("img",{staticClass:"correction-img",attrs:{src:n("71a2")}}),e._v(" "+e._s(e.$t("classroom.modules.assignmentBox.checkBigPictures.buttonName"))+" ")]):e._e()],1)])])})),0):t("div",{staticClass:"box-content-nodata"},[t("img",{attrs:{src:n("952e")}}),t("div",{staticClass:"title"},[e._v(e._s(e.$t("classroom.modules.assignmentBox.nodataNotice")))])])]],2),t("span",{staticClass:"box-shadow box-shadow-bottom"})]):e._e(),e.showCheckedExerciseToast?t("div",[t("CheckedExerciseToast",{attrs:{couldCheckImage:e.couldCheckImage,isTakePicture:e.isTakePicture},on:{cancelViewAssignmentBigPicture:e.cancelViewAssignmentBigPicture,viewBigPictureDuringInterect:e.viewBigPictureDuringInterect}})],1):e._e(),e.showBigPicture?t("div",[e.checkRefresh?t("CheckBigPicture",{ref:"showBigPictureRef",attrs:{boxMsg:e.boxMsg,showBigPictureCorrectIcon:e.showBigPictureCorrectIcon,isFirstCorrect:e.isFirstCorrect,rightCoin:e.rightCoin,rewardType:e.rewardType,isFromClickBox:e.isFromClickBox,isTakePicture:e.isTakePicture,isAllowPhotowallRewards:e.isAllowPhotowallRewards},on:{closeBigPicture:e.closeBigPicture,openPhotoWallFormBigPicture:e.openPhotoWallFormBigPicture}}):e._e()],1):e._e(),e.isShowCorrectPhotoWall?t("correctPhotoWall",{ref:"correctPhotoWall",attrs:{isPhotoWallShow:this.isPhotoWallShow,currentInteractionId:this.currentInteractionId},on:{destoryCorrectDom:e.destoryCorrectDom}}):e._e()],1)},vr=[],Cr=function(){var e=this,t=e._self._c;return e.isTakePicture?e._e():t("div",{staticClass:"checkedExerise"},[t("div",{staticClass:"smallclass-checkedExerise"},[t("i",{staticClass:"close",on:{click:e.closeTipsPane}}),t("div",{staticClass:"content"},[t("div",{staticClass:"top"},[t("span"),t("p",[e._v(e._s(e.$t("classroom.modules.assignmentBox.checkedExerciseToast.notice")))])]),t("div",{staticClass:"bottom"},[e.couldCheckImage?t("div",{staticClass:"button-view",on:{click:e.handleViewExercise}},[e._v(" "+e._s(e.$t("classroom.modules.assignmentBox.checkedExerciseToast.buttonName"))+" ")]):t("div",{staticClass:"button-view loading"},[e._v(" "+e._s(e.$t("common.loading"))+"... ")])])])])])},br=[],Ar={data:function(){return{visibleBigImage:!0,local:"uk",assisTeacher:this.$t("common.AssistantTeacher")}},props:{couldCheckImage:{type:Boolean,default:!1},isTakePicture:{type:Boolean,default:!0}},methods:{showBigPicture:function(){console.info("对象函数 showBigPicture,filePath:renderer/SmallClass/components/Header/AssignmentBox/checkedExerciseToast.vue"),this.visibleBigImage=!0},handleViewExercise:function(){console.info("对象函数 handleViewExercise,filePath:renderer/SmallClass/components/Header/AssignmentBox/checkedExerciseToast.vue"),this.$emit("viewBigPictureDuringInterect"),this.cancelView()},cancelView:function(){console.info("对象函数 cancelView,filePath:renderer/SmallClass/components/Header/AssignmentBox/checkedExerciseToast.vue"),F["a"].send({tag:"student.Interact",content:{msg:"关闭作业盒子视图",interactType:"Wall"}}),this.visibleBigImage=!1,this.$emit("cancelViewAssignmentBigPicture")},closeTipsPane:function(){console.info("对象函数 closeTipsPane,filePath:renderer/SmallClass/components/Header/AssignmentBox/checkedExerciseToast.vue"),F["a"].send({tag:"student.Interact",content:{msg:"点击x按钮关闭作业盒子视图",interactType:"Wall"}}),this.cancelView()}},mounted:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Ya["c"])();case 2:e.local=t.sent,e.isTakePicture&&e.handleViewExercise();case 4:case"end":return t.stop()}}),t)})))()}},Sr=Ar,wr=(n("7acc"),Object(q["a"])(Sr,Cr,br,!1,null,"4264e8a5",null)),yr=wr.exports,kr=function(){var e=this,t=e._self._c;return t("a-modal",{class:e.customClass,attrs:{id:"big-image-tag",closable:!1,maskClosable:!1,footer:null,getContainer:e.getContainer,title:e.$t("classroom.modules.assignmentBox.modalTitle")},model:{value:e.visibleBigImage,callback:function(t){e.visibleBigImage=t},expression:"visibleBigImage"}},[t("div",{class:["content-".concat(e.boxinfoMap[e.boxMsg.newCorrectStatus]),"content-header"]},[t("span",{staticClass:"img-title-top",class:["content-".concat(e.boxinfoMap[e.boxMsg.newCorrectStatus]),"img-title-".concat(e.boxinfoMap[e.boxMsg.newCorrectStatus])]}),t("span",{staticClass:"bigpicture-close",on:{click:e.closeBigPicture}})]),t("div",{staticClass:"picture-content"},[t("div",{staticClass:"show-img"},[e.boxMsg.photoUrl||e.boxMsg.correctUrl?t("img",{attrs:{src:0==e.boxMsg.newCorrectStatus||3==e.boxMsg.newCorrectStatus?e.boxMsg.photoUrl:e.boxMsg.correctUrl}}):t("img",{attrs:{src:n("ca89"),alt:""}})])]),[2,5].includes(e.boxMsg.newCorrectStatus)&&e.boxMsg.isShowIncorrectModify?t("div",{staticClass:"reupload picture-reupload",on:{click:e.openPhotoWall}},[t("img",{attrs:{src:n("71a2")}}),e._v(" "+e._s(e.$t("classroom.modules.assignmentBox.checkBigPictures.buttonName"))+" ")]):e._e()])},Ir=[],xr={data:function(){return{visibleBigImage:!0,boxinfoMap:{0:"grading",1:"correct",2:"incorrect",3:"grading",5:"half-correct"},local:"",isShowCoins:!1,photoWallOptions:{},photoWall:null,customClass:"small-class",getContainer:function(){return document.getElementById("assignment-container")}}},props:{boxMsg:{type:Object,default:function(){return{}}},bigPictureWidth:{type:String,default:"100%"},isInCurrentInteraction:{type:Boolean,default:!1},isFirstCorrect:{type:Boolean,default:!0},rightCoin:{type:Number,default:0},rewardType:{type:Number,default:0},isFromClickBox:{type:Boolean,default:!1},isTakePicture:{type:Boolean,default:!0},isAllowPhotowallRewards:{type:Boolean,default:!1}},methods:{closeBigPicture:function(){console.info("对象函数 closeBigPicture,filePath:renderer/SmallClass/components/Header/AssignmentBox/checkBigPictures.vue"),F["a"].send({tag:"student.Interact",content:{msg:"点击关闭大图",interactType:"Wall"}}),this.$emit("closeBigPicture")},openPhotoWall:function(){console.info("对象函数 openPhotoWall,filePath:renderer/SmallClass/components/Header/AssignmentBox/checkBigPictures.vue"),console.log("[测试bug]点击触发"),F["a"].send({tag:"student.Interact",content:{msg:"点击查看练习按钮",interactType:"Wall"}}),this.$emit("openPhotoWallFormBigPicture"),this.closeBigPicture()}},computed:{isShowCorrectLottie:function(){return console.info("对象函数 isShowCorrectLottie,filePath:renderer/SmallClass/components/Header/AssignmentBox/checkBigPictures.vue"),this.isTakePicture&&1===this.boxMsg.newCorrectStatus&&!this.isFromClickBox&&(1===this.rewardType||0===this.rewardType&&this.isAllowPhotowallRewards)&&this.rightCoin}},mounted:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Ya["c"])();case 2:e.local=t.sent,e.isShowCorrectLottie&&e.$bus.$emit("continuousCorrect",{answerStat:1,gold:e.rightCoin,isAssignmentCorrect:!0,isNoMedal:!0}),e.$nextTick((function(){var t=document.querySelector("#big-image-tag");e.$bus.$emit("emitBigImgDom",t)})),e.customClass=location.pathname.includes("largeClass.html")?"big-class":"small-class";case 6:case"end":return t.stop()}}),t)})))()}},Or=xr,Pr=(n("c325"),n("bdc9"),Object(q["a"])(Or,kr,Ir,!1,null,"354c7716",null)),jr=Pr.exports,Tr=n("234d"),Br=function(){var e=this,t=e._self._c;return t("div",{staticClass:"photoWallContainer correctBox",attrs:{id:"correctPhotoWallContainer"}},[e.showCamera||e.showGraffiti?t("div",{staticClass:"toolbar correctBar"},[t("i",{staticClass:"back",on:{click:e.goClassRoom}})]):e._e(),e.showCamera&&!e.showGraffiti?t("camera",{attrs:{options:e.correctOptions,delay:e.cameraDelayTime},on:{changeTakePhotoWay:e.changeTakePhotoWay,submit:e.submitPhoto,photoData:e.getPhotoData}}):e._e(),e.showGraffiti&&!e.showCamera?t("graffiti",{attrs:{options:e.correctOptions,cameraAccess:e.cameraAccess,closeInteractive:e.closeInteractive},on:{submit:e.submitPhoto,changeTakePhotoWay:e.changeTakePhotoWay,photoData:e.getPhotoData}}):e._e(),t("uploadProgress",{attrs:{percent:e.percent,visible:e.showUploadProgress}})],1)},Lr=[],Mr={name:"correctAnswerPhotoWall",data:function(){return{showCamera:!0,showGraffiti:!1,cameraDelayTime:2e3,percent:0,photoData:!1,cameraAccess:!0,showUploadProgress:!1,closeInteractive:!1,correctOptions:null,photoWallOptions:null,chatMsgPriority:{topic:0,notice:1,privMsg:99}}},props:{isPhotoWallShow:{type:Boolean,default:!1},currentInteractionId:{type:Number,default:0}},components:{camera:$,graffiti:ue,uploadProgress:ge},watch:{showCamera:{handler:function(e){this.photoWallOptions=this.getOptions();var t=e?1:2;this.sendPeerMessageToTutor(t)},deep:!0,immediate:!0}},mounted:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.photoWallOptions){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,A["nativeApi"].getCameraAccessStatus();case 4:n=t.sent,"granted"!==n&&(e.sendLogger("作业盒子批改拍照上墙初始化摄像头无权限，code:".concat(n)),e.showCamera=e.cameraAccess=!1,e.showGraffiti=!0),e.correctOptions=e.photoWallOptions,console.log("看下相关的photoWallOptions:::",e.photoWallOptions),e.photoWall=new R(Object(y["a"])({},e.correctOptions)),e.sendLogger("进入订正拍照环节");case 10:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){this.sendPeerMessageToTutor(2)},methods:{sendPeerMessageToTutor:function(e){var t={type:170,isFunction:1,msg:"拍照上墙",parameter:{cameraBusy:e}};window.ChatClient.PeerChatManager.sendPeerMessage([{nickname:this.photoWallOptions.roomMessage.roomInfo.configs.tutorIrcId}],JSON.stringify(t),this.chatMsgPriority.privMsg)},getOptions:function(){var e=localStorage.getItem("photoWallOptions"),t="";try{t=JSON.parse(e)}catch(n){console.error("重新拍照获取option格式化错误",e)}return t},changeTakePhotoWay:function(e){"graffiti"===e?(this.showCamera=!1,this.showGraffiti=!0):(this.showCamera=!0,this.showGraffiti=!1)},submitPhoto:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n,s,a,i;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.sendLogger("点击提交订正，correctOptions：".concat(e.correctOptions)),e.correctOptions){t.next=3;break}return t.abrupt("return");case 3:return e.showUploadProgress=!0,n=new Ce["b"]({scene:"pictureWall"}),t.next=7,n.putFile({filePath:"pictureWall.jpg",file:e.photoData.blob,progress:function(t){e.percent=t},success:function(t){e.sendLogger("上传照片成功, url: ".concat(t.url)),Se["l"](e.currentInteractionId,t)},fail:function(t){e.percent=0,e.photoWall.showSubmitTip({text:e.$t("common.uploadFailed"),icon:"error",dom:"correctPhotoWallContainer"}),console.error("上传照片失败",t),e.sendLogger("上传照片失败")}});case 7:if(s=t.sent,a=s.key,!a){t.next=16;break}return e.showUploadProgress=!1,t.next=13,e.photoWall.submitPhoto(a);case 13:i=t.sent,e.sendLogger("提交照片地址，增加金币，submitRes：".concat(i)),0===i.code&&i.data?(e.showGraffiti=e.showCamera=!1,e.isPhotoWallShow?(e.sendPeerMessageToTutor(2),e.$emit("destoryCorrectDom")):(e.$bus.$emit("uploadSuccess",{tips:e.$t("common.sumbittedSuccessfully"),coins:0}),e.photoWall.showCoinsTip({callback:function(){e.sendPeerMessageToTutor(2),e.$emit("destoryCorrectDom")}}))):(e.percent=0,e.$Message.error(e.$t("common.submittedError")),e.sendPeerMessageToTutor(2),e.$emit("destoryCorrectDom"));case 16:case"end":return t.stop()}}),t)})))()},getPhotoData:function(e){this.photoData=e},goClassRoom:function(){this.showCamera=this.showGraffiti=!1,this.sendPeerMessageToTutor(2),this.$emit("destoryCorrectDom")},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";F["a"].send({tag:"student.Interact",content:{msg:e,interactType:"Wall",interactId:this.correctOptions.ircMsg.interactId,interactStage:t}})}}},Rr=Mr,Er=(n("0230"),n("b3ca"),Object(q["a"])(Rr,Br,Lr,!1,null,"29271446",null)),Dr=Er.exports,Nr=n("35ac"),Vr={data:function(){return{showAssignmentBox:!1,showBigPicture:!1,showCheckedExerciseToast:!1,boxLists:[],boxMsg:{},local:"",loading:!0,showEmpty:!1,couldCheckImage:!1,teacher:this.$t("common.MasterTeacher"),checkRefresh:!0,currentInteractionId:null,showBigPictureCorrectIcon:!1,photoWallInteractId:null,isPhotoWallShow:!1,watchDiffObj:{receiveInteractId:null,interactId:null,key:1},isShowCorrectPhotoWall:!1,classType:2,smallClassSttingPane:!1,rightCoin:0,rewardType:0,isFirstCorrect:!1,isFromClickBox:!1,isTakePicture:!1,isAllowPhotowallRewards:!1}},props:{planId:{type:Number,default:0},options:{type:Object,default:function(){return{}}}},computed:{},components:{CheckedExerciseToast:yr,CheckBigPicture:jr,correctPhotoWall:Dr},methods:{assignmentStatus:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?"box-bg-with-tip":"box-bg-no-tip",s={0:{feedbackStatus:"feedback-grading",feedbackTitle:this.$t("classroom.interactions.photoWall.grading"),fontStyleStatus:"font-style-grading"},1:{feedbackStatus:"feedback-correct",feedbackTitle:this.$t("classroom.interactions.photoWall.correct"),fontStyleStatus:"font-style-correct"},2:{feedbackStatus:"feedback-incorrect",feedbackTitle:this.$t("classroom.interactions.photoWall.incorrect"),fontStyleStatus:"font-style-incorrect"},3:{feedbackStatus:"feedback-grading",feedbackTitle:this.$t("classroom.interactions.photoWall.grading"),fontStyleStatus:"font-style-grading"},5:{feedbackStatus:"feedback-half-correct",feedbackTitle:this.$t("classroom.interactions.photoWall.halfCorrect"),fontStyleStatus:"font-style-half-correct"}};return Object(y["a"])(Object(y["a"])({},s[e]),{},{bgClassName:n})},getOptions:function(){var e=localStorage.getItem("photoWallOptions"),t="";try{t=JSON.parse(e)}catch(n){console.error("作业盒子信令格式化错误",e)}return t},getCurrenInteractId:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.getOptions(),n&&(e.currentInteractionId=n.ircMsg.interactId,e.sendLogger("获取当前互动id: ".concat(e.currentInteractionId)));case 2:case"end":return t.stop()}}),t)})))()},isShowIncorrectModify:function(e){return!(![2,5].includes(e.newCorrectStatus)||e.interactId!=this.currentInteractionId||!this.options.configs.wallCanCorrect)},openPhotoWallFormBigPicture:function(){this.openPhotowall(this.boxMsg),this.showBigPicture=!1},closeBox:function(){this.sendLogger("点击关闭作业盒子"),this.hideAssignmentBoxOnly()},closeBigPicture:function(){this.showBigPicture=!1,this.$bus.$emit("updateAchievement")},openPhotowall:function(e){if(this.sendLogger("订正调起拍照上墙,box:".concat(JSON.stringify(e))),2==this.classType&&(this.smallClassSttingPane=!1),"graffiti"==e.tagType)return this.smallClassGraffiti(this.boxMsg),void this.hideAssignmentBoxOnly();this.isShowCorrectPhotoWall=!0,this.hideAssignmentBoxOnly()},destoryCorrectDom:function(){this.isShowCorrectPhotoWall=!1},handleOpenAssignmentBox:function(){this.sendLogger("点击打开作业盒子"),console.log("handleOpenAssignmentBox"),this.showAssignmentBox=!this.showAssignmentBox,this.$emit("handleHideMessageTip"),this.showAssignmentBox&&this.getAssignmentBoxList()},viewBigPictureDuringInterect:function(){var e=this;this.sendLogger("作业盒子---互动过程批改完成点击查看大图"),this.isFromClickBox=!1,this.showBigPicture=!0,this.showCheckedExerciseToast=!1,this.checkRefresh=!1,this.$nextTick((function(){e.checkRefresh=!0}))},getAssignmentBoxList:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.sendLogger("获取作业盒子列表"),t.next=3,Object(Tr["a"])(e,{planId:e.planId});case 3:n=t.sent,e.loading=!1,1==n.stat&&(e.boxLists=n.data.list||[]),e.boxLists.length<=0&&(e.showEmpty=!0),e.sendLogger("获取作业盒子列表数据, list:".concat(JSON.stringify(e.boxLists)));case 8:case"end":return t.stop()}}),t)})))()},handleBigPicture:function(e){this.sendLogger("作业盒子点击查看大图"),this.showBigPicture=!0,this.isFromClickBox=!0,this.boxMsg=e,this.boxMsg.isShowIncorrectModify=this.isShowIncorrectModify(e),2==!this.classType&&this.hideAssignmentBoxOnly()},initEvent:function(){var e=this;this.$bus.$on("openSettingPane",(function(t){!t&&e.smallClassSttingPane&&e.sendLogger("学生".concat(t?"打开":"关闭"," setting面板: ")),e.smallClassSttingPane=t,t||(e.showCheckedExerciseToast=!1)})),this.$bus.$on("photoWallInteractId",(function(t){e.photoWallInteractId=t})),this.$bus.$on("photoWallShow",(function(t){e.isPhotoWallShow=t})),this.$bus.$on("chats.assignmentCheckedPush",function(){var t=Object(O["a"])(Object(x["a"])().mark((function t(n){var s,a,i;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:2==e.classType&&e.$bus.$emit("smallClassShowMessageTip"),console.log("[测试bug]辅导端老师批改完作业消息",n),s=e.getOptions(),s&&(e.currentInteractionId=s.ircMsg.interactId),e.sendLogger("辅导端老师批改完作业消息: ".concat(JSON.stringify(n),",classType:").concat(e.classType,",currentInteractionId:").concat(e.currentInteractionId)),a=n.newCorrectStatus||n.correctStatus,e.currentInteractionId==n.interactId&&(e.boxMsg.correctUrl=n.pictureUrl[0],e.boxMsg.newCorrectStatus=a,e.boxMsg.tagType=n.tagType,e.isTakePicture="interact"===n.tagType||"question"===n.tagType,e.watchDiffObj.receiveInteractId=n.interactId,e.watchDiffObj.key=e.watchDiffObj.key+1,e.initPictureWidth(e.boxMsg.correctUrl),[2,5].includes(a)&&e.options.configs.wallCanCorrect&&(e.boxMsg.isShowIncorrectModify=!0)),i=JSON.parse(localStorage.getItem("assignmentCheckStatus"))||{},e.isFirstCorrect=void 0===i[n.interactId],i[n.interactId]=e.isFirstCorrect,localStorage.setItem("assignmentCheckStatus",JSON.stringify(i)),e.rewardType=n.rewardType||0,console.log("[测试bug]辅导端老师批改完作业消息11",n,e.isFirstCorrect),1!==a||n.rewardType&&1!==n.rewardType||(e.rightCoin=1===n.rewardType?n.rightCoin:e.isFirstCorrect?20:10,console.log("[测试bug]辅导端老师批改完作业消息12",n,e.isFirstCorrect,e.rightCoin),e.showAssignmentBox&&2===e.classType&&e.$bus.$emit("updateAchievement")),e.getAssignmentBoxList();case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.$bus.$on("endCorrectPhotoWall",function(){var t=Object(O["a"])(Object(x["a"])().mark((function t(n,s){var a;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=n.photoWallClose,e.sendLogger("收到praise信令,photoWallClose:".concat(a,",isHistory:").concat(s)),!a){t.next=15;break}if(!s){t.next=5;break}return t.abrupt("return");case 5:console.log("整个拍照上墙结束",e.boxMsg,s),"graffiti"==e.boxMsg.tagType&&(e.$bus.$emit("closeGraffitiCorrect",!0),e.$Message.info("Interaction ended"),e.currentInteractionId=null),e.sendLogger("拍照上墙互动结束,boxMsg".concat(e.boxMsg),"end"),e.isShowCorrectPhotoWall&&e.$Message.info("Interaction ended"),e.isShowCorrectPhotoWall=!1,e.currentInteractionId=null,e.showBigPicture=!1,e.showCheckedExerciseToast=!1,localStorage.removeItem("assignmentCheckStatus"),localStorage.removeItem("photoWallOptions");case 15:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())},initPictureWidth:function(e){var t=this,n=new Image;n.src=e,n.onload=function(){t.couldCheckImage=!0}},cancelViewAssignmentBigPicture:function(){this.$emit("handleShowMessageTip"),this.showCheckedExerciseToast=!1,this.sendLogger("作业盒子信息弹窗-直接取消展示小红点")},hideAssignmentBox:function(){this.showHeader=!1,this.hideAssignmentBoxOnly(),this.sendLogger("隐藏作业盒子")},hideAssignmentBoxOnly:function(){this.showAssignmentBox=!1},smallClassGraffiti:function(e){this.$bus.$emit("room.smallClassGraffiti",e)},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";F["a"].send({tag:"student.Interact",content:{msg:e,interactType:"Wall",interactId:this.currentInteractionId||"",interactStage:t}})}},created:function(){this.initEvent()},mounted:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.classType=e.options.classType,e.getCurrenInteractId(),t.next=4,Object(Ya["c"])();case 4:return e.local=t.sent,t.next=7,Object(Nr["d"])("canPhotowallRewards");case 7:e.isAllowPhotowallRewards=t.sent;case 8:case"end":return t.stop()}}),t)})))()},watch:{watchDiffObj:{handler:function(e){this.isPhotoWallShow||e.receiveInteractId!==this.currentInteractionId||null==e.receiveInteractId?e.receiveInteractId&&e.receiveInteractId!==e.interactId&&this.$emit("handleShowMessageTip"):2==this.classType&&(this.showAssignmentBox||this.smallClassSttingPane)||(this.showCheckedExerciseToast=!0)},deep:!0},boxMsg:{handler:function(e){e.correctUrl&&this.initPictureWidth(e.correctUrl)},deep:!0}}},Fr=Vr,Ur=(n("85b3"),Object(q["a"])(Fr,gr,vr,!1,null,"1c807ea9",null)),Wr=Ur.exports,Gr=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.chatBox.isShowBox,expression:"chatBox.isShowBox"},{name:"drag",rawName:"v-drag",value:{dragWrapSelector:".full-float-container",dragSelector:".chat-box-head"},expression:"{ dragWrapSelector: '.full-float-container', dragSelector: '.chat-box-head' }"}],staticClass:"chat-box-container",class:{"on-wholeOnsatge":e.isWholeOnsatge,playBack:e.isPlayBack}},[e.showHeader?t("div",{staticClass:"chat-box-head"},[t("div",{staticClass:"title"},[e._v(e._s(e.$t("classroom.chats.chats.chatbox")))]),t("div",{staticClass:"close",on:{click:e.handleIsShowBox}},[t("img",{attrs:{src:n("d723"),alt:""}})])]):e._e(),t("div",{staticClass:"chat-box-content",attrs:{id:"chat-list"}},[t("ul",{staticClass:"chat-ul"},[e._l(e.chatList,(function(s,a){return["t"===s.role||"f"===s.role?t("li",{key:a,staticClass:"left-li"},[t("div",{staticClass:"msg-header"},[t("div",{staticClass:"nickname"},[e._v(e._s(s.content.name))]),s.content.to_uid?t("div",{staticClass:"msg-private"},[e._v(" 【"+e._s(e.$t("classroom.chats.chats.privateMessage"))+"】 ")]):e._e()]),t("div",{staticClass:"msg-box msg-box-teacher",class:{"msg-box-f":"f"===s.role}},[e._v(" "+e._s(s.content.msg)+" ")])]):e._e(),"s"===s.role&&s.userId!=e.baseData.stuInfo.id?t("li",{key:a,staticClass:"left-li"},[t("div",{staticClass:"msg-header"},[t("div",{staticClass:"nickname"},[e._v(" "+e._s(s.content.name)+" ")])]),s.content.isNewEmoji?t("EmoticonMessage",{staticStyle:{"margin-left":"5px"},attrs:{willAutoClear:!1,name:s.content.msg,type:s.content.emojiType,emojiId:s.content.emojiId,width:40,height:40,lottieUrl:s.content.lottieUrl,loopLottie:!0}}):t("div",{staticClass:"msg-box"},[e._v(e._s(s.content.msg))])],1):e._e(),s.userId==e.baseData.stuInfo.id?t("li",{key:a,staticClass:"right-li"},[t("div",{staticClass:"msg-header"},[s.content.to_uid&&s.content.to_uid===e.baseData.teacherInfo.id?t("div",{staticClass:"msg-private"},[e._v(" 【"+e._s(e.$t("classroom.chats.chats.To"))+" "+e._s(e.$t("classroom.chats.chats.sendToTeacher"))+"】 ")]):e._e(),t("div",{staticClass:"nickname"},[e._v(e._s(s.content.name))])]),t("div",{staticClass:"msg-wrap"},[2===s.status?t("div",{staticClass:"msg-error",on:{click:function(t){return e.handleReSend(s)}}},[t("img",{attrs:{src:n("73bc")}})]):e._e(),s.content.isNewEmoji?t("EmoticonMessage",{attrs:{willAutoClear:!1,name:s.content.msg,type:s.content.emojiType,emojiId:s.content.emojiId,width:40,height:40,lottieUrl:s.content.lottieUrl,loopLottie:!0}}):t("div",{staticClass:"msg-box msg-box-me"},[e._v(" "+e._s(s.content.msg)+" ")])],1)]):e._e(),"tip"===s.role?t("li",{key:a,staticClass:"tip"},[e._v(" "+e._s(e.$t(s.msg))+" ")]):e._e()]}))],2)]),t("div",{staticClass:"chat-box-foot"},[e.isShowNewMsgTip?t("div",{staticClass:"new-meg-tip",on:{click:e.handleScrollBottom}},[t("i",{staticClass:"icon-more-bottom"})]):e._e(),e.isFrequentlyShow?t("div",{staticClass:"too-frequently"},[e._v(" "+e._s(e.$t("classroom.chats.chats.frequently"))+" ")]):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:e.sendToReactive.isOpen,expression:"sendToReactive.isOpen"}],staticClass:"memberList",attrs:{id:"memberList"}},[t("ul",e._l(e.sendToList,(function(n){return t("li",{key:n.id,staticClass:"member-li",attrs:{"data-log":"选中发送对象".concat(e.$t(n.name))},on:{click:function(t){return e.changeSendToValue(n)}}},[t("span",{staticClass:"member-name",class:{"member-changed":e.sendToReactive.id===n.id}},[e._v(e._s(e.$t(n.name)))]),e.sendToReactive.id===n.id?t("span",{staticClass:"member-icon"}):e._e()])})),0)]),e.isShowFoot?t("div",{staticClass:"send-to"},[e._v(" "+e._s(e.$t("classroom.chats.chats.sendTo"))+": "),t("div",{staticClass:"send-to-click",class:{"un-send-to-click":e.isConnecting||!e.chatBox.isOpenChat||e.chatBox.isOnlyTeacher||e.chatBox.isMuted},on:{click:e.toggleMemberPopup}},[t("span",{staticClass:"send-to-name",class:{"un-send-to-name":e.isConnecting||!e.chatBox.isOpenChat||e.chatBox.isOnlyTeacher||e.chatBox.isMuted}},[e._v(e._s(e.$t(e.sendToReactive.name)))]),!e.chatBox.isOpenChat||e.chatBox.isOnlyTeacher||e.chatBox.isMuted?e._e():t("div",{staticClass:"send-to-icon"})])]):e._e(),e.isShowFoot&&e.chatBox.isOpenChat&&!e.isConnecting&&!e.chatBox.isMuted?t("div",{staticClass:"input-box"},[t("a-textarea",{staticClass:"text-area",attrs:{maxLength:200,"auto-size":{minRows:1,maxRows:3},placeholder:e.$t("classroom.chats.chats.inputPlaceholder")},on:{pressEnter:e.handleSendMsg},model:{value:e.messageText,callback:function(t){e.messageText=t},expression:"messageText"}}),e.isCanSend?t("div",{staticClass:"send-btn",on:{click:e.handleSendMsg}},[t("img",{attrs:{src:n("b1f2")}})]):t("div",{staticClass:"send-btn no-send"},[t("img",{attrs:{src:n("ea27")}})])],1):e._e(),e.chatBox.isOpenChat?e.chatBox.isMuted?t("div",{staticClass:"input-close"},[t("div",{staticClass:"input-close-content"},[e._v(" "+e._s(e.$t("classroom.chats.chats.underMute"))+" ")])]):e._e():t("div",{staticClass:"input-close"},[t("div",{staticClass:"input-close-content"},[e._v(" "+e._s(e.$t("classroom.chats.chats.chatboxClosed"))+" ")])]),e.isShowFoot&&e.isConnecting?t("div",{staticClass:"input-close"},[t("div",{staticClass:"input-close-content"},[e._v(" "+e._s(e.$t("classroom.chats.chats.connecting"))+" ")])]):e._e()])])},_r=[],Hr=(n("3c65"),n("498a2"),n("2ca0"),n("722b")),Qr=n("33d2"),Jr=300,qr={PENDING:0,SUCCESS:1,ERROR:2},Kr=n("b657"),$r={components:{EmoticonMessage:Hr["a"]},props:{showHeader:{default:!0,type:Boolean},isWholeOnsatge:{default:!1,type:Boolean},isShowFoot:{default:!0,type:Boolean},isPlayBack:{default:!1,type:Boolean}},data:function(){return{isShowNewMsgTip:!1,messageText:"",chatList:[],isFrequently:!1,isFrequentlyShow:!1,isConnecting:!0,chatMsgPriority:99,sendToReactive:{id:"",name:"classroom.chats.chats.sendToAll",isOpen:!1},dragEvent:null,singleChat:[],limitNum:5,limitTime:5e3,waitTime:3e3}},directives:{Clickoutside:N["a"],drag:Qr["a"]},computed:Object(y["a"])(Object(y["a"])({},Object(Dt["mapGetters"])({baseData:"smallClass/baseData",chatBox:"smallClass/chatBox",isShowBox:"smallClass/isShowBox",ircStatus:"smallClass/ircStatus"})),{},{isCanSend:function(){return this.messageText.trim()},sendToList:function(){return console.log("baseData",this.baseData),[{id:"",name:"classroom.chats.chats.sendToAll"},{id:this.baseData.teacherInfo.id,name:"classroom.chats.chats.sendToTeacher"}]}}),watch:{ircStatus:{handler:function(e){e&&(this.isConnecting=!1)},immediate:!0},isShowBox:{handler:function(e){e&&(this.handleScrollBottom(),this.$store.dispatch("smallClass/updateChatboxHasNewMsg",!1))}}},created:function(){this.isPlayBack||(this.thinkClass.SignalService.on("onNetStatusChanged",this.onNetStatusChanged),this.thinkClass.SignalService.on("onSendRoomMessageResponse",this.onSendRoomMessageResponse),this.thinkClass.SignalService.on("onGetRoomHistoryMessageResponse",this.onGetRoomHistoryMessageResponse),this.thinkClass.SignalService.on("onRecvRoomMessage",this.onRecvRoomMessage),this.thinkClass.SignalService.on("onRecvRoomDataUpdateNotice",this.onRecvRoomDataUpdateNotice)),document.addEventListener("click",this.handleDocumentClick)},mounted:function(){var e=Object(Nr["a"])();if(e&&e.configs)for(var t=0;t<e.configs.length;t++){var n=e.configs[t];if("frequentlyObj"===n.configKey){var s=n.configDefaultValue.split(",");this.limitNum=s[0]||5,this.limitTime=s[1]||5e3,this.waitTime=s[2]||3e3;break}}console.log("cloudConfig cloudConfig",this.limitNum,this.limitTime,this.waitTime,e),this.chatBox.historyList.length&&(this.chatList=Object(_e["a"])(this.chatBox.historyList),this.handleScrollBottom())},beforeDestroy:function(){if(this.isPlayBack)this.$store.dispatch("smallClass/updateChatboxIsShowBox",!1);else{this.thinkClass.SignalService.off("onNetStatusChanged",this.onNetStatusChanged),this.thinkClass.SignalService.off("onSendRoomMessageResponse",this.onSendRoomMessageResponse),this.thinkClass.SignalService.off("onGetRoomHistoryMessageResponse",this.onGetRoomHistoryMessageResponse),this.thinkClass.SignalService.off("onRecvRoomDataUpdateNotice",this.onRecvRoomDataUpdateNotice),this.$store.dispatch("smallClass/updateChatboxIsShowBox",!1);var e=document.getElementById("chat-list");e&&e.removeEventListener("scroll",this.handleOnScroll)}document.removeEventListener("click",this.handleDocumentClick)},methods:{handleIsShowBox:function(){this.isPlayBack?this.$store.dispatch("smallClass/updateChatboxIsShowBox",!0):(this.$store.dispatch("smallClass/updateChatboxIsShowBox",!this.chatBox.isShowBox),this.messageText="",this.chatBox.isShowBox&&(this.handleScrollBottom(),this.$store.dispatch("smallClass/updateChatboxHasNewMsg",!1)))},handleSendMsg:function(e){var t=this;if(e.preventDefault(),this.messageText.trim()){if(this.isFrequently)return this.isFrequentlyShow=!0,void Se["b"]();this.isFrequentlyShow=!1;var n=this.handleFrequentlyFn();if(n)return this.isFrequently=!0,this.isFrequentlyShow=!0,Se["b"](),void setTimeout((function(){t.isFrequently=!1,t.isFrequentlyShow=!1}),this.waitTime);var s={type:"130",from:"flv",name:this.baseData.stuInfo.nickName,msg:this.messageText,path:this.baseData.stuInfo.avatar};this.sendToReactive.id&&(s.type="139",s.to_uid=this.sendToReactive.id),this.chatBox.isOnlyTeacher&&(s.type="139",s.to_uid=this.baseData.teacherInfo.id);var a=this.thinkClass.SignalService.sendRoomMessageWithPreMsgId({content:s,chatMsgPriority:this.chatMsgPriority});0===a.code?(this.chatList.push({role:"s",content:s,status:qr.PENDING,preMsgId:a.preMsgId,userId:this.baseData.stuInfo.id}),this.singleChat.push(+new Date),this.messageText="",this.handleScrollBottom(),this.sendLogger("学生发送chatbox消息",Object(y["a"])({},s)),Se["c"](s)):this.sendLogger("学生发送chatbox消息失败",Object(y["a"])({},a),"error")}},handleFrequentlyFn:function(){return this.singleChat.length>=this.limitNum&&+new Date-this.singleChat[this.singleChat.length-this.limitNum]<this.limitTime},onSendRoomMessageResponse:function(e){0!==e.code&&this.sendLogger("学生发送聊天消息回调失败",{res:e},"error");for(var t=this.chatList.length-1;t>0;t--){var n=this.chatList[t];if(n.preMsgId&&n.preMsgId===e.preMsgId){var s=0===e.code?qr.SUCCESS:qr.ERROR;return n.status=s,void(0===e.code&&this.$store.dispatch("smallClass/updateChatBoxHistoryList",n))}}},handleReSend:function(e){var t=e.content,n=this.thinkClass.SignalService.sendRoomMessageWithPreMsgId({content:t,chatMsgPriority:this.chatMsgPriority});if(0===n.code)for(var s=this.chatList.length-1;s>0;s--){var a=this.chatList[s];if(a.preMsgId&&a.preMsgId===e.preMsgId)return a.status=qr.PENDING,void(a.preMsgId=n.preMsgId)}},onGetRoomHistoryMessageResponse:function(e){var t=this;if(0===e.code){if(this.chatList=[],e.content.forEach((function(e){try{e.content=JSON.parse(e.text)}catch(n){console.error("[chatbox]监听获取历史消息回调解析错误",n)}if(e.content.type&&130===Number(e.content.type)||139===Number(e.content.type)&&e.content.to_uid===t.baseData.stuInfo.id||139===Number(e.content.type)&&e.content.to_uid===t.baseData.teacherInfo.id&&Number(e.sender.split("_").pop())===t.baseData.stuInfo.id){if(e.status=qr.SUCCESS,e.sender.startsWith("t")?e.role="t":e.sender.startsWith("s")?e.role="s":e.sender.startsWith("f")&&(e.role="f"),e.content.path||(e.content.path=Kr),e.userId=e.sender.split("_").pop(),t.chatBox.isOnlyTeacher&&"s"===e.role&&+e.userId!==t.baseData.stuInfo.id)return;t.chatList.unshift(e)}})),this.chatList.length>Jr){var n=this.chatList.length-Jr;this.chatList=this.chatList.splice(n)}this.$store.dispatch("smallClass/updateChatBoxHistoryListInit",Object(_e["a"])(this.chatList)),this.handleScrollBottom()}},onRecvRoomDataUpdateNotice:function(e){var t=this,n=e.key,s=e.noticeContent;if("openchat"===n){var a=s;this.$store.dispatch("smallClass/updateChatBoxIsClose",a),this.handleChangeIsStopChat(a),this.sendLogger("老师".concat(a?"开启":"关闭"," 聊天功能"))}if("chat_msg_control"===n){var i="teacher"===s.status;this.$store.dispatch("smallClass/updateChatBoxIsOnlyTeacher",i),this.handleChangeIsOnlyReadTeacher(i),this.sendLogger("老师设置学员仅可看到老师消息 ".concat(i)),i&&this.changeSendToValue({id:this.baseData.teacherInfo.id,name:"classroom.chats.chats.sendToTeacher"})}if("private_mute_chat"===n){var o=s.ids.find((function(e){return e==t.baseData.stuInfo.id}));o?this.chatBox.isMuted||(this.$store.dispatch("smallClass/updateChatBoxMutedByTeacher",!0),this.handleChangeIsMutedByTeacher(!0),this.sendLogger("老师开启单独禁言")):this.chatBox.isMuted&&(this.$store.dispatch("smallClass/updateChatBoxMutedByTeacher",!1),this.handleChangeIsMutedByTeacher(!1),this.sendLogger("老师关闭单独禁言"))}},onNetStatusChanged:function(e){4===e.netStatus?this.chatList.push({role:"tip",msg:"classroom.chats.chats.msgTip.CONNECT"}):1!==e.netStatus&&2!==e.netStatus&&5!==e.netStatus||this.chatList.push({role:"tip",msg:"classroom.chats.chats.msgTip.DISCONNECT"}),this.handleConditionScrollBottom()},onRecvRoomMessage:function(e){var t=e.content,n=e.fromUserInfo;if(t&&t.type&&130===Number(t.type)||139===Number(t.type)&&t.to_uid===this.baseData.stuInfo.id){var s="";if(n.nickname.startsWith("t")?s="t":n.nickname.startsWith("s")?s="s":n.nickname.startsWith("f")&&(s="f"),t.path||(t.path=Kr),this.chatList.length>=Jr&&this.chatList.shift(),this.chatBox.isOnlyTeacher&&"s"===s)return;this.handleSaveList({role:s,content:t,userId:n.nickname.split("_").pop()});var a=document.getElementById("chat-list"),i=Math.round(a.scrollHeight),o=Math.round(a.scrollTop),r=Math.round(a.clientHeight);i<=o+r+1?this.handleScrollBottom():(a.addEventListener("scroll",this.handleOnScroll),this.isShowNewMsgTip=!0),this.chatBox.isShowBox||this.$store.dispatch("smallClass/updateChatboxHasNewMsg",!0)}},handleChangeIsStopChat:function(e){var t="";t=e?{role:"tip",msg:"classroom.chats.chats.teacherOn"}:{role:"tip",msg:"classroom.chats.chats.teacherOff"},this.handleSaveList(t),this.handleConditionScrollBottom()},handleChangeIsMutedByTeacher:function(e){var t="";t=e?{role:"tip",msg:"classroom.chats.chats.mutedByTeacher"}:{role:"tip",msg:"classroom.chats.chats.unmutedByTeacher"},this.handleSaveList(t),this.handleConditionScrollBottom()},handleChangeIsOnlyReadTeacher:function(e){var t="";t=e?{role:"tip",msg:"classroom.chats.chats.onlyteacher"}:{role:"tip",msg:"classroom.chats.chats.all"},this.handleSaveList(t),this.handleConditionScrollBottom()},handleSaveList:function(e){this.chatList.push(e),this.$store.dispatch("smallClass/updateChatBoxHistoryList",e)},handleScrollBottom:function(){var e=this;this.isShowNewMsgTip=!1,this.$nextTick((function(){var t=document.getElementById("chat-list");if(t){var n=Math.round(t.scrollHeight),s=Math.round(t.clientHeight);t.scrollTop=n-s+1,t.removeEventListener("scroll",e.handleOnScroll)}}))},handleConditionScrollBottom:function(){var e=document.getElementById("chat-list");if(e){var t=Math.round(e.scrollHeight),n=Math.round(e.scrollTop),s=Math.round(e.clientHeight);t<=n+s+1&&this.handleScrollBottom()}},handleOnScroll:function(){var e=document.getElementById("chat-list");if(e){var t=Math.round(e.scrollHeight),n=Math.round(e.scrollTop),s=Math.round(e.clientHeight);t<=n+s+1&&(this.isShowNewMsgTip=!1,e.removeEventListener("scroll",this.handleOnScroll))}},sendLogger:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";F["a"].send({tag:"ChatBox",content:{msg:e,interactType:"ChatBox",params:t},level:n})},playBackList:function(e){try{e.content=JSON.parse(e.text)}catch(h){console.error(h)}if(e.sender.startsWith("t")?e.role="t":e.sender.startsWith("s")?e.role="s":e.sender.startsWith("f")&&(e.role="f"),e.content.path||(e.content.path=Kr),e.userId=e.sender.split("_").pop(),e.content.type&&130===Number(e.content.type)||139===Number(e.content.type)&&e.content.to_uid===this.baseData.stuInfo.id||139===Number(e.content.type)&&e.content.to_uid==this.baseData.teacherInfo.id&&e.sender.indexOf(this.baseData.stuInfo.id)>-1)e.status=qr.SUCCESS,this.chatList.push(e);else{var t,n,s,a={},i={name:null===(t=e.content.from)||void 0===t?void 0:t.username,isMe:!1,msg:null===(n=e.content.data)||void 0===n?void 0:n.name,isNewEmoji:!0,path:(null===(s=e.content.from)||void 0===s?void 0:s.path)||""};if("send_emoji"==e.content.ircType&&1==e.content.data.type)a=i,this.chatList.push({role:"s",content:a,userId:e.userId});else if("animation_emoji"==e.content.ircType&&(2==e.content.data.type||3==e.content.data.type)){var o,r;a=Object(y["a"])(Object(y["a"])({},i),{},{lottieUrl:(null===(o=e.content.data.resource)||void 0===o?void 0:o.lottieUrl)||"",emojiId:(null===(r=e.content.data.resource)||void 0===r?void 0:r.emojiId)||0,emojiType:e.content.data.type}),this.chatList.push({role:"s",content:a,userId:e.userId})}}var c=document.getElementById("chat-list"),l=Math.round(c.scrollHeight),u=Math.round(c.scrollTop),d=Math.round(c.clientHeight);l<=u+d+1?this.handleScrollBottom():(c.addEventListener("scroll",this.handleOnScroll),this.isShowNewMsgTip=!0)},changeSendToValue:function(e){this.sendToReactive.id=e.id,this.sendToReactive.name=e.name,this.sendToReactive.isOpen=!1},toggleMemberPopup:function(e){e.stopPropagation(),!this.chatBox.isOpenChat||this.chatBox.isOnlyTeacher||this.isConnecting||this.chatBox.isMuted?this.sendToReactive.isOpen=!1:this.sendToReactive.isOpen=!this.sendToReactive.isOpen},handleDocumentClick:function(e){if(this.sendToReactive.isOpen){var t=document.getElementById("memberList");t.contains(e.target)||(this.sendToReactive.isOpen=!1)}}}},zr=$r,Yr=(n("4335"),Object(q["a"])(zr,Gr,_r,!1,null,"f9beacf2",null)),Xr=Yr.exports,Zr=function(){var e=this,t=e._self._c;return t("div",{staticClass:"gamecourseware-container"},[e.showGame?t("NeGamecourseware",{attrs:{gameUrl:e.gameUrl,nickName:e.nickName,role:e.role,isAnswer:e.isAnswer,lang:e.lang,showResultToast:e.showResultToast,rightCoin:e.rightCoin},on:{submit:e.submitAnswer,exit:e.destroy,loaded:e.gameLoaded,reload:e.gameReload,fail:e.gameFail}}):t("a-spin",{staticClass:"loading"},[t("a-icon",{attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"})],1)],1)},ec=[],tc=n("c5ee"),nc=n("2c09"),sc=function(e){Object(T["a"])(n,e);var t=Object(B["a"])(n);function n(){var e,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.info("函数申明 Game(opts)",s,"filePath:renderer/SmallClass/interactions/GameForCourseware/game.js"),Object(P["a"])(this,n),e=t.call(this),e.options=s,e}return Object(j["a"])(n,[{key:"submitPics",value:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(){var t,n,s=arguments;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},n={planId:1*this.options.roomMessage.roomInfo.stuLiveInfo.planId,interactId:this.options.ircMsg.interactId,gameImages:Object(_e["a"])(t.gameImages),userAnswerResult:Object(_e["a"])(t.userAnswerResult)},e.next=4,Object(nc["d"])(n);case 4:case"end":return e.stop()}}),e,this)})));function t(){return console.info("函数申明 submitPics, filePath:renderer/SmallClass/interactions/GameForCourseware/game.js"),e.apply(this,arguments)}return t}()},{key:"submitAnswer",value:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(t,n){var s,a;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={planId:1*this.options.roomMessage.roomInfo.stuLiveInfo.planId,classId:this.options.roomMessage.roomInfo.stuLiveInfo.classId,interactId:this.options.ircMsg.interactId,rightRate:t,isAnswer:n},e.next=3,Object(nc["c"])(s);case 3:return a=e.sent,e.abrupt("return",{params:s,response:a});case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return console.info("函数申明 submitAnswer(_x, _x2)",t,n,"filePath:renderer/SmallClass/interactions/GameForCourseware/game.js"),e.apply(this,arguments)}return t}()},{key:"interactReport",value:function(e){var t={classId:1*this.options.roomMessage.roomInfo.stuLiveInfo.classId,planId:1*this.options.roomMessage.roomInfo.stuLiveInfo.planId,interactId:this.options.ircMsg.interactId};Object(nc["b"])(e,t)}},{key:"getGameStatus",value:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(){var t;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={classId:1*this.options.roomMessage.roomInfo.stuLiveInfo.classId,planId:1*this.options.roomMessage.roomInfo.stuLiveInfo.planId,interactId:this.options.ircMsg.interactId},e.next=3,Object(nc["a"])(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(){return console.info("函数申明 getGameStatus, filePath:renderer/SmallClass/interactions/GameForCourseware/game.js"),e.apply(this,arguments)}return t}()}]),n}(L["a"]),ac={name:"GameCourseware",props:{options:{type:Object,default:function(){return{}}}},data:function(){return{gameUrl:null,nickName:"",role:"student",lang:"en",showGame:!1,isAnswer:2,userCoin:null,interactStatus:2,showResultToast:!1,rightCoin:0,isSubmiting:!1}},created:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n,s,a,i;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.game=new sc(Object(y["a"])({},e.options)),e.game.interactReport("open"),t.next=4,e.game.getGameStatus().catch((function(t){return e.sendLogger({msg:"接口报错:开启游戏:",response:t},"error"),t}));case 4:if(n=t.sent,s=n.code,a=n.data,0===s&&1*a.studentInteractStatus!==2&&!a.isSubmit){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,e.getGameServe();case 11:i=t.sent,e.interactStatus=1*a.studentInteractStatus,e.nickName=e.options.roomMessage.roomInfo.stuInfo.nickName,e.gameUrl="".concat(i,"/").concat(e.options.ircMsg.interactiveTemplatePath),console.log("加载互动游戏地址 gameUrl",e.gameUrl),e.sendLogger({msg:"收到互动, 加载互动游戏地址: ".concat(JSON.stringify(e.gameUrl)),stage:"start"}),e.showGame=!0,window.thinkApi.ipc.send("test:url",e.gameUrl);case 19:case"end":return t.stop()}}),t)})))()},methods:{getGameServe:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n,s,a,i,o,r,c,l,u;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={},s=Object(W["q"])("planId"),t.next=4,A["nativeApi"].getClientInfo();case 4:return a=t.sent,i=a.CW_SERVER_ADDRESS,o=a.CW_WEBROOT,t.next=9,Object(Rn["b"])(1*s);case 9:if(r=t.sent,0===r.code&&0!==r.data.list.length){t.next=13;break}return e.$Message.info("COURSESWARE ERROR"),t.abrupt("return");case 13:return r.data.list.forEach((function(e){16==e.id&&(n=e)})),c="".concat(i).concat(n.detail.catalog),e.sendLogger({msg:"游戏本地服务域名: ".concat(JSON.stringify(i)).concat(JSON.stringify(n.detail.catalog))}),t.prev=16,t.next=19,Object(tc["a"])(n.detail.baseZipUrl,n.detail.baseZipMd5,o);case 19:l=t.sent,l||(u=n.detail.compressIndexUrl.split(n.detail.catalog),c="".concat(u[0]).concat(n.detail.catalog),e.sendLogger({msg:"使用游戏远端服务域名: ".concat(JSON.stringify(u[0])).concat(JSON.stringify(n.detail.catalog))})),t.next=26;break;case 23:t.prev=23,t.t0=t["catch"](16),e.sendLogger({msg:"游戏检查压缩包失败,可能会导致游戏黑屏",stage:"error",params:{error:t.t0}},"error");case 26:return t.abrupt("return",c);case 27:case"end":return t.stop()}}),t,null,[[16,23]])})))()},submitAnswer:function(e){var t=this;return Object(O["a"])(Object(x["a"])().mark((function n(){var s,a,i,o,r,c,l,u,d,h,m,f,p,g;return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.isSubmiting){n.next=2;break}return n.abrupt("return");case 2:return t.isSubmiting=!0,s=[],a=[],i=e.answerPics,o=e.judge,r=e.rightRate,t.isAnswer=1,n.next=9,t.game.submitAnswer(r,t.isAnswer).catch((function(e){return t.sendLogger({msg:"接口报错:提交游戏数据:",response:e},"error"),e}));case 9:c=n.sent,l=c.params,u=c.response,t.sendLogger({msg:"提交答案结果",params:l,response:u}),d=u.code,h=u.data,0==d&&h&&(t.rightCoin=h.rightCoin,f=100==r?1:2==t.isAnswer?3:2,p=Object(y["a"])(Object(y["a"])({},h),{},{isRight:f,isGameQuestion:!0}),t.$bus.$emit("continuousCorrect",p),Se["f"](null===(m=t.options)||void 0===m?void 0:m.ircMsg,"5",f,!0)),i.forEach((function(e,n){a.push(Object(W["e"])(e)),s.push("".concat(t.options.ircMsg.interactId,"_").concat(t.options.roomMessage.roomInfo.stuInfo.id,"_").concat(n,".jpg"))})),g=new Ce["b"]({scene:"game"});try{g.putFiles({filePaths:s,files:a,success:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(n){return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.game.submitPics({gameImages:n.filePaths,userAnswerResult:o});case 2:t.isSubmiting=!1;case 3:case"end":return e.stop()}}),e)})));function n(t){return e.apply(this,arguments)}return n}(),fail:function(){t.sendLogger({msg:"上传游戏截图失败"})}})}catch(v){console.error("catch上传游戏截图失败",v)}case 18:case"end":return n.stop()}}),n)})))()},gameLoaded:function(){this.sendLogger({msg:"游戏加载成功"})},gameReload:function(){this.sendLogger({msg:"重新加载游戏"})},gameFail:function(){this.sendLogger({msg:"游戏加载失败"})},destroy:function(){Object(V["e"])("hw_classroom_interact_game_quit",this.options.roomMessage.roomInfo.commonOption,{interact_id:this.options.ircMsg.interactId}),this.$emit("closeGame")},sendLogger:function(e){var t=e.msg,n=void 0===t?"":t,s=e.stage,a=void 0===s?"":s,i=e.params,o=void 0===i?{}:i,r=e.response,c=void 0===r?{}:r,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";F["a"].send({tag:"student.Interact",content:{msg:n,interactType:"Game",interactId:this.options.ircMsg.interactId,interactStage:a,params:JSON.stringify(o),response:JSON.stringify(c)},level:l})}},beforeDestroy:function(){if(2===this.isAnswer&&2!==this.interactStatus){var e={isRight:3,isGameQuestion:!0,rightCoin:0};this.$bus.$emit("continuousCorrect",e),this.game.submitAnswer(0,2)}else this.$bus.$emit("continuousCorrect",!1);this.game.interactReport("close"),this.sendLogger({msg:"结束互动",stage:"end"}),this.showGame=!1}},ic=ac,oc=(n("79d3"),Object(q["a"])(ic,Zr,ec,!1,null,"27c0aa22",null)),rc=oc.exports,cc=function(){var e=this,t=e._self._c;return t("div",[e.isShow?t("canvas",{style:{left:e.left},attrs:{id:"flyCoins"}}):e._e()])},lc=[],uc={data:function(){return{left:"0px",isShow:!1,PAG:null,pagFile:null}},mounted:function(){var e=this;this.$nextTick((function(){window.addEventListener("resize",e.resizeHandler),e.$bus.$on("coinFly",(function(){console.info("箭头函数 监听 coinFly,filePath:renderer/SmallClass/components/Header/Coins/FlyCoins/index.vue"),e.setPosition()}))}))},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/SmallClass/components/Header/Coins/FlyCoins/index.vue"),window.removeEventListener("resize",this.resizeHandler)},methods:{setPosition:function(){var e=this;console.info("对象函数 setPosition,filePath:renderer/SmallClass/components/Header/Coins/FlyCoins/index.vue"),this.isShow=!0,this.$nextTick((function(){var t,n,s=null===(t=document.getElementById("coin-position"))||void 0===t?void 0:t.getBoundingClientRect(),a=null===(n=document.getElementById("flyCoins"))||void 0===n?void 0:n.getBoundingClientRect();e.left=s.right-s.width/2-.7*a.width+"px",e.initCanvas()}))},resizeHandler:function(){console.info("对象函数 resizeHandler,filePath:renderer/SmallClass/components/Header/Coins/FlyCoins/index.vue"),this.isShow&&this.setPosition()},initCanvas:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.info("对象函数 initCanvas,filePath:renderer/SmallClass/components/Header/Coins/FlyCoins/index.vue"),window.PAG){t.next=5;break}return t.next=4,window.libpag.PAGInit();case 4:window.PAG=t.sent;case 5:n="./pagfiles/flyCoinsPag.pag",fetch(n).then((function(e){return e.blob()})).then(function(){var t=Object(O["a"])(Object(x["a"])().mark((function t(s){var a,i,o;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("箭头函数 then(blob)",s,"filePath:renderer/SmallClass/components/Header/Coins/FlyCoins/index.vue"),a=new window.File([s],n.replace(/(.*\/)*([^.]+)/i,"$2")),t.next=4,window.PAG.PAGFile.load(a);case 4:return i=t.sent,t.next=7,window.PAG.PAGView.init(i,"#flyCoins");case 7:return o=t.sent,o.setRepeatCount(1),o.addListener("onAnimationEnd",(function(){console.info("箭头函数 监听 onAnimationEnd,filePath:renderer/SmallClass/components/Header/Coins/FlyCoins/index.vue"),e.isShow=!1,e.$bus.$emit("endCoinFly")})),t.next=12,o.play();case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 7:case"end":return t.stop()}}),t)})))()}}},dc=uc,hc=(n("552b"),Object(q["a"])(dc,cc,lc,!1,null,"232d8ec6",null)),mc=hc.exports,fc=function(){var e=this,t=e._self._c;return e.showDialog?t("div",{staticClass:"upload-success-container"},[t("div",{staticClass:"container w-[3.2rem] h-[1.65rem]",class:{"h-[1.15rem]":!e.data.coins}},[t("div",{staticClass:"bg-img w-[2.4rem] h-[1.8rem] top-[-1.16rem]"}),t("div",{staticClass:"content w-full h-[0.9rem] mt-[0.75rem]",class:{"mt-[0.25rem]":!e.data.coins}},[t("p",{staticClass:"title text-large",class:{"mt-[0.39rem]":!e.data.coins}},[e._v(e._s(e.data.tips))]),e.data.coins?t("div",{staticClass:"coins-container flex justify-center items-center"},[t("div",{staticClass:"coins w-[0.32rem] h-[0.32rem] mr-[0.08rem]"}),t("span",{staticClass:"icon-number text-big"},[e._v("+"+e._s(e.data.coins))])]):e._e()])])]):e._e()},pc=[],gc={data:function(){return{data:{},showDialog:!1}},mounted:function(){var e=this;this.$bus.$on("uploadSuccess",(function(t){console.info("箭头函数 监听 uploadSuccess(data)",t,"filePath:renderer/SmallClass/components/LayerFullFloat/UploadSuccessDialog/index.vue"),e.data=t,e.showDialog=!0,setTimeout((function(){e.showDialog=!1}),3e3)}))},beforeMount:function(){console.info("对象函数 beforeMount,filePath:renderer/SmallClass/components/LayerFullFloat/UploadSuccessDialog/index.vue"),this.$bus.$off("uploadSuccess")}},vc=gc,Cc=(n("ecae"),Object(q["a"])(vc,fc,pc,!1,null,"1c9dd08e",null)),bc=Cc.exports,Ac=function(){var e=this,t=e._self._c;return t("div",{staticClass:"kickout"},[t("a-modal",{staticClass:"ignore-kickout-modal",attrs:{width:320,closable:!1,maskClosable:!1,footer:null},model:{value:e.liveKickout,callback:function(t){e.liveKickout=t},expression:"liveKickout"}},[t("p",[e._v(e._s(e.$t("classroom.modules.liveKickout.notice")))]),t("a-button",{attrs:{type:"primary",shape:"round",size:"large"},on:{click:function(t){return t.stopPropagation(),e.handleClose.apply(null,arguments)}}},[e._v(" "+e._s(e.$t("common.confirm"))+" "),t("span",{staticClass:"time-out"},[e._v("("+e._s(e.timeCount)+"s)")])])],1)],1)},Sc=[],wc=n("9ca9"),yc={name:"LiveKickout",props:{options:{type:Object,default:null}},data:function(){return{loading:!1,timer:null,liveKickout:!1,timeCount:10}},created:function(){},mounted:function(){this.$bus.$on("live-kickout",this.liveKickoutFun)},methods:{liveKickoutFun:function(e){var t=this;console.info("对象函数 liveKickoutFun(ircMessage)",e,"filePath:renderer/SmallClass/components/liveKickout/index.vue"),console.log(e,"ircMessage"),e&&(this.$bus.$emit("liveQuit"),this.liveKickout=!0,this.timer=setInterval((function(){t.timeCount>0&&t.timeCount--}),1e3))},handleClose:function(){console.info("对象函数 handleClose,filePath:renderer/SmallClass/components/liveKickout/index.vue"),this.liveKickout=!1,Object(wc["a"])("/#/courses")}},watch:{timeCount:{handler:function(e){console.info("对象函数 handler(newVal)",e,"filePath:renderer/SmallClass/components/liveKickout/index.vue"),0==e&&this.handleClose()}}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/SmallClass/components/liveKickout/index.vue"),clearInterval(this.timer),this.$bus.$off("live-kickout",this.liveKickoutFun)}},kc=yc,Ic=(n("1ac6"),Object(q["a"])(kc,Ac,Sc,!1,null,null,null)),xc=Ic.exports,Oc={data:function(){var e=this.$store.state.smallClass.baseData;return{baseData:e,durationTimestamp:(new Date).getTime(),timer:null,kejianStatus:1,ircCodeCount:{0:0,1:0,2:0,3:0,4:0,5:0},ircCurrentCode:0,rtcRoundTripDelayed:0,rtcDownlinkPacketLossRate:0}},mounted:function(){this.initEventListeners(),this.delayDurationPush()},methods:{initEventListeners:function(){var e=this;this.$bus.$on("corewareLoadStatus",(function(t){e.kejianStatus=t.isLocal?1:2})),this.thinkClass.SignalService.on("onNetStatusChanged",(function(t){var n=t.netStatus;e.ircCodeCount[n]=e.ircCodeCount[n]+1,e.ircCurrentCode=n})),this.thinkClass.RtcService.on("rtcStats",(function(t){e.rtcRoundTripDelayed=t.gatewayRtt,e.rtcDownlinkPacketLossRate=t.rxPacketLossRate}))},durationPush:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n,s,a,i;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=String(e.baseData.planInfo.id),s=6e4,a=60,e.durationTimestamp=(new Date).getTime(),i=e.$store.state.smallClass.cameraStatus?1:2,t.prev=5,t.next=8,Object(ya["c"])({planId:n,duration:a,isParentAudition:e.baseData.commonOption.isParent?1:0,kejianStatus:e.kejianStatus,ircCodeCount:e.ircCodeCount,ircCurrentCode:e.ircCurrentCode,rtcRoundTripDelayed:e.rtcRoundTripDelayed,rtcDownlinkPacketLossRate:e.rtcDownlinkPacketLossRate,cameraState:i});case 8:t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](5),console.error("上报学生在线时长接口报错",t.t0);case 13:e.delayDurationPush(s);case 14:case"end":return t.stop()}}),t,null,[[5,10]])})))()},delayDurationPush:function(e){var t=this;this.resetPrevMinuteReportData(),this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.durationPush()}),e)},resetPrevMinuteReportData:function(){this.ircCodeCount={0:0,1:0,2:0,3:0,4:0,5:0},this.kejianStatus=1,this.rtcRoundTripDelayed=0,this.rtcDownlinkPacketLossRate=0,this.ircCurrentCode=0}}},Pc=Oc,jc=Object(q["a"])(Pc,go,vo,!1,null,null,null),Tc=jc.exports,Bc=Object(v["c"])({name:"FullFloatLayer",components:{AssignmentBox:Wr,ChatBox:Xr,GameInteraction:rc,CoinsBadge:pr,FlyCoins:mc,UploadSuccessDialog:bc,LiveKickout:xc,TakePicture:Ie,RandomCall:Qt,ClassInfoDataReport:Tc},directives:{Clickoutside:N["a"]},setup:function(){var e=Object(v["d"])(),t=e.proxy,n=t.$store.state.smallClass.baseData,s=Object(v["j"])(null),a=Object(v["j"])(null),i=Object(v["j"])(null),o=Object(v["j"])(!1),r=Object(v["j"])({}),c=function(e){var t=e.target,n=a.value&&a.value.contains(t)||i.value&&i.value.contains(t);n||Object(v["e"])((function(){s.value.hideAssignmentBoxOnly()}))},l=function(){t.$bus.$on("handleOpenBox",(function(e){a.value=e,Object(v["e"])((function(){s.value.handleOpenAssignmentBox()}))})),t.$bus.$on("emitBigImgDom",(function(e){i.value=e})),t.$bus.$on("gameInteract",(function(e){o.value=e.pub,r.value={roomMessage:{roomInfo:Object(y["a"])({},t.$store.state.smallClass.baseData)},ircMsg:e}}))},u=Object(v["j"])("0rem");Object(v["g"])((function(){l();var e=document.getElementById("tools-chatbox"),t=e.getBoundingClientRect(),n=document.body.clientWidth;u.value=(n-t.left-16)/100+"rem",console.log("chatBoxDomRight",n,t.left,u)})),Object(v["f"])((function(){t.$bus.$off("handleOpenBox"),t.$bus.$off("emitBigImgDom"),t.$bus.$off("gameInteract")}));var d=Object(v["i"])([{name:"TakePicture",componentName:"TakePicture",layout:"full",isShow:!1,keys:["take_picture"],options:{roomMessage:{roomInfo:Object(y["a"])({},t.$store.state.smallClass.baseData)},ircMsg:""}},{name:"RandomCall",componentName:"RandomCall",layout:"full",isShow:!1,keys:["small_random_call"],options:{roomMessage:{roomInfo:Object(y["a"])({},t.$store.state.smallClass.baseData)},ircMsg:""}}]),h=["small_random_call","speedyHand","distribute_coins","redPacket"],m=function(e,n){e.isShow=!0,e.options.ircMsg=n.noticeContent,e.options.isHistory=n.isHistory,e.options["sendTime"]=n.sendTime,Object(v["e"])((function(){t.$refs[e.name]&&t.$refs[e.name][0].receiveMessage&&t.$refs[e.name][0].receiveMessage(n.noticeContent)}))};function f(e){var n=e.key,s=e.noticeContent,a=e.isTrigger;if(h.includes(n)&&a)console.warn("不恢复的".concat(n,"互动，不触发'handleInteractions'函数"));else{var i=s.pub,o=s.open,r=s.publishTopic,c=p(n);if(i||o||r)t.$store.dispatch("smallClass/updateInteractionStatus",{interactionName:n,interactionStatus:!0}),c.isShow?s.interactId!==c.interactId?(c.isShow=!1,Object(v["e"])((function(){m(c,e)}))):t.$refs[c.name][0].receiveMessage(e.noticeContent):m(c,e),c.interactId=s.interactId;else if(!1===i||!1===o||0===i||0===o||!1===r){var l,u;if(t.$store.dispatch("smallClass/updateInteractionStatus",{interactionName:n,interactionStatus:!1}),t.$refs[c.name]&&null!==(l=t.$refs[c.name][0])&&void 0!==l&&l.destroyInteraction)return void(null===(u=t.$refs[c.name][0])||void 0===u||u.destroyInteraction(s));c.isShow=!1}}}function p(e){var t=d.find((function(t){return t.keys.includes(e)}));return t}function g(e){var t=p(e);t.isShow=!1}return t.$bus.$on("take_picture",(function(e){f(e)})),t.$bus.$on("small_random_call",(function(e){f(e)})),Object(v["f"])((function(){t.$bus.$off("take_picture"),t.$bus.$off("small_random_call")})),{baseData:n,assignmentBoxRef:s,isShowGameInteraction:o,gameInteractionOptions:r,clickBoxOutside:c,chatBoxDomRight:u,interactions:d,interactionClose:g}}}),Lc=Bc,Mc=Object(q["a"])(Lc,cr,lr,!1,null,null,null),Rc=Mc.exports,Ec=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{attrs:{id:"stageLayer"}},[e._l(e.interactions,(function(n){return[n.isShow?t(n.componentName,{key:n.name,ref:n.name,refInFor:!0,tag:"component",attrs:{options:n.options},on:{close:e.interactionClose}}):e._e()]}))],2)},Dc=[],Nc=function(){var e=this,t=e._self._c;return t("div",{staticClass:"teacher-on-stage",class:e.classTypeName},[t("div",{staticClass:"teacher-on-stage-module",class:[this.windowStatusClassName],style:[e.styleAttribute]},[t("div",{staticClass:"teacher-on-stage-video",class:{"teacher-off":!e.teacherVideoStatus}},[t("div",{class:{teacherOnStageVideoPostion:e.teacherVideoStatus},attrs:{id:"teacherOnStageVideo"}})]),e.isPrivateChat?t("div",{staticClass:"private-chat-title"},[e._v(" "+e._s(e.$t("classroom.modules.teacherOnStage.privateChat"))+" ")]):e._e(),t("div",{staticClass:"teacher-info"},[t("div",{staticClass:"name"},[e._v(e._s(e.teacherName))]),t("div",{staticClass:"microphone-wrapper"},[e.audioStatus?t("img",{attrs:{src:n("cd75")}}):t("img",{attrs:{src:n("5ae7")}})])]),e.teacherOffline?t("div",{staticClass:"video-error"},[t("div",{staticClass:"wrapper"},[t("div",{staticClass:"notice"},[t("p",[e._v(e._s(e.$t("classroom.modules.teacherOnStage.notice[0]")))]),t("p",[e._v(e._s(e.$t("classroom.modules.teacherOnStage.notice[1]")))])])])]):e._e()])])},Vc=[],Fc={data:function(){return{windowStatus:"normal",originXRatio:0,originYRatio:0,WRatio:0,HRatio:0,teacherName:"",isPrivateChat:!1,styleAttribute:{left:0,top:0,width:0,height:0},rtcService:null,classType:this.options.commonOption.classType}},props:{options:{type:Object,default:null}},computed:{teacherVideoStatus:function(){return console.info("对象函数 teacherVideoStatus,filePath:renderer/SmallClass/components/LayerOnStage/teacherOnStage/index.vue"),this.$store.state.smallClass.teacherMsg.videoStatus},onStageStatus:function(){return console.info("对象函数 onStageStatus,filePath:renderer/SmallClass/components/LayerOnStage/teacherOnStage/index.vue"),this.$store.state.smallClass.teacherMsg.onStageStatus},teacherOffline:function(){return console.info("对象函数 teacherOffline,filePath:renderer/SmallClass/components/LayerOnStage/teacherOnStage/index.vue"),!this.$store.state.smallClass.teacherMsg.inClass},audioStatus:function(){return console.info("对象函数 audioStatus,filePath:renderer/SmallClass/components/LayerOnStage/teacherOnStage/index.vue"),this.$store.state.smallClass.teacherMsg.audioStatus},volume:function(){return console.info("对象函数 volume,filePath:renderer/SmallClass/components/LayerOnStage/teacherOnStage/index.vue"),this.$store.state.smallClass.teacherMsg.volume},canCreateVideo:function(){return console.info("对象函数 canCreateVideo,filePath:renderer/SmallClass/components/LayerOnStage/teacherOnStage/index.vue"),this.teacherVideoStatus&&this.onStageStatus},classTypeName:function(){return console.info("对象函数 classTypeName,filePath:renderer/SmallClass/components/LayerOnStage/teacherOnStage/index.vue"),2==this.classType?"small-class":"large-class"},windowStatusClassName:function(){return console.info("对象函数 windowStatusClassName,filePath:renderer/SmallClass/components/LayerOnStage/teacherOnStage/index.vue"),this.windowStatus}},mounted:function(){this.listenerEvent()},watch:{canCreateVideo:{handler:function(e){console.info("对象函数 handler(val)",e,"filePath:renderer/SmallClass/components/LayerOnStage/teacherOnStage/index.vue"),e?this.createTeacherVideo():this.removeTeacherVideo()},immediate:!0}},methods:{updateTeacherMsg:function(e){console.info("对象函数 updateTeacherMsg(msg)",e,"filePath:renderer/SmallClass/components/LayerOnStage/teacherOnStage/index.vue"),this.$store.dispatch("smallClass/updateTeacherMsg",e)},listenerEvent:function(){console.info("对象函数 listenerEvent,filePath:renderer/SmallClass/components/LayerOnStage/teacherOnStage/index.vue"),window.addEventListener("resize",H()(this.updateWindowPosition,500))},handlerMessage:function(e){var t=this;console.info("对象函数 handlerMessage(message)",e,"filePath:renderer/SmallClass/components/LayerOnStage/teacherOnStage/index.vue");var n=e.pub,s=e.originXRatio,a=e.originYRatio,i=e.WRatio,o=e.HRatio,r=e.teacherName;console.log(e,"messagemessage"),this.onStageStatus!=n&&this.updateTeacherMsg({onStageStatus:n}),n&&(this.originXRatio=s,this.originYRatio=a,this.WRatio=i,this.HRatio=o,this.teacherName=r,this.$nextTick((function(){t.updateWindowStatus(e.isMaximized?"maximize":"normal"),t.updateWindowPosition()})),F["a"].send({tag:"userTrack",content:{msg:"老师上台"}}))},updateWindowStatus:function(e){console.info("对象函数 updateWindowStatus(status)",e,"filePath:renderer/SmallClass/components/LayerOnStage/teacherOnStage/index.vue"),this.windowStatus=e},updateWindowPosition:function(){console.info("对象函数 updateWindowPosition,filePath:renderer/SmallClass/components/LayerOnStage/teacherOnStage/index.vue");var e=document.getElementById("stageLayer").getBoundingClientRect(),t=e.width,n=e.height;this.styleAttribute.left=t*this.originXRatio+"px",this.styleAttribute.top=n*this.originYRatio+"px",this.styleAttribute.width=t*this.WRatio+"px",this.styleAttribute.height=n*this.HRatio+"px"},createTeacherVideo:function(){var e=this;console.info("对象函数 createTeacherVideo,filePath:renderer/SmallClass/components/LayerOnStage/teacherOnStage/index.vue"),this.$nextTick((function(){e.thinkClass.RtcService.createTeacherVideo("teacherOnStageVideo")}))},removeTeacherVideo:function(){console.info("对象函数 removeTeacherVideo,filePath:renderer/SmallClass/components/LayerOnStage/teacherOnStage/index.vue"),this.$nextTick((function(){document.getElementById("teacherOnStageVideo")&&(document.getElementById("teacherOnStageVideo").innerHTML="")}))},receiveMessage:function(e){console.info("对象函数 receiveMessage(message)",e,"filePath:renderer/SmallClass/components/LayerOnStage/teacherOnStage/index.vue"),this.isPrivateChat=(null===e||void 0===e?void 0:e.privateChat)||!1,this.handlerMessage(e)},destroyInteraction:function(e){console.info("对象函数 destroyInteraction(message)",e,"filePath:renderer/SmallClass/components/LayerOnStage/teacherOnStage/index.vue"),this.receiveMessage(e),window.removeEventListener("resize",H()(this.updateWindowPosition,500)),this.removeTeacherVideo(),this.$emit("close","teacher_video_mic")}}},Uc=Fc,Wc=(n("e208"),Object(q["a"])(Uc,Nc,Vc,!1,null,"7e1c8db8",null)),Gc=Wc.exports,_c=function(){var e=this,t=e._self._c;return t("div",e._l(e.data,(function(s){return t("div",{key:s.userId,staticClass:"student-item",style:{left:e.pptratio.width*s.originXRatio+"px",top:e.pptratio.height*s.originYRatio+"px",width:e.pptratio.width*s.WRatio+"px",height:e.pptratio.height*s.HRatio+"px"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:1==s.cameraIsOpen,expression:"item.cameraIsOpen == 1"}],staticClass:"stu-video",attrs:{id:"mult-video-"+s.userId}}),2==s.cameraIsOpen?t("p",{staticClass:"stu-img"},[t("img",{attrs:{src:s.avatar,alt:""}})]):e._e(),4===e.msgType&&e.urlMap[s.addCoin]&&e.isShowCoins?t("lottie-player",{staticClass:"lottie-player",attrs:{autoplay:"",mode:"normal",src:e.urlMap[s.addCoin]}}):e._e(),s.isAuthorize?t("div",{staticClass:"authgraffiti-wrapper"}):e._e(),t("div",{staticClass:"bottom-bar"},[t("p",{staticClass:"stu-name word-ellipsis"},[e._v(" "+e._s(s.nickName)+" ")]),t("div",{staticClass:"microphone-wrapper"},[e.itemIsOpenMicrophone(s)?t("img",{attrs:{src:n("cd75")}}):t("img",{attrs:{src:n("5ae7")}})])]),s.level?t("div",{staticClass:"medal-wrapper"},[s.level>0?t("MedalIcon",{attrs:{type:"small",level:s.level}}):e._e()],1):e._e(),s.emoticonName?t("div",{staticClass:"emoji-wrapper"},[t("EmoticonMessage",{attrs:{willAutoClear:!0,name:s.emoticonName,type:s.emoticonType,userId:s.userId,width:70,height:70,emojiId:s.emojiId,lottieUrl:s.lottieUrl},on:{clearEmoticon:e.handleClearEmoticon}})],1):e._e()],1)})),0)},Hc=[],Qc=n("b85c"),Jc=(n("4ec9"),function(){var e=this,t=e._self._c;return t("div",[t("div",{class:[e.medalClass,e.levelClass]}),t("span",{staticClass:"text",class:e.smallLevelText},[e._v("Lv"+e._s(e.level))])])}),qc=[],Kc={props:{type:{type:String,default:"small"},level:{type:Number,default:0}},computed:{medalClass:function(){return console.info("对象函数 medalClass,filePath:renderer/components/Classroom/SmallClass/Common/MedalIcon/index.vue"),"medal-".concat(this.type)},levelClass:function(){return console.info("对象函数 levelClass,filePath:renderer/components/Classroom/SmallClass/Common/MedalIcon/index.vue"),"level-".concat(this.level)},smallLevelText:function(){return console.info("对象函数 smallLevelText,filePath:renderer/components/Classroom/SmallClass/Common/MedalIcon/index.vue"),"level-".concat(this.level)}},data:function(){return{}},mounted:function(){},methods:{}},$c=Kc,zc=(n("9b244"),Object(q["a"])($c,Jc,qc,!1,null,"0fdafc67",null)),Yc=zc.exports,Xc={components:{MedalIcon:Yc,EmoticonMessage:Hr["a"]},props:{options:{type:Object,default:function(){return{}}}},data:function(){return{stuId:this.options.stuInfo.id,urlMap:{5:"./lottiefiles/coins/coins-add-5/data.json",10:"./lottiefiles/coins/coins-add-10/data.json"},ircMsg:{},stuList:[],diffInfo:{},pptratio:{width:"",height:""},boundingClientRect:{},data:[],isShowCoins:!1,lastInteraction:"",highEncoderConfig:{width:320,height:240,bitrate:120,frameRate:10},lowEncoderConfig:{bitrate:80,frameRate:10,width:160,height:120},msgType:null}},watch:{stuList:{handler:function(e,t){var n=this;switch(console.log("0704 监听上下台消息"),this.options.isHistory&&this.upDownClass(e,t),this.msgType){case 2:case 3:case 6:if(this.options.isHistory)return;console.log("multVideoLink-mounted","wathc",this.ircMsg,this.options.isHistory),this.upDownClass(e,t),console.log("datas",this.data);break;case 4:var s=e.filter((function(e){return 0!==e.addCoin}));this.data.forEach((function(e){return e.addCoin=0})),s.forEach((function(e){n.data.forEach((function(t){e.userId===t.userId&&(t.addCoin=e.addCoin)})),e.userId==n.stuId&&n.$bus.$emit("updateAchievement","add",e.addCoin)})),this.isShowCoins=!0;var a=null;if(a)return;a=setTimeout((function(){n.isShowCoins=!1,clearTimeout(a),a=null}),4e3);break;case 5:this.dragVideoView(e,t),this.$forceUpdate();break;default:break}},deep:!0},data:{handler:function(e){console.log("multVideoLink-data",e);var t=[];e.forEach((function(e){t.push(e.userId)})),this.$store.dispatch("smallClass/updateVideoMicLinkUsers",t)}},cameraStatus:{handler:function(e){this.handleSwitchCameraStatus(e)},immediate:!0},microphoneStatus:{handler:function(e){this.listenUpdateMicrophoneStatus(e)},immediate:!0}},computed:{microphoneStatus:function(){return this.$store.state.smallClass.microphoneStatus},cameraStatus:function(){return this.$store.state.smallClass.cameraStatus},remoteAudioStatus:function(){return this.$store.state.smallClass.remoteAudioStatus},itemIsOpenMicrophone:function(){return function(e){return this.stuId==e.userId?this.microphoneStatus:1==e.micIsOpen}}},mounted:function(){var e=this;F["a"].send({tag:"userTrack",content:{msg:"小班-多人上台"}}),this.$bus.$emit("multVideoLinkStatus",{pub:!0,status:1}),this.$bus.$emit("raiseHandSendMessageToTeacher",{type:127}),this.$bus.$emit("raiseHandForMultVideoLink",!0),this.$nextTick((function(){e.getSize(),window.addEventListener("resize",H()(e.getSize,500))})),this.bindEvent()},beforeDestroy:function(){var e=this;this.setVideoEncoderConfiguration(!1),this.$bus.$emit("multVideoLinkStatus",{pub:!1}),this.$bus.$emit("raiseHandForMultVideoLink",!1),this.data.forEach((function(t){t.userId==e.stuId&&e.$bus.$emit("raiseHandDisabled",!1),e.$bus.$emit("multVideoLinkStatus",{pub:!0,status:3,stuId:t.userId}),e.offStageRecoverAudio(t.userId)})),this.upDownClass([],this.data),this.unbindEvent()},methods:{offStageRecoverAudio:function(e){this.remoteAudioStatus||this.thinkClass.RtcService.muteRemoteAudio(e,!0)},setVideoEncoderConfiguration:function(e){var t,n;n=e?this.highEncoderConfig:this.lowEncoderConfig,null===(t=this.thinkClass)||void 0===t||null===(t=t.RtcService)||void 0===t||t.setVideoEncoderConfiguration(n)},getUpDownStuObj:function(e,t){var n=new Map,s=[].concat(Object(_e["a"])(t),Object(_e["a"])(e));s.forEach((function(e){n.set(e.userId,e)}));var a=t.map((function(e){return e.userId}))||[],i=e.map((function(e){return e.userId}))||[],o=new Set(i),r=new Set(a),c=a.filter((function(e){return!o.has(e)})),l=i.filter((function(e){return!r.has(e)}));return{downstu:c,upstu:l,allList:n}},upDownClass:function(e,t){var n=this,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];console.log("upDownClass",e);var a=this.getUpDownStuObj(e,t);a.downstu.forEach((function(e){return a.allList.delete(e)})),a.downstu.forEach((function(e){var t=null;n.data.forEach((function(n,s){e==n.userId&&(t=s)})),null!=t&&n.data.splice(t,1)})),a.upstu.forEach((function(e){n.data.length<=4&&n.data.push(a.allList.get(e))})),this.data.forEach((function(e){n.stuId==e.userId&&(n.cameraStatus?e.cameraIsOpen=1:e.cameraIsOpen=2),n.$store.state.smallClass.studentList.forEach((function(t){t.stuId==e.userId&&(e.micIsOpen=t.microphoneStatus?1:2)}))})),e.forEach((function(e){n.data.map((function(t){return e.userId===t.userId&&(t.isAuthorize=e.isAuthorize,e.isAuthorize&&F["a"].send({tag:"userTrack",content:{msg:"小班-多人上台-授权涂鸦"}})),t}))})),this.$nextTick((function(){console.log("multVideoLink-upstu",a.upstu),console.log("multVideoLink-downstu",a.downstu),s||a.upstu.forEach((function(e){n.$bus.$emit("multVideoLinkStatus",{pub:!0,status:2,stuId:e}),n.updateStudentList(e,{multVideoLinkStatus:!0});var t,s="mult-video-".concat(e);e==n.stuId?(Se["k"](null===(t=n.ircMsg)||void 0===t?void 0:t.interactId,!0),n.setVideoEncoderConfiguration(!0),n.$bus.$emit("raiseHandDisabled",!0),n.setupLocalVideo(s),n.microphoneStatus||n.$bus.$emit("openMicrophone"),n.$store.dispatch("smallClass/updateSelfVideoMicLink",!0)):setTimeout((function(){n.setupRemoteVideo(e,s),n.muteRemoteAudio(e,!1)}),100)})),a.downstu.forEach((function(e){var t,s,a;e==n.stuId&&(n.setVideoEncoderConfiguration(!1),n.$bus.$emit("raiseHandDisabled",!1),n.$store.dispatch("smallClass/updateSelfVideoMicLink",!1),n.lastInteraction!=(null===(t=n.ircMsg)||void 0===t?void 0:t.interactId)&&(Se["k"](null===(s=n.ircMsg)||void 0===s?void 0:s.interactId,!1),n.lastInteraction=null===(a=n.ircMsg)||void 0===a?void 0:a.interactId));n.destroyRemoteVideo(e),n.$bus.$emit("multVideoLinkStatus",{pub:!0,status:3,stuId:e}),n.offStageRecoverAudio(e),n.updateStudentList(e,{multVideoLinkStatus:!1})}))}))},receiveMessage:function(e){console.log("multVideoLink-receiveMessage",e),this.msgType=e.status,this.stuList=e.data||[],this.$bus.$emit("setIsAuthorizedStatus",e)},dragVideoView:function(e){var t=this;return e.forEach((function(e){console.log("multVideoLink-dragVideoView",e,t.data),t.data.forEach((function(n,s){n.userId==e.userId&&(t.data[s].originYRatio=e.originYRatio,t.data[s].originXRatio=e.originXRatio)}))})),e},updateStudentVal:function(e,t,n){var s=this;this.data.forEach((function(a){a.userId==e&&(a[t]=n,s.$forceUpdate())}))},strMapToObj:function(e){var t,n=Object.create(null),s=Object(Qc["a"])(e);try{for(s.s();!(t=s.n()).done;){var a=Object(xo["a"])(t.value,2),i=a[0],o=a[1];n[i]=o}}catch(r){s.e(r)}finally{s.f()}return n},getSize:function(){this.boundingClientRectController=document.getElementById("stageLayer").getBoundingClientRect(),this.pptratio.width=this.boundingClientRectController.width,this.pptratio.height=this.boundingClientRectController.height},setupLocalVideo:function(e){this.thinkClass.RtcService.createLocalVideo(e)},destroyRemoteVideo:function(e){console.log("0704 销毁远端视频视图"),this.thinkClass.RtcService.destroyRemoteVideo(e)},setupRemoteVideo:function(e,t){this.thinkClass.RtcService.createRemoteVideo(e,t)},muteRemoteAudio:function(e,t){this.thinkClass.RtcService.muteRemoteAudio(e,t)},bindEvent:function(){this.thinkClass.RtcService.on("remoteVideoStateChanged",this.listenRemoteVideoStateChanged),this.thinkClass.RtcService.on("remoteAudioStateChanged",this.listenRemoteAudioStateChanged),this.thinkClass.RtcService.on("groupAudioVolumeIndication",this.listenGroupAudioVolumeIndication),this.$bus.$on("sendEmoji",this.listenLocalEmoticonMessage),this.thinkClass.SignalService.on("onRecvRoomMessage",this.listenOnRecvRoomMessage)},unbindEvent:function(){this.thinkClass.RtcService.off("remoteVideoStateChanged",this.listenRemoteVideoStateChanged),this.thinkClass.RtcService.off("remoteAudioStateChanged",this.listenRemoteAudioStateChanged),this.thinkClass.RtcService.off("groupAudioVolumeIndication",this.listenGroupAudioVolumeIndication),this.$bus.$off("sendEmoji",this.listenLocalEmoticonMessage),this.thinkClass.SignalService.off("onRecvRoomMessage",this.listenOnRecvRoomMessage)},listenRemoteVideoStateChanged:function(e,t,n){var s=this;console.log("multVideoLink-remoteVideoStateChanged-1",e,t,n),this.data.forEach((function(a){e==a.userId&&(2==t&&(document.getElementById("mult-video-".concat(e))&&!document.getElementById("mult-video-".concat(e)).innerHTML&&setTimeout((function(){s.setupRemoteVideo(e,"mult-video-".concat(e))}),150),a.cameraIsOpen=1),a.cameraIsOpen=3==n||5==n||7==n?2:1)}))},listenRemoteAudioStateChanged:function(e,t,n){5===n&&this.updateStudentVal(e,"micIsOpen",2),6!==n&&2!==t||this.updateStudentVal(e,"micIsOpen",1)},listenGroupAudioVolumeIndication:function(e){var t=this;e.forEach((function(e){t.updateStudentVal(0==e.uid?t.stuId:e.uid,"volume",e.volume)}))},listenUpdateMicrophoneStatus:function(e){this.$bus.$emit("raiseHandSendMessageToTeacher",{type:127}),this.updateStudentVal(this.stuId,"micIsOpen",e?1:2)},listenUpdateCameraStatus:function(e){this.handleSwitchCameraStatus(e),this.$bus.$emit("raiseHandSendMessageToTeacher",{type:127})},listenLocalEmoticonMessage:function(e){this.handleEmoticon(this.stuId,e)},listenOnRecvRoomMessage:function(e){var t=e.content,n=e.fromUserInfo;console.log(t);var s=t.ircType,a=t.data,i={name:null===a||void 0===a?void 0:a.name,type:null===a||void 0===a?void 0:a.type};"send_emoji"==s?this.handleEmoticon(n.psId,i):"animation_emoji"==s&&this.handleEmoticon(n.psId,Object(y["a"])(Object(y["a"])({},i),a.resource))},handleEmoticon:function(e,t){var n={emoticonName:t.name,emoticonType:t.type,lottieUrl:t.lottieUrl,emojiId:t.emojiId};this.patchDealEmoji(e,n)},patchDealEmoji:function(e,t){for(var n in t)this.updateStudentVal(e,n,t[n])},handleClearEmoticon:function(e){var t={emoticonName:"",emoticonType:1,lottieUrl:"",emojiId:""};this.patchDealEmoji(e,t)},destroyInteraction:function(e){this.$bus.$emit("setIsAuthorizedStatus",e),console.log("0704 销毁互动-------多人上台1",e,this.data),this.upDownClass(e.data,this.data,!0),this.$emit("close","mult_video_mic")},handleSwitchCameraStatus:function(e){var t=this;this.data.forEach((function(n){t.stuId==n.userId&&(n.cameraIsOpen=e?1:2)}))},updateStudentList:function(e,t){this.$store.dispatch("smallClass/updateStudentList",{uid:e,data:t})}}},Zc=Xc,el=(n("65432"),Object(q["a"])(Zc,_c,Hc,!1,null,"502df418",null)),tl=el.exports,nl=Object(v["c"])({name:"OnStageLayer",components:{TeacherOnStage:Gc,StudentOnStage:tl},setup:function(){var e=Object(v["d"])(),t=e.proxy,n=Object(v["i"])([{name:"TeacherOnStage",componentName:"TeacherOnStage",layout:"full",isShow:!1,keys:["teacher_video_mic","graffiti_board_video"],options:Object(y["a"])(Object(y["a"])({},t.$store.state.smallClass.baseData),{},{ircMsg:"",isHistory:!1})},{name:"StudentOnStage",componentName:"StudentOnStage",layout:"full",isShow:!1,keys:["mult_video_mic"],options:Object(y["a"])(Object(y["a"])({},t.$store.state.smallClass.baseData),{},{ircMsg:"",isHistory:!1})}]);Object(v["g"])((function(){t.$bus.$on("onStage",(function(e){var n=e.key,i=e.noticeContent,o=e.isHistory,r=e.sendTime,c=i.pub,l=i.open,u=i.publishTopic,d=a(n);if(c||l||u)t.$store.dispatch("smallClass/updateInteractionStatus",{interactionName:n,interactionStatus:!0}),d.isShow=!0,d.options.ircMsg=i,d.options.isHistory=o,d.options["sendTime"]=r,d.isShow&&d.id!==i.interactId?(d.isShow=!1,d.id=i.interactId,Object(v["e"])((function(){s(d,e)}))):s(d,e);else if(!1===c||!1===l||0===c||0===l||!1===u){var h,m;if(t.$store.dispatch("smallClass/updateInteractionStatus",{interactionName:n,interactionStatus:!1}),t.$refs[d.name]&&null!==(h=t.$refs[d.name][0])&&void 0!==h&&h.destroyInteraction)return void(null===(m=t.$refs[d.name][0])||void 0===m||m.destroyInteraction(i));d.isShow=!1}}))}));var s=function(e,n){e.isShow=!0,e.options.ircMsg=n.noticeContent,e.options.isHistory=n.isHistory,Object(v["e"])((function(){t.$refs[e.name]&&t.$refs[e.name][0].receiveMessage&&t.$refs[e.name][0].receiveMessage(n.noticeContent)}))};function a(e){var t=n.find((function(t){return t.keys.includes(e)}));return t}function i(e){var t=a(e);t.isShow=!1}return Object(v["f"])((function(){t.$bus.$off("onStage")})),{interactions:n,interactionClose:i}}}),sl=nl,al=Object(q["a"])(sl,Ec,Dc,!1,null,null,null),il=al.exports,ol=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"white-board-wrapper"}},[t("white-board-canvas",{ref:"WhiteBoard"}),t("white-board-tools",{ref:"WhiteBoardTools"}),e.isAuthorized?t("div",{staticClass:"authorize-pen"},e._l(e.penTools,(function(n){return t("img",{key:n.key,staticClass:"eraser",class:"".concat(n.key," ").concat(e.selectedKey===n.key?"select-item":""),attrs:{src:n.icon},on:{click:function(t){return e.selectTool(n.key)}}})})),0):e._e()],1)},rl=[],cl=n("068a"),ll={},ul={name:"CoursewareWhiteBoard",components:{WhiteBoardCanvas:Qe.a.WhiteBoardCanvas,WhiteBoardTools:qe.a},data:function(){return{baseData:this.$store.state.smallClass.baseData,pageId:0,useInfo:window.localStorage.getItem("userInfo"),isBanned:!1,currentThickness:4,currentLineDashed:!1,eraserSize:50,isAuthorized:!1,selectedKey:"red-pen",containerWidth:0,containerHeight:0,isInit:!1,penTools:[{key:"yellow-pen",icon:n("ba84c")},{key:"red-pen",icon:n("645f")},{key:"eraser",icon:n("5f36")}],historyList:[],currentDbKey:[],canvasScale:2}},watch:{isAuthorized:{handler:function(e){this.sendLogger("授权涂鸦 ".concat(e)),e?(this.$refs.WhiteBoardTools.setWBToolsStatus(!1,!0),this.selectTool("yellow-pen")):this.$refs.WhiteBoardTools.setWBToolsStatus(!1)}}},mounted:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return window.addEventListener("resize",e.setBoardAdaptation),e.setBoardAdaptation(),e.listenerSignalService(),null===(n=e.$refs.WhiteBoardTools)||void 0===n||n.handleMenuEnable(!1),t.next=6,Object(ze["a"])();case 6:e.canvasScale=t.sent,e.initBoard();case 8:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){this.removeListenerSignalService(),this.$refs.WhiteBoard&&this.$refs.WhiteBoard.uninit()},methods:{initBoard:function(){var e=this,t=document.getElementById("white-board-wrapper"),n=t.offsetWidth,s=t.offsetHeight;this.isInit=!0;var a={canvas:{penType:"Bspline",strokeType:"none",scale:this.canvasScale,pageChangeReport:!1,sendRoomCanvasMessage:this.sendRoomCanvasMessage.bind(this),getHistoryMessage:this.getHistoryMessage.bind(this),enableKeyboardDelete:!0,enableFittingShape:!1},common:{liveId:String(this.baseData.planInfo.id),role:"student",dataVersion:"1",courseId:"",userId:this.baseData.stuInfo.id+"",userName:this.baseData.stuInfo.nickName,screenWidth:n,screenHeight:s,roomIds:[this.baseData.commonOption.roomlist[0]],fastFrequency:2e3,slowFrequency:3e3,serverTimestamp:+new Date+this.baseData.commonOption.timeOffset},accessControl:{showMenu:!1,mode:"itsAndCanvas",isBanned:this.isBanned,enableHistoryMessage:!0,showCursor:!0,enableRetrySend:!0,enableLogSend:!1,enableFittingShape:!1}};if(this.sendLogger("小班涂鸦初始化参数params: ".concat(JSON.stringify(a))),this.$refs.WhiteBoard){this.$refs.WhiteBoard.uninit(),this.$refs.WhiteBoard.init(a),this.$refs.WhiteBoard.handleMouse("default");var i=this.$refs.WhiteBoard.getMainBoardHandWritting(),o=this.$refs.WhiteBoard.getPluginManager(),r=this.$refs.WhiteBoard;this.$refs.WhiteBoardTools.init(r,i,o);var c=[11,12,13,14,15,1e3];c.forEach((function(t){1e3===t?o.registerEvent("WhiteboardResize",t,e.toolsMessageHandler("WhiteboardResize",t)):o.registerEvent("ReceiveBinaryData",t,e.toolsMessageHandler("ReceiveBinaryData",t))})),this.$refs.WhiteBoardTools.setWBToolsStatus(!1)}},toolsMessageHandler:function(e,t){var n=this;return function(s){n.$refs.WhiteBoardTools.receiveBinaryData(e,t,n.pageId,s)}},initCatalogueInfo:function(e){var t=[{index:0,isHide:0,pageId:this.pageId,title:"标题",type:"course"}];try{var n="".concat(this.useInfo?JSON.parse(this.useInfo).uid:"","_").concat(e);this.$refs.WhiteBoard.handleCatalogueChange(t),this.$refs.WhiteBoard.handleResetImComingDbkey(n),this.$refs.WhiteBoard.handlePageChange(String(this.pageId)),this.$refs.WhiteBoardTools.handlePageChange(String(this.pageId))}catch(s){console.error("initCatalogueInfo JSON.parse异常捕获",s)}},sendRoomCanvasMessage:function(e,t){this.thinkClass.SignalService.sendRoomBinMessage([this.baseData.commonOption.roomlist[0]],t.dbKey,t.keyMsgId,t.content),this.sendLogger("sendRoomCanvasMessage: ".concat(t.keyMsgId," ").concat(t.dbKey))},getHistoryMessage:function(e){var t=this;return Object(O["a"])(Object(x["a"])().mark((function n(){var s,a,i,o,r,c;return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=e["info"][0].dbKey,a=s.split("_").splice(1).join("_"),i=[],i.push(Object($e["a"])({dbkey:a,appId:t.baseData.configs.ircAk,sk:t.baseData.configs.ircSk,businessId:3,liveId:t.baseData.planInfo.id,ircApiHost:t.baseData.configs.ircApiHost})),n.next=6,t.fetchIsAuthorizedUserInfo({planId:Number(t.baseData.planInfo.id)});case 6:o=n.sent,t.$store.dispatch("smallClass/updateIsAuthorizedUserList",o),r=t.$store.state.smallClass.isAuthorizedUserList,c=r.find((function(e){return e.pageKey===a})),c&&c.userIdList&&c.userIdList.forEach((function(e){var n="".concat(e,"_").concat(a);i.push(Object($e["a"])({dbkey:n,appId:t.baseData.configs.ircAk,sk:t.baseData.configs.ircSk,businessId:3,liveId:t.baseData.planInfo.id,ircApiHost:t.baseData.configs.ircApiHost}))})),Promise.all(i).then((function(e){var n=e.flat();try{t.$refs.WhiteBoard&&t.$refs.WhiteBoard.handleRecoverHistoryMessage([{content:n}])}catch(s){console.error("handleRecoverHistoryMessage",s)}})).catch((function(e){console.error("获取历史涂鸦失败",e)}));case 12:case"end":return n.stop()}}),n)})))()},handleRoomCanvasMessage:function(e){var t=Object(cl["b"])(Object(cl["a"])(e.content)),n="".concat(t.pageId,"_").concat(t.msgId,"_").concat(t.dataCreateTimestamp);ll[n]||(ll[n]=1,this.$refs.WhiteBoard&&this.$refs.WhiteBoard.handleRoomCanvasMessage(e))},onSendRoomBinMessageResp:function(e){0===e.code?this.$refs.WhiteBoard&&this.$refs.WhiteBoard.handleSendMessageSuccess(e.dbKey,e.keyMsgId):(this.sendLogger("发送涂鸦消息回调: ".concat(e)),this.$refs.WhiteBoard&&this.$refs.WhiteBoard.handleSendMessageError(e.code,e.msg,e.dbKey,e.keyMsgId))},onGetRoomHistoryBinMessageNotice:function(e){var t=this;this.sendLogger("处理拉取到的涂鸦历史消息");var n=this.$store.state.smallClass.isAuthorizedUserList,s=n.find((function(e){return e.pageKey===t.currentDbKey}));if(s&&s.userIdList){if(this.historyList.push(e),this.historyList.length===s.userIdList.length+1){var a=this.historyList.flat();a.sort((function(e,t){return e.msgId-t.msgId})),a.forEach((function(e,t){a[t].content=Uint8Array.from(e.content)}));try{this.$refs.WhiteBoard&&this.$refs.WhiteBoard.handleRecoverHistoryMessage([{content:a}])}catch(o){this.sendLogger("涂鸦sdk报错 ".concat(o),"error")}this.historyList=[]}}else{var i=e;if(Array.isArray(i)){i.forEach((function(e,t){i[t].content=Uint8Array.from(e.content)}));try{this.$refs.WhiteBoard&&this.$refs.WhiteBoard.handleRecoverHistoryMessage([{content:i}])}catch(o){console.error("涂鸦sdk报错",o)}}else console.error("涂鸦历史消息格式错误")}},fetchIsAuthorizedUserInfo:function(e){return Object(O["a"])(Object(x["a"])().mark((function t(){var n;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ya["e"])(e);case 3:return n=t.sent,t.abrupt("return",0===n.code?n.data.pageKeyList:[]);case 7:return t.prev=7,t.t0=t["catch"](0),console.error("获取授权学员列表报错",t.t0),t.abrupt("return",[]);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},changePageId:function(e,t){this.pageId=e;var n=t.specificLiveKey,s=t.courseWareId,a=t.pageId;if(n&&s&&a){var i="".concat(n,"_").concat(s,"_").concat(a);this.initCatalogueInfo(i)}else console.error("课件信息错误",t)},setIsAuthorizedStatus:function(e){console.log("授权涂鸦",e);try{var t=this.useInfo?JSON.parse(this.useInfo).uid:"",n=e.data.find((function(e){return e.userId===t}));n&&1===n.isAuthorize?this.isAuthorized=!0:(this.isAuthorized=!1,this.$refs.WhiteBoard.handleMouse("default"))}catch(s){this.sendLogger("JSON.parse异常捕获: ".concat(s),"error")}},setBoardAdaptation:H()((function(){var e=document.getElementById("white-board-wrapper");this.isInit&&this.$refs.WhiteBoard&&this.$refs.WhiteBoard.handleResizeCanvas(e.offsetWidth,e.offsetHeight,!0)}),300),selectTool:function(e){this.selectedKey=e,"yellow-pen"===e||"red-pen"===e?this.$refs.WhiteBoard?(this.$refs.WhiteBoard.setPenStyle({color:"yellow-pen"===e?"#FFD82D":"#FF503F",thickness:this.currentThickness,lineDashed:this.currentLineDashed}),this.$refs.WhiteBoard.handlePen(),this.sendLogger("授权涂鸦选择画笔 ".concat(e))):this.sendLogger("授权涂鸦选择画笔失败，未获得涂鸦元素WhiteBoard"):this.$refs.WhiteBoard?(this.$refs.WhiteBoard.setEraserStyle(this.eraserSize),this.$refs.WhiteBoard.handleEraser(),this.sendLogger("授权涂鸦选择橡皮，大小".concat(this.eraserSize))):this.sendLogger("授权涂鸦选择橡皮失败，未获得涂鸦元素WhiteBoard")},listenerSignalService:function(){var e=this;this.thinkClass.SignalService.on("onRecvRoomBinMessageNotice",this.handleRoomCanvasMessage),this.thinkClass.SignalService.on("onSendRoomBinMessageResp",this.onSendRoomBinMessageResp),this.thinkClass.SignalService.on("onGetRoomHistoryBinMessageNotice",this.onGetRoomHistoryBinMessageNotice),this.$bus.$on("changePageId",(function(t,n){e.changePageId(t,n)})),this.$bus.$on("setIsAuthorizedStatus",(function(t){e.setIsAuthorizedStatus(t)}))},removeListenerSignalService:function(){this.thinkClass.SignalService.off("onRecvRoomBinMessageNotice",this.handleRoomCanvasMessage),this.thinkClass.SignalService.off("onSendRoomBinMessageResp",this.onSendRoomBinMessageResp),this.thinkClass.SignalService.off("onGetRoomHistoryBinMessageNotice",this.onGetRoomHistoryBinMessageNotice),this.$bus.$off("changePageId"),this.$bus.$off("setIsAuthorizedStatus")},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";F["a"].send({tag:"smallClass-griffiti",content:{msg:e},level:t})}}},dl=ul,hl=(n("0ffa"),Object(q["a"])(dl,ol,rl,!1,null,"43736849",null)),ml=hl.exports,fl=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{staticClass:"header"},[t("div",{staticClass:"wrapper",attrs:{"data-log":"header"}},[t("div",{staticClass:"drag-bar",class:e.platform}),t("div",{staticClass:"title",staticStyle:{color:"#fff"}},[e.baseData.planInfo.name?t("span",{staticClass:"plan-name"},[e._v(" "+e._s(e.baseData.planInfo.name)+" ")]):e._e()]),t("div",{staticClass:"operation-wrapper"},[t("div",{staticClass:"operation-buttons"},[t("div",{staticClass:"item"},[t("div",{staticClass:"button button-exit",attrs:{"data-log":"课中退出按钮"},on:{click:e.handleExit}})])])])])]),t("WholeOnStageContainer")],1)},pl=[],gl=function(){var e=this,t=e._self._c;return t("div",{staticClass:"whole-on-satge-container"},[t("div",{staticClass:"whole-on-satge"},[t("div",{staticClass:"left-module"},[t("TeacherModule",{attrs:{videoGroup:e.videoGroup}}),t("ChatBox",{ref:"chatbox",staticClass:"chat-box",attrs:{showHeader:!1,isWholeOnsatge:!0}})],1),t("div",{staticClass:"right-module"},[t("div",{staticClass:"student-video"},[t("StudentModule",{attrs:{videoGroup:e.videoGroup}})],1),t("div",{staticClass:"operator-zone"},[t("OperatorModule")],1)])]),t("NetworkError")],1)},vl=[],Cl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.info("函数申明 _default(options)",t,"filePath:renderer/components/Classroom/SmallClass/Live/LiveComponents/videoGroup.js"),Object(P["a"])(this,e),this.options=t}return Object(j["a"])(e,[{key:"sendRtcStatus",value:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(){var t,n,s,a,i,o=arguments;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},n=-1,e.next=4,Object(jt["c"])();case 4:return s=e.sent,e.next=7,Object(jt["f"])();case 7:if(a=e.sent,s&&(n=1),a&&(n=2),s&&a&&(n=3),-1!=n){e.next=13;break}return e.abrupt("return");case 13:return i={planId:this.options.planId,classId:this.options.classId,status:n,micPermission:a?1:2,cameraPermission:s?1:2,micIsOpen:a?1:2,cameraIsOpen:s?1:2},void 0!==t.micIsOpen&&(i["micIsOpen"]=t.micIsOpen?1:2),void 0!==t.displayVideo&&(i["cameraIsOpen"]=t.displayVideo?1:2),e.next=18,Object(ya["t"])(i);case 18:case"end":return e.stop()}}),e,this)})));function t(){return console.info("函数申明 sendRtcStatus, filePath:renderer/components/Classroom/SmallClass/Live/LiveComponents/videoGroup.js"),e.apply(this,arguments)}return t}()},{key:"queryClassStudentList",value:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(){var t,n;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(ya["l"])({planId:this.options.planId,classId:this.options.classId});case 2:if(t=e.sent,t&&0==t.code){e.next=5;break}return e.abrupt("return",[]);case 5:return n=t.data||[],e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));function t(){return console.info("函数申明 queryClassStudentList, filePath:renderer/components/Classroom/SmallClass/Live/LiveComponents/videoGroup.js"),e.apply(this,arguments)}return t}()},{key:"hasUserIdByStudentList",value:function(e,t){var n=!1;return e.forEach((function(e){e.stuId!=t&&e.userId!=t||(n=!0)})),n}},{key:"sendLogger",value:function(e){F["a"].send({tag:"videoGroup",content:{msg:e}})}}]),e}(),bl=function(){var e=this,t=e._self._c;return t("TeacherVideo",{attrs:{videoGroup:e.videoGroup,isAllOnStage:!0}})},Al=[],Sl=function(){var e=this,t=e._self._c;return t("div",{class:e.isAllOnStage?"isAllOnStage":"teacher-video-wrapper"},[t("div",{staticClass:"teacher-video-container"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showTeacherVideo,expression:"showTeacherVideo"}],attrs:{id:"teacherVideoContainer"}})]),t("div",{staticClass:"video-info-wrapper"},[e.teacherOnPrivateChatStatus?t("div",{staticClass:"help-other"},[t("div",{staticClass:"name"},[t("i"),e._v(e._s(e.$t("common.helpOthers")))])]):t("div",{staticClass:"video-info-container"},[t("div",{staticClass:"name"},[e._v(e._s(e.teacherName))]),e.teacherJoinChannelStatus?t("div",{staticClass:"microphone-wrapper"},[t("AudioWaves",{attrs:{microphoneStatus:e.teacherMicrophoneStatus,microphoneStyle:"bottleGreen",microphoneHeight:"13",volumeValue:e.volume}})],1):e._e()])]),e.teacherOnStageStatus?t("div",{staticClass:"teacher-on-stage"},[t("div",{staticClass:"stage-tips"},[e._v(e._s(e.$t("common.onStage")))])]):e._e()])},wl=[],yl=n("08fd"),kl={name:"TeacherVideo",components:{AudioWaves:yl["a"]},props:{videoGroup:{type:Object,default:null},isAllOnStage:{type:Boolean,default:!1}},data:function(){var e=this.$store.state.smallClass.baseData,t=e.teacherInfo,n=t.name,s=t.avatar;return{baseData:e,teacherName:n,teacherAvatar:s,volume:0,teacherMicrophoneStatus:!1,teacherVideoStatus:!1,teacherOnStageStatus:!1,teacherOnPrivateChatStatus:!1,rtcEventMap:{teacherVideoStart:this.teacherJoinhandle,teacherAudioStart:this.teacherAudioOpen,teacherVideoMute:this.teacherVideoMute,teacherAudioMute:this.teacherAudioMute,teacherVideoLeaveChannel:this.teacherVideoLeave,teacherAudioVolume:this.teacherAudioVolume}}},computed:{teacherJoinChannelStatus:function(){return!0===this.$store.state.smallClass.teacherJoinChannelStatus},showTeacherVideo:function(){return this.teacherJoinChannelStatus&&this.teacherVideoStatus}},mounted:function(){var e=this.$store.state.smallClass.allStageDone;if(e){var t=this.$store.state.smallClass.teacherInfo;if(t.videoStatus){var n=this.thinkClass.RtcService;document.getElementById("teacherVideoContainer").innerHTML="",n.createRemoteVideo(t.uid,"teacherVideoContainer"),this.teacherVideoStatus=!0}}this.listenerEvent(),this.listenerRtcService()},methods:{teacherJoinhandle:function(e){this.teacherOnStageStatus||(this.$store.dispatch("smallClass/updateTeacherInfo",{uid:e,videoStatus:!0}),document.getElementById("updateTeacherInfo")&&(document.getElementById("updateTeacherInfo").innerHTML=""),this.thinkClass.RtcService.createTeacherVideo("teacherVideoContainer"),this.teacherVideoStatus=!0,this.videoGroup.sendLogger("老师视频正常播放, uid: ".concat(e)))},teacherAudioOpen:function(){this.teacherMicrophoneStatus=!0},teacherVideoMute:function(e){this.teacherVideoStatus=!e,this.$store.dispatch("smallClass/updateTeacherVideoStatus",!e),this.videoGroup.sendLogger("老师".concat(e?"关闭":"开启","视频"))},teacherAudioMute:function(e){this.teacherMicrophoneStatus=!e,this.videoGroup.sendLogger("老师".concat(e?"关闭":"开启","音频"))},teacherVideoLeave:function(e){this.teacherOnStageStatus||(this.$store.dispatch("smallClass/updateTeacherInfo",{uid:"",videoStatus:!1}),this.thinkClass.RtcService.destroyTeacherVideo(),this.videoGroup.sendLogger("老师视频端离开频道, uid: ".concat(e)))},teacherAudioVolume:function(e){this.volume=e},listenerEvent:function(){this.$bus.$on("teacherOnStageStatus",this.handleTeacherOnStage),this.$bus.$on("teacherOnPrivateChat",this.handleTeacherOnPrivateChat)},removeListenerEvent:function(){this.$bus.$off("teacherOnStageStatus",this.handleTeacherOnStage),this.$bus.$off("teacherOnPrivateChat",this.handleTeacherOnPrivateChat)},listenerRtcService:function(){var e=this.thinkClass.RtcService;for(var t in this.rtcEventMap)e.on(t,this.rtcEventMap[t])},removeRtcService:function(){var e=this.thinkClass.RtcService;for(var t in this.rtcEventMap)e.off(t,this.rtcEventMap[t])},handleTeacherOnStage:function(e){this.teacherOnStageStatus=e,this.$store.dispatch("smallClass/updateTeacherOnStageStatus",e),e?(this.thinkClass.RtcService.destroyTeacherVideo(),this.teacherVideoStatus=!1):(this.thinkClass.RtcService.createTeacherVideo("teacherVideoContainer"),this.teacherVideoStatus=!0)},handleTeacherOnPrivateChat:function(e){this.teacherOnPrivateChatStatus=e.pub}},beforeDestroy:function(){this.removeListenerEvent(),this.removeRtcService()}},Il=kl,xl=(n("e01f"),Object(q["a"])(Il,Sl,wl,!1,null,"736a6cff",null)),Ol=xl.exports,Pl={name:"TeacherModule",components:{TeacherVideo:Ol},props:{videoGroup:{type:Object,default:null}}},jl=Pl,Tl=Object(q["a"])(jl,bl,Al,!1,null,null,null),Bl=Tl.exports,Ll=function(){var e=this,t=e._self._c;return t("div",{staticClass:"student-video-wrapper"},[t("section",{staticClass:"video-inner"},[t("LocalVideo",{ref:"LocalVideo",attrs:{isAllOnStage:!0,videoGroup:e.videoGroup}}),e._l(e.remoteStudentList,(function(n){return[n.inClass?t("RemoteVideo",{key:n.stuId,attrs:{remoteStuInfo:n,isChild:n.stuId==e.baseData.commonOption.stuId,hideRemoteVideo:e.hideRemoteVideo,remoteAudioStatus:e.remoteAudioStatus,isAllOnStage:!0},on:{handleRemoteVideoStatus:e.handleRemoteVideoStatus,clearEmoticon:e.handleClearEmoticon,raiseHandUpdateStatus:e.handleRaiseHandUpdateStatus}}):e._e()]}))],2),t("StudentAudio",{attrs:{videoGroup:e.videoGroup}})],1)},Ml=[],Rl=function(){var e=this,t=e._self._c;return t("div",{staticClass:"video-item video-local",class:{"mult-video-link":e.selfInfo.multVideoLinkStatus,"allOnStage-item":e.isAllOnStage,"three-line-status":e.studentList.length<=9,"four-line-status":e.studentList.length>9}},[t("div",{staticClass:"group-wrapper local-wrapper"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.selfInfo.displayVideo&&!e.wallRandomCallStatus&&this.cameraStatus,expression:"selfInfo.displayVideo && !wallRandomCallStatus && this.cameraStatus"}],staticClass:"video-wrapper",attrs:{id:"video-group-local"}}),e.selfInfo.displayVideo&&!e.wallRandomCallStatus&&this.cameraStatus?e._e():t("div",{staticClass:"avatar-wrapper"},[t("img",{attrs:{src:e.selfInfo.avatar}})])]),e.selfInfo.level?t("div",{staticClass:"medal-wrapper"},[e.selfInfo.level>0?t("MedalIcon",{attrs:{type:"small",level:e.selfInfo.level}}):e._e()],1):e._e(),e.selfInfo.raiseHandStatus?t("div",{staticClass:"raise-hand-wrapper"},[t("RaiseHandMessage",{attrs:{status:e.selfInfo.raiseHandStatus},on:{updateStatus:e.handleRaiseHandUpdateStatus}})],1):e._e(),e.selfInfo.emoticonName?t("div",{staticClass:"emoji-wrapper"},[t("EmoticonMessage",{attrs:{willAutoClear:!0,name:e.selfInfo.emoticonName,type:e.selfInfo.emoticonType,emojiId:e.selfInfo.emojiId,width:e.isAllOnStage||2==e.selfInfo.emoticonType||3==e.selfInfo.emoticonType?70:50,height:e.isAllOnStage||2==e.selfInfo.emoticonType||3==e.selfInfo.emoticonType?70:50,lottieUrl:e.selfInfo.lottieUrl},on:{clearEmoticon:e.handleClearEmoticon}})],1):e._e(),t("div",{staticClass:"video-info-wrapper local-info-wrapper"},[t("div",{staticClass:"video-info-container"},[t("div",{staticClass:"name"},[e._v(e._s(e.$t("common.me"))+" ("+e._s(e.selfInfo.stuName)+")")]),t("div",{staticClass:"microphone-wrapper"},[t("AudioWaves",{attrs:{microphoneStatus:e.microphoneStatus,microphoneStyle:"bottleGreen",microphoneHeight:"13",volumeValue:e.selfInfo.volume}})],1)])])])},El=[],Dl=function(){var e=this,t=e._self._c;return e.status?t("div",{staticClass:"icon-raise-hand"}):e._e()},Nl=[],Vl={props:{status:{type:Boolean,default:!1},userId:{type:String,default:""},duration:{type:Number,default:10}},computed:{},data:function(){return{timer:null}},watch:{status:{immediate:!0,handler:function(e){var t=this;console.info("对象函数 handler(newVal)",e,"filePath:renderer/components/Classroom/SmallClass/Common/RaiseHandMessage/index.vue"),e&&(this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.$emit("updateStatus",!1,t.userId)}),1e3*this.duration))}}},mounted:function(){}},Fl=Vl,Ul=(n("bd31"),Object(q["a"])(Fl,Dl,Nl,!1,null,"19ac73b3",null)),Wl=Ul.exports,Gl={components:{AudioWaves:yl["a"],MedalIcon:Yc,RaiseHandMessage:Wl,EmoticonMessage:Hr["a"]},props:{videoGroup:{type:Object,default:null},hideVideoIcon:{type:Boolean,default:!1},isAllOnStage:{type:Boolean,default:!1}},computed:Object(y["a"])(Object(y["a"])({},Object(Dt["mapState"])("smallClass",["isAllOnStageStatus","cameraStatus","microphoneStatus","studentList","baseData","wallRandomCallStatus","updateLocalJoinStatus"])),{},{stuId:function(){return this.baseData.stuInfo.id},selfInfo:function(){var e=this;return this.studentList.find((function(t){return t.userId==e.stuId}))}}),mounted:function(){this.listenerRtcService(),this.listenerEvent()},methods:{localJoinHandle:function(){this.setupLocalVideo(),this.$bus.$emit("closeStudentAudio"),this.videoGroup.sendLogger("本地加入频道成功")},localVolume:function(e){this.volume=e},updateCamera:function(e){this.videoGroup.sendRtcStatus({displayVideo:e,micIsOpen:this.microphoneStatus}),this.selfInfo.multVideoLinkStatus||this.handleLocalVideoStatus(e)},localDisplayVideoStatus:function(e){e&&e(this.cameraStatus)},localMicrophoneStatus:function(e){e&&e(this.microphoneStatus)},levelChange:function(e){this.updateStudentList(this.stuId,{level:e.level})},multVideoLinkChange:function(e){var t=e.status,n=e.stuId;if(n){var s=n==this.stuId;s&&(2==t?this.updateStudentList(this.stuId,{multVideoLinkStatus:!0}):3==t?(this.updateStudentList(this.stuId,{multVideoLinkStatus:!1}),this.handleLocalVideoStatus(this.cameraStatus)):console.warn("多人上台互动消息，status错误:".concat(t)))}else console.warn("多人上台互动消息，未传入学生id")},listenerRtcService:function(){var e=this.thinkClass.RtcService;e.on("localJoinChannel",this.localJoinHandle),e.on("localAudioVolume",this.localVolume)},listenerEvent:function(){this.$bus.$on("updateCameraStatus",this.updateCamera),this.$bus.$on("updateMicrophoneStatus",this.handleLocalMicrophoneStatus),this.$bus.$on("getLocalDisplayVideoStatus",this.localDisplayVideoStatus),this.$bus.$on("getLocalMicrophoneStatus",this.localMicrophoneStatus),this.$bus.$on("chats.correctSelfMedalData",this.levelChange),this.$bus.$on("multVideoLinkStatus",this.multVideoLinkChange),this.$bus.$on("sendEmoji",this.handleEmoticon),this.$bus.$on("sendRaiseHand",this.handleRaiseHandUpdateStatus)},removeAllListener:function(){var e=this.thinkClass.RtcService;this.$store.dispatch("smallClass/updateLocalJoinChannelStatus",!1),e.off("localJoinChannel",this.localJoinHandle),e.off("localAudioVolume",this.localVolume),this.$bus.$off("updateCameraStatus",this.updateCamera),this.$bus.$off("updateMicrophoneStatus",this.handleLocalMicrophoneStatus),this.$bus.$off("getLocalDisplayVideoStatus",this.localDisplayVideoStatus),this.$bus.$off("getLocalMicrophoneStatus",this.localMicrophoneStatus),this.$bus.$off("chats.correctSelfMedalData",this.levelChange),this.$bus.$off("multVideoLinkStatus",this.multVideoLinkChange),this.$bus.$off("sendEmoji",this.handleEmoticon),this.$bus.$off("sendRaiseHand",this.handleRaiseHandUpdateStatus)},setupLocalVideo:function(){this.cameraStatus&&!this.selfInfo.multVideoLinkStatus&&(this.thinkClass.RtcService.createLocalVideo("video-group-local"),this.selfInfo.displayVideo||this.updateStudentList(this.stuId,{displayVideo:!0}))},hideLocalVideo:function(){this.updateStudentList(this.stuId,{displayVideo:!1})},handleLocalVideoStatus:function(e){this.thinkClass.RtcService.muteLocalVideo(!e),this.updateStudentList(this.stuId,{displayVideo:e}),this.videoGroup.sendRtcStatus({displayVideo:e,micIsOpen:this.microphoneStatus});var t=document.getElementById("video-group-local");this.selfInfo.displayVideo&&!t.innerHTML&&this.thinkClass.RtcService.createLocalVideo("video-group-local"),this.videoGroup.sendLogger("本地视频开关状态, status: ".concat(e))},handleLocalMicrophoneStatus:function(e){this.thinkClass.RtcService.muteLocalAudio(!e),this.videoGroup.sendLogger("本地音频开关状态, status: ".concat(e))},handleEmoticon:function(e){var t={emoticonName:e.name,emoticonType:e.type};2!=e.type&&3!=e.type||(t=Object.assign(t,{lottieUrl:e.lottieUrl,emojiId:e.emojiId})),this.updateStudentList(this.stuId,t)},handleClearEmoticon:function(){var e={emoticonName:"",emoticonType:1,lottieUrl:""};this.updateStudentList(this.stuId,e)},handleRaiseHandUpdateStatus:function(e){this.updateStudentList(this.stuId,{raiseHandStatus:e})},updateStudentList:function(e,t){this.$store.dispatch("smallClass/updateStudentList",{uid:e,data:t})}},beforeDestroy:function(){this.removeAllListener()},watch:{isAllOnStageStatus:{handler:function(e){var t=this;0==e&&this.$nextTick((function(){t.setupLocalVideo()}))},immediate:!0},updateLocalJoinStatus:{handler:function(e){var t=this;e&&this.$nextTick((function(){t.setupLocalVideo()}))},immediate:!0}}},_l=Gl,Hl=(n("1d7e"),Object(q["a"])(_l,Rl,El,!1,null,"00bbdf0b",null)),Ql=Hl.exports,Jl=function(){var e=this,t=e._self._c;return t("div",{staticClass:"video-item video-remote",class:{"mult-video-link":e.remoteStuInfo.multVideoLinkStatus,"allOnStage-item":e.isAllOnStage,"three-line-status":e.studentLists.length<=9,"four-line-status":e.studentLists.length>9,"remote-audio-border":e.border},attrs:{"data-id":e.remoteStuInfo.stuId,id:"remote-observe-".concat(e.remoteStuInfo.stuId)}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.remoteStuInfo.cameraStatus,expression:"remoteStuInfo.cameraStatus"}],staticClass:"item-wrapper"},[t("div",{staticClass:"group-wrapper"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showRemoteVideo,expression:"showRemoteVideo"}],staticClass:"video-wrapper",attrs:{id:"remote-"+e.remoteStuInfo.stuId}}),e.showRemoteAvatar?t("div",{staticClass:"avatar-wrapper"},[t("img",{attrs:{src:e.remoteStuInfo.avatar}})]):e._e()])]),e.remoteStuInfo.cameraStatus?e._e():[t("div",{staticClass:"group-wrapper"},[t("div",{staticClass:"avatar-wrapper"},[t("img",{attrs:{src:e.remoteStuInfo.avatar}})])])],t("div",{staticClass:"video-info-wrapper allOnStage-info"},[t("div",{staticClass:"video-info-container"},[t("div",{staticClass:"name"},[e._v(e._s(e.remoteStuInfo.stuName))]),(e.remoteAudioStatus||e.isChild)&&e.remoteStuInfo.displayVideo?t("div",{staticClass:"microphone-wrapper"},[t("AudioWaves",{attrs:{microphoneStyle:"bottleGreen",microphoneHeight:"13",microphoneStatus:e.microphoneStatus,volumeValue:e.remoteStuInfo.volume}})],1):e._e(),e.remoteStuInfo.displayVideo?e._e():t("div",{staticClass:"disabled-wrapper"},[t("div",{staticClass:"icon-disabled"})])])]),e.remoteStuInfo.level?t("div",{staticClass:"medal-wrapper"},[e.remoteStuInfo.level>0?t("MedalIcon",{attrs:{type:"small",level:e.remoteStuInfo.level}}):e._e()],1):e._e(),e.remoteStuInfo.raiseHandStatus?t("div",{staticClass:"raise-hand-wrapper"},[t("RaiseHandMessage",{attrs:{status:e.remoteStuInfo.raiseHandStatus},on:{updateStatus:e.handleRaiseHandUpdateStatus}})],1):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showEmoji&&e.remoteStuInfo.emoticonName,expression:"showEmoji && remoteStuInfo.emoticonName"}],staticClass:"emoji-wrapper"},[t("EmoticonMessage",{attrs:{willAutoClear:!0,name:e.remoteStuInfo.emoticonName,type:e.remoteStuInfo.emoticonType,emojiId:e.remoteStuInfo.emojiId,lottieUrl:e.remoteStuInfo.lottieUrl,width:e.emoticonStyle?70:50,height:e.emoticonStyle?70:50},on:{clearEmoticon:e.handleClearEmoticon}})],1),t("div",{staticClass:"video-switch-wrapper"},[t("div",{staticClass:"video-switch-container"},[e.remoteStuInfo.displayVideo?t("div",{staticClass:"hide-video-button",on:{click:e.handleRemoteVideoStatus}},[e._v(" "+e._s(e.$t("classroom.smallClass.videoGroup.hide"))+" ")]):e._e(),e.remoteStuInfo.displayVideo?e._e():t("div",{staticClass:"show-video-button",on:{click:e.handleRemoteVideoStatus}},[e._v(" "+e._s(e.$t("classroom.smallClass.videoGroup.show"))+" ")])])])],2)},ql=[],Kl={components:{AudioWaves:yl["a"],MedalIcon:Yc,RaiseHandMessage:Wl,EmoticonMessage:Hr["a"]},data:function(){return{border:!1}},props:{remoteStuInfo:{type:Object,default:null},hideRemoteVideo:{type:Boolean,default:null},remoteAudioStatus:{type:Boolean,default:null},isAllOnStage:{type:Boolean,default:!1},isExaminationStatus:{type:Boolean,default:!1},isChild:{type:Boolean,default:!1}},computed:{showRemoteVideo:function(){return this.remoteStuInfo.isIntersecting&&this.remoteStuInfo.displayVideo&&!this.remoteStuInfo.mutedVideoStatus&&!this.remoteStuInfo.multVideoLinkStatus&&!this.hideRemoteVideo&&!this.isExaminationStatus},showRemoteAvatar:function(){return!this.remoteStuInfo.isIntersecting||!this.remoteStuInfo.displayVideo||this.remoteStuInfo.mutedVideoStatus||this.remoteStuInfo.multVideoLinkStatus||this.hideRemoteVideo||this.isExaminationStatus},microphoneStatus:function(){return this.remoteStuInfo.microphoneStatus},showEmoji:function(){return this.remoteStuInfo.displayVideo},studentLists:function(){return this.$store.state.smallClass.studentList},emoticonStyle:function(){var e=this.isAllOnStage||2==this.remoteStuInfo.emoticonType||3==this.remoteStuInfo.emoticonType;return e}},mounted:function(){console.log("remoteStuInfo",this.remoteStuInfo)},methods:{handleRemoteVideoStatus:function(){this.$emit("handleRemoteVideoStatus",this.remoteStuInfo.stuId,!this.remoteStuInfo.displayVideo)},handleClearEmoticon:function(){this.$emit("clearEmoticon",this.remoteStuInfo.stuId)},handleRaiseHandUpdateStatus:function(e){this.$emit("raiseHandUpdateStatus",this.remoteStuInfo.stuId,e)},sleep:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},watch:{"remoteStuInfo.volume":{handler:function(e){var t=this;e>=100&&(this.border=!0,this.sleep(1e3).then((function(){t.border=!1})))}}}},$l=Kl,zl=(n("b39f"),Object(q["a"])($l,Jl,ql,!1,null,"4732cac9",null)),Yl=zl.exports,Xl={name:"StudentAudio",data:function(){var e=this.$store.state.smallClass.baseData,t=this.$store.state.smallClass.teacherInfo,n=e.commonOption.isParent,s=e.commonOption.isAudition;return{baseData:e,speakStudentList:[],remoteAudioStatus:!1,teacherData:t,isParent:n,isAudition:s}},props:{videoGroup:{type:Object,default:null}},computed:Object(y["a"])({},Object(Dt["mapState"])("smallClass",["interactionStatus","videoMicLinkUsers","cameraStatus","studentList"])),mounted:function(){this.muteAudio(),this.listenerEvent()},methods:{muteAudio:function(){(this.isParent||this.isAudition)&&this.thinkClass.RtcService.on("localJoinChannel",this.audioClose)},microphoneChange:function(e){this.videoGroup.sendRtcStatus({micIsOpen:e,displayVideo:this.cameraStatus})},closeStudentAudio:function(){this.remoteAudioStatus?console.warn("irc已先触发开启语音"):this.audioClose()},remoteAudioChange:function(e){this.videoGroup.sendLogger("收到语音管理状态变化, status: ".concat(e)),this.remoteAudioStatus=e,e?this.audioOpen():this.audioClose()},chatAudioChange:function(e){var t=this;e.pub?(this.$store.dispatch("smallClass/updatePrivateChatInfo",e),this.baseData.commonOption.stuId==e.userId?this.studentList.forEach((function(n){n.userId!=e.userId&&t.thinkClass.RtcService.muteRemoteAudio(n.userId,!0)})):(this.thinkClass.RtcService.muteRemoteAudio(this.baseData.configs.rtcConfig.teacherUid,!0),this.thinkClass.RtcService.muteRemoteAudio(e.userId,!0))):(this.$store.dispatch("smallClass/updatePrivateChatInfo",{}),this.baseData.commonOption.stuId==e.userId?this.studentList.forEach((function(n){n.userId!=e.userId&&t.thinkClass.RtcService.muteRemoteAudio(n.userId,!1)})):(this.thinkClass.RtcService.muteRemoteAudio(this.baseData.configs.rtcConfig.teacherUid,!1),this.thinkClass.RtcService.muteRemoteAudio(e.userId,!1)))},multVideoLinkChange:function(e){var t=e.pub,n=e.status,s=e.stuId;t&&3==n&&(this.remoteAudioStatus||this.thinkClass.RtcService.muteRemoteAudio(s,!0))},listenerEvent:function(){this.$bus.$on("updateMicrophoneStatus",this.microphoneChange),this.$bus.$on("closeStudentAudio",this.closeStudentAudio),this.$bus.$on("remoteAudioStatus",this.remoteAudioChange),this.$bus.$on("changeAudioStatus",this.chatAudioChange),this.$bus.$on("multVideoLinkStatus",this.multVideoLinkChange)},removeListenerEvent:function(){this.$bus.$off("updateMicrophoneStatus",this.microphoneChange),this.$bus.$off("closeStudentAudio",this.closeStudentAudio),this.$bus.$off("remoteAudioStatus",this.remoteAudioChange),this.$bus.$off("changeAudioStatus",this.chatAudioChange),this.$bus.$off("multVideoLinkStatus",this.multVideoLinkChange)},audioOpen:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n,s,a;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$store.state.smallClass.privateChatInfo,s=null===n||void 0===n?void 0:n.pub,!s||e.baseData.commonOption.stuId!=(null===n||void 0===n?void 0:n.userId)){t.next=4;break}return t.abrupt("return");case 4:a=e.getSpeakStudentList(),a.forEach((function(t){s&&t==(null===n||void 0===n?void 0:n.userId)?e.thinkClass.RtcService.muteRemoteAudio(t,!0):e.thinkClass.RtcService.muteRemoteAudio(t,!1)})),e.videoGroup.sendLogger("拉取远端学生音频流, 远端学生列表: ".concat(JSON.stringify(a)));case 7:case"end":return t.stop()}}),t)})))()},audioClose:function(){var e=this,t=this.getSpeakStudentList();t.forEach((function(t){e.interactionStatus.mult_video_mic&&e.videoMicLinkUsers.includes(Number(t))||e.baseData.commonOption.isParent&&t==e.baseData.commonOption.stuId||e.thinkClass.RtcService.muteRemoteAudio(t,!0)})),this.$bus.$emit("resetSpeaking")},getSpeakStudentList:function(){var e=[];return this.studentList.forEach((function(t){e.push(t.userId)})),e}},beforeDestroy:function(){this.removeListenerEvent(),(this.isParent||this.isAudition)&&this.thinkClass.RtcService.off("localJoinChannel",this.audioClose)}},Zl=Xl,eu=Object(q["a"])(Zl,Co,bo,!1,null,null,null),tu=eu.exports,nu={name:"StudentVideo",components:{LocalVideo:Ql,RemoteVideo:Yl,StudentAudio:tu},props:{videoGroup:{type:Object,default:null}},data:function(){return{otherCameraStatus:!1,remoteStuVideoStream:[],pageNum:1,pageSize:6,rtcEventMap:{remoteJoinChannel:this.remoteJoinHandle,remoteLeaveChannel:this.remoteLeaveHandle,remoteAudioVolume:this.remoteVolumeHandle,remoteVideoStateChanged:this.remoteSutdentChange,remoteAudioStateChanged:this.remoteAudioChangeHandle},noInStudentListCache:new Map}},computed:Object(y["a"])(Object(y["a"])({hideRemoteVideo:function(){return this.otherCameraStatus}},Object(Dt["mapState"])("smallClass",["baseData","cameraStatus","remoteAudioStatus","studentList"])),{},{remoteStudentList:function(){return this.studentList.filter((function(e){return e.inClass&&!e.isSelf}))}}),mounted:function(){this.init()},methods:{init:function(){this.listenerRtcService(),this.listenerSignalService(),this.listenerEvent()},remoteJoinHandle:function(e){console.log("wholeOnStage-remoteJoinChannel",e),this.videoGroup.sendLogger("远端学生加入频道, uid: ".concat(e)),this.updateClassStudent(e)},remoteLeaveHandle:function(e){console.log("wholeOnStage-remoteLeaveChannel",e),this.updateNoInStudentListCache(e,{inClass:!1});var t=this.studentList.find((function(t){return t.userId==e}));t&&(this.updateStudentList(e,{inClass:!1}),this.videoGroup.sendLogger("远端学生离开频道, uid: ".concat(e)))},remoteVolumeHandle:function(e,t){this.updateStudentList(e,{volume:t})},remoteAudioChangeHandle:function(e,t,n){console.log("wholeOnStage-remoteAudioStateChanged",e,t,n);var s={};1===t&&(s["microphoneStatus"]=!0),5===n&&(s["microphoneStatus"]=!1),this.updateStudentList(e,s),this.updateNoInStudentListCache(e,s)},ircMessage:function(e){console.log("onRecvRoomMessage",e);var t=e.content,n=e.fromUserInfo,s=t.ircType,a=t.data;"send_emoji"==s?this.handleEmoticon(n.psId,{name:a.name,type:a.type}):"animation_emoji"==s&&this.handleEmoticon(n.psId,Object(y["a"])({type:a.type,name:a.resource.emojiName},a.resource)),"raise_hand"==s&&this.handleRaiseHandUpdateStatus(n.psId,!0)},listenerRtcService:function(){var e=this.thinkClass.RtcService;for(var t in this.rtcEventMap)e.on(t,this.rtcEventMap[t])},removeRtcService:function(){var e=this.thinkClass.RtcService;for(var t in this.rtcEventMap)e.off(t,this.rtcEventMap[t])},listenerSignalService:function(){var e=this.thinkClass.SignalService;e.on("onRecvRoomMessage",this.ircMessage)},removeSignalService:function(){var e=this.thinkClass.SignalService;e.off("onRecvRoomMessage",this.ircMessage)},listenerEvent:function(){this.$bus.$on("cameraStatus",this.cameraStatusHandle),this.$bus.$on("remoteAudioStatus",this.remoteAudioStatusHandle),this.$bus.$on("liveQuit",this.liveQuitHandle)},cameraStatusHandle:function(e){console.log("wholeOnStage-cameraStatus",e),this.cameraStatus&&(e?this.thinkClass.RtcService.muteLocalVideo(!0):this.thinkClass.RtcService.muteLocalVideo(!1))},liveQuitHandle:function(){this.thinkClass.RtcService.unpublish(),this.thinkClass.RtcService.leaveChannel()},remoteAudioStatusHandle:function(e){this.$store.dispatch("smallClass/updateRemoteAudioStatus",e)},updateClassStudent:function(e){var t=this.studentList.find((function(t){return e==t.userId}));t?this.handleRemoteJoinChannel(e):this.getOriginClassStudent(e)},getOriginClassStudent:function(e){var t=this;return Object(O["a"])(Object(x["a"])().mark((function n(){var s,a,i,o,r;return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.noInStudentListCache.set(e,{cameraStatus:!1,microphoneStatus:!0,mutedVideoStatus:!1,inClass:!0}),s=t.baseData.commonOption,n.next=4,Object(ya["l"])({planId:s.planId,classId:s.classId});case 4:a=n.sent,a&&0==a.code&&(i=a.data||[],o=i.find((function(t){return t.userId==e})),o&&(r=t.noInStudentListCache.get(e),t.$store.dispatch("smallClass/concatStudentList",{stuInfo:o,rtcInfo:r}),t.noInStudentListCache.delete(e),t.remoteAudioStatus||t.thinkClass.RtcService.muteRemoteAudio(e,!0),t.$nextTick((function(){t.thinkClass.RtcService.createRemoteVideo(e,"remote-".concat(e))}))));case 6:case"end":return n.stop()}}),n)})))()},handleRemoteJoinChannel:function(e){this.updateStudentList(e,{inClass:!0}),console.log("wholeOnStage-createRemoteStudentInfo",this.studentList)},handleRemoteVideoStatus:function(e,t){this.updateStudentList(e,{displayVideo:t}),this.videoGroup.sendLogger("学生操作远端视频开关状态, uid: ".concat(e," status: ").concat(t))},handleEmoticon:function(e,t){var n={emoticonName:t.name,emoticonType:t.type,lottieUrl:t.lottieUrl,emojiId:t.emojiId};this.updateStudentList(e,n)},handleClearEmoticon:function(e){var t={emoticonName:"",emoticonType:1,lottieUrl:"",emojiId:""};this.updateStudentList(e,t)},handleRaiseHandUpdateStatus:function(e,t){this.updateStudentList(e,{raiseHandStatus:t})},remoteSutdentChange:function(e,t,n){if(e!=this.baseData.configs.rtcConfig.teacherUid){console.log("wholeOnStage-remoteVideoStateChanged",e,t,n);var s={};if(2==t&&(s={cameraStatus:!0,mutedVideoStatus:!1}),5===n?s["mutedVideoStatus"]=!0:6===n&&(s["mutedVideoStatus"]=!1),this.updateStudentList(e,s),this.updateNoInStudentListCache(e,s),2==t){var a=document.getElementById("remote-".concat(e));if(a&&a.innerHTML)return;this.thinkClass.RtcService.createRemoteVideo(e,"remote-".concat(e))}}},updateStudentList:function(e,t){this.$store.dispatch("smallClass/updateStudentList",{uid:e,data:t})},updateNoInStudentListCache:function(e,t){this.noInStudentListCache.has(e)&&Object.assign(this.noInStudentListCache.get(e),t)}},destroyed:function(){this.$bus.$off("cameraStatus",this.cameraStatusHandle),this.$bus.$off("remoteAudioStatus",this.remoteAudioStatusHandle),this.$bus.$off("liveQuit",this.liveQuitHandle),this.removeRtcService(),this.removeSignalService()}},su=nu,au=(n("987f"),Object(q["a"])(su,Ll,Ml,!1,null,"7aa93746",null)),iu=au.exports,ou=function(){var e=this,t=e._self._c;return t("div",{staticClass:"operator"},[t("div",{staticClass:"operator-container"},[t("div",{staticClass:"microphone"},[t("MicroPhone",{attrs:{allOnStage:!0}})],1),t("div",{staticClass:"camera"},[t("SwitchCamera",{attrs:{allOnStage:!0}})],1),t("div",{staticClass:"raise-hand"},[t("SendEmoji",{attrs:{allOnStage:!0}})],1)]),t("section",{staticClass:"allow-confirm-tip"},[t("MicrophoneAllowConfirm",{ref:"MicrophoneAllowConfirm",attrs:{isAllOnStage:!0}}),t("CameraAllowConfirm",{ref:"CameraAllowConfirm",attrs:{isAllOnStage:!0}}),t("TeacherDisabledMicrophoneNotice",{ref:"TeacherDisabledMicrophoneNotice",attrs:{isAllOnStage:!0}}),t("LiveKickout",{ref:"LiveKickout",attrs:{options:e.options}})],1)])},ru=[],cu=function(){var e=this,t=e._self._c;return t("div",{class:e.allOnStage?"allOnStage-microphone":"siderbar-microphone",attrs:{"data-log":"静音"},on:{click:e.handleMicrophoneStatusClick}},[t("div",{staticClass:"microphone-inner"},[t("div",{staticClass:"icon",attrs:{"data-log":"静音图标"}},[t("AudioWaves",{attrs:{microphoneStyle:e.allOnStage?"allOnStage":"laurelGreen",volumeValue:e.localVolumeValue,microphoneHeight:e.allOnStage?26:20,microphoneStatus:e.microphoneStatus,offMicrophoneStyle:e.allOnStage?"allOnStage":"icon"}})],1)]),t("span",{staticClass:"text",class:[e.microphoneStatus?"textUnmute":"textMute",e.forbidClickMute?"disabled":""],attrs:{"data-log":e.microphoneStatus?e.$t("classroom.smallClass.microphone.buttonName")[0]:e.$t("classroom.smallClass.microphone.buttonName")[1]}},[e._v(e._s(e.microphoneStatus?e.$t("classroom.smallClass.microphone.buttonName")[0]:e.$t("classroom.smallClass.microphone.buttonName")[1]))]),t("MediaSecurityAccess",{ref:"MediaSecurityAccessMicrophone",attrs:{visible:!1,type:"microphone"}})],1)},lu=[],uu={name:"Microphone",components:{AudioWaves:yl["a"],MediaSecurityAccess:ve["a"]},data:function(){return{baseData:this.$store.state.smallClass.baseData,localVolumeValue:0,allowOpenMicrophone:null,teacherAllowConfirmStatus:!1,forbidMuteAudio:!1,initFirstOnStage:!1}},props:{allOnStage:{type:Boolean,default:!1}},computed:{microphoneStatus:function(){return this.$store.state.smallClass.microphoneStatus},selfVideoMicLink:function(){return this.$store.state.smallClass.selfVideoMicLink},forbidClickMute:function(){return this.forbidMuteAudio&&this.microphoneStatus}},mounted:function(){this.queryMuteStatus(),this.listenerEvent(),this.listenerRtcService(),this.listenerSignalService()},methods:{teacherAllowMicrophone:function(){this.teacherAllowConfirmStatus=!1},localVolume:function(e){this.localVolumeValue=e},kvHandle:function(e){var t=this;return Object(O["a"])(Object(x["a"])().mark((function n(){var s,a,i,o;return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(s=e.key,a=e.noticeContent,"mult_video_mic"!==s){n.next=5;break}2===a.status&&(t.initFirstOnStage=!0),n.next=21;break;case 5:if("allow_open_microphone"!==s){n.next=11;break}i=a.pub,t.allowOpenMicrophone=i,t.sendLogger("静音时是否允许学生开启麦克风，res: ".concat(JSON.stringify(a))),n.next=21;break;case 11:if("forbid_mute_audio"!==s){n.next=21;break}if(t.forbidMuteAudio=1==a.pub,!t.forbidMuteAudio){n.next=20;break}return n.next=16,Object(jt["f"])();case 16:if(o=n.sent,o){n.next=19;break}return n.abrupt("return");case 19:t.updateMicrophoneStatus(!0);case 20:t.sendLogger("是否禁止学生关闭麦克风，res: ".concat(JSON.stringify(a)));case 21:case"end":return n.stop()}}),n)})))()},recvRoomMessage:function(e){var t=e.content,n=t.ircType,s=t.data;if("all_audio_mute"===n){var a=!s.pub;if(a){if(this.microphoneStatus)return;this.teacherAllowConfirmStatus=!0,this.$bus.$emit("showMicrophoneAllowConfirm")}else{if(!this.microphoneStatus||this.selfVideoMicLink)return;this.handleMicrophoneStatus(a)}this.sendLogger("老师控制全员麦克风".concat(a?"打开":"关闭","，res: ").concat(JSON.stringify(e)))}},recvPeerMessage:function(e){var t=e.content,n=t.ircType,s=t.data;if("user_audio_mute"===n){var a=!s.pub;if(this.sendLogger("老师控制单独学生麦克风".concat(a?"打开":"关闭","，res: ").concat(JSON.stringify(e),",microphoneStatus: ").concat(this.microphoneStatus)),a){if(this.microphoneStatus)return;this.teacherAllowConfirmStatus=!0,this.$bus.$emit("showMicrophoneAllowConfirm")}else{if(!this.microphoneStatus)return;this.handleMicrophoneStatus(a)}}},listenerEvent:function(){this.$bus.$on("openMicrophone",this.handleMicrophoneStatus),this.$bus.$on("closeMicrophoneAllowConfirm",this.teacherAllowMicrophone)},listenerRtcService:function(){var e=this.thinkClass.RtcService;e.on("localAudioVolume",this.localVolume)},listenerSignalService:function(){var e=this.thinkClass.SignalService;e.on("onRecvRoomDataUpdateNotice",this.kvHandle),e.on("onRecvRoomMessage",this.recvRoomMessage),e.on("onRecvPeerMessage",this.recvPeerMessage)},removeAllListener:function(){this.$bus.$off("openMicrophone",this.handleMicrophoneStatus),this.$bus.$off("closeMicrophoneAllowConfirm",this.teacherAllowMicrophone);var e=this.thinkClass.RtcService;e.off("localAudioVolume",this.localVolume);var t=this.thinkClass.SignalService;t.off("onRecvRoomDataUpdateNotice",this.kvHandle),t.off("onRecvRoomMessage",this.recvRoomMessage),t.off("onRecvPeerMessage",this.recvPeerMessage)},handleMicrophoneStatusClick:H()((function(e){this.handleMicrophoneStatus(e)}),300),handleMicrophoneStatus:function(e){var t=this;return Object(O["a"])(Object(x["a"])().mark((function n(){var s,a,i;return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s="boolean"!==typeof e,n.next=3,Object(jt["f"])();case 3:if(a=n.sent,a){n.next=7;break}return t.$refs["MediaSecurityAccessMicrophone"].checkAccess(),n.abrupt("return");case 7:if(!t.forbidClickMute||!s){n.next=10;break}return t.$bus.$emit("showTeacherDisabledMicrophoneNotice","off"),n.abrupt("return");case 10:if(i=s?!t.microphoneStatus:e,!t.selfVideoMicLink||!i||!t.initFirstOnStage&&!t.teacherAllowConfirmStatus){n.next=15;break}return t.updateMicrophoneStatus(i),t.initFirstOnStage&&(t.initFirstOnStage=!1),n.abrupt("return");case 15:if(t.teacherAllowConfirmStatus||!i||!1!==t.allowOpenMicrophone){n.next=18;break}return t.$bus.$emit("showTeacherDisabledMicrophoneNotice","on"),n.abrupt("return");case 18:t.updateMicrophoneStatus(i),Se["q"]({microphoneStatus:i});case 20:case"end":return n.stop()}}),n)})))()},updateMicrophoneStatus:function(e){this.$store.dispatch("smallClass/updateMicrophoneStatus",e),this.$bus.$emit("updateMicrophoneStatus",e)},queryMuteStatus:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n,s,a;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(ya["h"])({planId:e.baseData.planInfo.id});case 2:if(n=t.sent,n&&0==n.code){t.next=5;break}return t.abrupt("return");case 5:s=n.data,a=s.enterRoomMute,1==a&&e.handleMicrophoneStatus(!1),e.sendLogger("学生进入课堂静音开关，状态: ".concat(1==a?"静音":"不静音",",\n        res: ").concat(JSON.stringify(n)));case 9:case"end":return t.stop()}}),t)})))()},sendLogger:function(e){F["a"].send({tag:"audioMute",content:{msg:e}})}},beforeDestroy:function(){this.removeAllListener()}},du=uu,hu=(n("0391"),Object(q["a"])(du,cu,lu,!1,null,"fdf0d550",null)),mu=hu.exports,fu=function(){var e=this,t=e._self._c;return t("div",{class:e.allOnStage?"allOnStage-camera":"setting-tools-camera",on:{click:e.onStageHandleStatus}},[t("span",{staticClass:"setting-icon"},[t("span",{staticClass:"icon"},[t("span",{class:e.cameraStatus?"on":"off"})]),t("span",{staticClass:"text",class:e.cameraStatus?"text-active":""},[e._v(" "+e._s(e.$t("classroom.smallClass.camera.buttonName"))+" ")])]),e.allOnStage?e._e():t("a-switch",{attrs:{size:"small",disabled:e.disabledStatus},on:{change:e.handleCameraStatus},model:{value:e.cameraStatus,callback:function(t){e.cameraStatus=t},expression:"cameraStatus"}}),t("MediaSecurityAccess",{ref:"MediaSecurityAccessCamera",attrs:{visible:!1,type:"camera"}})],1)},pu=[],gu={name:"SwitchVideo",components:{MediaSecurityAccess:ve["a"]},data:function(){return{}},props:{allOnStage:{type:Boolean,default:!1}},computed:{cameraStatus:function(){return console.info("对象函数 cameraStatus,filePath:renderer/components/Classroom/SmallClass/Live/LiveComponents/Camera/SwitchCamera.vue"),this.$store.state.smallClass.cameraStatus},disabledStatus:function(){return console.info("对象函数 disabledStatus,filePath:renderer/components/Classroom/SmallClass/Live/LiveComponents/Camera/SwitchCamera.vue"),this.$store.state.smallClass.interactionStatus.random_call||this.$store.state.smallClass.interactionStatus.random_video_mic}},mounted:function(){this.listenerSignalService(),this.listenerEvent()},methods:{listenerEvent:function(){console.info("对象函数 listenerEvent,filePath:renderer/components/Classroom/SmallClass/Live/LiveComponents/Camera/SwitchCamera.vue"),this.$bus.$on("openCamera",this.handleCameraStatus)},listenerSignalService:function(){console.info("对象函数 listenerSignalService,filePath:renderer/components/Classroom/SmallClass/Live/LiveComponents/Camera/SwitchCamera.vue");var e=this.thinkClass.SignalService;e.on("onRecvPeerMessage",this.recvPeerMessage)},removeAllListener:function(){console.info("对象函数 removeAllListener,filePath:renderer/components/Classroom/SmallClass/Live/LiveComponents/Camera/SwitchCamera.vue"),this.$bus.$off("openCamera",this.handleCameraStatus),this.thinkClass.SignalService.off("onRecvPeerMessage",this.recvPeerMessage)},recvPeerMessage:function(e){console.info("对象函数 recvPeerMessage(res)",e,"filePath:renderer/components/Classroom/SmallClass/Live/LiveComponents/Camera/SwitchCamera.vue");var t=e.content,n=t.ircType,s=t.data;if("user_video_mute"===n){var a=!s.pub;a?this.$bus.$emit("showCameraAllowConfirm"):this.handleCameraStatus(a),this.sendLogger("老师控制单独学生摄像头".concat(a?"打开":"关闭","，res: ").concat(JSON.stringify(e)))}},handleCameraStatus:function(e){var t=this;return Object(O["a"])(Object(x["a"])().mark((function n(){var s,a;return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.info("对象函数 handleCameraStatus(status)",e,"filePath:renderer/components/Classroom/SmallClass/Live/LiveComponents/Camera/SwitchCamera.vue"),n.next=3,Object(jt["c"])();case 3:if(s=n.sent,s){n.next=8;break}return t.$refs["MediaSecurityAccessCamera"].checkAccess(),t.$store.dispatch("smallClass/updateCameraStatus",!1),n.abrupt("return");case 8:a="boolean"===typeof e?e:!t.cameraStatus,t.$bus.$emit("updateLocalDisplayVideoStatus",a),t.$store.dispatch("smallClass/updateCameraStatus",a),t.$bus.$emit("updateCameraStatus",a),Se["r"](a);case 13:case"end":return n.stop()}}),n)})))()},onStageHandleStatus:function(){console.info("对象函数 onStageHandleStatus,filePath:renderer/components/Classroom/SmallClass/Live/LiveComponents/Camera/SwitchCamera.vue"),this.allOnStage&&this.handleCameraStatus(!this.cameraStatus)},sendLogger:function(e){F["a"].send({tag:"cameraStatus",content:{msg:e}})}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/components/Classroom/SmallClass/Live/LiveComponents/Camera/SwitchCamera.vue"),this.removeAllListener()}},vu=gu,Cu=(n("6e2e"),Object(q["a"])(vu,fu,pu,!1,null,"c195d914",null)),bu=Cu.exports,Au=function(){var e=this,t=e._self._c;return t("div",{class:e.allOnStage?"allOnStage-emoji-container":"sidebar-emoji-container"},[e.showForbiddenTip?t("div",{staticClass:"forbiddenTips"},[e._v(" "+e._s(e.$t("classroom.smallClass.sendEmoji.forbiddenSendMessage"))+" ")]):e._e(),t("div",{staticClass:"emoji-operator",attrs:{id:"emoji-operator"},on:{click:e.openEmojiPane}},[e.allOnStage?[t("div",{staticClass:"icon",class:e.isSelected?"selected":""},[t("span",{class:e.isSelected?"selected":"normal"})]),t("span",{staticClass:"text",class:e.isSelected?"selected":"normal"},[e._v(" "+e._s(e.$t("classroom.smallClass.sendEmoji.buttonName")[0])+" ")])]:[t("div",{staticClass:"icon",class:e.isSelected?"selected":""},[t("span",{staticClass:"normal",class:e.emojiStatusStyle})]),e.showProgress?t("div",{staticClass:"count-down-container"},[t("CountDownProgress",{attrs:{progressTimeFromParent:e.progressTime,countdownTimeFromParent:e.countdownTime,strokeWidth:22,showTime:e.progressTextColor,strokeColor:{from:"rgba(255, 207, 27, 1)",to:"rgba(255, 207, 27, 1)"}},on:{countdownCompleted:e.countdownCompleted}})],1):t("span",{staticClass:"text",class:e.isSelected?"selected":"normal"},[e._v(" "+e._s(e.$t("classroom.smallClass.sendEmoji.buttonName[0]"))+" ")])]],2),t("EmojiPane",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.closeEmojiPane,expression:"closeEmojiPane"}],ref:"emojiPaneRef",staticClass:"emoji-pane",class:e.allOnStage?"allOnStage-emoji-pane":"",style:{left:e.left+"px"},attrs:{options:e.commonOptions,allOnStage:e.allOnStage,packageId:e.packageId},on:{handleSendEmoji:e.handleSendEmoji}})],1)},Su=[],wu=function(){var e=this,t=e._self._c;return e.showEmojiPane?t("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.closeEmojiPane,expression:"closeEmojiPane"}],staticClass:"emojis-pane-container",class:e.allOnStage?"allOnStage-pane-container":""},[t("section",{staticClass:"emojis-nav"},[t("ul",e._l(e.getDynamicEmolist,(function(s,a){return t("li",{key:s.emojiPackageId,staticClass:"emoji-nav-content",class:s.emojiPackageId==e.currentOrderId?"active":"",on:{click:function(t){return e.selectedEmoji(s.emojiPackageId,a)}}},[s.isLocal?t("img",{attrs:{src:n("ff63"),alt:""}}):t("img",{attrs:{src:s.picture,alt:""}})])})),0)]),t("section",{staticClass:"emojis-list"},[t("div",{ref:"scrollWrapper",staticClass:"emoji-scroll-wrapper"},[e._l(e.getDynamicEmolist,(function(n){return[1==n.isOver&&1==n.overShow?t("expiredEmojiChunk",{key:n.emojiPackageId,attrs:{imgSrc:n.picture}}):t("emojiChunk",{key:n.emojiPackageId+1,staticClass:"emoji-show-list",attrs:{list:n.content,lineNum:1==n.isLocal?3:2,isLocal:n.isLocal},on:{handleClick:function(t){return e.sendEmoji(arguments,n)}}})]}))],2)])]):e._e()},yu=[],ku=function(){var e=this,t=e._self._c;return t("div",{staticClass:"emojiPane"},e._l(e.lineNum,(function(n){return t("div",{key:n,staticClass:"emojiLine"},[e._l(e.list,(function(s,a){return[a<e.perLineEmojiNum*n&&a>=e.perLineEmojiNum*(n-1)?t("div",{key:a,class:["emoji-group-item",e.emojiSize]},[e.isLocal?t("Emoticon",{attrs:{name:s.name,type:s.type,enableHover:!0,hoverWidth:e.hoverWidth,hoverHeight:e.hoverHeight,width:e.width,height:e.height},on:{handleClick:function(t){return e.clickEmoji(s,a)}}}):t("div",{staticClass:"dynamic-emoji",on:{click:function(t){return e.clickEmoji(s,a)}}},[t("img",{attrs:{src:s.emojiPicture,alt:""}})])],1):e._e()]}))],2)})),0)},Iu=[],xu={name:"emojiChunk",components:{Emoticon:jo["a"]},props:{list:{type:Array,default:function(){return[]}},lineNum:{type:Number,default:3},isLocal:{type:Boolean,default:!0},width:{type:Number,default:40},height:{type:Number,default:40},hoverWidth:{type:Number,default:45},hoverHeight:{type:Number,default:45}},data:function(){return{}},computed:{perLineEmojiNum:function(){return Math.ceil(this.list.length/this.lineNum)},emojiSize:function(){return"emojiSize".concat(this.lineNum)}},methods:{clickEmoji:function(e,t){this.$emit("handleClick",e,t)}}},Ou=xu,Pu=(n("5f14"),Object(q["a"])(Ou,ku,Iu,!1,null,"dbdcec08",null)),ju=Pu.exports,Tu=function(){var e=this,t=e._self._c;return t("div",{staticClass:"emojiPane"},[t("div",{staticClass:"emojiGroup-overShow"},[t("span",{staticClass:"overShow-emoji"},[t("img",{attrs:{src:e.imgSrc}}),t("span")]),t("p",{staticClass:"overShow-tips top"},[e._v(" "+e._s(e.$t("classroom.smallClass.dynamicEmoji[0]"))+" ")]),t("p",{staticClass:"overShow-tips"},[e._v(e._s(e.$t("classroom.smallClass.dynamicEmoji[1]")))])])])},Bu=[],Lu={name:"ExpiredEmojiChunk",props:{imgSrc:{type:String,default:""}}},Mu=Lu,Ru=(n("c0ee"),Object(q["a"])(Mu,Tu,Bu,!1,null,"2c064bb7",null)),Eu=Ru.exports,Du={name:"EmojiPane",components:{emojiChunk:ju,expiredEmojiChunk:Eu},data:function(){return{showEmojiPane:!1,nickName:"",avatar:"",currentOrderId:0}},props:{options:{type:Object,default:null},allOnStage:{type:Boolean,default:!1},packageId:{type:Number,default:0}},computed:{getDynamicEmolist:function(){return this.$store.state.smallClass.dynamicEmojiLists}},mounted:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getUserInfo(),t.next=3,Object(Wo["a"])().then((function(t){e.$store.dispatch("smallClass/updateDynamicEmojiLists",t)}));case 3:case"end":return t.stop()}}),t)})))()},methods:{getUserInfo:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n,s,a;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Uo["a"])();case 2:n=t.sent,s=n.nickName,a=n.avatar,e.nickName=s,e.avatar=a;case 7:case"end":return t.stop()}}),t)})))()},sendEmoji:function(e,t){var n,s=Object(xo["a"])(e,2),a=s[0],i=s[1];if(1==a.type)n=this.emojiIrcConfig("send_emoji",a);else{var o=a.lottieUrl.endsWith(".json")?2:3;a=Object.assign(a,{type:o,name:a.emojiName}),n=this.emojiIrcConfig("animation_emoji",a),n.content.data.resource={emojiName:a.emojiName,emojiId:a.emojiId,emojiPicture:a.emojiPicture,lottieUrl:a.lottieUrl}}this.thinkClass.SignalService&&this.thinkClass.SignalService.sendRoomMessage(n),this.$emit("handleSendEmoji"),this.$bus.$emit("sendEmoji",a),this.closeEmojiPane(),Object(Wo["c"])(this.options,a,t,i,this.allOnStage,this.packageId),Se["c"]({type:4,contentType:"emoji",msg:"".concat(a.name)})},emojiIrcConfig:function(e,t){return{roomList:this.options.roomlist,content:{ircType:e,data:{name:t.name,type:t.type},from:{username:this.nickName,path:this.avatar}},chatMsgPriority:99}},closeEmojiPane:function(){this.showEmojiPane=!1,this.currentOrderId=0},openEmojiPane:function(){this.showEmojiPane=!0},selectedEmoji:function(e,t){this.currentOrderId=e;var n=document.getElementsByClassName("emoji-show-list")[t];n&&n.scrollIntoView({inline:"center"})}}},Nu=Du,Vu=(n("7ecf"),Object(q["a"])(Nu,wu,yu,!1,null,"76d40614",null)),Fu=Vu.exports,Uu=function(){var e=this,t=e._self._c;return t("div",{staticClass:"count-down-progress"},[t("span",{staticClass:"show-time",style:{color:e.showTime}},[e._v(e._s(e.countdownTime)+"s")]),t("a-progress",{attrs:{percent:e.percent,strokeWidth:e.strokeWidth,showInfo:!1,strokeLinecap:"square",strokeColor:{from:e.strokeColor.from,to:e.strokeColor.to}}})],1)},Wu=[],Gu={name:"CountDownProgress",components:{},data:function(){return{progressTime:this.progressTimeFromParent,countdownTime:this.countdownTimeFromParent,percent:0}},props:{countdownTimeFromParent:{type:Number,default:30},progressTimeFromParent:{type:Number,default:300},strokeWidth:{type:Number,default:20},showTime:{type:String,default:"#fff"},strokeColor:{type:Object,default:function(){return{from:"",to:""}}}},computed:{},mounted:function(){this.setCountdown(),this.setProgressPercent()},methods:{setCountdown:function(){var e=this;if(this.countdownTime<=0)return this.countdownTime=this.countdownTimeFromParent,void this.$emit("countdownCompleted");var t=setTimeout((function(){e.countdownTime--,e.setCountdown(),clearTimeout(t),t=null}),1e3)},setProgressPercent:function(){var e=this;if(this.progressTime<=0)return this.progressTime=100;this.progressTime--,this.percent=this.calcProgressPercent(this.progressTimeFromParent,this.progressTime);var t=setTimeout((function(){e.setProgressPercent(),clearTimeout(t),t=null}),100)},calcProgressPercent:function(e,t){if(e=parseInt(e),t=parseInt(t),0===e||0===t)return 0;var n=(e-t)/e*100;return parseFloat(n.toFixed(2))}}},_u=Gu,Hu=(n("bd44"),Object(q["a"])(_u,Uu,Wu,!1,null,"991314dc",null)),Qu=Hu.exports,Ju={name:"Emojis",components:{EmojiPane:Fu,CountDownProgress:Qu},data:function(){return{isSelected:!1,showProgress:!1,progressTime:300,countdownTime:30,forbiddenTimer:null,showCountDown:!1,firstSendEmojiTime:null,sendEmojiCount:0,isOpenPane:!1,progressTextColor:"#FF850A",emojiForbiddenStatus:!1,showForbiddenTip:!1,left:0}},computed:{commonOptions:function(){return console.info("对象函数 commonOptions,filePath:renderer/components/Classroom/SmallClass/Live/LiveComponents/SendEmoji/index.vue"),this.$store.state.smallClass.baseData.commonOption},packageId:function(){return console.info("对象函数 packageId,filePath:renderer/components/Classroom/SmallClass/Live/LiveComponents/SendEmoji/index.vue"),this.$store.state.smallClass.baseData.planInfo.packageId},courseWareBounce:function(){return console.info("对象函数 courseWareBounce,filePath:renderer/components/Classroom/SmallClass/Live/LiveComponents/SendEmoji/index.vue"),this.$store.state.smallClass.coursesPosition},emojiStatusStyle:function(){return console.info("对象函数 emojiStatusStyle,filePath:renderer/components/Classroom/SmallClass/Live/LiveComponents/SendEmoji/index.vue"),{forbidden:this.emojiForbiddenStatus,selected:this.isSelected,disabled:this.showProgress}}},directives:{Clickoutside:N["a"]},props:{allOnStage:{type:Boolean,default:!1}},mounted:function(){this.bindEvents()},methods:{openEmojiPane:function(){var e=this;if(console.info("对象函数 openEmojiPane,filePath:renderer/components/Classroom/SmallClass/Live/LiveComponents/SendEmoji/index.vue"),!this.allOnStage){if(this.showProgress)return this.$Message.destroy(),void this.$Message.warning(this.$t("classroom.smallClass.sendEmoji.sendTooFastNotice"));if(this.emojiForbiddenStatus)return this.timer&&clearTimeout(this.timer),this.showForbiddenTip=!0,void(this.timer=setTimeout((function(){e.showForbiddenTip=!1}),3e3))}this.isSelected||Object(Wo["b"])(this.commonOptions,this.allOnStage,this.packageId),this.isSelected=!0,document.querySelector(".courseware-board-wrapper")&&(this.left=document.querySelector(".courseware-board-wrapper").getBoundingClientRect().left),this.$refs.emojiPaneRef.openEmojiPane()},closeEmojiPane:function(e){console.info("对象函数 closeEmojiPane(e)",e,"filePath:renderer/components/Classroom/SmallClass/Live/LiveComponents/SendEmoji/index.vue");var t=document.querySelector("#emoji-operator"),n=t==e.target||t.contains(e.target);!n||this.isOpenPane?this.handleClosePane():this.isOpenPane=!0},handleClosePane:function(){console.info("对象函数 handleClosePane,filePath:renderer/components/Classroom/SmallClass/Live/LiveComponents/SendEmoji/index.vue"),this.$refs.emojiPaneRef.closeEmojiPane(),this.isOpenPane=this.isSelected=!1},handleSendEmoji:function(){var e=this;if(console.info("对象函数 handleSendEmoji,filePath:renderer/components/Classroom/SmallClass/Live/LiveComponents/SendEmoji/index.vue"),this.isSelected=!1,this.isOpenPane=!1,this.sendEmojiCount+=1,1==this.sendEmojiCount)this.firstSendEmojiTime=(new Date).getTime();else if(3==this.sendEmojiCount){var t=Math.floor((new Date).getTime()-this.firstSendEmojiTime)/1e3;t<=30?(this.showProgress=!0,this.forbiddenTimer=window.setTimeout((function(){console.info("箭头函数 setTimeout,filePath:renderer/components/Classroom/SmallClass/Live/LiveComponents/SendEmoji/index.vue"),e.getResetTimer()}),3e4)):(this.sendEmojiCount=1,this.firstSendEmojiTime=(new Date).getTime())}},bindEvents:function(){console.info("对象函数 bindEvents,filePath:renderer/components/Classroom/SmallClass/Live/LiveComponents/SendEmoji/index.vue"),this.$bus.$on("forbidden_student_emoji",this.getEmojiStatus)},getEmojiStatus:function(e){console.info("对象函数 getEmojiStatus(params)",e,"filePath:renderer/components/Classroom/SmallClass/Live/LiveComponents/SendEmoji/index.vue"),this.emojiForbiddenStatus=null===e||void 0===e?void 0:e.pub,null!==e&&void 0!==e&&e.pub&&this.forbiddenTimer&&(this.clearLimitEmojiTimer(),this.getResetTimer())},getResetTimer:function(){console.info("对象函数 getResetTimer,filePath:renderer/components/Classroom/SmallClass/Live/LiveComponents/SendEmoji/index.vue"),this.sendEmojiCount=0,this.firstSendEmojiTime=(new Date).getTime(),this.showProgress=!1},clearLimitEmojiTimer:function(){console.info("对象函数 clearLimitEmojiTimer,filePath:renderer/components/Classroom/SmallClass/Live/LiveComponents/SendEmoji/index.vue"),window.clearTimeout(this.forbiddenTimer),this.forbiddenTimer=null}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/components/Classroom/SmallClass/Live/LiveComponents/SendEmoji/index.vue"),this.$bus.$off("forbidden_student_emoji"),this.clearLimitEmojiTimer()},watch:{emojiForbiddenStatus:function(e){console.info("对象函数 emojiForbiddenStatus(flag)",e,"filePath:renderer/components/Classroom/SmallClass/Live/LiveComponents/SendEmoji/index.vue"),e&&!this.allOnStage&&this.handleClosePane()}}},qu=Ju,Ku=(n("f74c"),Object(q["a"])(qu,Au,Su,!1,null,"45a0b59b",null)),$u=Ku.exports,zu=function(){var e=this,t=e._self._c;return t("div",{staticClass:"microphone-allow-confirm"})},Yu=[],Xu={name:"MicrophoneAllowConfirm",watch:{"$store.state.smallClass.microphoneStatus":{handler:function(e){console.info("对象函数 handler(val)",e,"filePath:renderer/components/Classroom/SmallClass/Live/Modules/MicrophoneAllowConfirm/index.vue"),e&&this.closeDialog()}}},mounted:function(){var e=this;this.$bus.$on("showMicrophoneAllowConfirm",(function(){console.info("箭头函数 监听 showMicrophoneAllowConfirm,filePath:renderer/components/Classroom/SmallClass/Live/Modules/MicrophoneAllowConfirm/index.vue"),e.handleOk()}))},methods:{handleOk:function(){console.info("对象函数 handleOk,filePath:renderer/components/Classroom/SmallClass/Live/Modules/MicrophoneAllowConfirm/index.vue"),this.$bus.$emit("openMicrophone",!0),this.closeDialog(),this.sendLogger("学生同意打开麦克风")},closeDialog:function(){var e=this;console.info("对象函数 closeDialog,filePath:renderer/components/Classroom/SmallClass/Live/Modules/MicrophoneAllowConfirm/index.vue"),setTimeout((function(){e.$bus.$emit("closeMicrophoneAllowConfirm")}),0)},sendLogger:function(e){F["a"].send({tag:"audioMute",content:{msg:e}})}}},Zu=Xu,ed=(n("2ae6"),Object(q["a"])(Zu,zu,Yu,!1,null,"142ee6fb",null)),td=ed.exports,nd=function(){var e=this,t=e._self._c;return t("div",{staticClass:"camera-allow-confirm"},[t("AllowAccessDialog",{attrs:{isAllOnStage:e.isAllOnStage,theme:"orange"},on:{ok:e.handleOk,cancel:e.handleCancel},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[t("div",{staticClass:"content"},[t("div",{staticClass:"icon-camera"}),t("div",{staticClass:"notice"},[e._v(" "+e._s(e.$t("classroom.smallClass.cameraAllowConfirm.notice"))+" ")])])])],1)},sd=[],ad=function(){var e=this,t=e._self._c;return e.sVisible?t("div",{staticClass:"dialog-wrapper",class:[e.dialogClass,e.allOnStageClass]},[t("div",{staticClass:"dialog-content"},[e._t("default")],2),e.showOkButton||e.showCancelButton?t("div",{staticClass:"dialog-footer"},[e.showCancelButton?t("div",{staticClass:"dialog-button button-cancel",on:{click:e.handleCancel}},[e._v(" "+e._s(e.cancelValue||e.$t("common.deny"))+" ")]):e._e(),e.showOkButton?t("div",{staticClass:"dialog-button button-ok",on:{click:e.handleOk}},[e._v(" "+e._s(e.okValue||e.$t("common.agree"))+" ")]):e._e()]):e._e()]):e._e()},id=[],od={name:"AllowAccessDialog",model:{prop:"visible"},data:function(){return{sVisible:!!this.visible}},props:{dialogClass:{type:String,default:""},theme:{type:String,default:"green"},visible:{type:Boolean,default:!1},okValue:{type:String,default:""},cancelValue:{type:String,default:""},showOkButton:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!0},isAllOnStage:{type:Boolean,default:!1}},watch:{visible:function(e){this.sVisible=e}},computed:{allOnStageClass:function(){return console.info("对象函数 allOnStageClass,filePath:renderer/components/Classroom/SmallClass/Common/AllowAccessDialog/index.vue"),this.isAllOnStage?"all-on-stage-wrapper":""}},mounted:function(){},methods:{handleCancel:function(e){this.$emit("cancel",e)},handleOk:function(e){this.$emit("ok",e)}}},rd=od,cd=(n("ec0d"),Object(q["a"])(rd,ad,id,!1,null,"ce1c3158",null)),ld=cd.exports,ud={name:"CameraAllowConfirm",components:{AllowAccessDialog:ld},data:function(){return{visible:!1,timer:null,duration:1e4}},props:{isAllOnStage:{type:Boolean,default:!1}},watch:{"$store.state.smallClass.cameraStatus":{handler:function(e){console.info("对象函数 handler(val)",e,"filePath:renderer/components/Classroom/SmallClass/Live/Modules/CameraAllowConfirm/index.vue"),e&&this.closeDialog()}}},mounted:function(){this.$bus.$on("showCameraAllowConfirm",this.autoClose)},methods:{handleOk:function(){console.info("对象函数 handleOk,filePath:renderer/components/Classroom/SmallClass/Live/Modules/CameraAllowConfirm/index.vue"),this.$bus.$emit("openCamera",!0),this.closeDialog(),this.sendLogger("学生同意打开摄像头")},handleCancel:function(){console.info("对象函数 handleCancel,filePath:renderer/components/Classroom/SmallClass/Live/Modules/CameraAllowConfirm/index.vue"),this.closeDialog(),this.sendLogger("学生拒绝打开摄像头")},closeDialog:function(){console.info("对象函数 closeDialog,filePath:renderer/components/Classroom/SmallClass/Live/Modules/CameraAllowConfirm/index.vue"),this.visible=!1,this.timer&&clearTimeout(this.timer)},autoClose:function(){var e=this;console.info("对象函数 autoClose,filePath:renderer/components/Classroom/SmallClass/Live/Modules/CameraAllowConfirm/index.vue"),this.visible=!0,this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){e.closeDialog(),e.sendLogger("授权打开摄像头提示自动关闭")}),this.duration)},sendLogger:function(e){F["a"].send({tag:"cameraStatus",content:{msg:e}})}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/components/Classroom/SmallClass/Live/Modules/CameraAllowConfirm/index.vue"),this.$bus.$off("showCameraAllowConfirm",this.autoClose)}},dd=ud,hd=(n("f58c"),Object(q["a"])(dd,nd,sd,!1,null,"fb86c2ec",null)),md=hd.exports,fd=function(){var e=this,t=e._self._c;return t("div",{staticClass:"microphone-disabled-notice"},[t("AllowAccessDialog",{attrs:{isAllOnStage:e.isAllOnStage,showCancelButton:!1,okValue:e.$t("common.gotIt")},on:{ok:e.handleOk,cancel:e.handleCancel},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[t("div",{staticClass:"content"},[t("div",{class:["on"==e.showOnOrOff?"icon-microphone":"icon-off-microphone"]}),t("div",{staticClass:"notice"},[e._v(" "+e._s("on"==e.showOnOrOff?e.$t("classroom.smallClass.teacherDisabledOnMicrophone.notice"):e.$t("classroom.smallClass.teacherDisabledOffMicrophone.notice"))+" ")])])])],1)},pd=[],gd={name:"TeacherDisabledMicrophoneNotice",components:{AllowAccessDialog:ld},data:function(){return{visible:!1,timer:null,duration:5e3,showOnOrOff:"on"}},props:{isAllOnStage:{type:Boolean,default:!1}},mounted:function(){this.$bus.$on("showTeacherDisabledMicrophoneNotice",this.autoClose)},methods:{handleOk:function(){console.info("对象函数 handleOk,filePath:renderer/components/Classroom/SmallClass/Live/Modules/TeacherDisabledMicrophoneNotice/index.vue"),this.closeDialog()},handleCancel:function(){console.info("对象函数 handleCancel,filePath:renderer/components/Classroom/SmallClass/Live/Modules/TeacherDisabledMicrophoneNotice/index.vue"),this.closeDialog()},closeDialog:function(){console.info("对象函数 closeDialog,filePath:renderer/components/Classroom/SmallClass/Live/Modules/TeacherDisabledMicrophoneNotice/index.vue"),this.visible=!1,this.timer&&clearTimeout(this.timer)},autoClose:function(e){var t=this;console.info("对象函数 autoClose(type)",e,"filePath:renderer/components/Classroom/SmallClass/Live/Modules/TeacherDisabledMicrophoneNotice/index.vue"),this.visible=!0,this.showOnOrOff=e,this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.closeDialog()}),this.duration)}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/components/Classroom/SmallClass/Live/Modules/TeacherDisabledMicrophoneNotice/index.vue"),this.$bus.$off("showTeacherDisabledMicrophoneNotice",this.autoClose)}},vd=gd,Cd=(n("fe8e"),Object(q["a"])(vd,fd,pd,!1,null,"0649029d",null)),bd=Cd.exports,Ad=n("9f80"),Sd={components:{MicroPhone:mu,SwitchCamera:bu,SendEmoji:$u,MicrophoneAllowConfirm:td,CameraAllowConfirm:md,TeacherDisabledMicrophoneNotice:bd,LiveKickout:Ad["a"]},computed:{options:function(){return console.info("对象函数 options,filePath:renderer/components/Classroom/SmallClass/Live/WholeOnStage/OperatorModule/index.vue"),this.$store.state.smallClass.baseData.commonOption}}},wd=Sd,yd=(n("266ff"),Object(q["a"])(wd,ou,ru,!1,null,"86fb8bd4",null)),kd=yd.exports,Id=n("df5f"),xd=function(){var e=this,t=e._self._c;return t("div",{staticClass:"network-error-wrapper",attrs:{id:"networkError"}})},Od=[],Pd={data:function(){return{isShow:!1}},mounted:function(){this.thinkClass.SignalService.on("showNotification",this.showNotice),this.thinkClass.SignalService.on("closeNotification",this.closeNotice)},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/components/Classroom/SmallClass/Live/Modules/NetworkError/index.vue"),this.thinkClass.SignalService.off("showNotification",this.showNotice),this.thinkClass.SignalService.off("closeNotification",this.closeNotice)},methods:{showNotice:function(e){var t=this;console.info("对象函数 showNotice(code)",e,"filePath:renderer/components/Classroom/SmallClass/Live/Modules/NetworkError/index.vue");var n=this.$createElement;if(!this.isShow){var s=this.$t("classroom.modules.networkError");this.isShow=!0,this.$Notification.open({key:"networkError",class:"notification-network-error",placement:"bottomRight",bottom:"0px",duration:null,description:function(){return n("div",[n("i",{class:"netError"}),n("div",{class:"description"},[s.notice[0]," ",n("br")," ","".concat(s.notice[1],",code:").concat(e)])])},btn:function(){return n("a-button",{class:"ant-btn-primary",attrs:{shape:"round"}},[t.$t("common.exit")])},getContainer:function(){return document.getElementById("networkError")},onClick:function(){t.sendLogger("click NetworkError"),Object(wc["a"])("/#/courses")}})}},closeNotice:function(){console.info("对象函数 closeNotice,filePath:renderer/components/Classroom/SmallClass/Live/Modules/NetworkError/index.vue"),this.isShow=!1,this.$Notification.destroy()},sendLogger:function(e){F["a"].send({tag:"Net",content:{msg:e}})}}},jd=Pd,Td=(n("7e59"),Object(q["a"])(jd,xd,Od,!1,null,null,null)),Bd=Td.exports,Ld={name:"WholeOnStage",data:function(){return{baseData:this.$store.state.smallClass.baseData,videoGroup:null}},components:{TeacherModule:Bl,StudentModule:iu,OperatorModule:kd,ChatBox:Id["a"],NetworkError:Bd},created:function(){var e=this.baseData.commonOption;this.videoGroup=new Cl({planId:e.planId,classId:e.classId})},mounted:function(){F["a"].send({tag:"userTrack",content:{msg:"小班课-全员上台"}}),this.videoGroup.sendRtcStatus(),this.$refs.chatbox.handleIsShowBox()},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/components/Classroom/SmallClass/Live/WholeOnStage/index.vue"),this.videoGroup=null}},Md=Ld,Rd=(n("ee02"),Object(q["a"])(Md,gl,vl,!1,null,"b333084c",null)),Ed=Rd.exports,Dd=(n("841c"),n("9c59")),Nd=n.n(Dd),Vd=n("2b6b");function Fd(e){console.info("函数申明 useExit(planInfo)",e,"filePath:renderer/SmallClass/hooks/useExit.js");var t=Object(v["d"])(),n=t.proxy,s=window.location.href.split("backUrl=")[1]||"/courses",a=Nd.a.parse(window.location.search),i=tc["g"][a["lessonType"]]||"",o=function(){console.info("箭头函数 handleExit,filePath:renderer/SmallClass/hooks/useExit.js"),localStorage.setItem("smallClassTestCoverage",JSON.stringify(window.__coverage__)),n.$Modal.confirm({class:"modal-simple apu-header exit-header",content:n.$t("classroom.modules.header.backConfirm.content"),okText:n.$t("common.yes"),cancelText:n.$t("common.no"),width:Object(W["x"])(416),centered:!0,zIndex:3e3,onOk:function(){var t,a;n.$bus.$emit("liveQuit"),Se["s"]("click_exit_btn",{timeOffset:null===(t=n.$store)||void 0===t||null===(t=t.state)||void 0===t||null===(t=t.common)||void 0===t?void 0:t.timeOffset,planInfo:e,lessonType:i,interactionStatus:n.$store.state.smallClass.interactionStatus,classTypeName:"小班"}),Se["d"](null===(a=n.$store)||void 0===a||null===(a=a.state)||void 0===a||null===(a=a.common)||void 0===a?void 0:a.timeOffset,null===e||void 0===e?void 0:e.endStampTime),Object(Vd["setPlanId"])({}),F["a"].send({tag:"student.Quit",content:{msg:"学生退出课堂"}}),setTimeout((function(){Object(wc["a"])("/#"+s)}),1e3)}})};return{handleExit:o}}var Ud=Object(v["c"])({name:"WholeOnStage",components:{WholeOnStageContainer:Ed},setup:function(){var e=Object(v["d"])(),t=e.proxy,n=t.$store.state.smallClass.baseData,s=Fd(n.planInfo),a=s.handleExit;return{baseData:n,handleExit:a}}}),Wd=Ud,Gd=(n("af73"),Object(q["a"])(Wd,fl,pl,!1,null,"3693ba81",null)),_d=Gd.exports,Hd=n("bd12"),Qd=n("aaf0"),Jd=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"flex gap-[2px]"},[t("TeacherVideo"),t("LocalVideo"),!e.isParent||e.canShowOtherChild?t("RemoteVideo"):e._e()],1)},qd=[],Kd=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"flex-shrink-0 relative w-[1.76rem] h-[1.32rem] overflow-hidden bg-cover bg-no-teacher"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.renderTeacherVideo,expression:"renderTeacherVideo"}],staticClass:"h-full w-full",attrs:{id:"teacherVideoContainer"}}),e.teacherOnStageStatus?t("div",{staticClass:"absolute left-0 top-0 z-10 h-full w-full bg-teacher-onstage bg-cover bg-no-repeat"}):e._e(),t("InfoBar",{attrs:{showType:e.infoType,name:e.name,microphoneStatus:e.teacherMicrophoneStatus,showMicrophone:e.teacherInclass}})],1)},$d=[],zd=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"absolute inset-x-0 bottom-0 px-[0.04rem] pt-[0.08rem] pb-[0.04rem] bg-gradient-to-b from-transparent to-black flex justify-between z-20"},[e.showType===e.showBarType.privateChat?[t("div",{staticClass:"leading-[0.26rem] text-middle text-name whitespace-nowrap helpName"},[t("i",{staticClass:"w-[0.12rem] h-[0.12rem] inline-block ml-[0.02rem] bg-no-repeat"}),e._v(e._s(e.$t("common.helpOthers"))+" ")])]:e.showType===e.showBarType.onStage?[t("div",{staticClass:"text-small text-name"},[e._v(" "+e._s(e.$t("common.onStage"))+" ")])]:e.showType===e.showBarType.nameInfo?[t("div",{staticClass:"text-small text-name flex-grow truncate"},[e._v(e._s(e.name))]),e.showMicrophone?t("div",{staticClass:"w-[0.18rem] h-[0.18rem] flex-shrink-0"},[t("DynamicMic",{attrs:{microphoneStatus:e.microphoneStatus}})],1):e._e()]:e._e()],2)},Yd=[],Xd=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{ref:"micBox",staticClass:"relative h-full"},[e.microphoneStatus?[t("div",{staticClass:"absolute h-full inset-0 bg-cover bg-top z-0 bg-green-mic"}),t("div",{staticClass:"absolute inset-0 bg-cover bg-bottom z-10 bg-green-mic transition duration-80 ease-in-out",style:e.micBoxStyle})]:[t("div",{staticClass:"absolute h-full inset-0 bg-cover bg-top z-0 bg-off-mic"})]],2)},Zd=[],eh=Object(v["c"])({name:"DynamicMic",props:{volume:{type:Number,default:225},microphoneStatus:{type:Boolean,default:!1}},setup:function(e){var t=Object(v["j"])(null),n=Object(v["j"])({height:"0px",top:"0px"}),s=function(e){Object(v["e"])((function(){var s=t.value;if(s){var a=s.clientHeight,i=parseInt(a*(e/225)),o=parseInt(document.querySelector("html").style.fontSize),r=(i/o).toFixed(2),c=(a-i)/o;n.value={height:"".concat(r,"rem"),top:"".concat(c,"rem")}}else console.warn("Could not find 'mic-box' element.")}))};return Object(v["l"])((function(){return e.volume}),(function(e){s(e)}),{immediate:!0}),{micBox:t,micBoxStyle:n}}}),th=eh,nh=(n("1f6e"),Object(q["a"])(th,Xd,Zd,!1,null,null,null)),sh=nh.exports,ah={nameInfo:"nameInfo",onStage:"onStage",privateChat:"privateChat"},ih=Object(v["c"])({name:"InfoBar",components:{DynamicMic:sh},data:function(){return{showBarType:ah}},props:{showType:{type:String,default:ah.nameInfo},name:{type:String,default:""},volume:{type:Number,default:0},microphoneStatus:{type:Boolean,default:!1},showMicrophone:{type:Boolean,default:!1}}}),oh=ih,rh=(n("5750"),Object(q["a"])(oh,zd,Yd,!1,null,"46424f97",null)),ch=rh.exports,lh=Object(v["c"])({name:"TeacherVideo",components:{InfoBar:ch},setup:function(){var e=Object(v["d"])(),t=e.proxy,n=t.thinkClass,s=t.$store,a=s.state.smallClass.teacherMsg,i=a.nickName,o=Object(v["a"])((function(){return a.audioStatus})),r=Object(v["a"])((function(){return a.videoStatus})),c=Object(v["a"])((function(){return a.onStageStatus})),l=Object(v["a"])((function(){return a.privateChatStatus})),u=Object(v["a"])((function(){return a.inClass})),d=Object(v["a"])((function(){return r.value&&!c.value})),h=Object(v["a"])((function(){return l.value?ah.privateChat:c.value?ah.onStage:ah.nameInfo}));return Object(v["l"])((function(){return d.value}),(function(e){if(e)Object(v["e"])((function(){document.getElementById("teacherVideoContainer").innerHTML="",n.RtcService.createTeacherVideo("teacherVideoContainer")}));else{var t=document.getElementById("teacherVideoContainer");t&&(t.innerHTML="")}}),{immediate:!0}),{teacherMicrophoneStatus:o,teacherOnPrivateChatStatus:l,teacherOnStageStatus:c,renderTeacherVideo:d,teacherInclass:u,name:i,infoType:h}}}),uh=lh,dh=Object(q["a"])(uh,Kd,$d,!1,null,null,null),hh=dh.exports,mh=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"flex-shrink-0"},[e.isParent?[t("ParentVideo")]:e.isAudition?[t("AuditionVideo")]:[t("StudentVideo",{ref:"LocalVideo"})]],2)},fh=[],ph=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"relative w-[1.32rem] h-[1.32rem] overflow-hidden bg-contain bg-student-bg"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.renderVideo,expression:"renderVideo"}],staticClass:"h-full w-full",attrs:{id:"video-group-local"}}),e.renderVideo?e._e():t("div",{staticClass:"flex justify-center w-full h-full bg-contain bg-no-repeat items-center"},[e.self.multVideoLinkStatus?t("img",{staticClass:"w-[0.54rem] h-[0.62rem]",attrs:{src:n("bf79")}}):t("img",{staticClass:"relative top-[cacl(50% - 0.22rem)] rounded-full w-[0.56rem] h-[0.56rem]",attrs:{src:e.self.avatar}})]),t("InfoBar",{attrs:{showType:e.infoType,name:e.self.stuName,microphoneStatus:e.microphoneStatus,showMicrophone:!0}}),t("StudentTool",{attrs:{id:e.self.userId}})],1)},gh=[],vh=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.stuInfo?t("div",{staticClass:"absolute top-0 left-0 z-10 w-full h-full"},[e.stuInfo.level?t("div",[t("MedalIcon",{attrs:{type:"small",level:e.stuInfo.level}})],1):e._e(),e.stuInfo.raiseHandStatus?t("div",{staticClass:"w-full h-full flex justify-center"},[t("RaiseHandMessage",{attrs:{status:e.stuInfo.raiseHandStatus},on:{updateStatus:e.hideHand}})],1):e._e(),e.stuInfo.emoticonName?t("div",{staticClass:"absolute bg-black/40 w-full h-full inset-0 m-auto flex items-center justify-center z-10"},[t("EmoticonMessage",{directives:[{name:"show",rawName:"v-show",value:!e.stuInfo.multVideoLinkStatus,expression:"!stuInfo.multVideoLinkStatus"}],attrs:{willAutoClear:!0,name:e.stuInfo.emoticonName,type:e.stuInfo.emoticonType,emojiId:e.stuInfo.emojiId,width:80,height:80,lottieUrl:e.stuInfo.lottieUrl},on:{clearEmoticon:e.handleClearEmoticon}})],1):e._e()]):e._e()},Ch=[],bh=function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex items-center"},[t("div",{staticClass:"w-[0.24rem] h-[0.24rem] bg-contain z-10",class:[e.levelClass]}),t("span",{staticClass:"relative w-[0.35rem] h-[0.17rem] t-[0.04rem] pl-[0.1rem] left-[-0.08rem] rounded-r-[0.03rem] text-white leading-[0.17rem] bg-level-color text-[0.12rem]"},[e._v("Lv"+e._s(e.level))])])},Ah=[],Sh={props:{type:{type:String,default:"small"},level:{type:Number,default:0}},computed:{medalClass:function(){return console.info("对象函数 medalClass,filePath:renderer/SmallClass/components/VideoGroup/StudentTool/MedalIcon/index.vue"),"medal-".concat(this.type)},levelClass:function(){return console.info("对象函数 levelClass,filePath:renderer/SmallClass/components/VideoGroup/StudentTool/MedalIcon/index.vue"),"bg-level-img-".concat(this.level)}}},wh=Sh,yh=(n("6c154"),Object(q["a"])(wh,bh,Ah,!1,null,"f3ba4d8c",null)),kh=yh.exports,Ih=function(){var e=this,t=e._self._c;return e.status?t("div",{staticClass:"w-[0.78rem] h-[1.17rem] bg-raise-hand-img bg-no-repeat bg-cover absolute bottom-0 raise-enter-active"}):e._e()},xh=[],Oh={props:{status:{type:Boolean,default:!1},userId:{type:String,default:""},duration:{type:Number,default:10}},computed:{},data:function(){return{timer:null}},watch:{status:{immediate:!0,handler:function(e){var t=this;console.info("对象函数 handler(newVal)",e,"filePath:renderer/SmallClass/components/VideoGroup/StudentTool/RaiseHandMessage/index.vue"),e&&(this.clearTimer(),this.timer=setTimeout((function(){t.$emit("updateStatus",!1,t.userId)}),1e3*this.duration))}}},methods:{clearTimer:function(){console.info("对象函数 clearTimer,filePath:renderer/SmallClass/components/VideoGroup/StudentTool/RaiseHandMessage/index.vue"),this.timer&&(clearTimeout(this.timer),this.timer=null)}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/SmallClass/components/VideoGroup/StudentTool/RaiseHandMessage/index.vue"),this.clearTimer()}},Ph=Oh,jh=(n("907e"),Object(q["a"])(Ph,Ih,xh,!1,null,"44d2f64a",null)),Th=jh.exports,Bh=function(){var e=this,t=e._self._c;return t("div",[e.show&&1==e.type?t("Emoticon",{attrs:{name:e.emoticonName,type:e.type,width:e.width,height:e.height}}):e._e(),e.show&&2==e.type?t("LottieEmoticon",{attrs:{name:e.emoticonName,type:e.type,lottieUrl:e.lottieUrl,emojiId:e.emojiId,width:e.width,height:e.height,loopLottie:e.loopLottie},on:{animationComplete:e.animationComplete}}):e._e(),e.show&&3==e.type?t("PictureEmoticon",{attrs:{name:e.emoticonName,type:e.type,lottieUrl:e.lottieUrl,emojiId:e.emojiId,width:e.width,height:e.height}}):e._e()],1)},Lh=[],Mh=function(){var e=this,t=e._self._c;return t("div",{staticClass:"emoticon-icon",class:[e.emoticonClass],style:e.hoverStatus?e.emotionHoverStyle:e.emoticonStyle,on:{mouseover:e.handleMouseover,mouseleave:e.handleMouseleave,click:function(t){return t.stopPropagation(),e.handleClick.apply(null,arguments)}}})},Rh=[],Eh={"[smile]":{localImageName:"e_smile"},"[pleading]":{localImageName:"e_pleading"},"[XD]":{localImageName:"e_xd"},"[LOL]":{localImageName:"e_lol"},"[thinking]":{localImageName:"e_thinking"},"[the_rock]":{localImageName:"e_the_rock"},"[party]":{localImageName:"e_party"},"[quiet]":{localImageName:"e_quiet"},"[sad]":{localImageName:"e_sad"},"[shame]":{localImageName:"e_shame"},"[scream]":{localImageName:"e_scream"},"[cry]":{localImageName:"e_cry"},"[A]":{localImageName:"e_a"},"[B]":{localImageName:"e_b"},"[true]":{localImageName:"e_true"},"[false]":{localImageName:"e_false"},"[surprise]":{localImageName:"e_surprise"},"[heart]":{localImageName:"e_heart"},"[unicorn]":{localImageName:"e_unicorn"},"[ghost]":{localImageName:"e_ghost"},"[yeah]":{localImageName:"e_yeah"},"[like]":{localImageName:"e_like"},"[hands_up]":{localImageName:"e_hands_up"},"[clap]":{localImageName:"e_clap"}},Dh={props:{type:{type:Number,default:1},name:{type:String,default:""},width:{type:Number,default:30},height:{type:Number,default:30},hoverWidth:{type:Number,default:34},hoverHeight:{type:Number,default:34},enableHover:{type:Boolean,default:!1}},computed:{emoticonInfo:function(){return this.emoticonConfig[this.name]||{}},emoticonStyle:function(){return{width:"".concat(this.width/100,"rem"),height:"".concat(this.height/100,"rem")}},emotionHoverStyle:function(){return{width:"".concat(this.hoverWidth/100,"rem"),height:"".concat(this.hoverHeight/100,"rem")}},emoticonClass:function(){return this.emoticonInfo.localImageName&&1==this.type?"emoticon-icon__".concat(this.emoticonInfo.localImageName):""}},data:function(){return{emoticonConfig:Eh,hoverStatus:!1}},methods:{handleMouseover:function(){this.enableHover&&(this.hoverStatus=!0)},handleMouseleave:function(){this.enableHover&&(this.hoverStatus=!1)},handleClick:function(){this.$emit("handleClick",{type:this.type,name:this.name})}}},Nh=Dh,Vh=(n("68978"),Object(q["a"])(Nh,Mh,Rh,!1,null,"3b047ba8",null)),Fh=Vh.exports,Uh=function(){var e=this,t=e._self._c;return t("div",{staticClass:"lottie-emoticon-icon"},[t("lottie-player",{ref:"emoji",style:e.emoticonStyle,attrs:{mode:"normal",autoplay:"",loop:e.loopLottie,src:e.lottieUrl},on:{complete:e.onLottieComplete}})],1)},Wh=[],Gh={props:{type:{type:Number,default:2},width:{type:Number,default:70},height:{type:Number,default:70},lottieUrl:{type:String,default:""},loopLottie:{type:Boolean,default:!1}},computed:{emoticonStyle:function(){return console.info("对象函数 emoticonStyle,filePath:renderer/SmallClass/components/VideoGroup/StudentTool/LottieEmoticon/index.vue"),{width:"".concat(this.width/100,"rem"),height:"".concat(this.height/100,"rem")}}},methods:{onLottieComplete:function(){console.info("对象函数 onLottieComplete,filePath:renderer/SmallClass/components/VideoGroup/StudentTool/LottieEmoticon/index.vue"),this.$emit("animationComplete")}},watch:{lottieUrl:function(e){var t=this;e&&this.$nextTick((function(){return t.$refs.emoji.load(e)}))}}},_h=Gh,Hh=Object(q["a"])(_h,Uh,Wh,!1,null,null,null),Qh=Hh.exports,Jh=function(){var e=this,t=e._self._c;return t("img",{staticClass:"mb-[0.04rem]",style:e.emoticonStyle,attrs:{src:e.lottieUrl},on:{mouseover:e.handleMouseover,mouseleave:e.handleMouseleave,click:function(t){return t.stopPropagation(),e.handleClick.apply(null,arguments)}}})},qh=[],Kh={props:{type:{type:Number,default:3},name:{type:String,default:""},width:{type:Number,default:30},height:{type:Number,default:30},hoverWidth:{type:Number,default:34},hoverHeight:{type:Number,default:34},enableHover:{type:Boolean,default:!1},lottieUrl:{type:String,default:""}},computed:{emoticonStyle:function(){return console.info("对象函数 emoticonStyle,filePath:renderer/SmallClass/components/VideoGroup/StudentTool/PictureEmoticon/index.vue"),{width:"".concat(this.width/100,"rem"),height:"".concat(this.height/100,"rem")}},emotionHoverStyle:function(){return console.info("对象函数 emotionHoverStyle,filePath:renderer/SmallClass/components/VideoGroup/StudentTool/PictureEmoticon/index.vue"),{width:"".concat(this.hoverWidth/100,"rem"),height:"".concat(this.hoverHeight/100,"rem")}}},data:function(){return{hoverStatus:!1}},methods:{handleMouseover:function(){console.info("对象函数 handleMouseover,filePath:renderer/SmallClass/components/VideoGroup/StudentTool/PictureEmoticon/index.vue"),this.enableHover&&(this.hoverStatus=!0)},handleMouseleave:function(){console.info("对象函数 handleMouseleave,filePath:renderer/SmallClass/components/VideoGroup/StudentTool/PictureEmoticon/index.vue"),this.enableHover&&(this.hoverStatus=!1)},handleClick:function(){console.info("对象函数 handleClick,filePath:renderer/SmallClass/components/VideoGroup/StudentTool/PictureEmoticon/index.vue"),this.$emit("handleClick",{type:this.type,name:this.name})}}},$h=Kh,zh=Object(q["a"])($h,Jh,qh,!1,null,null,null),Yh=zh.exports,Xh={components:{Emoticon:Fh,LottieEmoticon:Qh,PictureEmoticon:Yh},props:{userId:{type:String,default:""},name:{type:String,default:""},type:{type:Number,default:1},loopLottie:{type:Boolean,default:!1},width:{type:Number,default:50},height:{type:Number,default:50},duration:{type:Number,default:3},lottieUrl:{type:String,default:""},emojiId:{type:Number,default:0},willAutoClear:{type:Boolean,default:!1}},data:function(){return{emoticonName:"",timer:null}},computed:{show:function(){return console.info("对象函数 show,filePath:renderer/SmallClass/components/VideoGroup/StudentTool/EmoticonMessage/index.vue"),!!this.emoticonName}},methods:{animationComplete:function(){console.info("对象函数 animationComplete,filePath:renderer/SmallClass/components/VideoGroup/StudentTool/EmoticonMessage/index.vue"),this.willAutoClear&&(this.emoticonName="",this.$emit("clearEmoticon",this.userId))},clearTimer:function(){console.info("对象函数 clearTimer,filePath:renderer/SmallClass/components/VideoGroup/StudentTool/EmoticonMessage/index.vue"),this.timer&&(clearTimeout(this.timer),this.timer=null)}},watch:{name:{immediate:!0,handler:function(e){var t=this;console.info("对象函数 handler(newVal)",e,"filePath:renderer/SmallClass/components/VideoGroup/StudentTool/EmoticonMessage/index.vue"),e&&(this.emoticonName=e,this.clearTimer(),1!==this.type&&3!==this.type||(this.timer=setTimeout((function(){t.willAutoClear&&(t.emoticonName="",t.$emit("clearEmoticon",t.userId))}),1e3*this.duration)))}}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/SmallClass/components/VideoGroup/StudentTool/EmoticonMessage/index.vue"),this.clearTimer()}},Zh=Xh,em=Object(q["a"])(Zh,Bh,Lh,!1,null,null,null),tm=em.exports,nm=Object(v["c"])({name:"StudentTool",components:{MedalIcon:kh,RaiseHandMessage:Th,EmoticonMessage:tm},props:{id:{type:String,default:""}},setup:function(e){var t=Object(v["d"])(),n=t.proxy.$store,s=Object(v["a"])((function(){return n.state.smallClass.studentList})),a=Object(v["a"])((function(){return s.value.find((function(t){return t.userId==e.id}))})),i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.info("箭头函数 updateStudentList(data)",t,"filePath:renderer/SmallClass/components/VideoGroup/StudentTool/index.vue"),n.dispatch("smallClass/updateStudentList",{uid:e.id,data:t})},o=function(){console.info("箭头函数 hideHand,filePath:renderer/SmallClass/components/VideoGroup/StudentTool/index.vue"),i({raiseHandStatus:!1})},r=function(){console.info("箭头函数 handleClearEmoticon,filePath:renderer/SmallClass/components/VideoGroup/StudentTool/index.vue");var e={emoticonName:"",emoticonType:1,lottieUrl:"",emojiId:""};i(e)};return{stuInfo:a,hideHand:o,handleClearEmoticon:r}}}),sm=nm,am=Object(q["a"])(sm,vh,Ch,!1,null,null,null),im=am.exports,om=Object(v["c"])({name:"Video",components:{InfoBar:ch,StudentTool:im},setup:function(){var e=Object(v["d"])(),t=e.proxy,n=t.thinkClass,s=t.$store,a=t.$bus,i=Object(v["a"])((function(){return s.state.smallClass.microphoneStatus})),o=Object(v["a"])((function(){return s.state.smallClass.cameraStatus})),r=Object(v["a"])((function(){return s.state.smallClass.wallRandomCallStatus})),c=Object(v["a"])((function(){return s.state.smallClass.baseData})),l=Object(v["a"])((function(){return s.state.smallClass.studentList})),u=Object(v["a"])((function(){return l.value.find((function(e){return e.userId==c.value.stuInfo.id}))})),d=Object(v["a"])((function(){return u.value.inClass&&!r.value&&o.value&&!u.value.multVideoLinkStatus})),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.$emit("rtcStatusChange",e)},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.dispatch("smallClass/updateStudentList",{uid:u.value.userId,data:e})},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";F["a"].send({tag:"videoGroup",level:t,content:{msg:e}})},p=Object(v["a"])((function(){return ah.nameInfo}));Object(v["l"])((function(){return[u.value.inClass,o.value]}),(function(e,t){var n=e&&t;h({displayVideo:n,micIsOpen:i.value}),f("本地视频是否在教室: ".concat(e,", 开关状态: ").concat(t))}),{immediate:!0}),Object(v["l"])((function(){return d.value}),(function(e){if(e)Object(v["e"])((function(){var e=document.getElementById("video-group-local");e?n.RtcService.createLocalVideo("video-group-local"):f("本地视频dom不存在","error")}));else{var t=document.getElementById("video-group-local");t&&(t.innerHTML="")}}),{immediate:!0}),Object(v["l"])((function(){return i.value}),(function(e){n.RtcService.muteLocalAudio(!e),h({displayVideo:o.value,micIsOpen:e}),f("本地音频开关状态, status: ".concat(e))}));var g=function(){a.$on("getLocalDisplayVideoStatus",(function(e){e&&e(o.value)})),a.$on("chats.correctSelfMedalData",(function(e){m({level:e.level})})),a.$on("sendEmoji",(function(e){var t={emoticonName:e.name,emoticonType:e.type};2!=e.type&&3!=e.type||(t=Object.assign(t,{lottieUrl:e.lottieUrl,emojiId:e.emojiId})),m(t)})),a.$on("sendRaiseHand",(function(e){m({raiseHandStatus:e})}))},C=function(){g()};return C(),{self:u,renderVideo:d,infoType:p,microphoneStatus:i}}}),rm=om,cm=Object(q["a"])(rm,ph,gh,!1,null,null,null),lm=cm.exports,um=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.myChildInfo&&e.myChildInfo.inClass?t("RemoteVideoItem",{key:e.myChildInfo.userId,attrs:{remoteStuInfo:e.myChildInfo,hideRemoteVideo:!1,remoteAudioStatus:!0}}):t("OfflineVideo",{attrs:{name:e.nickName}})},dm=[],hm=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"relative w-[1.32rem] h-[1.32rem] overflow-hidden bg-contain bg-student-bg",attrs:{id:"remote-observe-".concat(e.stuInfo.userId),"data-id":e.stuInfo.userId}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.renderVideo,expression:"renderVideo"}],staticClass:"h-full w-full",attrs:{id:"remote-"+e.stuInfo.userId}}),e.renderVideo?e._e():t("div",{staticClass:"flex justify-center w-full h-full bg-contain bg-no-repeat items-center"},[e.stuInfo.multVideoLinkStatus?t("img",{staticClass:"w-[0.54rem] h-[0.62rem]",attrs:{src:n("bf79")}}):t("img",{staticClass:"relative top-[cacl(50% - 0.22rem)] rounded-full w-[0.56rem] h-[0.56rem]",attrs:{src:e.stuInfo.avatar}})]),t("InfoBar",{attrs:{showType:e.infoType,name:e.stuInfo.stuName,microphoneStatus:e.stuInfo.microphoneStatus,showMicrophone:e.remoteAudioStatus}}),t("StudentTool",{attrs:{id:e.stuInfo.userId}})],1)},mm=[],fm=Object(v["c"])({name:"Video",components:{InfoBar:ch,StudentTool:im},props:{remoteStuInfo:{type:Object,default:null},hideRemoteVideo:{type:Boolean,default:null},remoteAudioStatus:{type:Boolean,default:!1}},setup:function(e){var t=Object(v["d"])(),n=t.proxy,s=n.thinkClass,a=n.$bus,i=Object(v["a"])((function(){return e.remoteStuInfo})),o=Object(v["k"])(i.value),r=o.isIntersecting,c=o.mutedVideoStatus,l=o.multVideoLinkStatus,u=o.cameraStatus,d=o.userId,h=Object(v["a"])((function(){return r.value&&!c.value&&!l.value&&u.value&&!e.hideRemoteVideo})),m=Object(v["a"])((function(){return ah.nameInfo}));Object(v["l"])((function(){return h.value}),(function(e){if(e)Object(v["e"])((function(){var e=document.getElementById("remote-".concat(d.value));e&&e.innerHTML?console.warn("当前已创建学生视频，禁止重复触发,uid：".concat(d.value)):s.RtcService.createRemoteVideo(d.value,"remote-".concat(d.value))}));else{if(l.value)return;Object(v["e"])((function(){var e=document.getElementById("remote-".concat(d.value));e&&(e.innerHTML="")}))}}),{immediate:!0});var f=function(e,t){console.info("箭头函数 triggerToggleObserver(uid, status)",e,t,"filePath:renderer/SmallClass/components/VideoGroup/RemoteVideo/RemoteVideoItem.vue"),a.$emit("toggleObserver",e,t)};return Object(v["g"])((function(){f(d.value,!0)})),Object(v["f"])((function(){f(d.value,!1)})),{renderVideo:h,stuInfo:i,infoType:m}}}),pm=fm,gm=Object(q["a"])(pm,hm,mm,!1,null,null,null),vm=gm.exports,Cm=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"relative w-[1.32rem] h-[1.32rem] flex overflow-hidden justify-center"},[t("div",{staticClass:"text-middle text-white text-center leading-[1.32rem]"},[e._v(" "+e._s(e.$t("classroom.smallClass.videoGroup.localVideoAudition.offline"))+" ")]),t("InfoBar",{attrs:{showType:e.showBarType.nameInfo,name:e.name}})],1)},bm=[],Am=Object(v["c"])({name:"OffLineVideo",props:{name:{type:String,default:""}},components:{InfoBar:ch},setup:function(){return{showBarType:ah}}}),Sm=Am,wm=(n("1a4e"),Object(q["a"])(Sm,Cm,bm,!1,null,"7713e196",null)),ym=wm.exports,km=Object(v["c"])({name:"Video",components:{OfflineVideo:ym,RemoteVideoItem:vm},setup:function(){var e=Object(v["d"])(),t=e.proxy.$store,n=Object(v["a"])((function(){return t.state.smallClass.baseData})),s=Object(v["a"])((function(){return n.value.commonOption.nickName})),a=Object(v["a"])((function(){return t.state.smallClass.studentList})),i=Object(v["a"])((function(){return a.value.find((function(e){return e.currentParentsChild}))}));return{myChildInfo:i,nickName:s}}}),Im=km,xm=Object(q["a"])(Im,um,dm,!1,null,null,null),Om=xm.exports,Pm=n("4b9d"),jm=Object(v["c"])({name:"LocalVideo",components:{StudentVideo:lm,ParentVideo:Om,AuditionVideo:Pm["default"]},setup:function(){var e=Object(v["d"])(),t=e.proxy,n=t.thinkClass,s=t.$store,a=t.$bus,i=Object(v["a"])((function(){return s.state.smallClass.baseData})),o=Object(v["a"])((function(){return i.value.commonOption.isParent})),r=Object(v["a"])((function(){return i.value.commonOption.nickName})),c=Object(v["a"])((function(){return i.value.commonOption.isAudition&&!o.value})),l=Object(v["a"])((function(){return i.value.commonOption.stuId})),u=Object(v["a"])((function(){return s.state.smallClass.studentList})),d=Object(v["a"])((function(){return i.value.configs.rtcConfig.teacherUid})),h=function(e){e.pub?(s.dispatch("smallClass/updatePrivateChatInfo",e),l.value==e.userId?u.value.forEach((function(t){t.userId!=e.userId&&n.RtcService.muteRemoteAudio(t.userId,!0)})):(n.RtcService.muteRemoteAudio(d.value,!0),n.RtcService.muteRemoteAudio(e.userId,!0))):(s.dispatch("smallClass/updatePrivateChatInfo",{}),l.value==e.userId?u.value.forEach((function(t){t.userId!=e.userId&&n.RtcService.muteRemoteAudio(t.userId,!1)})):(n.RtcService.muteRemoteAudio(d.value,!1),n.RtcService.muteRemoteAudio(e.userId,!1)))};return a.$on("changeAudioStatus",h),a.$on("cameraStatus",(function(e){n.RtcService.muteLocalVideo(e)})),{isParent:o,nickName:r,isAudition:c}}}),Tm=jm,Bm=Object(q["a"])(Tm,mh,fh,!1,null,null,null),Lm=Bm.exports,Mm=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{ref:"showBox",staticClass:"relative overflow-hidden flex items-center flex-grow",on:{mouseenter:e.enterVideoGroup,mouseleave:e.leaveVideoGroup}},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.canScroll,expression:"!canScroll"}],staticClass:"absolute flex overflow-hidden w-full"},e._l(8,(function(e){return t("FillRemoteVIdeoItem",{key:e,staticClass:"mr-[2px] last:mr-0"})})),1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.arrowShow.pre,expression:"arrowShow.pre"}],staticClass:"w-[0.16rem] h-[0.36rem] absolute bg-black/40 left-[4px] z-10 rounded-[0.02rem] flex justify-center items-center cursor-pointer",on:{click:function(t){return e.pageChange("pre")}}},[t("img",{staticClass:"w-[0.08rem] h-[0.14rem]",attrs:{src:n("674f")}})]),t("div",{ref:"scroll",staticClass:"relative flex overflow-hidden remote-video-wrapper w-full"},[t("div",{ref:"allRemoteBox",staticClass:"flex"},e._l(e.inClassStudentList,(function(n){return t("RemoteVideoItem",{key:n.userId,staticClass:"mr-[2px] last:mr-0",attrs:{remoteStuInfo:n,remoteAudioStatus:e.remoteAudioStatus,hideRemoteVideo:e.hideRemoteVideo}})})),1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.arrowShow.next,expression:"arrowShow.next"}],staticClass:"w-[0.16rem] h-[0.36rem] absolute bg-black/40 right-[4px] z-10 rounded-[0.02rem] flex justify-center items-center cursor-pointer",on:{click:function(t){return e.pageChange("next")}}},[t("img",{staticClass:"w-[0.08rem] h-[0.14rem]",attrs:{src:n("9472")}})])])},Rm=[],Em=function(){var e=this,t=e._self._c;return t("div",{staticClass:"relative w-[1.32rem] h-[1.32rem] overflow-hidden bg-contain bg-student-bg flex-shrink-0"})},Dm=[],Nm={},Vm=Object(q["a"])(Nm,Em,Dm,!1,null,null,null),Fm=Vm.exports,Um=n("229e"),Wm=n("0d3b"),Gm=Object(v["c"])({name:"Video",components:{InfoBar:ch,RemoteVideoItem:vm,FillRemoteVIdeoItem:Fm},setup:function(){var e=Object(v["d"])(),t=e.proxy,n=t.$store,s=t.$bus,a=t.$refs,i=Object(v["a"])((function(){return n.state.smallClass.wallRandomCallStatus})),o=Object(v["a"])((function(){return n.state.smallClass.studentList})),r=Object(v["a"])((function(){return o.value.filter((function(e){return e.inClass&&!e.isSelf}))})),c=Object(v["a"])((function(){return r.value.length>7})),l=Object(v["j"])(!1);s.$on("setExaminationStatus",(function(e){l.value=e}));var u=Object(v["a"])((function(){return i.value||l.value})),d=Object(v["a"])((function(){return n.state.smallClass.remoteAudioStatus})),h=null,m=function(e,t){n.dispatch("smallClass/updateStudentList",{uid:e,data:t})},f=function(){h=new IntersectionObserver((function(e){var t,n=Object(Qc["a"])(e);try{for(n.s();!(t=n.n()).done;){var s=t.value,a=s.target.dataset.id;m(a,{isIntersecting:s.isIntersecting})}}catch(i){n.e(i)}finally{n.f()}}),{root:document.querySelectorAll(".remote-video-wrapper")[0],threshold:0})},p=function(e,t){var n=document.querySelector("#remote-observe-".concat(e));t?n&&h.observe(n):n&&h.unobserve(n),Object(v["e"])((function(){g.refresh(),w&&I()}))};s.$on("toggleObserver",p);var g=null;Um["a"].use(Wm["a"]),f();var C=function(){var e=a.allRemoteBox.children;if(e.length>0){var t=e[0].getBoundingClientRect(),n=a.showBox.getBoundingClientRect(),s=Math.floor(n.width/t.width);return s}return!1},b=function(){for(var e=0,t=0;t<r.value.length;t++)if(r.value[t].isIntersecting){e=t;break}return e},A=function(e){var t=C(),n=b(),s="pre"==e?-1:1,a=n+s*t;"pre"==e&&a<0&&(a=0),"next"==e&&a>r.value.length-1&&(a=r.value.length-1);var i=r.value[a].userId,o=document.getElementById("remote-observe-".concat(i));g.scrollToElement(o),I()},S=Object(v["i"])({pre:!1,next:!1}),w=!1,y=function(){w=!0,I()},k=function(){w=!1,x()},I=function(){var e=a.allRemoteBox.getBoundingClientRect(),t=a.showBox.getBoundingClientRect();S.pre=e.left<t.left,S.next=e.right>t.right+1},x=function(){S.pre=!1,S.next=!1};return Object(v["g"])((function(){g=new Um["a"](a.scroll,{scrollX:!0,scrollY:!1,mouseWheel:!0,disableMouse:!1,disableTouch:!1,bounce:!1,throttleTime:300}),g.on("mousewheelMove",(function(){I()}))})),Object(v["f"])((function(){h&&h.disconnect(),g&&g.destroy()})),{inClassStudentList:r,remoteAudioStatus:d,hideRemoteVideo:u,pageChange:A,arrowShow:S,canScroll:c,enterVideoGroup:y,leaveVideoGroup:k}}}),_m=Gm,Hm=Object(q["a"])(_m,Mm,Rm,!1,null,null,null),Qm=Hm.exports,Jm=Object(v["c"])({name:"VideoGroup",components:{TeacherVideo:hh,LocalVideo:Lm,RemoteVideo:Qm},setup:function(){var e=Object(v["d"])(),t=e.proxy,n=t.thinkClass,s=t.$store,a=t.$bus,i=Object(v["a"])((function(){return s.state.smallClass.baseData.commonOption})),o=Object(v["a"])((function(){return i.value.isParent})),r=Object(v["a"])((function(){return s.state.smallClass.canShowOtherChild}));a.$on("liveQuit",(function(){console.info("箭头函数 监听 liveQuit,filePath:renderer/SmallClass/components/VideoGroup/index.vue"),n.RtcService.unpublish(),n.RtcService.leaveChannel()}));var c=function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(){var t,n,s,a,o,r=arguments;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},console.info("箭头函数 sendRtcStatus(options)",t,"filePath:renderer/SmallClass/components/VideoGroup/index.vue"),n=-1,e.next=5,Object(jt["c"])();case 5:return s=e.sent,e.next=8,Object(jt["f"])();case 8:if(a=e.sent,s&&(n=1),a&&(n=2),s&&a&&(n=3),-1!=n){e.next=14;break}return e.abrupt("return");case 14:return o={planId:i.value.planId,classId:i.value.classId,status:n,micPermission:a?1:2,cameraPermission:s?1:2,micIsOpen:a?1:2,cameraIsOpen:s?1:2},"boolean"===typeof t.micIsOpen&&(o["micIsOpen"]=t.micIsOpen?1:2),"boolean"===typeof t.displayVideo&&(o["cameraIsOpen"]=t.displayVideo?1:2),e.next=19,Object(ya["t"])(o);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.$on("rtcStatusChange",c),Object(v["g"])((function(){c()})),{canShowOtherChild:r,isParent:o}}}),qm=Jm,Km=Object(q["a"])(qm,Jd,qd,!1,null,null,null),$m=Km.exports,zm=function(){var e=this,t=e._self._c;return t("div",{ref:"ppt-area",staticClass:"ppt-area-container",attrs:{id:"ppt-area-container"}},[e.teacherJoinChannelStatus?e._e():t("ClassSoon"),t("H5Courseware",{ref:"h5CoursewareMain",on:{changePageId:e.changePageId}})],1)},Ym=[],Xm=function(){var e=this,t=e._self._c;return t("div",{staticClass:"h5coursewareContainer",class:{topZindex:"error"===e.coursewareState},attrs:{id:"h5coursewareContainer"}},[t("NeLoading",{attrs:{visible:"loading"===e.coursewareState}}),t("NeDialog",{attrs:{visible:"error"===e.coursewareState}},[t("h3",[e._v(" "+e._s(e.$t("classroom.modules.courseware.errorNotice")[0])+" ")]),t("p",[e._v(" "+e._s(e.$t("classroom.modules.courseware.errorNotice")[1])),t("br"),e._v(" "+e._s(e.$t("classroom.modules.courseware.errorNotice")[2])+" ")]),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("button",{staticClass:"button",on:{click:e.reloadCourseWare}},[e._v(" "+e._s(e.$t("common.reload"))+" ")])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.screenShareStatus,expression:"screenShareStatus"}],staticClass:"screen-share-class",attrs:{id:e.screenDomID}}),e.blackBoardImg?t("img",{staticClass:"blackBoardImg",attrs:{src:e.blackBoardImg}}):e._e(),t("ShowPhotoWall",{directives:[{name:"show",rawName:"v-show",value:e.photoWallImg,expression:"photoWallImg"}],attrs:{photoWallImg:e.photoWallImg,likeContainer:"interactionController"}}),t("div",{ref:"h5courseware",class:["h5courseware","noCourseware"===e.coursewareState?"coursewareBg":""],attrs:{id:"h5CoursewareContent"}},["noCourseware"===e.coursewareState?t("div",{staticClass:"tip"},[e._v(" "+e._s(e.$t("courses.noCoursesWare"))+" ")]):e._e()])],1)},Zm=[],ef=n("1bff"),tf=n.n(ef),nf=function(){var e=this,t=e._self._c;return e.visible?t("div",{staticClass:"game-courseware-mask-bg",class:e.showCover},[e._m(0)]):e._e()},sf=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"loading-contenter"},[t("div",{staticClass:"loading-logo"}),t("div",{staticClass:"loading-animation"})])}],af={name:"NeLoading",props:{visible:{type:Boolean,default:!1},cover:{type:Boolean,default:!0}},computed:{showCover:function(){return console.info("对象函数 showCover,filePath:renderer/SmallClass/components/Courseware/H5courseware/loading/index.vue"),this.cover?"":"no-mask"}}},of=af,rf=(n("42b1"),Object(q["a"])(of,nf,sf,!1,null,"61861ec2",null)),cf=rf.exports,lf=function(){var e=this,t=e._self._c;return e.visible?t("div",{staticClass:"game-courseware-mask-bg"},[t("div",{staticClass:"dialog-contenter"},[t("div",{staticClass:"ne-dialog--body"},[e._t("default")],2),e.$slots.footer?t("div",{staticClass:"ne-dialog--footer"},[e._t("footer")],2):e._e()])]):e._e()},uf=[],df={name:"NeLoading",props:{visible:{type:Boolean,default:!1}}},hf=df,mf=(n("49b8"),Object(q["a"])(hf,lf,uf,!1,null,"3c39d64b",null)),ff=mf.exports,pf=function(){var e=this,t=e._self._c;return t("div",{ref:"showPhotoWall",staticClass:"showPhotoWall"},[t("NeLoading",{attrs:{visible:e.photoLoading,cover:!1}}),e.photoLoading?e._e():t("img",{ref:"photoImg",attrs:{src:e.photoWallImg}})],1)},gf=[],vf=n("b795"),Cf=n.n(vf),bf=n("8bac8"),Af=n.n(bf),Sf=n("2b84"),wf=n.n(Sf),yf=n("547b"),kf=n.n(yf),If=n("8d1d"),xf=n.n(If),Of=n("ec623"),Pf=n.n(Of),jf=n("31e2"),Tf=n.n(jf),Bf=n("ed42"),Lf=n.n(Bf),Mf={name:"showPhotoWall",data:function(){return{photoLoading:!0}},props:{photoWallImg:{type:String,default:""},likeContainer:{type:String,default:""}},components:{NeLoading:cf},methods:{handlePhotoWall:function(e){var t=this;console.info("对象函数 handlePhotoWall(imgUrl)",e,"filePath:renderer/SmallClass/components/Courseware/H5courseware/showPhotoWall.vue"),this.photoLoading=!0;var n=this.$store.state.smallClass.baseData.commonOption.isAudition;n||this.createLikeContainer();var s=new Image;s.src=e,s.onload=function(){var e=document.getElementById("photoWallLikeContainer");e&&(e.style.display="block"),t.photoLoading=!1}},createLikeContainer:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n,s;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.info("对象函数 createLikeContainer,filePath:renderer/SmallClass/components/Courseware/H5courseware/showPhotoWall.vue"),n=document.getElementById("photoWallLikeContainer"),!n){t.next=4;break}return t.abrupt("return");case 4:s=document.createElement("div"),s.setAttribute("id","photoWallLikeContainer"),s.setAttribute("class","photoWallLikeContainer"),s.innerHTML='<div class="likeBtn" id="likeBtn">\n        <img src="'.concat(Lf.a,'" id="heart" />\n      </div>'),document.getElementById(e.likeContainer).appendChild(s),Cf.a.init({icons:[Pf.a,Af.a,wf.a,kf.a,Tf.a,xf.a],btnDom:"likeBtn",flyDom:"photoWallLikeContainer",className:"fly",width:200,height:600});case 10:case"end":return t.stop()}}),t)})))()},destroyLike:function(){return Object(O["a"])(Object(x["a"])().mark((function e(){var t;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.info("对象函数 destroyLike,filePath:renderer/SmallClass/components/Courseware/H5courseware/showPhotoWall.vue"),t=document.getElementById("photoWallLikeContainer"),t&&t.parentNode.removeChild(t),Cf.a.destroy();case 4:case"end":return e.stop()}}),e)})))()}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/SmallClass/components/Courseware/H5courseware/showPhotoWall.vue"),this.destroyLike()},watch:{photoWallImg:function(e){console.info("对象函数 photoWallImg(val)",e,"filePath:renderer/SmallClass/components/Courseware/H5courseware/showPhotoWall.vue"),e?this.handlePhotoWall(e):this.destroyLike()}}},Rf=Mf,Ef=(n("c770"),n("9761"),Object(q["a"])(Rf,pf,gf,!1,null,"35573af0",null)),Df=Ef.exports,Nf={data:function(){return{baseData:this.$store.state.smallClass.baseData,coursewareInfo:null,coursewarePlayer:null,coursewareState:"loading",blackBoardImg:null,photoWallImg:null,localUrl:null,pageId:0,currentCourseWareData:{},screenShareStatus:!1,screenShareBeginTime:0,screenVideoShow:!1}},components:{NeLoading:cf,NeDialog:ff,ShowPhotoWall:Df},computed:{teacherShareUid:function(){return this.baseData.configs.rtcConfig.teacherShareUid},screenDomID:function(){return"screenShare-".concat(this.baseData.configs.rtcConfig.teacherShareUid)}},created:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n,s,a,i,o,r;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(W["q"])("planId"),t.next=3,A["nativeApi"].getClientInfo();case 3:return s=t.sent,a=s.CW_SERVER_ADDRESS,i=s.CW_WEBROOT,t.next=8,Object(Rn["b"])(1*n);case 8:if(o=t.sent,0===o.code){t.next=13;break}return e.coursewareState="error",e.sendLogger("课件信息接口返回错误",{courseware:o},"error"),t.abrupt("return");case 13:if(0!==o.data.list.length){t.next=19;break}return e.coursewareState="noCourseware",e.$bus.$emit("corewareLoadStatus",{status:"loaded"}),e.sendLogger("课件接口返回课件为空","error"),e.$emit("courseWareReady",!0),t.abrupt("return");case 19:if(o.data.list.forEach((function(t){16==t.id&&(e.coursewareInfo=t)})),e.coursewareInfo){t.next=24;break}return e.coursewareState="error",e.sendLogger("没有主讲课件","error"),t.abrupt("return");case 24:if(2===e.coursewareInfo.detail.compressState){t.next=28;break}return e.coursewareState="error",e.sendLogger("课件没有同步完成,status:".concat(e.coursewareInfo.detail.compressState),"error"),t.abrupt("return");case 28:return t.next=30,Object(tc["a"])(e.coursewareInfo.detail.baseZipUrl,e.coursewareInfo.detail.baseZipMd5,i);case 30:r=t.sent,e.localUrl=r?"".concat(a).concat(e.coursewareInfo.detail.catalog,"/index.html"):"",e.sendLogger("课件加载地址",{localUrl:e.localUrl},"error"),e.initCoursewareParams={role:"student",screenWidth:"100%",screenHeight:"100%",itsId:e.coursewareInfo.detail.id,localUrl:e.localUrl,remoteUrl:[e.coursewareInfo.detail.compressIndexUrl].concat(Object(_e["a"])(e.coursewareInfo.detail.compressIndexUrlSpareList)),onEvent:e.onEvent.bind(e),showPagePercent:30,gameTip:e.$t("classroom.smallClass.coursewareBoard.gameConfig.gameTip"),gameToast:e.$t("classroom.smallClass.coursewareBoard.gameConfig.gameToast"),getLatestItsMessage:function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(t){var n;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{n=n&&JSON.parse(n),t(n)}catch(s){console.error("error latest message",n,s)}case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},e.$nextTick((function(){e.coursewarePlayer=tf.a.getPlayer("student",e.$refs.h5courseware),e.sendLogger("开始初始化课件"),e.coursewarePlayer.init(e.initCoursewareParams)}));case 35:case"end":return t.stop()}}),t)})))()},mounted:function(){this.$bus.$on("teachrLiveCloseScreenShare",this.handleTeachrLiveCloseScreenShare),this.$bus.$on("canvas_switch_courseware",this.handleSwitchCourseware)},beforeDestroy:function(){this.$bus.$off("teachrLiveCloseScreenShare",this.handleTeachrLiveCloseScreenShare),this.$bus.$off("canvas_switch_courseware",this.handleSwitchCourseware)},methods:{handleTeachrLiveCloseScreenShare:function(){this.screenShareStatus&&(this.sendLogger("关闭屏幕共享"),this.screenShareStateChange(!1))},onEvent:function(e,t){switch(e){case"error":this.handleError(t);break;case"loadingProgress":this.handleLoadingProgress(t);break;case"statusChange":this.handleStatusChange(t);break;case"pageChangeToTeacher":break;default:this.handleDefault(e,t);break}},handleDefault:function(e,t){"catalogueChange"===e?this.sendLogger("课件event",{event:e,data:t.pages.length},"warn"):this.sendLogger("课件event",{event:e,data:t},"warn")},handleError:function(e){this.coursewareState="error",this.sendLogger("iframe 加载失败",{data:e},"error")},handleLoadingProgress:function(e){this.sendLogger("课件加载中",{data:e}),e.loaded/e.total*100>=this.initCoursewareParams.showPagePercent?this.coursewareState="loaded":this.coursewareState="loading"},handleStatusChange:function(e){this.sendLogger("课件加载状态改变",{data:e}),this.$bus.$emit("corewareLoadStatus",e),"loaded"===e.status&&this.sendLogger("课件加载成功",{data:e})},handleSwitchCourseware:function(e){if(e&&e.currentCourseWare){this.currentCourseWareData=e.currentCourseWare;var t=e.currentCourseWare,n=t.blackBoardType,s=t.imgUrl,a=t.jsString,i=t.photoWallImageArray,o=t.pageId;this.$bus.$emit("photoWallShow",!1),this.blackBoardImg=this.photoWallImg="",1===n&&s&&(this.blackBoardImg=s),3===n&&i&&(this.photoWallImg=i[0],this.$bus.$emit("photoWallShow",!0)),9===n&&(this.screenShareStateChange(!0),this.beginScreeShare()),0===n&&this.screenShareStatus&&this.screenShareStateChange(!1),0===n&&a&&this.coursewarePlayer&&this.coursewarePlayer.handleRoomItsMessage(JSON.parse(a)),this.pageId=o,this.$emit("changePageId",o,this.currentCourseWareData)}},reloadCourseWare:function(){this.coursewareState="loading",this.coursewarePlayer&&this.coursewarePlayer.reloadIts()},sendLogger:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";"string"===typeof t&&(n=t),F["a"].send({tag:"coursewareLoad",content:{msg:e,param:t},level:n})},screenShareStateChange:function(e){if(!e){var t=this.thinkClass.RtcService;t.destroyRemoteVideo(this.teacherShareUid)}this.screenShareStatus=e},beginScreeShare:function(){var e=this,t=this.thinkClass.RtcService;setTimeout((function(){var n=document.getElementById(e.screenDomID);n&&n.innerHTML||(t.createRemoteVideo(e.teacherShareUid,e.screenDomID),t.setupViewContentMode(e.teacherShareUid,1))}),100)}}},Vf=Nf,Ff=(n("8651"),Object(q["a"])(Vf,Xm,Zm,!1,null,"ef67be7e",null)),Uf=Ff.exports,Wf=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wait-teacher"},[t("div",{staticClass:"wait-dialog"},[t("div",{staticClass:"notice-content"},[e._v(" "+e._s(e.$t("classroom.smallClass.coursewareBoard.classSoonNotice"))+" ")])])])},Gf=[],_f={components:{},data:function(){return{}},mounted:function(){},methods:{}},Hf=_f,Qf=(n("5b64"),Object(q["a"])(Hf,Wf,Gf,!1,null,"a791f8f8",null)),Jf=Qf.exports,qf={name:"CoursewareBoard",components:{ClassSoon:Jf,H5Courseware:Uf},computed:{teacherJoinChannelStatus:function(){return console.log("this.$store.state.smallClass.teacherMsg.inClass",this.$store.state.smallClass.teacherMsg.inClass),!0===this.$store.state.smallClass.teacherMsg.inClass}},methods:{changePageId:function(e,t){var n=this;this.$nextTick((function(){n.$bus.$emit("changePageId",e,t)}))}}},Kf=qf,$f=(n("bfc2"),Object(q["a"])(Kf,zm,Ym,!1,null,"25dcdd0e",null)),zf=$f.exports,Yf=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"header-container flex justify-between items-center"},[t("p",{staticClass:"plan-name font-normal flex-1"},[e._v(e._s(e.baseData.planInfo.name))]),t("div",{staticClass:"right-tools flex items-center"},[e.baseData.commonOption.isAudition?e._e():t("Coins"),e.baseData.commonOption.isAudition?e._e():t("div",{staticClass:"divider"}),t("NetworkStatus"),t("Tooltip",{attrs:{placement:"bottom"}},[t("template",{slot:"title"},[t("span",[e._v(e._s(e.$t("classroom.smallClass.screenShot.buttonName")))])]),t("div",{staticClass:"button button-screenShot",attrs:{"data-log":"课中截图"},on:{click:e.handleScreenshot}})],2),t("Tooltip",{attrs:{placement:"bottom"}},[t("template",{slot:"title"},[t("span",[e._v(e._s(e.$t("classroom.smallClass.homework.buttonName")))])]),"uk"==e.local||e.isAudition?e._e():t("div",{staticClass:"button button-assignmentBox",class:{"message-tip":e.showNewMessageTip},attrs:{"data-log":"作业盒子","data-name":"button-assignmentBox"},on:{click:e.handleAssignmentBox}})],2),t("Tooltip",{attrs:{placement:"bottom"}},[t("template",{slot:"title"},[t("span",[e._v(e._s(e.$t("classroom.smallClass.examReport.buttonName")))])]),e.reportBtnVisible&&!e.isAudition?t("div",{staticClass:"button button-examReport",attrs:{"data-log":"课中考试报告"},on:{click:e.handleExamReport}}):e._e()],2),t("div",{staticClass:"relative"},[e.isAudition?e._e():t("div",{staticClass:"button button-more",class:{"button-more-hover":e.isShowMoreTools},attrs:{"data-log":"更多菜单","data-name":"button-more"},on:{click:e.handleMore}}),e.isShowMoreTools?t("div",{staticClass:"more-menu"},[t("div",{attrs:{id:"switch-carema"}},[t("SwitchCamera")],1),t("div",{attrs:{"data-log":"硬件测试"},on:{click:e.handleDeviceTest}},[e._v(" "+e._s(e.$t("classroom.modules.deviceTest.dialogTitle"))+" ")]),t("div",{attrs:{"data-log":"问题反馈"},on:{click:e.handleFeedback}},[e._v(" "+e._s(e.$t("classroom.smallClass.feedback.buttonName"))+" ")])]):e._e()]),t("div",{staticClass:"button button-exit",attrs:{"data-log":"课中退出按钮"},on:{click:e.handleExit}})],1),t("DeviceTest"),t("Feedback"),t("ExamReport")],1)},Xf=[],Zf=(n("9a33"),n("f933")),ep=function(){var e=this,t=e._self._c;return t("div",{staticClass:"coins-container"},[t("div",{staticClass:"coins",attrs:{id:"coin-position"},on:{click:e.openBadgePane}},[t("span",{class:["icon-coins",{"add-coin":e.addCoin}]}),e.addCoin?t("CountTo",{attrs:{startNum:e.startCoin,endNum:e.endCoin,delayTime:e.delayTime},on:{end:e.countEnd}}):t("div",{staticClass:"coin-num"},e._l(String(e.planIdCoin).split(""),(function(n,s){return t("div",{key:s,staticClass:"img-num"},[t("img",{attrs:{src:e.numImgArr[n]}})])})),0)],1)])},tp=[],np=function(){var e=this,t=e._self._c;return t("div",{staticClass:"chartNum"},[t("audio",{ref:"getCoinsSound",staticClass:"hide",attrs:{src:n("1d96")}}),t("div",{staticClass:"box-item"},e._l(e.orderNum,(function(n,s){return t("li",{key:s,staticClass:"number-item"},[t("span",[t("i",{ref:"numberItem",refInFor:!0,class:{addAnimate:!e.isShowNum}})])])})),0)])},sp=[],ap={props:{startNum:{type:Number,default:function(){return console.info("对象函数 default,filePath:renderer/SmallClass/components/Header/Coins/CountTo/index.vue"),0}},endNum:{type:Number,default:function(){return console.info("对象函数 default,filePath:renderer/SmallClass/components/Header/Coins/CountTo/index.vue"),0}},delayTime:{type:Number,default:function(){return console.info("对象函数 default,filePath:renderer/SmallClass/components/Header/Coins/CountTo/index.vue"),1}}},data:function(){return{orderNum:this.startNum.toString().split(""),timerClose:null,timer:null,animationTime:1,isShowNum:!0}},mounted:function(){this.increaseNumber(this.delayTime)},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/SmallClass/components/Header/Coins/CountTo/index.vue"),clearTimeout(this.timer),clearTimeout(this.timerClose)},methods:{increaseNumber:function(e){var t=this;console.info("对象函数 increaseNumber(delayTime)",e,"filePath:renderer/SmallClass/components/Header/Coins/CountTo/index.vue");var n=this;n.setNumberTransform(!0),e>0?this.$bus.$on("endCoinFly",(function(){console.info("箭头函数 监听 endCoinFly,filePath:renderer/SmallClass/components/Header/Coins/CountTo/index.vue"),t.orderNum=t.endNum.toString().split(""),n.isShowNum=!1,n.$nextTick((function(){var e;n.setNumberTransform(!1),null===(e=n.$refs)||void 0===e||null===(e=e.getCoinsSound)||void 0===e||e.play()})),t.timerClose=setTimeout((function(){n.$emit("end")}),1e3*t.animationTime)})):(this.timer=setTimeout((function(){t.orderNum=t.endNum.toString().split(""),n.isShowNum=!1,n.$nextTick((function(){n.setNumberTransform(!1),t.$refs.getCoinsSound.play()}))}),1e3*e),this.timerClose=setTimeout((function(){n.$emit("end")}),1e3*(e+this.animationTime)))},setNumberTransform:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];console.info("对象函数 setNumberTransform(isSkipCompare)",e,"filePath:renderer/SmallClass/components/Header/Coins/CountTo/index.vue");for(var t=this.$refs.numberItem,n=this.orderNum.filter((function(e){return!isNaN(e)})),s=this.startNum.toString().split("").filter((function(e){return!isNaN(e)})),a=0;a<t.length;a++){var i=t[a],o=0;!e&&s[a]&&n[a]===s[a]&&(o=1),i.style["background-position-y"]="-".concat(18*n[a]+180*o,"px")}}}},ip=ap,op=(n("7d76"),Object(q["a"])(ip,np,sp,!1,null,"79df1bef",null)),rp=op.exports,cp=n("5cf5"),lp=n.n(cp),up=n("aac1"),dp=n.n(up),hp=n("1023"),mp=n.n(hp),fp=n("9e33"),pp=n.n(fp),gp=n("8c77a"),vp=n.n(gp),Cp=n("4aa56"),bp=n.n(Cp),Ap=n("f9ef"),Sp=n.n(Ap),wp=n("828e"),yp=n.n(wp),kp=n("94e8d"),Ip=n.n(kp),xp=n("13e5"),Op=n.n(xp),Pp={components:{CountTo:rp},data:function(){return{numImgArr:[lp.a,dp.a,mp.a,pp.a,vp.a,bp.a,Sp.a,yp.a,Ip.a,Op.a],coinDatas:null,planIdCoin:0,level:0,addCoin:!1,startCoin:0,endCoin:0,delayTime:1,currentEvent:null}},computed:{goldCoins:function(){return console.info("对象函数 goldCoins,filePath:renderer/SmallClass/components/Header/Coins/index.vue"),this.$store.state.smallClass.goldCoins},options:function(){return console.info("对象函数 options,filePath:renderer/SmallClass/components/Header/Coins/index.vue"),this.$store.state.smallClass.baseData.commonOption},ircStatus:function(){return console.info("对象函数 ircStatus,filePath:renderer/SmallClass/components/Header/Coins/index.vue"),this.$store.state.smallClass.ircStatus}},mounted:function(){var e=this;this.initMedalCoins(),this.$bus.$on("updateAchievement",(function(t,n){console.info("箭头函数 监听 updateAchievement(type, num)",t,n,"filePath:renderer/SmallClass/components/Header/Coins/index.vue"),console.log(n),e.initMedalCoins()})),this.$bus.$on("addCoin",(function(t,n){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];console.info("箭头函数 监听 addCoin(isPlayAnimation, coin, isTurnoverNum)",t,n,s,"filePath:renderer/SmallClass/components/Header/Coins/index.vue"),t?e.dealAddCoin(n,1):s?e.dealAddCoin(n,0):e.initMedalCoins()}))},methods:{countEnd:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 countEnd,filePath:renderer/SmallClass/components/Header/Coins/index.vue"),t.next=3,e.initMedalCoins();case 3:e.addCoin=!1,e.checkRun(e.currentEvent),e.currentEvent=null;case 6:case"end":return t.stop()}}),t)})))()},checkRun:function(e){var t=this;return Object(O["a"])(Object(x["a"])().mark((function n(){var s,a;return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.info("对象函数 checkRun(event)",e,"filePath:renderer/SmallClass/components/Header/Coins/index.vue"),e){n.next=3;break}return n.abrupt("return");case 3:return s=Nd.a.parse(window.location.search),n.next=6,Object(ya["u"])({planId:s.planId});case 6:a=n.sent,a&&0==a.code&&!t.addCoin&&(t.coinDatas=a.data,t.planIdCoin<a.data.planIdCoin&&(t.planIdCoin=t.coinDatas.planIdCoin||""),t.level=t.coinDatas.medalNum);case 8:case"end":return n.stop()}}),n)})))()},dealAddCoin:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;console.info("对象函数 dealAddCoin(coin, delayTime)",e,t,"filePath:renderer/SmallClass/components/Header/Coins/index.vue"),this.addCoin?this.currentEvent={coin:e,delayTime:t}:(this.addCoin=!0,this.startCoin=+this.planIdCoin,this.endCoin=this.startCoin+e,this.delayTime=t,t&&this.$bus.$emit("coinFly")),this.planIdCoin=+this.planIdCoin+e},openBadgePane:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.info("对象函数 openBadgePane,filePath:renderer/SmallClass/components/Header/Coins/index.vue"),!e.addCoin){t.next=3;break}return t.abrupt("return");case 3:if(console.log(e.ircStatus,"this.ircStatus"),e.ircStatus){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,e.initMedalCoins();case 8:setTimeout((function(){e.$bus.$emit("openBadgePane",e.coinDatas)}),100);case 9:case"end":return t.stop()}}),t)})))()},initMedalCoins:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n,s;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 initMedalCoins,filePath:renderer/SmallClass/components/Header/Coins/index.vue"),n=Nd.a.parse(window.location.search),t.next=4,Object(ya["u"])({planId:n.planId});case 4:s=t.sent,s&&0==s.code&&(e.coinDatas=s.data,e.planIdCoin=e.coinDatas.planIdCoin||"",e.level=e.coinDatas.medalNum);case 6:case"end":return t.stop()}}),t)})))()}}},jp=Pp,Tp=(n("05eb"),Object(q["a"])(jp,ep,tp,!1,null,"50cb0075",null)),Bp=Tp.exports,Lp=function(){var e=this,t=e._self._c;return e.networkStatus?t("div",{staticClass:"network-status",class:e.networkStatusClass},[t("div",{staticClass:"status-button",on:{mouseenter:e.handleMouseenter,mouseleave:e.handleMouseleave}}),e.showStatusPanel?t("div",{staticClass:"status-panel"},[t("div",{staticClass:"panel-wrapper"},[t("div",{staticClass:"title-wrapper"},[t("div",{staticClass:"icon"}),t("div",{staticClass:"title"},[e._v(" "+e._s(e.statusConfig.title)+" ")])]),e.statusConfig.description?t("div",{staticClass:"description"},[e._v(" "+e._s(e.statusConfig.description)+" ")]):e._e()])]):e._e()]):e._e()},Mp=[],Rp={data:function(){return{rtcengine:null,showStatusPanel:!1}},computed:{downlinkNetworkQuality:function(){return this.$store.state.smallClass.rtcDownlinkNetworkQuality},networkStatus:function(){var e={1:"good",2:"good",3:"normal",4:"weak",5:"weak",6:"weak"};return e[this.downlinkNetworkQuality]||""},statusConfig:function(){var e=this.$t("classroom.modules.networkStatus.statusMap"),t={good:{title:e.good.title},normal:{title:e.normal.title},weak:{title:e.weak.title,description:e.weak.description}};return t[this.networkStatus]||{}},networkStatusClass:function(){return this.networkStatus?"status-".concat(this.networkStatus):""}},mounted:function(){},methods:{handleMouseenter:function(){this.showStatusPanel=!0},handleMouseleave:function(){this.showStatusPanel=!1}}},Ep=Rp,Dp=(n("12de"),Object(q["a"])(Ep,Lp,Mp,!1,null,"324cad18",null)),Np=Dp.exports,Vp=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"flex justify-between",attrs:{"data-name":"switch-camera"}},[t("span",{staticClass:"text",attrs:{"data-name":"switch-camera-text"}},[e._v(" "+e._s(e.$t("classroom.smallClass.camera.buttonName"))+" ")]),t("a-switch",{attrs:{size:"small","data-name":"switch-camera-btn"},on:{change:e.handleCameraSwitch},model:{value:e.cameraStatus,callback:function(t){e.cameraStatus=t},expression:"cameraStatus"}})],1)},Fp=[];function Up(){console.info("函数申明 useCameraStatus, filePath:renderer/SmallClass/hooks/useCameraStatus.js");var e=Object(v["d"])(),t=e.proxy,n=Object(v["a"])((function(){return t.$store.state.smallClass.cameraStatus})),s=mo(),a=s.cameraAccess,i=s.getCameraAccess;function o(e){return console.info("函数申明 handleCameraSwitch(_x)",e,"filePath:renderer/SmallClass/hooks/useCameraStatus.js"),r.apply(this,arguments)}function r(){return console.info("函数申明 _handleCameraSwitch, filePath:renderer/SmallClass/hooks/useCameraStatus.js"),r=Object(O["a"])(Object(x["a"])().mark((function e(n){return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.info("函数申明 handleCameraSwitch(status)",n,"filePath:renderer/SmallClass/hooks/useCameraStatus.js"),!n){e.next=7;break}return e.next=4,i();case 4:if(a.value){e.next=7;break}return t.$bus.$emit("showMediaSecurityAccess","camera"),e.abrupt("return");case 7:t.$store.dispatch("smallClass/updateCameraStatus",n),t.thinkClass.RtcService.muteLocalVideo(!n);case 9:case"end":return e.stop()}}),e)}))),r.apply(this,arguments)}function c(){return console.info("函数申明 listenCameraEvent, filePath:renderer/SmallClass/hooks/useCameraStatus.js"),l.apply(this,arguments)}function l(){return console.info("函数申明 _listenCameraEvent, filePath:renderer/SmallClass/hooks/useCameraStatus.js"),l=Object(O["a"])(Object(x["a"])().mark((function e(){return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.info("函数申明 listenCameraEvent, filePath:renderer/SmallClass/hooks/useCameraStatus.js"),t.$bus.$on("openCamera",(function(){console.info("箭头函数 监听 openCamera,filePath:renderer/SmallClass/hooks/useCameraStatus.js"),o(!0)})),t.$bus.$on("TeacherSwitchCamera",(function(e){console.info("箭头函数 监听 TeacherSwitchCamera(status)",e,"filePath:renderer/SmallClass/hooks/useCameraStatus.js"),h(e)}));case 3:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function u(){return console.info("函数申明 removeCameraEvent, filePath:renderer/SmallClass/hooks/useCameraStatus.js"),d.apply(this,arguments)}function d(){return console.info("函数申明 _removeCameraEvent, filePath:renderer/SmallClass/hooks/useCameraStatus.js"),d=Object(O["a"])(Object(x["a"])().mark((function e(){return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.info("函数申明 removeCameraEvent, filePath:renderer/SmallClass/hooks/useCameraStatus.js"),t.$bus.$off("openCamera",(function(){console.info("箭头函数 监听 openCamera,filePath:renderer/SmallClass/hooks/useCameraStatus.js"),o(!0)})),t.$bus.$off("TeacherSwitchCamera",(function(e){console.info("箭头函数 监听 TeacherSwitchCamera(status)",e,"filePath:renderer/SmallClass/hooks/useCameraStatus.js"),h(e)}));case 3:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function h(e){return console.info("函数申明 handleTeacherCameraSwitch(_x2)",e,"filePath:renderer/SmallClass/hooks/useCameraStatus.js"),m.apply(this,arguments)}function m(){return console.info("函数申明 _handleTeacherCameraSwitch, filePath:renderer/SmallClass/hooks/useCameraStatus.js"),m=Object(O["a"])(Object(x["a"])().mark((function e(n){return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.info("函数申明 handleTeacherCameraSwitch(status)",n,"filePath:renderer/SmallClass/hooks/useCameraStatus.js"),n?t.$bus.$emit("showCameraAllowConfirm"):o(!1);case 2:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}return Object(v["g"])(Object(O["a"])(Object(x["a"])().mark((function e(){return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:a.value||t.$store.dispatch("smallClass/updateCameraStatus",!1);case 3:case"end":return e.stop()}}),e)})))),{handleCameraSwitch:o,handleTeacherCameraSwitch:h,removeCameraEvent:u,listenCameraEvent:c,cameraStatus:n}}var Wp=Object(v["c"])({name:"SwitchVideo",setup:function(){var e=Up(),t=e.handleCameraSwitch,n=e.cameraStatus;return{handleCameraSwitch:t,cameraStatus:n}}}),Gp=Wp,_p=(n("f1b7"),Object(q["a"])(Gp,Vp,Fp,!1,null,"6bd54867",null)),Hp=_p.exports,Qp=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{width:e.dialogWidth,maskClosable:!1,closable:!1,centered:!0,title:e.$t("classroom.modules.deviceTest.dialogTitle"),dialogClass:"modal-simple",okText:e.$t("common.confirm"),cancelText:e.$t("common.cancel")},on:{ok:e.handleOk},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[t("div",{staticClass:"modal-device-test"},[t("div",{staticClass:"device-item"},[t("div",{staticClass:"device-head"},[t("div",{staticClass:"title"},[t("span",{staticClass:"color-gray"},[e._v(" "+e._s(e.$t("classroom.modules.deviceTest.cameraTitle"))+" ")]),e._v(" "+e._s(e.cameraStatusInfo.text)+" ")]),t("div",{staticClass:"icon",class:e.cameraStatusInfo.className})]),t("a-select",{style:{width:e.selectWidth},attrs:{value:e.defaultVideoDeviceId,"default-value":e.defaultVideoDeviceId,suffixIcon:e.suffixIcon},on:{change:e.handleChangeVideoDevice},scopedSlots:e._u([{key:"suffixIcon",fn:function(){return[t("a-icon",{attrs:{component:e.arrowBottomSvg}})]},proxy:!0}])},e._l(e.videoDevices,(function(n,s){return t("a-select-option",{key:s,attrs:{value:n.deviceid}},[e._v(" "+e._s(n.devicename)+" ")])})),1),e.isMac&&!1===e.cameraStatus?t("div",{staticClass:"authorize-guide"},[e._v(" "+e._s(e.$t("classroom.modules.deviceTest.authorizeGuide")[0])+" "),t("span",{on:{click:e.handleCameraAccess}},[e._v(" "+e._s(e.$t("classroom.modules.deviceTest.authorizeGuide")[1])+" ")])]):e._e()],1),t("div",{staticClass:"device-item"},[t("div",{staticClass:"device-head"},[t("div",{staticClass:"title"},[t("span",{staticClass:"color-gray"},[e._v(" "+e._s(e.$t("classroom.modules.deviceTest.microphoneTitle"))+" ")]),e._v(" "+e._s(e.microphoneStatusInfo.text)+" ")]),t("div",{staticClass:"icon",class:e.microphoneStatusInfo.className})]),t("a-select",{style:{width:e.selectWidth},attrs:{value:e.defaultAudioRecordingDeviceId,"default-value":e.defaultAudioRecordingDeviceId,suffixIcon:e.suffixIcon},on:{change:e.handleChangeAudioRecordingDevice},scopedSlots:e._u([{key:"suffixIcon",fn:function(){return[t("a-icon",{attrs:{component:e.arrowBottomSvg}})]},proxy:!0}])},e._l(e.audioRecordingDevices,(function(n,s){return t("a-select-option",{key:s,attrs:{value:n.deviceid}},[e._v(" "+e._s(n.devicename)+" ")])})),1),e.isMac&&!1===e.microphoneStatus?t("div",{staticClass:"authorize-guide"},[e._v(" "+e._s(e.$t("classroom.modules.deviceTest.authorizeGuide")[0])+" "),t("span",{on:{click:e.handleMicrophoneAccess}},[e._v(" "+e._s(e.$t("classroom.modules.deviceTest.authorizeGuide")[1])+" ")])]):e._e()],1),t("div",{staticClass:"device-item"},[t("div",{staticClass:"device-head"},[t("div",{staticClass:"title"},[t("span",{staticClass:"color-gray"},[e._v(" "+e._s(e.$t("classroom.modules.deviceTest.audioTitle"))+" ")]),e._v(" "+e._s(e.audioPlaybackStatusInfo.text)+" ")]),t("div",{staticClass:"icon",class:e.audioPlaybackStatusInfo.className})]),t("a-select",{style:{width:e.selectWidth},attrs:{value:e.defaultAudioPlaybackDeviceId,"default-value":e.defaultAudioPlaybackDeviceId,suffixIcon:e.suffixIcon},on:{change:e.handleChangeAudioPlaybackDevice},scopedSlots:e._u([{key:"suffixIcon",fn:function(){return[t("a-icon",{attrs:{component:e.arrowBottomSvg}})]},proxy:!0}])},e._l(e.audioPlaybackDevices,(function(n,s){return t("a-select-option",{key:s,attrs:{value:n.deviceid}},[e._v(" "+e._s(n.devicename)+" ")])})),1)],1)])])},Jp=[],qp=n("ff07"),Kp=n.n(qp),$p={data:function(){return{isMac:Object(W["u"])(),arrowBottomSvg:Kp.a,visible:!1,rtcEngine:null,videoDevices:[],audioRecordingDevices:[],audioPlaybackDevices:[],defaultVideoDeviceId:"",defaultAudioRecordingDeviceId:"",defaultAudioPlaybackDeviceId:"",cameraStatus:null,microphoneStatus:null}},computed:{dialogWidth:function(){return console.info("对象函数 dialogWidth,filePath:renderer/SmallClass/components/Header/DeviceTest/index.vue"),Object(W["x"])(400)},selectWidth:function(){return console.info("对象函数 selectWidth,filePath:renderer/SmallClass/components/Header/DeviceTest/index.vue"),Object(W["x"])(340)},statusNames:function(){return console.info("对象函数 statusNames,filePath:renderer/SmallClass/components/Header/DeviceTest/index.vue"),this.$t("classroom.modules.deviceTest.statusNames")},cameraStatusInfo:function(){return console.info("对象函数 cameraStatusInfo,filePath:renderer/SmallClass/components/Header/DeviceTest/index.vue"),this.videoDevices.length?!0===this.cameraStatus?{className:"icon-success",text:this.statusNames.usable}:!1===this.cameraStatus?{className:"icon-warn",text:this.statusNames.unauthorized}:{}:{className:"icon-error",text:this.statusNames.disabled}},microphoneStatusInfo:function(){return console.info("对象函数 microphoneStatusInfo,filePath:renderer/SmallClass/components/Header/DeviceTest/index.vue"),this.audioRecordingDevices.length?!0===this.microphoneStatus?{className:"icon-success",text:this.statusNames.usable}:!1===this.microphoneStatus?{className:"icon-warn",text:this.statusNames.unauthorized}:{}:{className:"icon-error",text:this.statusNames.disabled}},audioPlaybackStatusInfo:function(){return console.info("对象函数 audioPlaybackStatusInfo,filePath:renderer/SmallClass/components/Header/DeviceTest/index.vue"),this.audioPlaybackDevices.length?{className:"icon-success",text:this.statusNames.usable}:{className:"icon-error",text:this.statusNames.disabled}}},mounted:function(){var e=this;this.$bus.$on("deviceTestShow",(function(){console.info("箭头函数 监听 deviceTestShow,filePath:renderer/SmallClass/components/Header/DeviceTest/index.vue"),e.showModal()}))},methods:{showModal:function(){console.info("对象函数 showModal,filePath:renderer/SmallClass/components/Header/DeviceTest/index.vue"),this.visible=!0,this.rtcEngine=this.thinkClass.RtcService.rtcEngine,this.getDevices(),this.getDefaultDevices(),this.getMediaAccess()},hideModal:function(){console.info("对象函数 hideModal,filePath:renderer/SmallClass/components/Header/DeviceTest/index.vue"),this.visible=!1},handleOk:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 handleOk,filePath:renderer/SmallClass/components/Header/DeviceTest/index.vue"),t.next=3,Object(U["e"])(e.defaultVideoDeviceId);case 3:return t.next=5,Object(U["d"])(e.defaultAudioRecordingDeviceId);case 5:return t.next=7,Object(U["c"])(e.defaultAudioPlaybackDeviceId);case 7:e.rtcEngine.setVideoDevice(e.defaultVideoDeviceId),e.rtcEngine.setAudioRecordingDevice(e.defaultAudioRecordingDeviceId),e.rtcEngine.setAudioPlaybackDevice(e.defaultAudioPlaybackDeviceId),e.sendLogger("设置默认设备, 摄像头: ".concat(e.defaultVideoDeviceId,", 麦克风: ").concat(e.defaultAudioRecordingDeviceId,", 扬声器: ").concat(e.defaultAudioPlaybackDeviceId)),e.hideModal();case 12:case"end":return t.stop()}}),t)})))()},handleChangeVideoDevice:function(e){console.info("对象函数 handleChangeVideoDevice(val)",e,"filePath:renderer/SmallClass/components/Header/DeviceTest/index.vue"),this.defaultVideoDeviceId=e},handleChangeAudioRecordingDevice:function(e){console.info("对象函数 handleChangeAudioRecordingDevice(val)",e,"filePath:renderer/SmallClass/components/Header/DeviceTest/index.vue"),this.defaultAudioRecordingDeviceId=e},handleChangeAudioPlaybackDevice:function(e){console.info("对象函数 handleChangeAudioPlaybackDevice(val)",e,"filePath:renderer/SmallClass/components/Header/DeviceTest/index.vue"),this.defaultAudioPlaybackDeviceId=e},getDevices:function(){console.info("对象函数 getDevices,filePath:renderer/SmallClass/components/Header/DeviceTest/index.vue");var e=this.rtcEngine.getVideoDevices(),t=this.rtcEngine.getAudioRecordingDevices(),n=this.rtcEngine.getAudioPlaybackDevices();this.videoDevices=e,this.audioRecordingDevices=t,this.audioPlaybackDevices=n,this.sendLogger("查询设备列表, 摄像头: ".concat(JSON.stringify(e),", 麦克风: ").concat(JSON.stringify(t),", 扬声器: ").concat(JSON.stringify(n)))},getDefaultDevices:function(){console.info("对象函数 getDefaultDevices,filePath:renderer/SmallClass/components/Header/DeviceTest/index.vue");var e=this.rtcEngine.getCurrentVideoDevice(),t=this.rtcEngine.getCurrentAudioRecordingDevice(),n=this.rtcEngine.getCurrentAudioPlaybackDevice();this.defaultVideoDeviceId=e,this.defaultAudioRecordingDeviceId=t,this.defaultAudioPlaybackDeviceId=n,this.sendLogger("查询当前默认使用设备, 摄像头: ".concat(e,", 麦克风: ").concat(t,", 扬声器: ").concat(n))},getMediaAccess:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("对象函数 getMediaAccess,filePath:renderer/SmallClass/components/Header/DeviceTest/index.vue"),t.next=3,Object(jt["c"])();case 3:return e.cameraStatus=t.sent,t.next=6,Object(jt["f"])();case 6:e.microphoneStatus=t.sent;case 7:case"end":return t.stop()}}),t)})))()},handleCameraAccess:function(){console.info("对象函数 handleCameraAccess,filePath:renderer/SmallClass/components/Header/DeviceTest/index.vue"),A["nativeApi"].openPreferences("security","camera")},handleMicrophoneAccess:function(){console.info("对象函数 handleMicrophoneAccess,filePath:renderer/SmallClass/components/Header/DeviceTest/index.vue"),A["nativeApi"].openPreferences("security","microphone")},sendLogger:function(e){F["a"].send({tag:"deviceTest",content:{msg:e}})}}},zp=$p,Yp=(n("e35f"),Object(q["a"])(zp,Qp,Jp,!1,null,"6908d212",null)),Xp=Yp.exports,Zp=function(){var e=this,t=e._self._c;return e.showStatus?t("div",{staticClass:"container-feedback ignore-conf"},[t("div",{staticClass:"feedback-popup"},[t("div",{staticClass:"popup-wrapper"},[t("div",{staticClass:"popup-header"},[t("label"),t("span",[e._v(" "+e._s(e.$t("classroom.modules.feedback.headerName"))+" ")])]),t("div",{staticClass:"popup-contenter"},[t("FeedbackOptions",{on:{"update-checked-info":e.updateCheckedInfo}}),t("div",{staticClass:"feedback-textarea"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],attrs:{maxlength:"500",placeholder:e.$t("classroom.modules.feedback.placeholder")},domProps:{value:e.content},on:{input:function(t){t.target.composing||(e.content=t.target.value)}}})]),t("div",{staticClass:"agree-wrapper",on:{click:e.handleClickAgree}},[t("div",{staticClass:"agree-checkbox"},[e.agreeChecked?t("div",{staticClass:"icon-checked"}):e._e()]),e._v(" "+e._s(e.$t("classroom.modules.feedback.screenshotTips"))+" ")]),t("div",{staticClass:"button-wrapper"},[t("div",{on:{click:e.handleCancel}},[e._v(" "+e._s(e.$t("common.cancel"))+" ")]),t("div",{on:{click:e.handleSend}},[e._v(" "+e._s(e.$t("common.send"))+" ")])])],1)])])]):e._e()},eg=[],tg=function(){var e=this,t=e._self._c;return t("div",{staticClass:"feedback-options"},e._l(e.options,(function(n,s){return t("div",{key:s,staticClass:"item",class:{active:e.checkedCode==n.code},on:{click:function(t){return e.handleClickOption(n)}}},[e.checkedCode==n.code?t("div",{staticClass:"icon-checked"}):e._e(),t("div",{staticClass:"item-name"},[e._v(e._s(n.name))])])})),0)},ng=[],sg={data:function(){return{checkedCode:"study-question",checkedName:""}},computed:{options:function(){console.info("对象函数 options,filePath:renderer/SmallClass/components/Header/Feedback/feedbackOptions.vue");var e=this.$t("classroom.modules.feedback.optionNames");return[{code:"study-question",name:e[0]},{code:"app-problem",name:e[1]},{code:"inappropriate-behavior",name:e[2]},{code:"others",name:e[3]}]}},methods:{handleClickOption:function(e){if(console.info("对象函数 handleClickOption(item)",e,"filePath:renderer/SmallClass/components/Header/Feedback/feedbackOptions.vue"),e.code==this.checkedCode)return this.checkedCode="",this.checkedName="",void this.$emit("update-checked-info","","");this.checkedCode=e.code,this.checkedName=e.name,this.$emit("update-checked-info",e.code,e.name)}}},ag=sg,ig=(n("c49d"),Object(q["a"])(ag,tg,ng,!1,null,"3007b768",null)),og=ig.exports,rg={props:{rtcConfig:{type:Object,default:null},downlinkNetworkQuality:{type:Number,default:null}},components:{FeedbackOptions:og},data:function(){return{showStatus:!1,agreeChecked:!0,content:"",checkedCode:"",checkedName:"",options:this.$store.state.smallClass.baseData.commonOption}},mounted:function(){var e=this;this.$bus.$on("handleOpenFeedback",(function(t){console.info("箭头函数 监听 handleOpenFeedback(flag)",t,"filePath:renderer/SmallClass/components/Header/Feedback/index.vue"),t&&(e.showStatus=!0)}))},methods:{handleShow:function(){console.info("对象函数 handleShow,filePath:renderer/SmallClass/components/Header/Feedback/index.vue"),this.showStatus=!0},handleHide:function(){console.info("对象函数 handleHide,filePath:renderer/SmallClass/components/Header/Feedback/index.vue"),this.showStatus=!1},handleClickAgree:function(){console.info("对象函数 handleClickAgree,filePath:renderer/SmallClass/components/Header/Feedback/index.vue"),this.agreeChecked=!this.agreeChecked},handleSend:function(){var e=this;console.info("对象函数 handleSend,filePath:renderer/SmallClass/components/Header/Feedback/index.vue"),this.$Message.destroy(),this.handleHide();var t=JSON.stringify({checkedName:this.checkedName,content:this.content.replace(/[\r\n]/g," "),agreeChecked:this.agreeChecked});window.setTimeout((function(){console.info("箭头函数 setTimeout,filePath:renderer/SmallClass/components/Header/Feedback/index.vue"),e.$Message.info(e.$t("classroom.modules.feedback.sendSuccessNotice"))}),100),this.agreeChecked?this.uploadScreenshot((function(t){console.info("箭头函数 uploadScreenshot(screenshotUrl)",t,"filePath:renderer/SmallClass/components/Header/Feedback/index.vue"),e.sendMessage(t)})):this.sendMessage(),this.sendLogger("点击Send按钮: ".concat(t))},handleCancel:function(){console.info("对象函数 handleCancel,filePath:renderer/SmallClass/components/Header/Feedback/index.vue"),this.handleHide()},sendMessage:function(e){var t=this;return Object(O["a"])(Object(x["a"])().mark((function n(){var s,a,i,o,r;return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.info("对象函数 sendMessage(screenshotUrl)",e,"filePath:renderer/SmallClass/components/Header/Feedback/index.vue"),n.next=3,Object(Ya["f"])();case 3:return s=n.sent,n.next=6,A["nativeApi"].getDeviceInfo();case 6:if(a=n.sent,i=t.content.replace(/[\r\n]/g," "),o=JSON.stringify({type:150,from:"flv",name:t.options.nickName,msg:t.$t("classroom.modules.feedback.defaultMsg"),parameter:{schoolCode:s,planId:t.options.planId,roomId:t.options.classId,studentId:t.options.stuIRCId,uid:t.options.stuId,teacherId:t.options.teacherInfo.id,teacherName:t.options.teacherInfo.name,teacherRoomId:t.options.configs.rtcConfig.teacherRoomId,startTime:t.options.stime,currenTime:(new Date).getTime(),device:a.platform,deviceVersion:a.osVersion,AppVersion:a.appVersion,question:t.checkedName,question_msg:i,question_url:e||""}}),r=window.ChatClient.PeerChatManager.sendPeerMessage([{nickname:t.options.configs.tutorIrcId}],o,Ae["a"].privMsg),t.resetData(),0==r){n.next=14;break}return t.sendLogger("发送反馈消息失败: ".concat(o," irc消息发送返回状态: ").concat(r)),n.abrupt("return");case 14:t.sendLogger("发送反馈消息成功: ".concat(o));case 15:case"end":return n.stop()}}),n)})))()},uploadScreenshot:function(e){var t=this;return Object(O["a"])(Object(x["a"])().mark((function n(){var s,a,i,o;return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.info("对象函数 uploadScreenshot(callback)",e,"filePath:renderer/SmallClass/components/Header/Feedback/index.vue"),n.prev=1,n.next=4,Object(pt["a"])({thumbnailWidth:1024,thumbnailQuality:1});case 4:s=n.sent,a=s.thumbnail,i=Object(W["e"])(a),o=new Ce["b"]({scene:"classFeedback"}),o.putFile({filePath:"classFeedback.jpg",file:i,progress:function(e){console.info("uploadScreenshot-progress",e)},success:function(n){e&&e(n.url),t.sendLogger("截屏上传成功:".concat(n.url))},fail:function(){e&&e(),t.sendLogger("截屏上传失败","error")}}),n.next=15;break;case 11:n.prev=11,n.t0=n["catch"](1),console.error("上传截屏失败",n.t0),e&&e();case 15:case"end":return n.stop()}}),n,null,[[1,11]])})))()},updateCheckedInfo:function(e,t){console.info("对象函数 updateCheckedInfo(code, name)",e,t,"filePath:renderer/SmallClass/components/Header/Feedback/index.vue"),this.checkedCode=e,this.checkedName=t},resetData:function(){console.info("对象函数 resetData,filePath:renderer/SmallClass/components/Header/Feedback/index.vue"),this.content="",this.checkedCode="",this.checkedName=""},sendLogger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";F["a"].send({tag:"liveFeedback",content:{msg:e},level:t})}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/SmallClass/components/Header/Feedback/index.vue"),this.$bus.$off("handleOpenFeedback")}},cg=rg,lg=(n("44c0"),Object(q["a"])(cg,Zp,eg,!1,null,"61f133f8",null)),ug=lg.exports,dg=function(){var e=this,t=e._self._c;return e.showReportIframe||e.showtoast?t("div",{staticClass:"common-container"},[e.showReportIframe?t("div",{staticClass:"report-container"},[t("div",{staticClass:"container con"},[t("iframe",{attrs:{id:"examReportContent",src:e.reportUrl},on:{onload:e.handleIframeLoad}}),t("div",{staticClass:"badge-close",on:{click:e.closeBadgePane}})])]):e._e(),e.showtoast?t("div",{staticClass:"toast-container"},[t("div",{staticClass:"container con"},[t("div",{staticClass:"warning-icon"}),t("div",{staticClass:"text"},[e._v(" "+e._s(e.$t("classroom.smallClass.examReportTips.msg"))+" ")]),t("div",{staticClass:"button",on:{click:e.closeToast}},[e._v(" "+e._s(e.$t("classroom.smallClass.examReportTips.confirm"))+" ")])])]):e._e()]):e._e()},hg=[],mg={components:{},data:function(){return{commonOptions:this.$store.state.smallClass.baseData.commonOption,showReportIframe:!1,showtoast:!1,reportUrl:"",useInfo:window.localStorage.getItem("userInfo")}},mounted:function(){var e=this;this.$bus.$on("handleOpenExamReport",(function(t){if(console.info("箭头函数 监听 handleOpenExamReport(examReportInfo)",t,"filePath:renderer/SmallClass/components/Header/ExamReport/index.vue"),null!==t&&void 0!==t&&t.studentReportUrl){var n=e.useInfo?JSON.parse(e.useInfo).unifiedAccessToken:"";e.showReportIframe=!0,e.reportUrl="".concat(t.studentReportUrl,"&platform=3&classId=").concat(e.commonOptions.classId,"&studentId=").concat(e.commonOptions.stuId,"&token=").concat(n,"&from=live"),window.thinkApi.ipc.send("test:url",e.reportUrl)}else e.showtoast=!0}))},methods:{closeBadgePane:function(){console.info("对象函数 closeBadgePane,filePath:renderer/SmallClass/components/Header/ExamReport/index.vue"),this.showReportIframe=!1},closeToast:function(){console.info("对象函数 closeToast,filePath:renderer/SmallClass/components/Header/ExamReport/index.vue"),this.showtoast=!1},handleIframeLoad:function(){console.info("对象函数 handleIframeLoad,filePath:renderer/SmallClass/components/Header/ExamReport/index.vue"),F["a"].send({content:{msg:"加载H5成功-考试报告",reportUrl:this.reportUrl}})}},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/SmallClass/components/Header/ExamReport/index.vue"),this.$bus.$off("handleOpenExamReport")}},fg=mg,pg=(n("0183"),Object(q["a"])(fg,dg,hg,!1,null,"18609d6f",null)),gg=pg.exports,vg=n("36e6"),Cg=Object(v["c"])({name:"Header",components:{Coins:Bp,NetworkStatus:Np,SwitchCamera:Hp,DeviceTest:Xp,Feedback:ug,ExamReport:gg,Tooltip:Zf["a"]},setup:function(){var e=Object(v["d"])(),t=e.proxy,n=t.$store.state.smallClass.baseData,s=Object(v["j"])(!1),a=Fd(n.planInfo),i=a.handleExit,o=Object(v["j"])("us"),r=Object(v["j"])(!1);console.log("看看",window.location.href.split("?"));var c=Object(v["a"])((function(){return n.commonOption.isParent||n.commonOption.isAudition})),l=function(){console.info("箭头函数 handleScreenshot,filePath:renderer/SmallClass/components/Header/index.vue"),t.$bus.$emit("screenThumbnail")},u=function(){console.info("箭头函数 handleDeviceTest,filePath:renderer/SmallClass/components/Header/index.vue"),t.$bus.$emit("deviceTestShow")},d=function(){console.info("箭头函数 handleMore,filePath:renderer/SmallClass/components/Header/index.vue"),s.value=!s.value},h=function(){console.info("箭头函数 handleAssignmentBox,filePath:renderer/SmallClass/components/Header/index.vue");var e=document.querySelector(".button-assignmentBox");t.$bus.$emit("handleOpenBox",e),r.value=!1},m=function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(){return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.info("箭头函数 handleExamReport,filePath:renderer/SmallClass/components/Header/index.vue"),e.next=3,b();case 3:t.$bus.$emit("handleOpenExamReport",C.value);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){console.info("箭头函数 handleFeedback,filePath:renderer/SmallClass/components/Header/index.vue"),t.$bus.$emit("handleOpenFeedback",!0)},p=function(e){console.info("箭头函数 clickOutsideHandler(event)",e,"filePath:renderer/SmallClass/components/Header/index.vue");var t=e.target,n=t.getAttribute("data-name"),a=["switch-camera","switch-camera-text","switch-camera-btn","button-more"];a.includes(n)||(s.value=!1)},g=Object(v["j"])(!1),C=Object(v["j"])({}),b=function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(){var t,s;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.info("箭头函数 checkIsShowReportBtn,filePath:renderer/SmallClass/components/Header/index.vue"),e.next=3,Object(vg["a"])({planId:n.planInfo.id,platform:"3"});case 3:if(s=e.sent,s&&0==s.code){e.next=6;break}return e.abrupt("return");case 6:C.value=s.data,g.value="1"===(null===(t=s.data)||void 0===t?void 0:t.showReportEnter);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v["g"])(Object(O["a"])(Object(x["a"])().mark((function e(){return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return document.addEventListener("click",p),t.$bus.$on("smallClassShowMessageTip",(function(){console.info("箭头函数 监听 smallClassShowMessageTip,filePath:renderer/SmallClass/components/Header/index.vue"),F["a"].send({tag:"student.Interact",content:{msg:"显示作业批改消息提示",interactType:"Wall"}}),r.value=!0})),e.next=4,Object(Ya["c"])();case 4:o.value=e.sent,b();case 6:case"end":return e.stop()}}),e)})))),Object(v["f"])((function(){document.removeEventListener("click",p)})),{baseData:n,isAudition:c,isShowMoreTools:s,reportBtnVisible:g,showNewMessageTip:r,handleExit:i,handleScreenshot:l,handleDeviceTest:u,handleMore:d,handleAssignmentBox:h,handleExamReport:m,handleFeedback:f}}}),bg=Cg,Ag=(n("c246"),Object(q["a"])(bg,Yf,Xf,!1,null,"64d8efb5",null)),Sg=Ag.exports,wg=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("span",{directives:[{name:"show",rawName:"v-show",value:e.showDialog,expression:"showDialog"}],staticClass:"speakers"},[e._v(e._s(e.$t("classroom.smallClass.speaking"))+e._s(e.nameText))])},yg=[],kg=Object(v["c"])({name:"CurrentSpeakers",components:{},setup:function(){var e=Object(v["d"])(),t=e.proxy,n=Object(v["a"])((function(){return t.$store.state.smallClass.groupAudioVolume})),s=Object(v["a"])((function(){return t.$store.state.smallClass.studentList})),a=Object(v["j"])(""),i=Object(v["j"])(!1),o=Object(v["j"])(null);return Object(v["l"])(n,(function(){if(n.value.length>0){var e=n.value.slice(0,2).filter((function(e){var t=s.value.find((function(t){return t.stuId===e.uid.toString()}));return!!t})).map((function(e){var t=s.value.find((function(t){return t.stuId===e.uid.toString()})),n=t.stuName.length>10?t.stuName.slice(0,10)+"...":t.stuName;return n})).join(t.$t("classroom.smallClass.douhao"));e&&(i.value=!0,a.value=e),o.value&&clearTimeout(o.value),o.value=setTimeout((function(){i.value=!1}),2e3)}})),{nameText:a,showDialog:i}}}),Ig=kg,xg=(n("b280"),Object(q["a"])(Ig,wg,yg,!1,null,"34b0a740",null)),Og=xg.exports,Pg=function(){var e=this,t=e._self._c;return t("div",{staticClass:"network-error-wrapper",attrs:{id:"networkError"}})},jg=[],Tg={data:function(){return{isShow:!1}},mounted:function(){this.thinkClass.SignalService.on("showNotification",this.showNotice),this.thinkClass.SignalService.on("closeNotification",this.closeNotice)},beforeDestroy:function(){console.info("对象函数 beforeDestroy,filePath:renderer/SmallClass/components/NetworkError/index.vue"),this.thinkClass.SignalService.off("showNotification",this.showNotice),this.thinkClass.SignalService.off("closeNotification",this.closeNotice)},methods:{showNotice:function(e){var t=this;console.info("对象函数 showNotice(code)",e,"filePath:renderer/SmallClass/components/NetworkError/index.vue");var n=this.$createElement;if(!this.isShow){var s=this.$t("classroom.modules.networkError");this.isShow=!0,this.$Notification.open({key:"networkError",class:"notification-network-error",placement:"bottomRight",bottom:"0px",duration:null,description:function(){return n("div",[n("i",{class:"netError"}),n("div",{class:"description"},[s.notice[0]," ",n("br")," ","".concat(s.notice[1],",code:").concat(e)])])},btn:function(){return n("a-button",{class:"ant-btn-primary",attrs:{shape:"round"}},[t.$t("common.exit")])},getContainer:function(){return document.getElementById("networkError")},onClick:function(){t.sendLogger("click NetworkError"),Object(wc["a"])("/#/courses")}})}},closeNotice:function(){console.info("对象函数 closeNotice,filePath:renderer/SmallClass/components/NetworkError/index.vue"),this.isShow=!1,this.$Notification.destroy()},sendLogger:function(e){F["a"].send({tag:"Net",content:{msg:e}})}}},Bg=Tg,Lg=(n("ae66"),Object(q["a"])(Bg,Pg,jg,!1,null,null,null)),Mg=Lg.exports;function Rg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"smallClass";function t(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";F["a"].send({tag:e,content:{msg:"".concat(e,"-").concat(t),params:n},level:s})}return Object(v["g"])((function(){F["a"].send({tag:e,content:{msg:"".concat(e,"-onMounted挂载")},level:"info"})})),Object(v["f"])((function(){F["a"].send({tag:e,content:{msg:"".concat(e,"-onBeforeUnmount销毁")},level:"info"})})),{sendLogger:t}}function Eg(){var e=Object(v["j"])(!0),t=Object(v["j"])(!1),n=Object(v["j"])(!1),s=Object(v["j"])(!0),a=Object(v["j"])(!1),i=Rg(),o=i.sendLogger,r=Object(v["i"])({isShow:!1,message:"",showRefresh:!0,subMessage:""});function c(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r.isShow=!0,r.message=e,r.showRefresh=t}var l=Object(v["d"])(),u=l.proxy;function d(e){return h.apply(this,arguments)}function h(){return h=Object(O["a"])(Object(x["a"])().mark((function e(t){var n,s,a;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commonOption,e.next=3,Object(ya["l"])({planId:n.planId,classId:n.classId});case 3:s=e.sent,s&&0==s.code?(a=s.data||[],u.$store.dispatch("smallClass/initStudentList",a)):c("学生列表获取失败: ".concat(JSON.stringify(s)));case 5:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function m(e){return f.apply(this,arguments)}function f(){return f=Object(O["a"])(Object(x["a"])().mark((function e(t){var n,s,a,i;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="".concat(t.planId,"-allOnStageClosed"),e.next=3,Object(ya["f"])({keys:[n]});case 3:s=e.sent,s&&0==s.code?(i=null===(a=s.data)||void 0===a?void 0:a.keyValPair,i&&"true"!==i[n]&&(u.$store.dispatch("smallClass/updateAllOnStageStatus",!0),u.$store.dispatch("smallClass/updateAllStageDone",!0))):c("课中数据获取失败: ".concat(JSON.stringify(s)));case 5:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function p(e){return g.apply(this,arguments)}function g(){return g=Object(O["a"])(Object(x["a"])().mark((function e(t){var n,s,a,i,o,r,l,d,h,m,f,p,g,v,C,b,A,S,w,k,I,O,P,j,T,B,L,M,R,E,D,N,V,F,U,W,G,_,H,Q,J,q,K,$,z,Y,X,Z,ee,te,ne,se,ae;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.isParentAudition,s={bizId:t.bizId,planId:t.planId,courseId:t.courseId,isParentAudition:n},a=0,i=0,o=0,e.next=7,Object(ya["k"])(s);case 7:return r=e.sent,0===r.code?(r=r.data,r.planInfo.etime=r.planInfo.endStampTime,r.planInfo.stime=r.planInfo.startStampTime,window._requestBasicTime=(new Date).getTime(),window._requestBasicEnterServerTime=r.nowTime,o=r.planInfo.stime-r.nowTime):c("基础数据获取失败: ".concat(JSON.stringify(r))),l=s.bizId,d=r,h=d.configs,m=void 0===h?{}:h,f=d.planInfo,p=void 0===f?{}:f,g=d.stuInfo,v=void 0===g?{}:g,C=d.counselorInfo,b=void 0===C?{}:C,A=d.teacherInfo,S=void 0===A?{}:A,w=d.nowTime,k=d.stuLiveInfo,I=d.liveStatus,O=void 0===I?{}:I,P=d.pageKeyList,j=m.appId,T=m.appKey,B=m.ircRooms,L=m.stuIrcId,M=m.skinType,R=Array.isArray(B)?B:[B],E=v.userName,D=v.nickName,N=v.id,V=v.realName,F=v.goldNum,U=v.englishName,W=v.gradeId,G=v.id,_=v.id,H=p.id,Q=p.stime,J=p.subjectIds,q=p.gradeIds,K=p.mode,$=O.streamMode,z=k.classId,Y=k.teamId,X=k.isAudition,Z=S.id,ee=S.avatar,u.$store.dispatch("smallClass/updateTeacherMsg",S),te=+new Date,ne=1e3*w-te,se={appId:j,appKey:T,psId:G.toString(),password:_.toString(),nick:L,planId:H,uid:N||Z,roomlist:R},ae={mode:K,stuName:E,stuId:N,isPlayBack:a,planId:H,nickName:D,realName:V,englishName:U,bizId:l,nowTime:w,stime:Q,stuIRCId:L,subjectIds:J,gradeIds:q,roomlist:R,goldNum:F,classId:z,teamId:Y,skinType:M,psId:G,avatar:ee,gradeId:W,streamMode:$,timeOffset:ne,counselorInfo:b,teacherInfo:S,configs:m,classType:2,isParent:!!n,isAudition:1===n||!!X},e.abrupt("return",Object(y["a"])(Object(y["a"])({},r),{},{isPlayBack:a,isLiveStart:i,countDown:o,ircInitOptions:se,commonOption:ae,bizId:l,stuInfo:v,pageKeyList:P}));case 25:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function C(){return b.apply(this,arguments)}function b(){return b=Object(O["a"])(Object(x["a"])().mark((function n(){var i,r,l,h,f,g,v,C;return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=Nd.a.parse(window.location.search),s.value="2"!==i.coursewareRate,a.value=!!+i.followCoursewareRatio,r={planId:Number(i.planId),courseId:Number(i.classId),bizId:Number(i.bizId),playback:Number(i.playback),isParentAudition:Number(i.isParent)},n.next=6,p(r).catch((function(e){console.error(e),o("getBaseDataError",{error:e},"error")}));case 6:if(l=n.sent,!l){n.next=18;break}if(h=l.isPlayBack,!h){n.next=12;break}return c(u.$t("classroom.smallClass.courseEnd"),!1),n.abrupt("return");case 12:t.value=!h,f={classId:l.commonOption.classId,planId:l.commonOption.planId,isPlayBack:h,classType:i.subPlatformType,isParent:l.commonOption.isParent,packageId:l.planInfo.packageId,from:i.from,lessonType:i.lessonType,isStartClass:!1},Object(W["C"])(l.planInfo.startStampTime,l.planInfo.endStampTime)&&(f["isStartClass"]=!0),Object(V["b"])(f),n.next=21;break;case 18:return c(u.$t("classroom.modules.systemError.message")),e.value=!1,n.abrupt("return");case 21:if(u.$store.dispatch("smallClass/updateBaseData",l),Object(Vd["setTimeOffset"])(1e3*l.nowTime-(new Date).getTime()),Object(Vd["setPlanId"])(i,!0),u.$store.dispatch("common/setTimeOffset",l.nowTime),!t.value){n.next=29;break}return u.$store.dispatch("smallClass/updateGoldCoins",l.userInfo.userCoin),n.next=29,d(l);case 29:return n.next=31,Object(Nr["d"])("showOtherChild");case 31:return g=n.sent,u.$store.dispatch("smallClass/updateCanShowOtherChild",g),n.next=35,Object(Nr["d"])("canOnStage");case 35:if(v=n.sent,C=l.commonOption.isAudition,!v||C){n.next=40;break}return n.next=40,m(i);case 40:return e.value=!1,n.abrupt("return",l);case 42:case"end":return n.stop()}}),n)}))),b.apply(this,arguments)}return Object(v["m"])((function(){n.value=u.$store.state.smallClass.isAllOnStageStatus})),{isLoading:e,errorObject:r,isAllOnStageStatus:n,is4b3Layout:s,isFollowCourseware:a,errorMsgTip:c,fetchData:C}}var Dg=n("270c");function Ng(){console.info("函数申明 useThinkClass, filePath:renderer/SmallClass/hooks/useThinkClass.js");var e=null,t=Object(v["j"])(!1),n=Object(v["j"])(!1),s=Object(v["j"])(!1);function a(t){console.info("函数申明 initThinkClass(baseData)",t,"filePath:renderer/SmallClass/hooks/useThinkClass.js");var n=t.configs,a=t.stuInfo,i=t.planInfo,o=t.commonOption;e=new Dg["a"]({planId:i.id,businessId:n.liveTypeId,userId:a.id.toString(),rtcConfig:n.rtcConfig,isAudition:o.isAudition,ircOptions:{appId:n.appId,appKey:n.appKey,nickname:n.stuIrcId,ircRooms:n.ircRooms,location:n.ircServer.location,confService:n.ircServer.confService,logService:n.ircServer.logService}}),g.a.prototype.thinkClass=e,s.value=!0}function i(){console.info("函数申明 releaseThinkClass, filePath:renderer/SmallClass/hooks/useThinkClass.js"),e.release()}return{initThinkClass:a,releaseThinkClass:i,rtcReady:t,ircReady:n,thinkClassReady:s}}var Vg=function(){var e=Rg("irc"),t=e.sendLogger,n=function(e,n,s){if(!e||!n||!s)return console.error("thinkClass, bus, store 不存在",e,n,s),void t("thinkClass, bus, store 不存在",{},"error");var a=function(){var n=Object(O["a"])(Object(x["a"])().mark((function n(a){var i,r,c,l;return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s.dispatch("smallClass/addStudentList",a),i=s.state.smallClass.baseData.commonOption,n.next=4,Object(ya["l"])({planId:i.planId,classId:i.classId});case 4:r=n.sent,r&&0==r.code&&(c=r.data||[],l=c.find((function(e){return e.userId==a})),l?(o(a,l),v(a),s.state.smallClass.remoteAudioStatus||e.RtcService.muteRemoteAudio(a,!0),t("新增学生加入",l)):(s.dispatch("smallClass/deleteStudentList",a),console.error("加入频道学生不在学生列表内",a),t("加入频道学生不在学生列表内",{uid:a},"error")));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),i=function(e){s.dispatch("smallClass/updateTeacherMsg",e)},o=function(e,t){s.dispatch("smallClass/updateStudentList",{uid:e,data:t})},r=function(e){i({videoStatus:!0}),t("老师视频正常播放, uid: ".concat(e))},c=function(e){i({videoStatus:!e}),t("老师".concat(e?"关闭":"开启","视频"))},l=function(e){i({inClass:!0}),s.dispatch("smallClass/updateTeacherJoinChannelStatus",!0),t("老师进入课堂, device: ".concat(e))},u=function(){i({audioStatus:!0})},d=function(e){i({audioStatus:!e}),t("老师".concat(e?"关闭":"开启","音频"))},h=function(n){i({videoStatus:!1,inClass:!1}),e.RtcService.destroyTeacherVideo(),t("老师视频端离开频道, uid: ".concat(n))},m=function(e){i({volume:e})},f=function(){var e=s.state.smallClass.baseData.stuInfo.id;o(e,{inClass:!0,joinClassTime:Date.now()}),n.$emit("closeStudentAudio"),t("本地加入频道成功,uid:".concat(e)),s.dispatch("smallClass/updateLocalJoinChannelStatus",!0)},p=function(e){var t=s.state.smallClass.baseData.stuInfo.id;s.dispatch("smallClass/updateCurrentVolume",e),o(t,{volume:e})},g=function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(n){var i;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(String(n).length>7)){e.next=2;break}return e.abrupt("return");case 2:if(t("远端学生加入频道, uid: ".concat(n)),i=s.state.smallClass.studentList.find((function(e){return n==e.userId})),i){e.next=9;break}return e.next=7,a(n);case 7:e.next=10;break;case 9:v(n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e){var n=s.state.smallClass.baseData;n.commonOption.isParent&&e==n.commonOption.stuId?(o(e,{inClass:!0,currentParentsChild:!0,joinClassTime:Date.now()}),t("自己孩子加入频道, uid: ".concat(e))):(o(e,{inClass:!0,joinClassTime:Date.now()}),t("其他学生加入频道, uid: ".concat(e))),s.dispatch("smallClass/sortStudentList")},C=function(e){o(e,{inClass:!1,joinClassTime:0}),s.dispatch("smallClass/sortStudentList"),t("远端学生离开频道, uid: ".concat(e))},b=function(e){o(e,{cameraStatus:!0,mutedVideoStatus:!1}),t("远端学生首帧, uid: ".concat(e))},A=function(e,n){o(n,{mutedVideoStatus:e}),t("远端学生开关视频, uid: ".concat(n,", mute: ").concat(e))},S=function(e,n,s){var a={};1===n&&(a["microphoneStatus"]=!0),5===s&&(a["microphoneStatus"]=!1),o(e,a),t("远端学生音频变化, uid: ".concat(e,", state: ").concat(n,",reason: ").concat(s))},w=function(){n.$emit("teachrLiveCloseScreenShare"),t("屏幕共享离开频道,关闭屏幕共享")},y=function(e){var t=e.filter((function(e){return e.uid!==s.state.smallClass.baseData.commonOption.teacherInfo.id&&0!==e.vad&&0!==e.uid&&e.volume>90}));s.dispatch("smallClass/updateGroupAudioVolume",t)},k=function(e,t){s.dispatch("smallClass/updateRtcDownlinkNetworkQuality",t)},I=function(){s.dispatch("smallClass/updateTeacherJoinChannelStatus",!1)},P={teacherJoinChannel:l,teacherLeaveChannel:I,teacherVideoStart:r,teacherVideoMute:c,teacherAudioStart:u,teacherAudioMute:d,teacherVideoLeaveChannel:h,teacherAudioVolume:m,localJoinChannel:f,localAudioVolume:p,remoteJoinChannel:g,remoteLeaveChannel:C,studentVideoStart:b,studentVideoMute:A,remoteAudioStateChanged:S,shareScreenLeaveChannel:w,groupAudioVolumeIndication:y,localNetworkQuality:k};for(var j in P)e.RtcService.on(j,P[j]);var T=function(){for(var t in P)e.RtcService.off(t,P[t])};return T};return{addRtcListener:n}},Fg=n("ade3"),Ug=n("53ca"),Wg=n("139c"),Gg={0:"Unkown",1:"Unavailable",2:"ServerFailed",3:"Connecting",4:"Connection successful",5:"Disconnect"};function _g(){var e=Rg("irc"),t=e.sendLogger,n=Object(v["d"])(),s=n.proxy;function a(e){var n=e.netStatus;s.$store.dispatch("smallClass/updateIrcNetStatus",n);var a=Gg[n]||"";t(a)}function i(e){301===e.code&&(s.$bus.$emit("live-kickout",!0),t("账号被踢下线",{code:e.code},"error"))}function o(e,t){var n=t;"object"!==Object(Ug["a"])(t)&&(n=Object(Fg["a"])({},e,t)),Object(tc["b"])(e,n,s.$t("classroom.modules.header.backConfirm.exitByCoursewareIdChange"),s.$t("courses.confirmModal.confirm"))}function r(e){s.$bus.$emit("remoteAudioStatus",e.pub)}function c(e,t){var n={emoticonName:t.name,emoticonType:t.type,lottieUrl:t.lottieUrl,emojiId:t.emojiId};s.$store.dispatch("smallClass/updateStudentList",{uid:e,data:n})}var l=function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(n){var a,i,o,r;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=s.$store.state.smallClass.baseData,n.studentIds.includes(a.stuInfo.id)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Object(pt["a"])({width:window.screen.width,height:window.screen.height,feedback:!0});case 5:return i=e.sent,e.next=8,Object(Ce["a"])(i,"image/jpeg");case 8:if(o=e.sent,console.log("截图",o),r=o.url,t("课中反馈上报截图",{uploadUrl:r},r?"info":"error"),r){e.next=14;break}return e.abrupt("return");case 14:Object(ya["d"])({screenshot:r,planId:a.commonOption.planId,feedbackId:n.feedbackId}).then((function(e){0===e.code?(t("课中反馈上报成功",{screenshot:r,planId:a.commonOption.planId,feedbackId:n.feedbackId}),u()):(console.error("反馈失败"),t("课中反馈上报失败",{screenshot:r,planId:a.commonOption.planId,feedbackId:n.feedbackId},"error"))})).catch((function(e){console.error(e),t("课中反馈上报失败",{screenshot:r,planId:a.commonOption.planId,feedbackId:n.feedbackId},"error")}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(){var t,n,s;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Uo["a"])();case 2:t=e.sent,n=t.uid,s=new Wg["a"]({userId:n}),s.upload();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{handleNetStatusChanged:a,handleKickoutNotice:i,handleClassMode:o,handleVideoBetStudent:r,handleEmoticon:c,handleFeedBackUpload:l}}var Hg={TutorPrivateChat:140},Qg=["class_praise_list","vote","openGift","nonpreset_fill_blank","student_rank","interact","fill_blank","distribute_coins","classroom_praise","schulte_table","redPacket","red_packet_rain","graffiti_board","speedyHand","class_examination","classRest"];function Jg(){var e=_g(),t=e.handleKickoutNotice,n=e.handleNetStatusChanged,s=e.handleClassMode,a=e.handleVideoBetStudent,i=e.handleEmoticon,o=e.handleFeedBackUpload,r=Object(v["d"])(),c=r.proxy,l=Object(v["a"])((function(){return c.$store.state.smallClass.baseData})),u=Object(v["j"])(null);function d(e){e.on("onRecvRoomDataUpdateNotice",(function(e){var t=e.key,n=e.noticeContent,i=e.isHistory;if("classmode"!==t)if("countDown"!==t){if("praise"===t)return c.$bus.$emit("endCorrectPhotoWall",n,i);if("video_bet_student"!==t)if("all_onStage_closed"!==t)if("teacher_video_mute"!==t)if("mult_video_mic"!==t)if("teacher_video_mic"!==t){if("graffiti_board_watching"===t)return c.$store.dispatch("smallClass/updateGraffitiBoardWatchingStutus",n),void c.$bus.$emit("graffiti_board_watching",n);if("graffiti_board_video"===t)return(null===n||void 0===n?void 0:n.userId)!=l.value.stuInfo.id?c.$store.dispatch("smallClass/updateTeacherMsg",{privateChatStatus:n.pub}):(n.teacherName=l.value.teacherInfo.name,n.status=1,n.privateChat=!0,n.pub&&!l.value.microphoneStatus&&u.value!=n.userId&&c.$bus.$emit("openMicrophone"),c.$bus.$emit("onStage",e)),n.pub?u.value=n.userId:u.value=null,void c.$bus.$emit("changeAudioStatus",n);if("canvas_switch_courseware"!==t)if("sendGiftBarrage"!==t)if("vote_data"!==t)if("game_interact"!==t)if("take_picture"!==t)if("small_random_call"!==t)if(Qg.includes(t))c.$bus.$emit("interactions",e);else if("forbidden_student_emoji"!==t)if("allow_open_microphone"!==t){if("forbid_mute_audio"===t){var o=1==n.pub;return c.$store.dispatch("smallClass/updateForbidMuteAudio",o),void(o&&c.$bus.$emit("openMicrophone"))}}else{var r=n.pub;c.$store.dispatch("smallClass/updateAllowOpenMicrophone",r)}else c.$bus.$emit("forbidden_student_emoji",n);else c.$bus.$emit("small_random_call",e);else c.$bus.$emit("take_picture",e);else c.$bus.$emit("gameInteract",n);else c.$bus.$emit("getVoteStatistics",n);else c.$bus.$emit("sendGiftBarrage",n);else c.$bus.$emit("canvas_switch_courseware",n)}else c.$bus.$emit("onStage",e);else c.$bus.$emit("onStage",e);else c.$bus.$emit("teacher_video_mute",n);else c.$store.dispatch("smallClass/updateAllOnStageStatus",!1);else a(n)}else c.$bus.$emit("room.countDown",n);else s(t,n)})),e.on("onRecvRoomMessage",(function(e){var t=e.content,n=e.fromUserInfo,s=t.ircType,a=t.data;if(t&&142==t.type)c.$store.dispatch("smallClass/updateStudentList",{uid:e.content.userId,data:{level:e.content.level}});else if("send_emoji"==t.ircType?i(n.psId,{name:t.data.name,type:t.data.type}):"animation_emoji"==s&&i(n.psId,Object(y["a"])({type:a.type,name:a.resource.emojiName},a.resource)),"raise_hand"==s&&c.$store.dispatch("smallClass/updateStudentList",{uid:n.psId,data:{raiseHandStatus:!0}}),e.content&&"auto_feedback"===e.content.ircType)o(e.content.data);else{if("all_audio_mute"===s){var r=a.pub;c.$bus.$emit("all_audio_mute",!r)}if("Ambiance_Tools"===s){if(c.$store.state.smallClass.baseData.commonOption.isAudition)return void console.info("旁听生不触发氛围工具");var l=a.ambianceId;c.$bus.$emit("Ambiance_Tools",l)}}})),e.on("onRecvPeerMessage",(function(e){var t=e.content,n=t.type,s=t.ircType;if(n!=Hg.TutorPrivateChat){if("uploadCourseware"!==n)if("user_video_mute"!==s)if("user_audio_mute"!==s);else{var a=!t.data.pub;c.$bus.$emit("TeacherSwitchMicrophone",a)}else c.$bus.$emit("TeacherSwitchCamera",!t.data.pub)}else{var i=t.parameter?t.parameter:t.msg,o=JSON.parse(i).correct_picrure_t;o&&c.$bus.$emit("chats.assignmentCheckedPush",o)}})),e.on("onNetStatusChanged",(function(e){n(e)})),e.on("onKickoutNotice",(function(e){console.log("onKickoutNotice123123",e),t(e)})),e.on("onGetRoomHistoryMessageResponse",(function(e){c.$bus.$emit("chatHistoryMsg",e)})),e.on("onSendRoomMessageResponse",(function(e){c.$bus.$emit("chatGroupMsgRes",e)}))}function h(e){e.off("onRecvRoomDataUpdateNotice"),e.off("onRecvRoomMessage"),e.off("onRecvPeerMessage"),e.off("onNetStatusChanged"),e.off("onKickoutNotice"),e.off("onGetRoomHistoryMessageResponse"),e.off("onSendRoomMessageResponse")}function m(e){c.$bus.$on("sendRaiseHand",(function(){var t={roomList:c.$store.state.smallClass.baseData.commonOption.roomlist,content:{ircType:"raise_hand"},chatMsgPriority:1};e.sendRoomMessage(t)}))}function f(){c.$bus.$off("sendRaiseHand")}return{addIrcListener:d,removeIrcListener:h,addIrcHandle:m,removeIrcHandle:f}}var qg=function(e){var t=function(){var e=Object(O["a"])(Object(x["a"])().mark((function e(t){var n,s,a,i,o;return Object(x["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.studentId,s=t.planId,a=t.startTime,i=t.endTime,o=parseInt((i-a)/1e3),e.next=4,Object(ya["j"])({planId:s,studentId:n,duration:o,startTime:a,endTime:i}).catch((function(e){F["a"].send({tag:"开小差",content:{msg:"状态上报接口报错".concat(JSON.stringify(e))},level:"error"})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=null,s=null,a=null,i=null,o=function(o,r){var c=e.state.smallClass.baseData,l=c.stuInfo,u=c.configs,d=c.planInfo,h=l.id,m=u.teacherIrcId,f=d.id;if(clearTimeout(n),s!==r){console.info("监听window_blur,学生端聚焦/失焦",r);var p=r?5e3:0,g=JSON.stringify({type:"isBlur",isBlur:r,id:h});n=setTimeout((function(){window.ChatClient.PeerChatManager.sendPeerMessage([{nickname:m}],g,Ae["a"].notice),r?a=(new Date).getTime():(i=(new Date).getTime(),a&&t({studentId:h,planId:f,startTime:a,endTime:i})),s=r,Se["a"](r),console.log("0606 [windowBlur] content:",g,"nickname",m),F["a"].send({tag:"开小差",content:g,teacherIrcId:m})}),p)}};Object(v["g"])((function(){window.thinkApi.ipc.on("window_blur",o)})),Object(v["h"])((function(){window.thinkApi.ipc.removeListener("window_blur",o)}))},Kg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};F["a"].send({tag:"videoGroup",level:t,content:{msg:e,params:n}})};function $g(){console.info("函数申明 useRemoteAudioStatus, filePath:renderer/SmallClass/hooks/useRemoteAudioStatus.js");var e=Object(v["d"])(),t=e.proxy,n=Object(v["a"])((function(){return t.$store.state.smallClass.studentList})),s=Object(v["a"])((function(){return t.$store.state.smallClass.baseData.commonOption.isParent})),a=Object(v["a"])((function(){return t.$store.state.smallClass.baseData.commonOption.stuId})),i=Object(v["a"])((function(){return t.$store.state.smallClass.interactionStatus})),o=Object(v["a"])((function(){return t.$store.state.smallClass.videoMicLinkUsers})),r=Object(v["a"])((function(){return t.$store.state.smallClass.privateChatInfo})),c=Object(v["a"])((function(){return t.$store.state.smallClass.remoteAudioStatus})),l=Object(v["a"])((function(){return t.$store.state.smallClass.canShowOtherChild})),u=function(e){console.info("箭头函数 audioClose(thinkClass)",e,"filePath:renderer/SmallClass/hooks/useRemoteAudioStatus.js"),n.value.forEach((function(t){i.value.mult_video_mic&&o.value.includes(Number(t.userId))||s.value&&t.userId==a.value?Kg("关闭互听不静音的学员","warn",{interactionStatus:i.value,videoMicLinkUsers:o.value,stuInfo:t,isParent:s.value,selfId:a.value}):e.RtcService.muteRemoteAudio(t.userId,!0)}))},d=function(e){console.info("箭头函数 audioOpen(thinkClass)",e,"filePath:renderer/SmallClass/hooks/useRemoteAudioStatus.js");var t=r.value,s=t.pub,i=t.userId;s?a.value==i?Kg("当前用户是私聊用户，那不响应互听","warn"):n.value.forEach((function(t){var n=t.userId==i;e.RtcService.muteRemoteAudio(t.userId,n)})):n.value.forEach((function(t){e.RtcService.muteRemoteAudio(t.userId,!1)}))},h=function(e){console.info("箭头函数 listenRemoteAudioEvent(thinkClass)",e,"filePath:renderer/SmallClass/hooks/useRemoteAudioStatus.js"),t.$bus.$on("remoteAudioStatus",(function(n){console.info("箭头函数 监听 remoteAudioStatus(status)",n,"filePath:renderer/SmallClass/hooks/useRemoteAudioStatus.js"),!s.value||l.value?(t.$store.dispatch("smallClass/updateRemoteAudioStatus",n),n?d(e):u(e),Kg("收到语音管理状态变化, status: ".concat(n))):Kg("家长旁听不能看到其他学生, 不响应互听","warn")})),t.$bus.$on("closeStudentAudio",(function(){console.info("箭头函数 监听 closeStudentAudio,filePath:renderer/SmallClass/hooks/useRemoteAudioStatus.js"),c.value?Kg("irc已先触发开启语音","warn"):(Kg("进课默认静音其他人"),u(e))}))};return{listenRemoteAudioEvent:h}}var zg=function(){var e=this,t=e._self._c;return e.showContinuousCorrect&&3!=e.isRight?t("div",{directives:[{name:"show",rawName:"v-show",value:1==e.isRight&&e.isLoadedCorrectIcon||1!=e.isRight,expression:"(isRight == 1 && isLoadedCorrectIcon) || isRight != 1"}],staticClass:"continus-correct",class:[{"gameQuestion-style":e.isGameQuestion,"normal-correct-style":!e.isGameQuestion&&!e.isFillBank,"fillbank-style-has-answer":e.isFillBank,"assignment-correct":e.isAssignmentCorrect}]},[t("div",{staticClass:"panel-container w-[3.2rem] h-[2.7rem] absolute mt-[0.58rem]",class:{"h-[1.65rem]":2==e.isRight||e.continuousCorrectData.isNoMedal}},[1==e.isRight?t("section",{staticClass:"common w-full h-full"},[t("canvas",{staticClass:"correct-icon w-[2.4rem] h-[1.8rem] top-[-1.16rem] absolute",attrs:{id:"correctIcon"}}),t("section",{staticClass:"content pt-[0.72rem] h-full",class:{"noMedal-content":e.continuousCorrectData.isNoMedal}},[t("span",{staticClass:"continuous-text pb-[0.16rem] text-large"},[e._v(" "+e._s(e.$t("classroom.modules.continuousCorrect.continuousText"))+" ")]),e.continuousCorrectData.rightCoin?t("div",{staticClass:"coins flex mb-[0.24rem] justify-between items-center"},[t("img",{staticClass:"icon-coin w-[0.32rem] h-[0.32rem] mr-[0.08rem]",attrs:{src:n("d74e")}}),t("span",{staticClass:"icon-number text-big"},[e._v("+"+e._s(e.continuousCorrectData.rightCoin))])]):e._e(),e.continuousCorrectData.isNoMedal?e._e():[e.continuousCorrectData.level<7?t("span",{staticClass:"level-desc inline-block text-small text-center"},[e._v(" "+e._s(e.$t("classroom.modules.continuousCorrect.upgradedLevelText",{curLevel:e.continuousCorrectData.level}))+" ")]):t("span",{staticClass:"level-desc inline-block text-small text-center"},[e._v(" "+e._s(e.$t("classroom.modules.continuousCorrect.highestLevelText"))+" ")]),t("div",{staticClass:"medal-container w-full h-auto flex-1"},[1!=e.continuousCorrectData.level&&7!=e.continuousCorrectData.level?t("img",{staticClass:"w-[0.4rem] h-[0.4rem]",attrs:{src:e.beforeMedalSrc}}):e._e(),e.continuousCorrectData.isTopLevel||1==e.continuousCorrectData.level||7==e.continuousCorrectData.level?e._e():t("span",{staticClass:"arrow w-[0.34rem] h-[0.15rem] ml-[0.39rem] mr-[0.39rem]"}),t("img",{staticClass:"w-[0.4rem] h-[0.4rem]",attrs:{src:e.currentMedalSrc}})])]],2)]):e._e(),2==e.isRight?t("section",{staticClass:"common w-full h-full"},[t("span",{staticClass:"incorrect-icon w-[2.4rem] h-[1.8rem] top-[-1.16rem] absolute"}),t("section",{staticClass:"content pt-[0.72rem] h-full noMedal-content"},[t("span",{staticClass:"wrong-text pb-[0.16rem] text-large"},[e._v(" "+e._s(e.$t("classroom.modules.continuousCorrect.wrongTitleText"))+" ")]),t("div",{staticClass:"coins flex mb-[0.24rem] justify-between items-center"},[!e.continuousCorrectData.isNoMedal&&e.continuousCorrectData.rightCoin?[t("img",{staticClass:"icon-coin w-[0.32rem] h-[0.32rem] mr-[0.08rem]",attrs:{src:n("d74e")}}),t("span",{staticClass:"icon-number text-big"},[e._v("+"+e._s(e.continuousCorrectData.rightCoin))])]:t("span",{staticClass:"level-desc inline-block text-small text-center"},[e._v(" "+e._s(e.$t("classroom.modules.continuousCorrect.wrongDescText"))+" ")])],2)])]):e._e(),t("audio",{ref:"interactFail",staticClass:"hide",attrs:{src:n("b372")}}),t("audio",{ref:"interactSuccess",staticClass:"hide",attrs:{src:n("e99d")}})])]):e._e()},Yg=[],Xg={name:"continuousCorrect",mounted:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.initEventListeners(),t.next=3,Object(Ya["c"])();case 3:e.local=t.sent;case 4:case"end":return t.stop()}}),t)})))()},created:function(){this.loadMedalList()},data:function(){return{options:this.$store.state.smallClass.baseData.commonOption,showContinuousCorrect:!1,continuousCorrectData:{},isTopLevel:!1,MedalImgList:[],closeBoardTimer:null,local:"",isGameQuestion:!1,isFillBank:!1,isAssignmentCorrect:!1,beforeMedalSrc:"",currentMedalSrc:"",isRight:0,sendMsgFrom:"flv",isLoadedCorrectIcon:!1}},destroyed:function(){console.info("对象函数 destroyed,filePath:renderer/SmallClass/interactions/ContinuousCorrect/index.vue"),this.$bus.$off("initClose"),this.$bus.$off("continuousCorrect")},methods:{loadMedalList:function(){console.info("对象函数 loadMedalList,filePath:renderer/SmallClass/interactions/ContinuousCorrect/index.vue");for(var e=7,t=0;t<e;t++)this.MedalImgList.push(n("fe1f")("./level-".concat(t+1,".png")))},initEventListeners:function(){var e=this;console.info("对象函数 initEventListeners,filePath:renderer/SmallClass/interactions/ContinuousCorrect/index.vue"),this.$bus.$on("initClose",(function(){console.info("箭头函数 监听 initClose,filePath:renderer/SmallClass/interactions/ContinuousCorrect/index.vue"),clearTimeout(e.closeBoardTimer),e.closeBoardTimer=null,e.showContinuousCorrect=!1})),this.$bus.$on("continuousCorrect",(function(t){console.info("箭头函数 监听 continuousCorrect(data)",t,"filePath:renderer/SmallClass/interactions/ContinuousCorrect/index.vue"),e.isFillBank=e.isGameQuestion=!1,e.isAssignmentCorrect=t.isAssignmentCorrect,t?void 0!=t.rightCoin||t.isNoMedal?e.dealQuestionAnswer(t):e.autoCloseBoard(0):e.showContinuousCorrect=!1}))},dealQuestionAnswer:function(e){var t=this;return Object(O["a"])(Object(x["a"])().mark((function n(){var s,a,i;return Object(x["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.info("对象函数 dealQuestionAnswer(data)",e,"filePath:renderer/SmallClass/interactions/ContinuousCorrect/index.vue"),t.sendLogger("金币激励提交-返回答案: ".concat(JSON.stringify(e))),e.isNoMedal?(t.isRight=e.answerStat,t.continuousCorrectData.rightCoin=e.gold,t.continuousCorrectData.isNoMedal=e.isNoMedal):(t.isRight=e.isRight,t.continuousCorrectData=e),1==t.isRight&&t.initCanvas(),t.continuousCorrectData.isGameQuestion&&(t.isGameQuestion=!0),t.continuousCorrectData.isFillBank&&3!=t.isRight&&(t.isFillBank=!0),!(t.continuousCorrectData.level>0)){n.next=18;break}return t.currentMedalSrc=t.MedalImgList[t.continuousCorrectData.level-1],t.continuousCorrectData.level>1&&(t.beforeMedalSrc=t.MedalImgList[t.continuousCorrectData.level-2]),n.next=11,Object(Uo["a"])();case 11:s=n.sent,a=s.uid,i={roomlist:t.options.roomlist,content:{type:142,userId:String(a),level:t.continuousCorrectData.level||0,from:t.sendMsgFrom,name:t.options.nickName,msg:""},chatMsgPriority:99},t.thinkClass.SignalService.sendRoomMessage(i),t.$bus.$emit("chats.correctSelfMedalData",i.content),n.next=19;break;case 18:t.currentMedalSrc="";case 19:t.showContinuousCorrect=!0,t.$nextTick((function(){3!==t.isRight&&(1===t.isRight?t.$refs.interactSuccess.play():t.$refs.interactFail.play())})),t.autoCloseBoard(3e3);case 22:case"end":return n.stop()}}),n)})))()},initCanvas:function(){var e=this;return Object(O["a"])(Object(x["a"])().mark((function t(){var n;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.info("对象函数 initCanvas,filePath:renderer/SmallClass/interactions/ContinuousCorrect/index.vue"),window.PAG){t.next=5;break}return t.next=4,window.libpag.PAGInit();case 4:window.PAG=t.sent;case 5:n="./pagfiles/correctIconPag.pag",fetch(n).then((function(e){return e.blob()})).then(function(){var t=Object(O["a"])(Object(x["a"])().mark((function t(s){var a,i,o;return Object(x["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("箭头函数 then(blob)",s,"filePath:renderer/SmallClass/interactions/ContinuousCorrect/index.vue"),a=new window.File([s],n.replace(/(.*\/)*([^.]+)/i,"$2")),t.next=4,window.PAG.PAGFile.load(a);case 4:return i=t.sent,t.next=7,window.PAG.PAGView.init(i,"#correctIcon");case 7:o=t.sent,e.isLoadedCorrectIcon=!0,o.play();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 7:case"end":return t.stop()}}),t)})))()},autoCloseBoard:function(e){var t=this;console.info("对象函数 autoCloseBoard(time)",e,"filePath:renderer/SmallClass/interactions/ContinuousCorrect/index.vue"),this.closeBoardTimer=setTimeout((function(){t.sendLogger("3s关闭金币激励"),t.closePane()}),e)},closePane:function(){console.info("对象函数 closePane,filePath:renderer/SmallClass/interactions/ContinuousCorrect/index.vue"),this.showContinuousCorrect=!1,clearTimeout(this.closeBoardTimer),this.closeBoardTimer=null,this.continuousCorrectData.rightCoin&&(this.continuousCorrectData.isGameQuestion?this.$bus.$emit("updateAchievement"):this.$bus.$emit("addCoin",!0,this.continuousCorrectData.rightCoin)),this.$bus.$emit("closeContinusCorrect",!0)},sendLogger:function(e){F["a"].send({tag:"continuousCorrectData",content:{msg:e}})}}},Zg=Xg,ev=(n("683e"),Object(q["a"])(Zg,zg,Yg,!1,null,"0fbc0698",null)),tv=ev.exports,nv=function(){return Promise.resolve().then(n.bind(null,"073a"))},sv=Object(v["c"])({name:"SmallClass",components:{Header:Sg,Courseware:zf,WhiteBoard:ml,FullFloatLayer:Rc,FloatLayer:rr,OnStageLayer:il,Interactions:Ii,WholeOnStage:_d,Loading:Hd["a"],ErrorStatus:Qd["a"],VideoGroup:$m,ContinuousCorrect:tv,CurrentSpeakers:Og,NetworkError:Mg},setup:function(){nv();var e=Object(v["j"])({}),t=Object(v["j"])(!1),n=Object(v["j"])(!1),s=Object(v["d"])(),a=s.proxy;A["nativeApi"].setWindowAble("maximize",!1),A["nativeApi"].setWindowAble("fullscreen",!0),A["nativeApi"].setWindowAble("minimize",!1),A["nativeApi"].setFullScreen(!0),Object(be["c"])();var i=Eg(),o=i.isLoading,r=i.errorObject,c=i.errorMsgTip,l=i.is4b3Layout,u=i.isFollowCourseware,d=i.fetchData,h=i.isAllOnStageStatus,m=Ng(),f=m.initThinkClass,p=m.releaseThinkClass,g=m.rtcReady,C=m.ircReady,b=m.thinkClassReady,S=null,w=Vg(),y=w.addRtcListener,k=Jg(),I=k.addIrcListener,x=k.removeIrcListener,O=k.addIrcHandle,P=k.removeIrcHandle,j=Up(),T=j.listenCameraEvent,B=j.removeCameraEvent,L=$g(),M=L.listenRemoteAudioEvent,R=fo(),E=R.listenMicroPhoneEvent,D=R.removeMicroPhoneEvent;return l.value=!1,qg(a.$store),d().then((function(e){console.info("箭头函数 fetchData的then(baseData)",e,"filePath:renderer/SmallClass/index.vue"),f(e),S=y(a.thinkClass,a.$bus,a.$store),M(a.thinkClass),I(a.thinkClass.SignalService),O(a.thinkClass.SignalService),a.thinkClass.RtcService.on("ready",(function(){console.info("箭头函数 监听 ready,filePath:renderer/SmallClass/index.vue"),g.value=!0})),a.thinkClass.SignalService.on("ready",(function(){console.info("箭头函数 监听 ready,filePath:renderer/SmallClass/index.vue"),C.value=!0,T(),E()}))})),Object(v["f"])((function(){var e=a.thinkClass.RtcService,t=a.thinkClass.SignalService;e&&S(),t&&x(t),P(),p(),B(),D()})),{interactionList:e,is4b3Layout:l,isShowChatbox:t,isOnStage:n,isLoading:o,errorObject:r,errorMsgTip:c,isAllOnStageStatus:h,isFollowCourseware:u,rtcReady:g,ircReady:C,thinkClassReady:b}}}),av=sv,iv=(n("b5d6"),Object(q["a"])(av,C,b,!1,null,"e8f3ee44",null)),ov=iv.exports,rv=(n("9e1b"),n("c618"),n("e8a0"),n("0b2c"),n("ddcf"));n("25d8");g.a.use(f["a"]),g.a.use(m["a"]),g.a.use(h["a"]),g.a.use(d["a"]),g.a.use(u["a"]),g.a.use(l["a"]),g.a.use(c["a"]),g.a.use(r["a"]),g.a.use(o["a"]),g.a.use(o["a"].TextArea),g.a.use(v["b"]),g.a.prototype.$Modal=m["a"],g.a.prototype.$Message=i["a"],g.a.prototype.$Notification=a["a"],g.a.prototype.$bus=new g.a,Object(rv["a"])(g.a),Object(rv["b"])(),new g.a({i18n:be["b"],store:Ke["a"],render:function(e){return e(ov)}}).$mount("#app")},"904c":function(e,t){e.exports="data:image/png;base64,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"},"906a":function(e,t,n){e.exports=n.p+"static/media/readygo.fbb0588b.mp3"},"907e":function(e,t,n){"use strict";n("1d46")},"9112d":function(e,t,n){e.exports=n.p+"static/img/icon_9.9bff8425.png"},"913b":function(e,t,n){"use strict";n("4558")},"915e":function(e,t,n){"use strict";n("eff9")},"91ea":function(e,t,n){"use strict";n("b513")},"929b":function(e,t,n){e.exports=n.p+"static/media/own-result.e362f82d.mp3"},"936a":function(e,t,n){},9472:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAWBAMAAAAC47AUAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAqUExURUdwTP///////////////////////////////////////////////////4sGkswAAAANdFJOUwALocMg4ckO2bs+iUBtW26jAAAAQklEQVQI12NgnOHAAALCd0PA9Nm7V8ECTHehArrkCNwAUey5d2+C6LK7dw0h3MsCBLliEC7DWggXaCiYy8CwCcwFAAPjK4WtTl7cAAAAAElFTkSuQmCC"},9481:function(e,t,n){},"94c2":function(e,t,n){"use strict";n("4ade")},"94e8":function(e,t,n){},"94e8d":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAAAXNSR0IArs4c6QAAAkxJREFUSEvtlU2IjlEUx39/EZuhpAnZTCGFmo1ShKSMLCyUopkpKVLKyix8NL4WvhZq2BCikCIlxSwslBSNBRYWiihMKF9FSY7O477TeZ6579vUzGZqzu4599zfc87/nHuvGGHTCPMYAw5f0VGqoZlNBzYAC4EWYBbwCXgNvASuS3qRE6hUspn5915gNzCpgaIGXAW2S/oe46rAHmBHBuSAnN59wBJJv2t7BoLMbBHwKGz8AnQDN4EPwFRgOXAImBd+2iXpeA54FOgKgWsk3a1ma2YzANdvSlrrk+TJFBYzvAxsSv6fQJOkvzkdzewO0JbW+iX5TwYBTwI7k981a5b0uQ7wWZoAX34qqTUHXAncC4AbQKckz7YwMxsH7AKOhLgDkvYPAqYNsWx3eYa9wDtgGrAUmBtgz1OXf9QDjgcuAO25Uiu+J8AqSV+jvzqHPiZ7gAlDAHrINWCzpF85DV2bYwHUD5wCHgLvU8l+FH3w54e4W5LWlYBmNhl4G2brDbBYkkNLZmYuy21gdVhYIem+fxclm1m1w6Xpz0B9kB8H/2FJ+yJwI3AlBLRL8o5nzcxmps7X1s9I2haBy4Ai5WTnJW1pAOwELob1bkkHI9B18VlrTkF+UrxJPfEmSfKsTdW47oULaJXkp6d0ljuAS5WsvCk+b7UuLwDmVGLOStpa81Xn0EfiBDCxXrnB75mdS5fsnywwlTQ7XRLrgYFbJIC+AX7bnJb0oPrjhq9e6qa/J02AXxIfgVeSPLusjdJndAgNqRsyVvJw1Pu/9x84tLslQ90p/gAAAABJRU5ErkJggg=="},"952e":function(e,t,n){e.exports=n.p+"static/img/icon_empty.92f4b8be.png"},9553:function(e,t,n){e.exports=n.p+"static/img/icon_right.b0913584.png"},9674:function(e,t,n){},9761:function(e,t,n){"use strict";n("45df")},"987f":function(e,t,n){"use strict";n("637b")},"98bd":function(e,t,n){"use strict";n("fbf6")},"9a45":function(e,t,n){e.exports=n.p+"static/media/rain-pot.6fc336b1.mp3"},"9ab3":function(e,t,n){},"9ac2":function(e,t){e.exports=require("stream")},"9b0f":function(e,t){e.exports=require("fs")},"9b23":function(e,t,n){},"9b244":function(e,t,n){"use strict";n("62bf")},"9cdb":function(e,t,n){},"9d3e":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAQCAYAAAAMJL+VAAAAAXNSR0IArs4c6QAAANdJREFUOE+11MENwjAMBdD/BXcWYQE24AISY7AAQ7AAYyDBhQ1YgEW4g4yMUtQmTuyC6LGy/RrbDfHnh1pfRCYA1gAWybsCOJN8RHwRmQJYZfknks8O2ABYZsVuAA4ekopvAcyz/AvJYwfsAcyMr20ijeJa6k5y5wEaaCJO8QKwWtQ/0AAJFNfcQYt0SFYfCyS9CMXq/N4tSpsURTQ8H2j1tB9gBNLa3GJeA+BHxFyGAvgSqa6zCYxEmv9KFQgi7t/eBBzELa75LtBD8sssdBmGgMiNWot5ASTxcRFRhCq9AAAAAElFTkSuQmCC"},"9e33":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAAAXNSR0IArs4c6QAAAc5JREFUSEvtlb9LVXEYxj+P5JBIIEqgZNAggkLSUgn+Awni4NASKahEToEoQkMNDYUiNXkDl3TwL9CWxNbSRZQI3MRqSoIIDKxHvnHu5XQ95/7w3kHBd/ye837O8z7v+36PqHKoyjzOgZU7eoY8tN0P9JZZ9DdJT+M5uZJtPwMelwn8JKmzmsAtSdfTgD3ArQIKQzUTwOXonT9An6S3icBipdp+AsT9eiTpVX5eSWNj+y6wBLlVzUh6mCSiKND2TeA9cDECvAPuSDosG2i7FfgANEfJn4FuST/SLEpVaLsWWAe6YsnPgTlJuycBNgD7KYkfgWFJ2yU3xXYhYOAcAAOSVkoaG9sXgNtRZ5uAa8AgEB/kPaBD0s8stGiX80uyvQjci50PSlqoBNgOhG5nY1rSZCXAFuBLDDgvafQYMJq5sbBekn6njYXtcWAm9nxK0osk4BvgPvAVyADLwKakcAlg+wrwAJgCQsNChG0JTdn5D2j7BrAB1OQpC7DvQD1Ql6B6VlJQnIt/XbbdCEwDQ7ELIK3q7PlrYEzS39Q5tN0GjES/go4Exb+AVeClpLWkLxba5UvAVSCoz5a+k3bLnHhsivlQ9qacA485cPo9PAKSboUlE22NzgAAAABJRU5ErkJggg=="},"9f06":function(e,t,n){},"9f30":function(e,t,n){"use strict";n("747e")},"9f7a":function(e,t,n){e.exports=n.p+"static/media/press.4731616e.mp3"},"9fa0":function(e,t,n){},"9fee":function(e,t,n){"use strict";n("3f01")},a182:function(e,t,n){e.exports=n.p+"static/media/paihangbang.5acc4c35.mp3"},a1cb:function(e,t,n){e.exports=n.p+"static/media/gift-submit.5f33e6c2.mp3"},a202:function(e,t,n){},a21a:function(e,t,n){e.exports=n.p+"static/media/readygo1.a2e99275.mp3"},a26d:function(e,t,n){},a2a8:function(e,t,n){},a32b:function(e,t){e.exports=require("path")},a33c:function(e,t,n){e.exports=n.p+"static/img/icon_reduce.c6b845e6.png"},a3ad:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAkCAYAAACe0YppAAAAAXNSR0IArs4c6QAABUtJREFUWMPVmFtsFFUYxyVo1AdeJMZuL3srCBiFhhgwRB+KxBsEiSLGBC/RaKpBiAk8NBpEEGJoQMKlCgQoFGuwSFvAlpZya6AtWHoBmmKldNvt3rvd7W63l+3u/nyYM9vZ3VkoyAuT/PLNTM7//Gf2fOfMd/aRRx6mA5gMLACWA18Da4AvgKVAFjDxQZplAVuBDiDCnQ8/cAp4F3j0fg1nAWdiuo2EB+jrNNFeaaXpsIf6Xwa5Xuyi61I3Q/0WIKxofRuYf6+ma4EQAKGgj8bCXg4tNrNJE2bjM7AxBSnGsWW6j9NrnfjtDmEeBr4bj+EEoFCIQjQdtrBtmo+fUrgnNqeNUrvNHH14+PJuxuul5wz5KfnYQZ4G8lIkNqfAZo0Uo9cpY9d5Kverc80iLwKAJpnpS6LRKMeWO9mSAls06mwdz/0UCXOtTbz1z8mMKwFo2mdlm4ZYUkVMC1P+lZ324w7szSZM53uo+cFN/tRAokbo/ny/S042NVODlLUhP3tn+NihgR2pCjRw4EUPfotTdRIFHG72zPAlaHZoIN8wDJGg+DWfjDf+FICe2h52pRIlX3HuapV/sn+Bb4DFwEfADQDqN3lj2iv1kcig0E6ON84H4PImL7+mMkaaFIvmOBULxNNx2nUAtOweTNDtToW9hmExrcLAY/HGRQDUfmtnbxoJHH/bpHjbiQrdTMAMwPlVVlXtqeXyGN9UG+M9APy9wcP+dCTSxjiYOURoxCs6sAJ1QHt0CfW2uyjQjcZo9qdJ/XSU2IVuu5rxSgDsdT0UpBPloILyJR6Geu2xS2jIzz8FdoqmD0TbKfVl2S5ATqwX1Ix1QIhIZJS/3nRRmI5EBmPn6XA4PULZKzaql3VS/kY3RYaRmHaHFbo/ZvUTsPWJRzx4p1WrAIABi5fSuR6KMrhvKl7vJWCRTa8Ck5KZzgR6xBdokMbvLRzJgCNapDhetHBEF8Z6pksxICuSmRoBaez6b7qpmOemWAvFWjiqhaMZCtSu45C1bds7hfEQMCXedKLIUPDecHF8RoBjWsbQSbFEC6XGUc4t6uZyTieXczo5+5aZEn0opl08tiqLMC+MN/4QgFFfHxXP+ynTkcDJqcPc2mchHPQmLJWhgJvmXKuqrkwLp+f1ik/jEPC40rgBgGu5Nk7qSKA8M0j/DeUU6gCqgBNAmzypuJrjUNWf1MGIu1u0myObpkfnYtWzw1TooEIH5Too10u0bZArCQeQrZIfPwLgrjPH6gUVevBel1e9hbJoCQC+VhOVeqjUQ5WIMr42WfRJksT8QErKFpOqvlIPA7fkJHtVFq2Q3qXcTrUBqvWJDNtl0QIV00nAFQA6t7tV9WeMYSKjHtHH1LhlstTFOQOq2IvtirFdCSwUb7kekOZqyO/hYpZPVd+wxCz0TmCCbLwMgMHbJmqMcMGgQFzXze5nyOxKWkUPW500vNZHjRFqDBLKfnqr5W/4rvj1GQgPUp/l56IRVWqnBbm1xoaztJeBZhP+hi5sh3zczDFzaUooqe7aUnkqjQDa+HG6KI1zkYU6I/+fTCk2vuwhHJDHNk8tK7OjleXt1VauZDJ+jAoU91vfcRPyyaZnk25lgFzRKIhjn5nG6SM0ZEJDJly9B1pm+3AWWiEyLPq7ADx1t0J+3diWpd+FbaeLtmwHTVNQpVnElueG6fisG88JJ4R8im3LzoT66g7m86IVY7TCCPYy1GrCV2nD/Vs/rgMBvCecBOq7CfV1i+pCeVQDs+93lzgf+B2wcfcjCDSLeT3tQe6N9cAiUT+vAlYDnwPvAXOBJx6afxX+A0PT/fDLZO/nAAAAAElFTkSuQmCC"},a42e:function(e,t,n){},a475:function(e,t,n){e.exports=n.p+"static/media/interact-success.bd430e73.mp3"},a503:function(e,t,n){e.exports=n.p+"static/img/icon_left.217dd7d3.png"},a550:function(e,t,n){},a7c7:function(e,t,n){},a9a6:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var s=n("d4ec"),a=n("bee2"),i=n("262e"),o=n("2caf"),r=(n("99af"),n("ff4a")),c=function(e){Object(i["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(s["a"])(this,n),t.call(this)}return Object(a["a"])(n,[{key:"logger",value:function(e){var t=e.type,n=void 0===t?"info":t,s=e.msg,a=void 0===s?"":s,i=e.params,o=void 0===i?{}:i;console[n]("【 ThinkClass ".concat(n," 】").concat(a," ").concat(JSON.stringify(o))),window.thinkApi.logger(n,{msg:a,params:o},"【ThinkClass】")}}]),n}(r["EventEmitter"])},aac1:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkBAMAAAB73QeTAAAAAXNSR0IArs4c6QAAACFQTFRFAAAA////////////////////////////////////////zyHr+QAAAAp0Uk5TAB8hKkZNc4GFmXHw3XAAAAAmSURBVBjTY2CgGbCcOXNmAITptWrVqgIMplhaF4zJwKA1xJg0AADzuh4lFKV8pQAAAABJRU5ErkJggg=="},aaf0:function(e,t,n){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{class:["error-wrapper",e.bgWhiteAuth?"bg-white":""]},[t("div",{staticClass:"center"},[t("div",{staticClass:"error-status"}),t("div",{staticClass:"message"},[t("div",{staticClass:"message-main"},[e._v(e._s(e.message))]),e.scene?t("p",{staticClass:"message-sub"},[e._v(" "+e._s("Scene: ".concat(e.scene,"."))+" "+e._s(e.subMessage)+" ")]):e._e()]),t("div",{staticClass:"button-wrapper"},[e.showRefresh?t("a-button",{class:e.showBack||e.isClassLiveOrPlayback?"mr40":"",attrs:{type:"primary",shape:"round",size:"large"},on:{click:e.handleRefresh}},[e._v(" "+e._s(e.$t("common.refresh"))+" ")]):e._e(),e.showBack||e.isClassLiveOrPlayback?t("a-button",{staticClass:"color-orange",attrs:{shape:"round",size:"large"},on:{click:e.handleBack}},[e._v(" "+e._s(e.isClassLiveOrPlayback?e.$t("classroom.modules.systemError.backButtonName"):e.$t("common.back"))+" ")]):e._e()],1)])])},a=[],i=(n("14d9"),n("caad"),n("9ca9")),o={name:"ErrorStatus",props:{message:{type:String,default:function(){return console.info("对象函数 default,filePath:renderer/components/Common/ErrorStatus.vue"),this.$t("common.components.errorStatus.message")}},isClassLiveOrPlayback:{type:Boolean,default:!1},scene:{type:String,default:""},subMessage:{type:String,default:""},showRefresh:{type:Boolean,default:!0},showBack:{type:Boolean,default:!1},backUrl:{type:String,default:""}},computed:{bgWhiteAuth:function(){return console.info("对象函数 bgWhiteAuth,filePath:renderer/components/Common/ErrorStatus.vue"),["ClassLiving","PlaybackReadyClass","LivingReadyClass","PlayBack"].includes(this.scene)}},methods:{handleRefresh:function(){console.info("对象函数 handleRefresh,filePath:renderer/components/Common/ErrorStatus.vue"),this.isClassLiveOrPlayback?window.location.reload():this.$emit("click-refresh")},handleBack:function(){console.info("对象函数 handleBack,filePath:renderer/components/Common/ErrorStatus.vue"),this.isClassLiveOrPlayback?Object(i["a"])("/#/courses"):this.$router.push({path:this.backUrl})}}},r=o,c=(n("4186"),n("2877")),l=Object(c["a"])(r,s,a,!1,null,"31fed01e",null);t["a"]=l.exports},acd6:function(e,t,n){e.exports=n.p+"static/media/get-coins.71310f30.mp3"},ad11:function(e,t,n){e.exports=n.p+"static/media/photowall-begin.c64cd4fd.mp3"},ad52:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAAAXNSR0IArs4c6QAAA/lJREFUSEutlllslFUUx3//UmgBW7YuLl00UqgxxaBgRBFj2UxREgMB+yJEYpAHEI1oNPggoolExUDi0hiVPmk1DQQSEbWgpsFoQq2iAavMdKG0FrrQhUKnc82ZzrRfO22nJL0v38x37/3dc8/5n3M+Mc5D48yjH+icmwaUAPlA/HUc1A0cAjZIuuoF7gRevw7Q0KUbJR3wAkuBxzmyvY7KzzNGBbvwrO1eva+ZvHUzgW2S9nuBp4E7KV5VQ/2prMHAMCH08Ljdfj79g59Zc24FCiR9HZp1zsUBnUAC7+V0ca1jaj9QtsQLjFgn2wjP+xqJT0wHciT9EwHaCT6CPU3szU4d9boePhMTutnmmwQEgKmSAhHgcuAYrT4/nz1g8LGN9LxaCr/JBM5Kyu13iHNuJXCUYKCd7tbmKFrp2nhaqm6Jej93TS0r9hnwsKTVXuBE4DtgyTCmOT7O7eRa+w2hOXNnJC4Lnu3i3henAO9IemFQyJxztmwO0LcRzKJDBAMXKcpOwYITkUtk54qiRm4rsIA8I+mjIRoYIhTnlgHfctnvp2Rxn1+9QPv/xEk/SZk2ly/peCzgFuB9zh1u4sQWT+Q9OtzoayYu3kSdIel8LOBeYDsVezr5ff+ALiMXmZTcTuGfSWH9JkkaKvuoKx8BVlG+tQbfQU/mhIWYvrCa5aXZwG+S5kd2j1i+nHN/m/o5+kgdLX9F5/bswnoWvnUz8KWkdaMCnXMmI0vFOL7KCdB7NSEkFW9RyNtxhTu2TgbekGSVKjSGtdA5Z/I5S++VBg7m3tjvDG+UlxSfJ+0hk1aobMUCPmrqp+1MNWUrzU/06dBDLPi1moQ0m7tf0slYwOeAd6n5opXKl6ZHWSgcj53rgDiLcoqkS7GAH5j6OfNmG/8WWWsYPBLTLrH0l1lAsyR79o+RfPh9qLdUbK6m8Vh2VM6lPujnnmLLkJ8lLRoLsAbIpDz/Ap2+m6LCl/nkf+S+lgYUS9owKtA5Z9WjHVyAspwJuOCEAWA4KLN3dpG1yda9Kml3LOA8oJLe9jp+umtA0F4dzi+pZdoCq4PrJVnrHdmHzrm1pn4uV9RQuSZrcNkKW7joVB3x0+2wuyVVxAK+YurnwoFOfLs8zSpSXBXkvqoeJOslyZI6YgE/NfXj39VE44HUKEFPzmpg3nHLnnpJUW0hSjbOuXJTP1VP+Wn7MbphzVjm5/YP7f0JSQ8PlehwwCZTP6cXX6SnIaUv3T19OW1TCxkvzwCKJG0eFeicSwbaINjJH3On4LAkG1xGMna3MXO9Zc8OSW/HAiZaOgFWlmKNpZLKxnJlU/4ewDJhuNEFfBL+OBratoavh7FMG21+3L9g/wcB5XM0jweccQAAAABJRU5ErkJggg=="},ae66:function(e,t,n){"use strict";n("8030")},ae7f:function(e,t,n){e.exports=n.p+"static/img/icon_expand.65265677.png"},af67:function(e,t,n){},af73:function(e,t,n){"use strict";n("d7ca")},b1f2:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAcBAMAAACJyGLdAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAkUExURUdwTP+rCv+rCP+rCf+qCv+rCP+jAP+rC/+rBv+rCP+rCv+qCn9KHKEAAAALdFJOUwB+90HIlw4nbFjl8LNS6gAAAIJJREFUGNNjYMAApeEINrP2JgM4x2j3bmWExO7dcCmgBFwKJAGXAktApSASUCmoBFgKJOG6e3cIWKpo9+4tibt3i3nv3q3OEL17txvj7t0CKbt3bwVytiSAOGzeQE7RbjcGEIchBaiMvZMBwmGYUQC2FsKBAnpxmHcjBRVD1wrMgAUA53xNzEyb/KQAAAAASUVORK5CYII="},b280:function(e,t,n){"use strict";n("4c438")},b290:function(e,t,n){e.exports=n.p+"static/media/play.47fee9a4.mp3"},b293:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAABMCAMAAADwSaEZAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAGbUExURUdwTP////////////////////////////////////////////////////////////////////////////////////////////+tDf85Z/87cf+PHv+6GMHH0f+1Ev6GIf/IKf81XC+N//+nA7e9yf/DIP8+ef+dG6uzwfgqR7vBzUe+//+9HP/89//HJLO7x//BHjed/7G3w/f5+/+VHD6r///PLCiA/z2h///pzv/pwFXU/6OruwZm2v6RPkS3///XMyKX7bTs//9CiTSX//9Ag//ROEKx/4eUq0zF/52ltSyH//0wUuTw+Qd04SBnzk7L//VMSEyP/t3f5SR4/5WfsQZe1a/h///n6//12v/NKP+3JDKT//96pf9+sRbvaf90l/18JP/Fjzyn/5HZ/xLvhQ7vnQztq//17z6t///H2Qjrx/+fPARW0wXq3v+Yw0/iSTbilP+uX//PcP/r8cnR0//HUv/Zl//l5ZXROkK1//dAUNXZ3wrvt/9QaP/drWSx//9ehzzjbEaFy4u129HV3f+vNrPBNAh840ol6zAAAAAXdFJOUwAefJE9B7Uu9+zl1/uPUGbBNqsO39DLbf0MuwAABNZJREFUWMOt2PlbIjcYB/DhEkQRPHBATikqIlPkWhXxoLKeqF28RSziRdXV1a26du9ud9s/u0lgrEzeDODD+5PPMH6ebyaZTBKOkyuN2mhoMnc163TNXeYmg1Gt4Z5Z7UqTjpeUzqRsr19SKFt4RrUoFXVR2g5etjq0tVNNfNVqqo3rVLXyNVSrqrO61abnayx9WxVKo+LrKJXsSFF083VVt0y/avV8naVn9oO6ma+7mtUMSyfzT0JxLH5fuCtSP+hATQvmEnbin+/f3mWzlp9wxYFsQEsV9PMS3t657QEnLouFifF6qhc0QD/u9PUFAvaA3WnBmIWF8d3SEQKNL4QNDwfsqJyiFofHm2TcQ/fs/FzWnE57WYsLoFbxLnTqYcyNG4q0rPjY4ozh1lmlkQhzu3E2rNmdWRItznqxnowKaJ4QtsfcqB41pxzW+v/4kMxfZ/n810+f3g++eoGiidmcD28eHv65XV6OwPPbYzDJD/ne3nRvenDw1TTS+twYCwQsb35DlVwf2ct8+XJ0tCU1xWjSOTpv7UVcGiXb3d3F2XCXYuz4JLm+5PGkQqHR2JZ0Ji+PfWnknBVrJNmLXdRSd19gOGv56/j45CQ5suTZC4Visd+lGF96D5TSy/kerKUJRjSUDWMnp6dJEmw0NjdFYUqCUd+0HMKsBJueLWl9AefA9enpx/MkCXYYm/uTwlrIt5anMaIhbBZnw+MDJbv+eH5+mdzzpDKHsdgUnYxvh1rJ5/qJNvh+erZcbnc2e31+eXmZKgebGqIx3E4TgGEN9QCqdwIuPiIUM+vrI0tLntQoemJzQ0O/UP9mQnMPPb/u9/f3W1G2NMbEixGCeVKpUjAA02k4NT2acy+RhhtqTae3H69mSsFCo4foiS0s0M3k1ZyRvrj/Emk9/VizVmKePdLKqaGFX+lkvJEzMLBSJ/Q+wcrBYgRbADADByxS9mdmSLYeKYaDZUrBxregl90MYjNiNoIJEVQY8+DHP4UxqJlmrou+eDVTjoZ6gWD+xY2N+dXNzYmJlZV/k7iR4+MA1sUBX8vts6ur/dzXGRztD3whnFicF7GVJGklhDVz7M+4IGyfnZG/wosYe40wpCVJMAjTcboaFhTBxCJq5uuShrDx8aOjCITVslgJl7DNidXVb9/+Xl5mLWKgDgCSYW1+fiOxmEjcMm/rgoYGVV5fAjM+ny8c9H5g3mbmmmrBiBP2eb1+v3+NvQKHXie6mZhCoYJ+h9/BxgzQi06VH2NBksshgxmhKQh4ZuhhhVEw+WRqaHIEkqFW4mAOuWRocgSmbQgLBr1+L7Ju2ZgJ/KDQWJhgKNnt2rLAuksJfupAzOt1fFiLyN3VDn6EqXKEHd/lIfEjXEM7IxGhenwlvHB5XingJVVFFQuFz/F3xapWB2OxV1FjLpfrwOWanLwpyGJaxjK0ErPZbNg7OJiU3WbLL5BFLCpqctiTBTKnksOiNpetGqaquqkQsSiJ5pLBKjYV8HanhA0QzeaSS9ZWfSNWxgbK2SZraiRriyhiiEPRbEyM2iJCm9cnWFQG0ytq3Vaj7fCPgSjJdsH4Wmrr2fBHdu5vLpAGYzp13UcRkXjh4qaeo4jGHpI09vimsQdLjT3yavBhXGOPCRt8gNngo9UGH/o+6zj6P5pZJ+h/PvSoAAAAAElFTkSuQmCC"},b372:function(e,t,n){e.exports=n.p+"static/media/interact-fail.55547638.mp3"},b39f:function(e,t,n){"use strict";n("4aff")},b3ca:function(e,t,n){"use strict";n("e31c")},b4b04:function(e,t){e.exports="data:image/png;base64,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"},b4db:function(e,t,n){e.exports=n.p+"static/img/icon_7.17c7a63e.png"},b513:function(e,t,n){},b561:function(e,t,n){e.exports=n.p+"static/media/gift-show.7aebf78e.mp3"},b56f:function(e,t){e.exports=require("original-fs")},b5d6:function(e,t,n){"use strict";n("dba6")},b5f9e:function(e,t,n){},b657:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAABMCAMAAADwSaEZAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAGbUExURUdwTP////////////////////////////////////////////////////////////////////////////////////////////+tDf85Z/87cf+PHv+6GMHH0f+1Ev6GIf/IKf81XC+N//+nA7e9yf/DIP8+ef+dG6uzwfgqR7vBzUe+//+9HP/89//HJLO7x//BHjed/7G3w/f5+/+VHD6r///PLCiA/z2h///pzv/pwFXU/6OruwZm2v6RPkS3///XMyKX7bTs//9CiTSX//9Ag//ROEKx/4eUq0zF/52ltSyH//0wUuTw+Qd04SBnzk7L//VMSEyP/t3f5SR4/5WfsQZe1a/h///n6//12v/NKP+3JDKT//96pf9+sRbvaf90l/18JP/Fjzyn/5HZ/xLvhQ7vnQztq//17z6t///H2Qjrx/+fPARW0wXq3v+Yw0/iSTbilP+uX//PcP/r8cnR0//HUv/Zl//l5ZXROkK1//dAUNXZ3wrvt/9QaP/drWSx//9ehzzjbEaFy4u129HV3f+vNrPBNAh840ol6zAAAAAXdFJOUwAefJE9B7Uu9+zl1/uPUGbBNqsO39DLbf0MuwAABNZJREFUWMOt2PlbIjcYB/DhEkQRPHBATikqIlPkWhXxoLKeqF28RSziRdXV1a26du9ud9s/u0lgrEzeDODD+5PPMH6ebyaZTBKOkyuN2mhoMnc163TNXeYmg1Gt4Z5Z7UqTjpeUzqRsr19SKFt4RrUoFXVR2g5etjq0tVNNfNVqqo3rVLXyNVSrqrO61abnayx9WxVKo+LrKJXsSFF083VVt0y/avV8naVn9oO6ma+7mtUMSyfzT0JxLH5fuCtSP+hATQvmEnbin+/f3mWzlp9wxYFsQEsV9PMS3t657QEnLouFifF6qhc0QD/u9PUFAvaA3WnBmIWF8d3SEQKNL4QNDwfsqJyiFofHm2TcQ/fs/FzWnE57WYsLoFbxLnTqYcyNG4q0rPjY4ozh1lmlkQhzu3E2rNmdWRItznqxnowKaJ4QtsfcqB41pxzW+v/4kMxfZ/n810+f3g++eoGiidmcD28eHv65XV6OwPPbYzDJD/ne3nRvenDw1TTS+twYCwQsb35DlVwf2ct8+XJ0tCU1xWjSOTpv7UVcGiXb3d3F2XCXYuz4JLm+5PGkQqHR2JZ0Ji+PfWnknBVrJNmLXdRSd19gOGv56/j45CQ5suTZC4Visd+lGF96D5TSy/kerKUJRjSUDWMnp6dJEmw0NjdFYUqCUd+0HMKsBJueLWl9AefA9enpx/MkCXYYm/uTwlrIt5anMaIhbBZnw+MDJbv+eH5+mdzzpDKHsdgUnYxvh1rJ5/qJNvh+erZcbnc2e31+eXmZKgebGqIx3E4TgGEN9QCqdwIuPiIUM+vrI0tLntQoemJzQ0O/UP9mQnMPPb/u9/f3W1G2NMbEixGCeVKpUjAA02k4NT2acy+RhhtqTae3H69mSsFCo4foiS0s0M3k1ZyRvrj/Emk9/VizVmKePdLKqaGFX+lkvJEzMLBSJ/Q+wcrBYgRbADADByxS9mdmSLYeKYaDZUrBxregl90MYjNiNoIJEVQY8+DHP4UxqJlmrou+eDVTjoZ6gWD+xY2N+dXNzYmJlZV/k7iR4+MA1sUBX8vts6ur/dzXGRztD3whnFicF7GVJGklhDVz7M+4IGyfnZG/wosYe40wpCVJMAjTcboaFhTBxCJq5uuShrDx8aOjCITVslgJl7DNidXVb9/+Xl5mLWKgDgCSYW1+fiOxmEjcMm/rgoYGVV5fAjM+ny8c9H5g3mbmmmrBiBP2eb1+v3+NvQKHXie6mZhCoYJ+h9/BxgzQi06VH2NBksshgxmhKQh4ZuhhhVEw+WRqaHIEkqFW4mAOuWRocgSmbQgLBr1+L7Ju2ZgJ/KDQWJhgKNnt2rLAuksJfupAzOt1fFiLyN3VDn6EqXKEHd/lIfEjXEM7IxGhenwlvHB5XingJVVFFQuFz/F3xapWB2OxV1FjLpfrwOWanLwpyGJaxjK0ErPZbNg7OJiU3WbLL5BFLCpqctiTBTKnksOiNpetGqaquqkQsSiJ5pLBKjYV8HanhA0QzeaSS9ZWfSNWxgbK2SZraiRriyhiiEPRbEyM2iJCm9cnWFQG0ytq3Vaj7fCPgSjJdsH4Wmrr2fBHdu5vLpAGYzp13UcRkXjh4qaeo4jGHpI09vimsQdLjT3yavBhXGOPCRt8gNngo9UGH/o+6zj6P5pZJ+h/PvSoAAAAAElFTkSuQmCC"},b658:function(e,t){e.exports=require("string_decoder")},b65f:function(e,t,n){},b6d3:function(e,t,n){"use strict";n("08da8")},ba09:function(e,t){e.exports=require("tls")},ba44:function(e,t,n){"use strict";n("2d23")},ba84c:function(e,t){e.exports="data:image/png;base64,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"},bafe:function(e,t,n){"use strict";n("4aa5")},bbe3a:function(e,t,n){e.exports=n.p+"static/media/success.f25a37b9.mp3"},bd12:function(e,t,n){"use strict";var s=function(){var e=this,t=e._self._c;return e.show?t("div",{staticClass:"loading-wrapper",class:e.className,style:e.loadingStyle},[e._m(0)]):e._e()},a=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"loading-contenter"},[t("div",{staticClass:"loading-logo"},[t("img",{attrs:{src:n("c63e")}})]),t("div",{staticClass:"loading-animation"})])}],i={name:"Loading",props:{show:{default:!0,type:Boolean},size:{default:"default",type:String,validator:function(e){return console.info("对象函数 validator(value)",e,"filePath:renderer/components/Common/Loading.vue"),-1!==["small","default"].indexOf(e)}},marginTop:{default:"0",type:String},marginBottom:{default:"0",type:String}},computed:{className:function(){return console.info("对象函数 className,filePath:renderer/components/Common/Loading.vue"),"loading-".concat(this.size)},loadingStyle:function(){return console.info("对象函数 loadingStyle,filePath:renderer/components/Common/Loading.vue"),{marginTop:this.marginTop,marginBottom:this.marginBottom}}}},o=i,r=(n("f761"),n("2877")),c=Object(r["a"])(o,s,a,!1,null,"92d727e8",null);t["a"]=c.exports},bd31:function(e,t,n){"use strict";n("2f84")},bd44:function(e,t,n){"use strict";n("862e")},bdb6:function(e,t,n){},bdc3:function(e,t,n){},bdc9:function(e,t,n){"use strict";n("e637")},be1c:function(e,t){e.exports="data:image/png;base64,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"},bf79:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAAB8CAYAAACMsFVWAAAAAXNSR0IArs4c6QAADMpJREFUeF7tnQuMVUcZx/9zd2GXN8vTy7vLQ3nLo6nxlfhoClUTTaXFtKIB7pwLllbURKtptluj0kQFpTzOXDCKjdhSE41WapRoojWa8pBHQXnJY2F5X57LLnDvmO9yFnC755w5e885d+52vmQDyc75zsz325nzzTcz3zCUsdTV1SUaGxvvB/ARxtgMKeW7ASQB9HKadQVAI2PsP1LKbQD+nEwm36yvr8+Xa7NZOVY8nU4PzefzTwJ4AsCwgG1oAPBSIpF4ce3atScCPlvy4mUFbN68ef2rq6u/DWA+gKoirdcC4CfNzc3Pbtiw4XyRumJ7vGyApVKpuYyxlQAGhGydc4yxJ23bfjlkvZGo0x5YXV1d5cmTJ1cyxtKRWMBRKqVcO2TIkCX19fW3onxPsbq1BrZ06dJu165d2wTgE8U2VPH513r06DFn+fLl1xXLx15MW2DUsxobG38dI6xW47+WTCY/rWtP0xZYKpVaE/Uw6NY9aHjMZDKLYu8+Ci/UEphlWY9JKX+pUP9CkRs3buDixYuFn+vXr+PWrdufocrKSnTr1g19+/Yt/HTt2lVVJRhjc3V0RLQD5rju/1bxBgnUyZMnce7cOSUQAwYMwJAhQ1TBnWtubn6Pbi6/dsA456sB+A5H1JsOHz6MfD5Y0CKRSKC2trbQ4xRkjRBisUK52IpoBcyJYBzymxSfOXMGx44dK8pII0aMwKBBg/x0tCQSidE6RUS0AsY5/x6Ab3hZkXrWwYMH/Qyt9PsxY8ao9LRlQohnlBTGUEgbYE4g96hXbJC+WXv27Ak8DLrZkYbHSZMm+X3TGpLJ5EhdAsbaAOOcPwDgH15/pEeOHFF2MFT/2MkRGTVqlF/x9wkh/ulXKI7f6wSMhkIaEtsV6l27du2KxCZTpkzx62XPCCGWRfLygEp1AvYqgEfc6h+Go+Gm288BYYy9atv2nIC2jaS4TsB2A5jk1sr9+/fj8uXLkRihd+/eGDdunJfuPUKIyZG8PKBSnYCd9Zos79y5Ezdv3gzYPLXiXbp0wdSpU70KnxNCDFTTFm0pnYA1e82/tm3bBillJNZgjGHGjBleuluEENWRvDygUgMMoLihARbwDwecczMkKhhNpx6ms9OxWwgxRcGekRfRBphlWZuklJ81br03c22Acc7NxFmhf+oEzISmygmYCf4q0CKPVq1YPKXM8oq/nbUCZhYwywwYVddsESgTL7G1mmYTTpkBo+o6++g3+g8Qt0uYbW6qloqwnNlI2r5xtXI67q2i2apdZsCounQYoqmp6Y9Syg9E2JnvqGaMvdG9e/cHzWGIDlibc/5BAN8C8FCM80VacPsDgO8IIf7WgWpH/oh2Q+KCBQvGVFRU/BjA7Mhb7/2Czblc7qn169eHswkypMZoA2zOnDlda2pqvgng6wC0WN0FQKvgL2Sz2e9u2rTpRkg2L0qNFsAWLVpUm8vlXgHguU5fVEuLe3hbRUXFo2vWrDlcnJriny45sFQq9QhjbD2APsU3J1INl6SUCzKZzK8ifYuP8pIC45wvBfB9AImOGKG5uRlXrlxBU1MT6P8tLS3I5XJ3tnLTVuyKigpUVVWhuroa3bt3R69evQr/76DQUZmvCSGWd/D5oh8rGbBUKrWMMUbfq0BCcM6fP48LFy50eNsbHeyrqalB//79CxCDipTyhUwm43loI6hO1fIlAdYRWJcuXSoc3rt27Zpq25TK9ejRo3DIr0+fYCNyqaDFDswZBn+oZE2gAIjOgoUNqu37CRxt2aZ/A8hX4h4eYwXmOBjkDfp+s+hkZUNDA2hPfZxCh/yGDRsG+v4pSF5K+WicjkhswDjnowFQgi7fsYcciEOHDhUOmJdC6CD76NGjVZ2TSzQdEULQydHIJRZgzqT47yrzrKtXr+LAgQMFb6+UQt7l2LFj0bNnT5VqbMtms++PY3IdCzDO+XMA6vxaTo4F9aygB8399Hb09zQsUk9TdEjqhRDUzkglcmBObJB29XpOfqhn0ZEiXWC1Wp2g0VEkhZ7WnMvlJkcde4wcGOf8936BXPpm7du3r+TDoFvXoOFx/PjxKt+0zUKIh6PsYpECc5ZI/urVAOpRBKtUDoaqcckRIWgK3uOHolyaiRrYZgCzvIxCc6y4XXdVSG3LkctPczUfeV0IEdnSUGTAOOfTAWz1WnykyTD1rnIS6mU+k2taBJ0phNgeRbuiBLYWgOVVaYIVdQQjbKMRLILmI7YQIpKEnJEAW7JkSVVLS0sjgBq3hpELT/OtchSan/m4+tmqqqrkypUrKa9wqBIJMCcERWkcXKUce1drY1R6GZ11iyJkFQkwzvlPAXzBjRYtkezduzfUv7y4lU2YMMFvaeZnQogvhl2vqIBRzihXd+r48eM4ffp02G2JVd/gwYMxfPhwTwdYCDEy7EqFDsyJbHh+nKLMuRG2gdz0KeT2oEDA2LAjH6EDsyzrCSnlz90aSlENysjWGYQywXltN2CMfd627ZfCbOvbgKVSqYmMsYUAHnSGtdZ7TMJ8r9HlbgG6L4ayd9KO53WZTOate4veAeYsgfzASd9aYSyqhQVojWlNNpv9auvSTQGYA4uCtB/TopqmEm0tsCWbzT5M0ArAOOd0pwndFmREXwu8KIRYwpxv1k4AZhjUFxbVLCelnMo457Qp8st619XUzrHACgJGPvZEY5KysMBbBIzSfBrXvSx44QoB88wauXUrLWkZicsCM2fO9HyVARYXCcX3GGCKhtKlmAGmCwnFehhgiobSpZgBpgsJxXoYYIqG0qWYAaYLCcV6GGCKhtKlmAGmCwnFenRqYJQdgE5L0mU3dGDBS+i8GV22Q6c6KduArtJpgREs2oFLV/8GEboymPZE6gqt0wKjg3aUuqEjks1mCwcHdZROC2zatGm+w6AbEBoed+zYoSMvGGDtYDHASvC3+k4eEotewKQPOZ1GOXHiRCFhchxSLk4HpUkaOnRo4bRLUAepHTsWFjBD2yJAsMgDi+rqw7YN0N2tp+3c5MkStJCksEUg1E04Z8+exdGjdBbCyMiRIzFwYKhXZ64IfZsbzW9276YsD0YmT55cSP0Xktze5kbKwtxIaoDdxRMysNsbSUl9mFu1KfxDCVKMoJCQhcJmIcj/b9W+B1rRhyGivNE8hIbHqsLvBnaFyrR/GOLeB4s9blROeTcUDFZUEcW8Hm3foXbcSLVmnHPah+9642qUV9Cr1lGXcjQc0rDoITuFEO8NUt9AJzDp2sNTp05dlVJ2c3vJrl27Yps8B2loKcrS/GvKFM/bhK8LISgFqvIV8IGALVy48L5EIuGau13nGF0pgNE7p0+f7pmfqkuXLqNWrVqlPHENBMyyrFlSSsof1a50hnQOYYP1Sw8hpZyVyWTovhclCQQslUo9zRhb4aaZUpMfPlzyyxOUGh5XodraWvTr18/rdU8LIeiuGSUJBMzvfkpKU04/Ru5agFKs04+bMMZW27b9JVWbBQJmWdYWKeVH3ZRT76JeZuSuBah3US/zkC1CiI+r2iwQMM75CQCufy6Ujoi+Y0buWoBunqDvmIecEEIMU7WZMrD58+f3qqyspJTf7T4jpSwsu+uWs1fVEFGVowym5Cl6iKysrOy9evXqqyp1UAZmWdZMKeWbbkppLYzmYEbebgGai3mtieXz+Znr1q2jnP6+ogwsnU4/ns/nXdPwmKCvu60VgsCPCyF+4UsryN2SnPPnATzrptQEfd3N7RcEZow9b9u2b15/eoNyD7Ms62W6Z8StWibo6w7MLwjMGHvFtu3Hwu5h/wIw1U2pCfq6mzvMILBqD6O9H3Rxlwn6qnSDNmXCDAIrAUun06Py+fx/3epKrvz27ZFk/e6AefR8JKwgsBKwVCr1EGPsdTdTmKCv/x9JWEFgJWCc86cA/MitWibo6w8srCCwEjDLslZJKRe7VcsEff2BhRUEVgLGOf+TV/JLE/T1BxZWEFgVWAOAoW7VMkFff2BhBYF9gS1evLjnrVu36MCECfr6c3EtEVYQ2BeYc0uRa2DSBH3VKfoFgZ3LTz3nR77A0un0J/P5/G/dqmWCvurA/ILAjLHZtm27Tp+UYompVGo2Y4wybhuJ2AJSyk9lMpnfeb3Gt4c5O4E7x1UOERu8WPWMsYm2bXveIuQLjJwNzvlxLy+x2Iqa5wsWaEgmkyPr6+vzRfUwephzTms1kd9R/A4H95wQot7PBio9DI5rT+v/9/kpNL/vkAWOUGZzIYTvDiYlYFSFdDo9KZ/P/wVA/w5VyTzkZoELUsoPt70Ux62wMjBnaBwNYCOA+439Q7EAbWr6nBBCOS1PIGBOFZllWZ+RUs4F8ACAdwEI7Zh8KGbQV8lNAGeklG8wxjYKIX4T5OQKNet/V2nFYuXOcv0AAAAASUVORK5CYII="},bfc2:function(e,t,n){"use strict";n("53b1")},c0ee:function(e,t,n){"use strict";n("9f06")},c18c:function(e,t,n){},c246:function(e,t,n){"use strict";n("e240")},c315:function(e,t,n){"use strict";n("23a7")},c325:function(e,t,n){"use strict";n("3e58")},c49d:function(e,t,n){"use strict";n("ea26")},c63e:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAA8UExURUdwTP/DL//DLv/BL//DLv/EL//DL//DLv/DL//CLv/DL//DL//CLf/DL//DL//DL//DLv/DL//DMv/DMGSQIxsAAAATdFJOUwDwcSTeYM1AwICojww0SLNSmhsrwQ8LAAABI0lEQVRYw+3X2a6DIBCAYbaBYXXh/d/1aE3UxtbjMhdtOv+l6BeiiYAQ5+tzLwhK2oGKjTW1Vn/HyQV8NzlzF8HRkfVV10BX38Ygg18FptICKB+70OAWDD4GNPIMaJentyAuv4l8FKx7IIjYdB7a3CdBArplWFoMUYHTiQhcZdDTgqt3yyCDdgTlkBmy1iLeBIcJ7Q6fB2txzpGCYwz+HuhWAR4BcR98LhwAU6vGlXIDaruZexBwAJy35dN2WtadNX++iESbiK8BDRYyULWXT0AvwTsxyCCDnwJaUhAjaCrQBFWSuNsESoytFiRpYzqVxc/kh0Mipaemj2tDHE62iWKCh7daDDLI4CeDhRoUPXSWFHysASpIUnAsK6QFp+Pjf3f8AVRMjNs7xw9TAAAAAElFTkSuQmCC"},c770:function(e,t,n){"use strict";n("50ef")},c7c6:function(e,t,n){},c85a:function(e,t,n){"use strict";n("fe9b")},c8cf:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAQCAYAAAAMJL+VAAAAAXNSR0IArs4c6QAAAMlJREFUOE+11LENwjAQheH/CXoWYQE2oAGJMViAIVggY0SChg1YgEXoQUZBDoqN7XOCcJv4fZbvfOLPSzX5zrk5sAFW/v8rcJb0sPabgA/fA8so7AY0FlIECuG9ZSJZoCK8CkkCI8JN5AuYEF5EAuCH8CzyASrDu6J2K+6oYYMFhX8DI8Ibn5Rq2yTSAztgXXg0wakqD3SR1PbAEVhkgGSvVyB3SQcLKD4kAwmA1BWZr9SoX3BFM2A7ZZgNkHgYniQ9zWFnTUvr+wtKfnER0hxChQAAAABJRU5ErkJggg=="},cbff:function(e,t,n){},cc9c:function(e,t,n){"use strict";n("c7c6")},ccc2:function(e,t,n){"use strict";n("f3aa")},cd75:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAlVJREFUSEvtlkuIjmEUx3//XHIpSpLLsCDKCo0o90sSG6VQKLcFG4oasrMTUxZsbEghZKcsMLnUzEIKZeOSkmnIQlEMof460xl9fb753vebxqyczVvvc57ze8/9FYMsGmQeDQNtDwVm5Ie+lvSrkY8uDbQ9AjgG7APGJuQzcDbeS/peBlwKaHsYcAtY2YfRe8BaST+LoGWB+4HTBcYOSDozUMAOYFGBsQ5JSwYK+BaYWmCsU9K0gQJ2AZMLjL2TNOU/sGyV/ruQ2l4DnIi+k3Q0cmK7IaDt49GXwBFJdyrz+peHttuBxanUJKnL9ktgZkFBvJI0y3YT0Jm67ZKWFgEfAMtSqVnSY9uXgG0FwMuSttueDzxK3TZJEbE/UsvDa8Dm1Ngq6YrtucBDYHgf0B/AQklPbe8GzqXeeUl7ioAHgVOpdEPShszjJuACMKoK2g3slHQ99dqA1amzS1LcqevhdCByNiTqBVgl6X4ai8aOL56XFp6EN5HnPF8P3MyzLzGdJH2qC8yLV4EtqfgBWCHpeb0c2p4DhHfjU69V0uHqOzX70PZE4FnF5dh7LRHS6hWUCzm8PgmMScCLiIKkb6WA6eUC4HbFso3X73MvhrcR7miVdUDlDI1Bv1zSm1oRqTtpbM8GLgLN9cJZcRZLeoekSENNKRxttqN4NgJ7cyDEr0alRJXejQVdPVUa9rD6gu2RwEcgniGRo3Fl/2fiQqGHNaBfK3qxW9LokuHuUesPMPIzobdlJEVFl5b+AA8BrUlokdQ7lUpBGwZmy0zqCY8UbdKQ/Ab3JtwdGamKswAAAABJRU5ErkJggg=="},d0d1:function(e,t,n){e.exports=n.p+"static/media/vote-submit.83bed748.mp3"},d119:function(e,t,n){"use strict";n("f442")},d15d:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var s=n("c7eb"),a=n("1da1"),i=n("d4ec"),o=n("bee2"),r=n("262e"),c=n("2caf"),l=(n("a9e3"),n("99af"),n("d3b7"),n("159b"),n("0d52")),u=n("c1f6"),d=n("d0db"),h=n("e417"),m=n("099c"),f=n("6543"),p=n("a9a6"),g=function(e){Object(r["a"])(n,e);var t=Object(c["a"])(n);function n(){var e,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(i["a"])(this,n),e=t.call(this);var a=s.rtcConfig,o=void 0===a?{}:a,r=s.publishStatus,c=void 0===r||r,l=o.token,u=o.teacherUid,d=o.teacherAudioUid,m=o.teacherVideoUid,f=o.teacherShareUid;return e.teacherDeviceType="",e.options=s,e.token=l,e.teacherUid=Number(u),e.teacherVideoUid=Number(m),e.teacherAudioUid=Number(d),e.teacherShareUid=Number(f),e.publishStatus=c,e.rtcSensor=new h["a"],e._init(),e}return Object(o["a"])(n,[{key:"_init",value:function(){var e=Object(a["a"])(Object(s["a"])().mark((function e(){var t,n;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.publishStatus){e.next=2;break}return e.abrupt("return",this.createRtcChannel());case 2:return e.next=4,Object(m["b"])();case 4:return t=e.sent,e.next=7,Object(m["e"])();case 7:if(n=e.sent,"not-determined"!==t){e.next=17;break}return e.next=11,Object(m["a"])();case 11:if("not-determined"!==n){e.next=14;break}return e.next=14,Object(m["d"])();case 14:this.createRtcChannel(),e.next=18;break;case 17:this.createRtcChannel();case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"createRtcChannel",value:function(){var e=Object(a["a"])(Object(s["a"])().mark((function e(){var t,n,a,i,o,r,c,d;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["c"])();case 2:return t=e.sent,e.next=5,Object(m["f"])();case 5:return n=e.sent,console.log("createRtcChannel",t,n),e.next=9,l["nativeApi"].getPathByName("userData");case 9:return a=e.sent,i="".concat(a,"/Logs"),o=new u["a"](this.token,{logsPath:i}),this.rtcEngine=o,r=o.setParameters('{"che.audio.specify.codec":"OPUSFB","che.audio.bitrate.force":16000}'),0!=r&&this.sendLogger("音频设置,code:".concat(r),{},"error"),c=o.createChannel(),e.next=18,Object(f["b"])(o);case 18:d=this.publishStatus?1:2,c.setClientRole(d),this.publishStatus&&(o.enableLocalVideo(t),c.muteLocalAudioStream(!n),c.muteLocalVideoStream(!t)),this.rtcChannel=c,this._rtcChannelListener(),this.joinRtcChannel();case 24:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"joinRtcChannel",value:function(){console.log("[hw_rtc_join_room]小班加入频道触发start"),this.rtcSensor.rtcSensorPush({result:"start"});var e=this.rtcChannel.joinChannel({autoSubscribeAudio:!0,autoSubscribeVideo:!0,publishLocalAudio:!0,publishLocalVideo:!0},{bitrate:80,frameRate:10,width:160,height:120});return 0==e?(this.emit("ready"),this.sendLogger("调用加入频道码成功")):(console.log("[hw_rtc_join_room]小班调用加入频道方法触发fail"),this.sendLogger("调用加入频道码失败",{res:e},"error"),this.rtcSensor.rtcSensorPush({result:"fail",errorType:"调用加入房间接口失败"})),e}},{key:"_rtcChannelListener",value:function(){var e=this;this.rtcEngine.on("localVideoStateChanged",(function(t,n){e.emit("localVideoStateChanged",t,n),e.sendLogger("本地视频状态变更state:".concat(t,",err:").concat(n))})),this.rtcEngine.on("localAudioStateChanged",(function(t,n){e.emit("localAudioStateChanged",t,n),e.sendLogger("本地音频状态变更state:".concat(t,",err:").concat(n))})),this.rtcChannel.on("remoteVideoStateChanged",(function(t,n,s){t==e.teacherUid||t==e.teacherVideoUid?(2==n&&0==s&&e.emit("teacherVideoStart",t),0===n&&5===s&&e.emit("teacherVideoMute",!0),2===n&&6===s&&e.emit("teacherVideoMute",!1)):t!==e.teacherShareUid&&(2==n&&0==s&&e.emit("studentVideoStart",t),0===n&&5===s&&e.emit("studentVideoMute",!0,t),2===n&&6===s&&e.emit("studentVideoMute",!1,t)),e.emit("remoteVideoStateChanged",t,n,s)})),this.rtcChannel.on("remoteAudioStateChanged",(function(t,n,s){t!=e.teacherUid&&t!=e.teacherAudioUid||(2===n&&e.emit("teacherAudioStart"),0===n&&5===s&&e.emit("teacherAudioMute",!0),2===n&&6===s&&e.emit("teacherAudioMute",!1)),e.emit("remoteAudioStateChanged",t,n,s)})),this.rtcChannel.on("localJoinChannel",(function(){console.log("[hw_rtc_join_room]小班本地加入频道成功"),e.emit("localJoinChannel"),e.sendLogger("本地加入频道成功"),e.rtcSensor.rtcSensorPush({result:"success"})})),this.rtcChannel.on("rejoinChannelSuccess",(function(){console.log("[hw_rtc_join_room]小班本地重连加入频道成功"),e.emit("rejoinChannelSuccess"),e.sendLogger("本地重连加入频道成功"),e.rtcSensor.rtcSensorPush({result:"success"})})),this.rtcChannel.on("remoteJoinChannel",(function(t){t==e.teacherUid&&(e.teacherDeviceType="pc",e.emit("teacherJoinChannel",e.teacherDeviceType)),t==e.teacherAudioUid&&(e.teacherDeviceType="ipad",e.emit("teacherJoinChannel",e.teacherDeviceType)),t==e.teacherVideoUid&&e.emit("teacherVideoJoinChannel"),e.emit("remoteJoinChannel",t)})),this.rtcChannel.on("remoteLeaveChannel",(function(t){"pc"==e.teacherDeviceType&&t==e.teacherUid&&(e.emit("teacherLeaveChannel",e.teacherDeviceType),e.emit("teacherVideoLeaveChannel",t)),"ipad"==e.teacherDeviceType&&t==e.teacherAudioUid&&e.emit("teacherLeaveChannel",e.teacherDeviceType),"ipad"==e.teacherDeviceType&&t==e.teacherVideoUid&&e.emit("teacherVideoLeaveChannel",t),t==e.teacherShareUid&&e.emit("shareScreenLeaveChannel"),e.emit("remoteLeaveChannel",t)})),this.rtcChannel.on("rtcStats",(function(t){e.emit("rtcStats",t)})),this.rtcChannel.on("connectionStateChanged",(function(t){console.log("[hw_rtc_join_room]小班网络状态触发方法触发,code:",t),e.emit("connectionStateChanged",t),5==t?e.rtcSensor.rtcSensorPush({result:"fail",errorType:"连接失败"}):4==t&&(e.rtcSensor.isFirstJoinChannel=!1,e.rtcSensor.rtcSensorPush({result:"start"}))})),this.rtcChannel.on("localNetworkQuality",(function(t,n){e.emit("localNetworkQuality",t,n)})),this.rtcEngine.on("warning",(function(t,n){e.sendLogger("警告码：".concat(t," 警告信息：").concat(n),{},"warn")})),this.rtcEngine.on("error",(function(t,n){e.sendLogger("错误码：".concat(t,"，错误信息：").concat(n),{},"error")})),this.rtcEngine.on("groupAudioVolumeIndication",(function(t,n,s){t.forEach((function(t){0==t.uid?e.emit("localAudioVolume",t.volume):t.uid==e.teacherUid||t.uid==e.teacherAudioUid?e.emit("teacherAudioVolume",t.volume):e.emit("remoteAudioVolume",t.uid,t.volume)})),e.emit("groupAudioVolumeIndication",t,n,s)})),this.rtcEngine.on("lastMileQuality",(function(t){e.emit("lastMileQuality",t)}))}},{key:"_getTeacherVideoUid",value:function(){return"pc"===this.teacherDeviceType?this.teacherUid:this.teacherVideoUid}},{key:"createLocalVideo",value:function(e){this.rtcEngine.setupLocalVideo(document.getElementById(e))}},{key:"setVideoEncoderConfiguration",value:function(e){this.rtcChannel.setVideoEncoderConfiguration(e)}},{key:"setCameraCapturerConfiguration",value:function(e){this.rtcEngine.setCameraCapturerConfiguration(e)}},{key:"muteLocalVideo",value:function(e){this.rtcChannel.muteLocalVideoStream(e)}},{key:"muteLocalAudio",value:function(e){this.rtcChannel.muteLocalAudioStream(e)}},{key:"createRemoteVideo",value:function(e,t){console.log("createRemoteVideo",this.rtcChannel),this.rtcChannel.setupRemoteVideo(Number(e),document.getElementById(t))}},{key:"destroyRemoteVideo",value:function(e){this.rtcChannel.destroyRemoteVideo(Number(e))}},{key:"createTeacherVideo",value:function(e){var t=this._getTeacherVideoUid();this.createRemoteVideo(t,e)}},{key:"destroyTeacherVideo",value:function(){var e=this._getTeacherVideoUid();this.destroyRemoteVideo(e)}},{key:"muteRemoteVideo",value:function(e,t){this.rtcChannel.muteRemoteVideoStream(Number(e),t)}},{key:"muteRemoteAudio",value:function(e,t){this.rtcChannel.muteRemoteAudioStream(Number(e),t)}},{key:"muteAllRemoteAudio",value:function(e){this.rtcChannel.muteAllRemoteAudioStreams(e)}},{key:"publish",value:function(e){var t=e.publishAudio,n=void 0===t||t,s=e.publishVideo,a=void 0===s||s;this.rtcChannel.setClientRole(1),n&&this.rtcChannel.muteLocalAudioStream(!1),a&&this.rtcChannel.muteLocalVideoStream(!1)}},{key:"unpublish",value:function(){this.rtcChannel.setClientRole(0),this.rtcChannel.muteLocalAudioStream(!0),this.rtcChannel.muteLocalVideoStream(!0)}},{key:"leaveChannel",value:function(){this.rtcChannel.leaveChannel()}},{key:"enableLocalVideo",value:function(e){this.rtcEngine.enableLocalVideo(e),this.rtcChannel.muteLocalVideoStream(!e)}},{key:"setVideoDevice",value:function(e){this.rtcEngine.setVideoDevice(e)}},{key:"setAudioRecordingDevice",value:function(e){this.rtcEngine.setAudioRecordingDevice(e)}},{key:"subscribe",value:function(e,t){return this.rtcEngine.subscribe(Number(e),document.getElementById(t))}},{key:"setupViewContentMode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.rtcEngine.setupViewContentMode(Number(e),t,this.rtcEngine.channel)}},{key:"setAudioPlaybackDevice",value:function(e){this.rtcEngine.setAudioPlaybackDevice(e)}},{key:"resizeRender",value:function(e){this.rtcEngine.resizeRender(e)}},{key:"enableLastmileTest",value:function(){return this.rtcEngine.enableLastmileTest()}},{key:"disableLastmileTest",value:function(){return this.rtcEngine.disableLastmileTest()}},{key:"release",value:function(){if(this.rtcEngine)return this.rtcEngine.release(!0)}},{key:"sendLogger",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";d["a"].send({tag:d["b"].rtc,level:n,content:{msg:e,params:t}})}}]),n}(p["a"])},d168:function(e,t,n){},d1dd:function(e,t,n){},d2b0:function(e,t,n){e.exports=n.p+"static/media/interact-key-tone.631f9373.mp3"},d2b2:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAkCAYAAACe0YppAAAAAXNSR0IArs4c6QAABLlJREFUWMPVl1tsFFUYx4tggvqgb+32flMuTRQhrYnxgYQXgjEqEdRgIkYNqCBGMH0wolJBIhKFhqamDVZKMS1yKRZowVJbW9pisS1BhQK9bPfS3WU73dLubrs78/NhztTtzuy2tvLAJL9ssjn/738u3znfOTEx99IHzAGygDXA+0Cu+F0DLLobhjlAEeAi+mcD9gDJszVcAFRPCh0cc2Np66P9sERzgY8/SiUsbX3I41JIKx/wCTB3JqbviACA4qPjsINDz5vZZZLZGYuOL+MDlK8z03fREdKBM8AD/2Ud901Ib9bYKVg2yO44ps2pjXbkcY+IcAq4bzrGeUIwzq87zOyJgz1x8NUUhLcre9aNEhwRsbZOZboWUFCUAJXr7eyNg72mGRIHVRutwngEiI1kmgaMAtC408y3Jv4XnFcGhPmuSMYVAPSct5Nvgvz4MExwIGWclq8H8Ln7URQfStBN7wU7JdkS+02w3zS5fb4JTrzUL4wturUGnlGnODhKyVKJA/HoKF44gnTDeB8HvBLfLxmiwEBXkCAjjw2Klk+GG1cB0H7ASmE8hthb7UJ8C1gFPAgkAXUAXK9wRtT2nNW22KZQ01ggAPg5lDVMUQI6ajdopg4gKazTWQDIAYniBMVQ35I3JPT5ocIPAbA32TiYAAcTBQn/It3QsnNDhPxQR1Se7Zyk06jf1Cf0x0JFvwFQ/66FHxKhJIxjTzsBBZAinUJAm3pOPder05ckQu3rPcL4nCaYJ7aQTEXWMKWJ6Pj9M7cQlUXZ/60A1KzuMYxR94ZmXKMJnlCz8o6VI0kYYq3W1vftKMbXADi9wmIYo2mzNtUnNcFb6vpesFGehCF+tybKiWKsnssnsjyGMdo/vy1iFGqCLwD46xs/R5MxRJHvCNHDEUzj1AIWlPgpQozuMi2rczVRMQCd2x0cT0ZH5QKvEIxGGe1KAIZv9hrGOJ4MXkuviLNCE5WpB8dH/VSmoONctnZS2aMY71aPlWJpsj5Z5eeMAIriA+SJWQOOqCPe1k9VCjrOLdFuFc4oxl0AtK7rM4zR8qpZxPg7VFSo/vWpg7MpcDYFzmikQnVmAEUZE72db2C6Sq3cHhfVacHJeoGt0qmrTsB2ALoLvNSkYojfpfV4ZZjpIxOj7do1YKg9/5gfJTAs9AtDxS8D4Lli5pdUDLm1T1vnDuBRYD6wHOhU067bRW1mwFB7Pc8mtK3hU5WobgXZR8MiL3Vp6GhY7GXM4TYsh+MuNxefkox1j48g+7Vt9IJRcnQAcG2Lhfo0dDSkQfMyD67TduTx2yiKn4DHirVogKbFXhrSURFtNd1AuUWY1kXKyg8A8NscNGUEaUxn1nRttYnCEtAV/xDjhybKWt/OfprTmRV/rnWB4tUV/gjmr4mGfrredHIpg6lJDyMDurfZQNZMv5vuRb5YJJoX83YrlzMU2jLg8jToyPHgPmkV04s4Ee+frvE8oHQiY0evOul+r5/ORWO0Z6KjI1Ph+osWnCWOkIt7APgYmDOTN9PmiTKnvtKG8V7tZfDoIM5iH+4fhxi5ZEbxOsM2VyOwdLavxFhgB9AzxbNUErO0/G68jTOB1WImcoEtwCvi9jI35l75/gFs9k7pw5fXEwAAAABJRU5ErkJggg=="},d3b5:function(e,t,n){},d4be:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var s=n("c7eb"),a=n("1da1"),i=n("dc21"),o=n("e39c"),r=function(){var e=Object(a["a"])(Object(s["a"])().mark((function e(t,n){var a,r,c;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object(o["h"])(),r=a.oversea,e.next=3,Object(i["a"])({url:t,params:n,apiDomain:r});case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c=function(){var e=Object(a["a"])(Object(s["a"])().mark((function e(t){var n,a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="/classroom-hub/question/student/submit",e.next=3,r(n,t);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(a["a"])(Object(s["a"])().mark((function e(t){var n;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="/classroom-hub/classroom/student/interact/partakereport",e.next=3,r(n,t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(a["a"])(Object(s["a"])().mark((function e(t){var n,a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="/classroom-hub/question/student/status",e.next=3,r(n,t);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},d6593:function(e,t,n){},d723:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAYUExURUdwTP///////77DzKOruf///62zwaOrud8WV5gAAAAHdFJOUwAUCDblEHJz81ZjAAAA/klEQVQ4y41USw7CIBBtTdyXal23vYEJ0bXpoltJ0wMYFx5A41zfUhigwEucDTAvb37MTFGw9LMQc1/EslNilaaN9MJJC/RbRIVA4/Wd2EidNRQa62KgBgSmlClQpSEFgWUsGVtlDqhyMXFc9noxx9M+nYsTDfqQ9GAne3O50ucsxGGkt3nf2feLNEUSfdm79X2khbIQ6MbeLaB1g6TVoAE4b60cyYSw5s6ApnjCAricpAYG9/SApjjCX0BsCjqH4cIEw5JMnlKHRVRrEZUt4qbsU1B2/1Fq+1Hwa3EzwPaBDQdbFDc1HAM4OHjU4HDiccYLgGuc6D0nXjLpWvoBPFBsmiujR/4AAAAASUVORK5CYII="},d74e:function(e,t){e.exports="data:image/png;base64,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"},d787:function(e,t){e.exports=require("punycode")},d7ca:function(e,t,n){},d934:function(e,t,n){},da2c:function(e,t){},da8d:function(e,t,n){},dad1:function(e,t,n){},daf8:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAkCAYAAACe0YppAAAAAXNSR0IArs4c6QAABNhJREFUWMPVmG1sU1UYx0GNioEPiMoYe2NFQBI/iEaNICZGQILERIOJ0ShBDL4OMLIgRkJMQBAxhJeATBgviRsqQ9lkTolkG4y5jbE52VCErXRtb9+3lt62a3t/frjnQnd7246XL9zklya953/+z+k553nO6bBht+ID3Ak8ArwMvA8UA8uBRcALQN7NNLsPWAocB0JkflzAHmDW9RqOB3bpzOKE+nrpbTbTVualcYdMc6mfzkoJR2cP8QG3LohTwBNDNRwOLAOCQqwgddioWm5n02Q/a8diTJbKNzPtnNzsYSDoE/oQMDmT6Sig8kq85gaJ/fPsrM/imtlUKCN7Lome3kxnOhpoUccYv8xvK6xszIIvM7BRoP/+0GsOQAFkIDeV6d1iPkD2+iid7mHTOK6PLNhSKBPyecRoV6YbbQkAUbmPfTN8bB5HWrabguybYaVsrpm9021syYkOev93mUWYtgJ3pDJ9BlBQlBDlc7xszWYw41R2TgzSsE4iaDcD0UFrV1HCOP+y8MtiB9/PdwEx0WZauoTQCcCZbRa2Z2PI4ZfcRPq9CVZh4DzQBvQA8atBxLXdsCHdT7wMgKDkoqQgws5skqhc4EaJa3u5CXgRGKHr517Rl0u0q9W3SWx8u4gW/njXSsl4kjjwcD/xSF+C6XvAKmCD+FwMPAoMF32OAB7MtGefByAme9ibF2VPDirjr3KhwsbQHifwNTB2KBmqFIDOEif7cmCvjrKpAVCuZq+wt5eeSgcd2yK0rg/SsTWC+ahENGBPCOAy8FYmY3U0VbOsHMghicZiG0oswLlSBxWPewzbaFTPsyOdSAxgXSrTSWrKj7gpy1X4Lpckmj+xcOQpr+G7VLSs6hUrHuBVI+MFAHhazRzM5aZyZo2WPHzAKL3xagD+2SHzQx6G/JibgbzBJGr7z1mFeZHeeBcAHWtcVOSRliMPBWn7zIWtxo63rQfrrxKtxQ5+Mg2k1LQUacbH9caHADi91MzP+aTk1OtuYrLPcAP5/3VSNSmUrMuDmse0AuHRG1epxu90U5WPIbWz3aDIooPTwIcia30AqHX23FeulHq1HDJonoEKANqKeqjOh+p8OKpRoOKu15JHOXCbLvCFAHgbLyXr86E6X0nI3/ckCncD0LVaoqYAQ5SYVhQmGuyKIjVf/W431NY+qeVsr164CoBLuwMcK8AQJe4X4gKddoyoTND1qctQ21msLa4qvfFcACIuC8cnYEh/syY+C6wQBeELQFK1dje1k8OGWk+9JLQr9MYjxelPoWmmk9oJJNH0tI+o22O4ouWLTv6c4aOuEOomqGi6luec4iAQArKMsle5Ok+HrZwoxJCGKWEurLThKOvDU2PH+m2ArrctNJjihu1PmuL425wivF2p8vU0cQqM0j7fxalCbhhpf7cwtQMPpKtQagaL9vlof9ZHk4nMFOowQZNJwXlQM40BszOVxpEiOUAs4OP8QokWE7SY4PQQOTvHjdzlEKYR4JWhXlnuBxqvLJxAk8TFJWbap4Y5MxFD2qcM8N8iC/46uzBD1PfZ13pBuwtYl1BLQYnLhLu7CdT34invw30ggP+YjfDFHpS4nLDGB8SUjb6RK2kOsPZKgkj9KEAH8DmQfbMv4TniQLgE+Bj4CHgDmAOMuWX+TfgfLLaqCA5FUIMAAAAASUVORK5CYII="},dba6:function(e,t,n){},dbc1:function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return A})),n.d(t,"c",(function(){return S})),n.d(t,"a",(function(){return w}));var s=n("5530"),a=n("c7eb"),i=n("1da1"),o=(n("b64b"),n("fb6a"),n("99af"),n("0d52")),r=n("92e5"),c=n("6ce8"),l=n("e39c"),u=n("9b0f"),d=n("a32b"),h=n("d0db"),m=n("8bbf"),f=n.n(m),p=void 0,g=null,v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"error";h["a"].send({tag:"http",level:s,content:{msg:e,err:t,interactType:"Redpacket",params:n}})},C=function(){return Object(d["join"])(o["downloaderApi"].appUserDataPath,"courseware")},b=function(){var e=Object(i["a"])(Object(a["a"])().mark((function e(t){var n,s;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["a"])();case 2:return n=e.sent,s=n.unifiedAccessToken,e.next=6,window.thinkApi.ipc.invoke("setStoreValue","red_packet_interaction_info",{id:t,unifiedAccessToken:s});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(i["a"])(Object(a["a"])().mark((function e(){return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,window.thinkApi.ipc.invoke("getStoreValue","red_packet_interaction_info");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(i["a"])(Object(a["a"])().mark((function e(){var t,n,i,r,m,b,A,S,w;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("redPacketRainReportError"),!t){e.next=20;break}return e.prev=2,t=JSON.parse(t),e.next=6,Object(c["b"])({interactId:t.interactId,planId:t.planId,userId:t.userId});case 6:if(n=e.sent,!n){e.next=11;break}localStorage.setItem("redPacketRainReportError",""),e.next=15;break;case 11:return e.next=13,Object(c["f"])(p,t);case 13:i=e.sent,0===i.code&&localStorage.setItem("redPacketRainReportError","");case 15:e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](2),console.error("[红包]json解析error",e.t0);case 20:return e.next=22,Object(c["a"])().catch((function(e){return v("红包雨接口报错:",e),e}));case 22:if(r=e.sent,m=r.code,b=r.data.redbagrainPackage,0===+m){e.next=27;break}return e.abrupt("return");case 27:g=b,A=Object(l["i"])(g.offlineZipPath),S=C(),Object(u["existsSync"])(Object(d["join"])(S,A))||(w={url:b.offlineZipPath,packageSize:b.offlineZipSize,packageMd5:b.offlineZipMd5},o["downloaderApi"].downloadCourseware({timeout:2e3,fileURL:b.offlineZipPath,fileMD5:b.offlineZipMd5,start:function(e){console.log("红包雨游戏课件下载开始:",e)},progress:function(e){console.log("红包雨游戏课件下载进度:",e)},complete:function(e){console.log("红包雨游戏downloadCourseware课件下载完成:",e),h["a"].send({tag:"coursewareDownload",content:Object(s["a"])(Object(s["a"])({},w),{},{downloadCost:parseInt(e.uptime/1e3),downloadPackageMd5:e.MD5,isSuccess:1})}),f.a.prototype.$sensors.track("pc_courseware_download",Object(s["a"])(Object(s["a"])({},w),{},{statusDesc:"success",downloadCost:parseInt(e.uptime/1e3),downloadPackageMd5:e.MD5||""}))},fail:function(e){console.log("课件下载失败:",e),h["a"].send({tag:"coursewareDownload",content:Object(s["a"])(Object(s["a"])({},w),{},{downloadCost:parseInt(e.uptime/1e3),downloadPackageMd5:e.MD5||"",isSuccess:0})}),f.a.prototype.$sensors.track("pc_courseware_download",Object(s["a"])(Object(s["a"])({},w),{},{statusDesc:"fail",downloadCost:parseInt(e.uptime/1e3),downloadPackageMd5:e.MD5||""}))}}));case 31:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(i["a"])(Object(a["a"])().mark((function e(){var t,n,s,i,r,h,m,p,b,A,S,w,y;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(g){e.next=11;break}return e.next=3,Object(c["a"])().catch((function(e){v("接口报错:红包雨:",e)}));case 3:if(t=e.sent,n=t.code,s=t.data,i=void 0===s?{}:s,r=i.redbagrainPackage,0===+n){e.next=10;break}return e.abrupt("return");case 10:g=r;case 11:return e.next=13,o["nativeApi"].getClientInfo();case 13:return h=e.sent,m=h.CW_SERVER_ADDRESS,p=h.CW_WEBROOT,b=C(),A=Object(l["i"])(g.offlineZipPath),S=A.slice(0,A.lastIndexOf(".")),e.next=21,o["downloaderApi"].checkCourseware(A,g.offlineZipMd5,"".concat(b,"/").concat(p,"/").concat(S));case 21:return w=e.sent,f.a.prototype.$sensors.track("pc_courseware_address_source",{type:"红包雨游戏",source:w?"local":"online"}),y=!0,Object(u["existsSync"])(Object(d["join"])("".concat(b,"/").concat(p,"/").concat(S),"/redbagrainPackage/index.html"))||(y=!1,v("红包雨解压报错:不存在解压后文件")),console.log("checkRedPacket 红包雨游戏是否有本地地址",w,y,Object(d["join"])("".concat(b,"/").concat(p,"/").concat(S),"/redbagrainPackage/index.html")),e.abrupt("return",w&&y?"".concat(m).concat(S,"/redbagrainPackage/index.html"):g.onlinePath);case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},debb:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAYUExURUdwTP///////77DzKOruf///62zwaOrud8WV5gAAAAHdFJOUwAUCDblEHJz81ZjAAAA/klEQVQ4y41USw7CIBBtTdyXal23vYEJ0bXpoltJ0wMYFx5A41zfUhigwEucDTAvb37MTFGw9LMQc1/EslNilaaN9MJJC/RbRIVA4/Wd2EidNRQa62KgBgSmlClQpSEFgWUsGVtlDqhyMXFc9noxx9M+nYsTDfqQ9GAne3O50ucsxGGkt3nf2feLNEUSfdm79X2khbIQ6MbeLaB1g6TVoAE4b60cyYSw5s6ApnjCAricpAYG9/SApjjCX0BsCjqH4cIEw5JMnlKHRVRrEZUt4qbsU1B2/1Fq+1Hwa3EzwPaBDQdbFDc1HAM4OHjU4HDiccYLgGuc6D0nXjLpWvoBPFBsmiujR/4AAAAASUVORK5CYII="},df5f:function(e,t,n){"use strict";n("b0c0");var s=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.chatBox.isShowBox,expression:"chatBox.isShowBox"}],staticClass:"chat-box-container",class:{"on-wholeOnsatge":e.isWholeOnsatge,playBack:e.isPlayBack}},[e.showHeader?t("div",{staticClass:"chat-box-head"},[t("div",{staticClass:"title"},[e._v(e._s(e.$t("classroom.chats.chats.chatbox")))]),t("div",{staticClass:"close",on:{click:e.handleIsShowBox}},[t("img",{attrs:{src:n("debb"),alt:""}})])]):e._e(),t("div",{staticClass:"chat-box-content",attrs:{id:"chat-list"}},[t("ul",{staticClass:"chat-ul"},[e._l(e.chatList,(function(s,a){return["t"===s.role||"f"===s.role?t("li",{key:a,staticClass:"left-li"},[t("div",{staticClass:"msg-header"},[t("div",{staticClass:"nickname"},[e._v(e._s(s.content.name))]),s.content.to_uid?t("div",{staticClass:"msg-private"},[e._v(" 【"+e._s(e.$t("classroom.chats.chats.privateMessage"))+"】 ")]):e._e()]),t("div",{staticClass:"msg-box msg-box-teacher",class:{"msg-box-f":"f"===s.role}},[e._v(" "+e._s(s.content.msg)+" ")])]):e._e(),"s"===s.role&&s.userId!=e.baseData.stuInfo.id?t("li",{key:a,staticClass:"left-li"},[t("div",{staticClass:"msg-header"},[t("div",{staticClass:"nickname"},[e._v(" "+e._s(s.content.name)+" ")])]),s.content.isNewEmoji?t("EmoticonMessage",{staticStyle:{"margin-left":"5px"},attrs:{willAutoClear:!1,name:s.content.msg,type:s.content.emojiType,emojiId:s.content.emojiId,width:40,height:40,lottieUrl:s.content.lottieUrl,loopLottie:!0}}):t("div",{staticClass:"msg-box"},[e._v(e._s(s.content.msg))])],1):e._e(),s.userId==e.baseData.stuInfo.id?t("li",{key:a,staticClass:"right-li"},[t("div",{staticClass:"msg-header"},[s.content.to_uid&&s.content.to_uid===e.baseData.teacherInfo.id?t("div",{staticClass:"msg-private"},[e._v(" 【"+e._s(e.$t("classroom.chats.chats.To"))+" "+e._s(e.$t("classroom.chats.chats.sendToTeacher"))+"】 ")]):e._e(),t("div",{staticClass:"nickname"},[e._v(e._s(s.content.name))])]),t("div",{staticClass:"msg-wrap"},[2===s.status?t("div",{staticClass:"msg-error",on:{click:function(t){return e.handleReSend(s)}}},[t("img",{attrs:{src:n("03bb")}})]):e._e(),s.content.isNewEmoji?t("EmoticonMessage",{attrs:{willAutoClear:!1,name:s.content.msg,type:s.content.emojiType,emojiId:s.content.emojiId,width:40,height:40,lottieUrl:s.content.lottieUrl,loopLottie:!0}}):t("div",{staticClass:"msg-box msg-box-me"},[e._v(" "+e._s(s.content.msg)+" ")])],1)]):e._e(),"tip"===s.role?t("li",{key:a,staticClass:"tip"},[e._v(" "+e._s(e.$t(s.msg))+" ")]):e._e()]}))],2)]),t("div",{staticClass:"chat-box-foot"},[e.isShowNewMsgTip?t("div",{staticClass:"new-meg-tip",on:{click:e.handleScrollBottom}},[t("i",{staticClass:"icon-more-bottom"})]):e._e(),e.isFrequentlyShow?t("div",{staticClass:"too-frequently"},[e._v(" "+e._s(e.$t("classroom.chats.chats.frequently"))+" ")]):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:e.sendToReactive.isOpen,expression:"sendToReactive.isOpen"}],staticClass:"memberList",attrs:{id:"memberList"}},[t("ul",e._l(e.sendToList,(function(n){return t("li",{key:n.id,staticClass:"member-li",attrs:{"data-log":"选中发送对象".concat(e.$t(n.name))},on:{click:function(t){return e.changeSendToValue(n)}}},[t("span",{staticClass:"member-name",class:{"member-changed":e.sendToReactive.id===n.id}},[e._v(e._s(e.$t(n.name)))]),e.sendToReactive.id===n.id?t("span",{staticClass:"member-icon"}):e._e()])})),0)]),e.isShowFoot?t("div",{staticClass:"send-to"},[e._v(" "+e._s(e.$t("classroom.chats.chats.sendTo"))+": "),t("div",{staticClass:"send-to-click",class:{"un-send-to-click":e.isConnecting||!e.chatBox.isOpenChat||e.chatBox.isOnlyTeacher||e.chatBox.isMuted},on:{click:e.toggleMemberPopup}},[t("span",{staticClass:"send-to-name",class:{"un-send-to-name":e.isConnecting||!e.chatBox.isOpenChat||e.chatBox.isOnlyTeacher||e.chatBox.isMuted}},[e._v(e._s(e.$t(e.sendToReactive.name)))]),!e.chatBox.isOpenChat||e.chatBox.isOnlyTeacher||e.chatBox.isMuted?e._e():t("div",{staticClass:"send-to-icon"})])]):e._e(),e.isShowFoot&&e.chatBox.isOpenChat&&!e.isConnecting&&!e.chatBox.isMuted?t("div",{staticClass:"input-box"},[t("a-textarea",{staticClass:"text-area",attrs:{maxLength:200,"auto-size":{minRows:1,maxRows:3},placeholder:e.$t("classroom.chats.chats.inputPlaceholder")},on:{pressEnter:e.handleSendMsg},model:{value:e.messageText,callback:function(t){e.messageText=t},expression:"messageText"}}),e.isCanSend?t("div",{staticClass:"send-btn",on:{click:e.handleSendMsg}},[t("img",{attrs:{src:n("52a9")}})]):t("div",{staticClass:"send-btn no-send"},[t("img",{attrs:{src:n("5919")}})])],1):e._e(),e.chatBox.isOpenChat?e.chatBox.isMuted?t("div",{staticClass:"input-close"},[t("div",{staticClass:"input-close-content"},[e._v(" "+e._s(e.$t("classroom.chats.chats.underMute"))+" ")])]):e._e():t("div",{staticClass:"input-close"},[t("div",{staticClass:"input-close-content"},[e._v(" "+e._s(e.$t("classroom.chats.chats.chatboxClosed"))+" ")])]),e.isShowFoot&&e.isConnecting?t("div",{staticClass:"input-close"},[t("div",{staticClass:"input-close-content"},[e._v(" "+e._s(e.$t("classroom.chats.chats.connecting"))+" ")])]):e._e()])])},a=[],i=n("2909"),o=n("5530"),r=(n("14d9"),n("3c65"),n("498a2"),n("d3b7"),n("159b"),n("b64b"),n("a9e3"),n("2ca0"),n("a434"),n("7db0"),n("5880")),c=n("d0db"),l=n("722b"),u=n("a5d8"),d=n("35ac"),h=n("33d2"),m=n("c02a"),f=300,p={PENDING:0,SUCCESS:1,ERROR:2},g=n("b293"),v={components:{EmoticonMessage:l["a"]},props:{showHeader:{default:!0,type:Boolean},isWholeOnsatge:{default:!1,type:Boolean},isShowFoot:{default:!0,type:Boolean},isPlayBack:{default:!1,type:Boolean}},data:function(){return{isShowNewMsgTip:!1,messageText:"",chatList:[],isFrequently:!1,isFrequentlyShow:!1,isConnecting:!0,chatMsgPriority:99,sendToReactive:{id:"",name:"classroom.chats.chats.sendToAll",isOpen:!1},dragEvent:null,singleChat:[],limitNum:5,limitTime:5e3,waitTime:3e3}},directives:{Clickoutside:u["a"],drag:h["a"]},computed:Object(o["a"])(Object(o["a"])({},Object(r["mapGetters"])({baseData:"smallClass/baseData",chatBox:"smallClass/chatBox",isShowBox:"smallClass/isShowBox",ircStatus:"smallClass/ircStatus"})),{},{isCanSend:function(){return this.messageText.trim()},sendToList:function(){return console.log("baseData",this.baseData),[{id:"",name:"classroom.chats.chats.sendToAll"},{id:this.baseData.teacherInfo.id,name:"classroom.chats.chats.sendToTeacher"}]}}),watch:{ircStatus:{handler:function(e){e&&(this.isConnecting=!1)},immediate:!0},isShowBox:{handler:function(e){e&&(this.handleScrollBottom(),this.$store.dispatch("smallClass/updateChatboxHasNewMsg",!1))}}},created:function(){this.isPlayBack||(this.thinkClass.SignalService.on("onNetStatusChanged",this.onNetStatusChanged),this.thinkClass.SignalService.on("onSendRoomMessageResponse",this.onSendRoomMessageResponse),this.thinkClass.SignalService.on("onGetRoomHistoryMessageResponse",this.onGetRoomHistoryMessageResponse),this.thinkClass.SignalService.on("onRecvRoomMessage",this.onRecvRoomMessage),this.thinkClass.SignalService.on("onRecvRoomDataUpdateNotice",this.onRecvRoomDataUpdateNotice)),document.addEventListener("click",this.handleDocumentClick)},mounted:function(){var e=Object(d["a"])();if(e&&e.configs)for(var t=0;t<e.configs.length;t++){var n=e.configs[t];if("frequentlyObj"===n.configKey){var s=n.configDefaultValue.split(",");this.limitNum=s[0]||5,this.limitTime=s[1]||5e3,this.waitTime=s[2]||3e3;break}}console.log("cloudConfig cloudConfig",this.limitNum,this.limitTime,this.waitTime,e),this.chatBox.historyList.length&&(this.chatList=Object(i["a"])(this.chatBox.historyList),this.handleScrollBottom())},beforeDestroy:function(){if(this.isPlayBack)this.$store.dispatch("smallClass/updateChatboxIsShowBox",!1);else{this.thinkClass.SignalService.off("onNetStatusChanged",this.onNetStatusChanged),this.thinkClass.SignalService.off("onSendRoomMessageResponse",this.onSendRoomMessageResponse),this.thinkClass.SignalService.off("onGetRoomHistoryMessageResponse",this.onGetRoomHistoryMessageResponse),this.thinkClass.SignalService.off("onRecvRoomDataUpdateNotice",this.onRecvRoomDataUpdateNotice),this.$store.dispatch("smallClass/updateChatboxIsShowBox",!1);var e=document.getElementById("chat-list");e&&e.removeEventListener("scroll",this.handleOnScroll)}document.removeEventListener("click",this.handleDocumentClick)},methods:{handleIsShowBox:function(){this.isPlayBack?this.$store.dispatch("smallClass/updateChatboxIsShowBox",!0):(this.$store.dispatch("smallClass/updateChatboxIsShowBox",!this.chatBox.isShowBox),this.messageText="",this.chatBox.isShowBox&&(this.handleScrollBottom(),this.$store.dispatch("smallClass/updateChatboxHasNewMsg",!1)))},handleSendMsg:function(e){var t=this;if(e.preventDefault(),this.messageText.trim()){if(this.isFrequently)return this.isFrequentlyShow=!0,void m["b"]();this.isFrequentlyShow=!1;var n=this.handleFrequentlyFn();if(n)return this.isFrequently=!0,this.isFrequentlyShow=!0,m["b"](),void setTimeout((function(){t.isFrequently=!1,t.isFrequentlyShow=!1}),this.waitTime);var s={type:"130",from:"flv",name:this.baseData.stuInfo.nickName,msg:this.messageText,path:this.baseData.stuInfo.avatar};this.sendToReactive.id&&(s.type="139",s.to_uid=this.sendToReactive.id),this.chatBox.isOnlyTeacher&&(s.type="139",s.to_uid=this.baseData.teacherInfo.id);var a=this.thinkClass.SignalService.sendRoomMessageWithPreMsgId({content:s,chatMsgPriority:this.chatMsgPriority});0===a.code?(this.chatList.push({role:"s",content:s,status:p.PENDING,preMsgId:a.preMsgId,userId:this.baseData.stuInfo.id}),this.singleChat.push(+new Date),this.messageText="",this.handleScrollBottom(),this.sendLogger("学生发送chatbox消息",Object(o["a"])({},s)),m["c"](s)):this.sendLogger("学生发送chatbox消息失败",Object(o["a"])({},a),"error")}},handleFrequentlyFn:function(){return this.singleChat.length>=this.limitNum&&+new Date-this.singleChat[this.singleChat.length-this.limitNum]<this.limitTime},onSendRoomMessageResponse:function(e){0!==e.code&&this.sendLogger("学生发送聊天消息回调失败",{res:e},"error");for(var t=this.chatList.length-1;t>0;t--){var n=this.chatList[t];if(n.preMsgId&&n.preMsgId===e.preMsgId){var s=0===e.code?p.SUCCESS:p.ERROR;return n.status=s,void(0===e.code&&this.$store.dispatch("smallClass/updateChatBoxHistoryList",n))}}},handleReSend:function(e){var t=e.content,n=this.thinkClass.SignalService.sendRoomMessageWithPreMsgId({content:t,chatMsgPriority:this.chatMsgPriority});if(0===n.code)for(var s=this.chatList.length-1;s>0;s--){var a=this.chatList[s];if(a.preMsgId&&a.preMsgId===e.preMsgId)return a.status=p.PENDING,void(a.preMsgId=n.preMsgId)}},onGetRoomHistoryMessageResponse:function(e){var t=this;if(0===e.code){if(this.chatList=[],e.content.forEach((function(e){try{e.content=JSON.parse(e.text)}catch(n){console.error("[chatbox]监听获取历史消息回调解析错误",n)}if(e.content.type&&130===Number(e.content.type)||139===Number(e.content.type)&&e.content.to_uid===t.baseData.stuInfo.id||139===Number(e.content.type)&&e.content.to_uid===t.baseData.teacherInfo.id&&Number(e.sender.split("_").pop())===t.baseData.stuInfo.id){if(e.status=p.SUCCESS,e.sender.startsWith("t")?e.role="t":e.sender.startsWith("s")?e.role="s":e.sender.startsWith("f")&&(e.role="f"),e.content.path||(e.content.path=g),e.userId=e.sender.split("_").pop(),t.chatBox.isOnlyTeacher&&"s"===e.role&&+e.userId!==t.baseData.stuInfo.id)return;t.chatList.unshift(e)}})),this.chatList.length>f){var n=this.chatList.length-f;this.chatList=this.chatList.splice(n)}this.$store.dispatch("smallClass/updateChatBoxHistoryListInit",Object(i["a"])(this.chatList)),this.handleScrollBottom()}},onRecvRoomDataUpdateNotice:function(e){var t=this,n=e.key,s=e.noticeContent;if("openchat"===n){var a=s;this.$store.dispatch("smallClass/updateChatBoxIsClose",a),this.handleChangeIsStopChat(a),this.sendLogger("老师".concat(a?"开启":"关闭"," 聊天功能"))}if("chat_msg_control"===n){var i="teacher"===s.status;this.$store.dispatch("smallClass/updateChatBoxIsOnlyTeacher",i),this.handleChangeIsOnlyReadTeacher(i),this.sendLogger("老师设置学员仅可看到老师消息 ".concat(i)),i&&this.changeSendToValue({id:this.baseData.teacherInfo.id,name:"classroom.chats.chats.sendToTeacher"})}if("private_mute_chat"===n){var o=s.ids.find((function(e){return e==t.baseData.stuInfo.id}));o?this.chatBox.isMuted||(this.$store.dispatch("smallClass/updateChatBoxMutedByTeacher",!0),this.handleChangeIsMutedByTeacher(!0),this.sendLogger("老师开启单独禁言")):this.chatBox.isMuted&&(this.$store.dispatch("smallClass/updateChatBoxMutedByTeacher",!1),this.handleChangeIsMutedByTeacher(!1),this.sendLogger("老师关闭单独禁言"))}},onNetStatusChanged:function(e){4===e.netStatus?this.chatList.push({role:"tip",msg:"classroom.chats.chats.msgTip.CONNECT"}):1!==e.netStatus&&2!==e.netStatus&&5!==e.netStatus||this.chatList.push({role:"tip",msg:"classroom.chats.chats.msgTip.DISCONNECT"}),this.handleConditionScrollBottom()},onRecvRoomMessage:function(e){var t=e.content,n=e.fromUserInfo;if(t&&t.type&&130===Number(t.type)||139===Number(t.type)&&t.to_uid===this.baseData.stuInfo.id){var s="";if(n.nickname.startsWith("t")?s="t":n.nickname.startsWith("s")?s="s":n.nickname.startsWith("f")&&(s="f"),t.path||(t.path=g),this.chatList.length>=f&&this.chatList.shift(),this.chatBox.isOnlyTeacher&&"s"===s)return;this.handleSaveList({role:s,content:t,userId:n.nickname.split("_").pop()});var a=document.getElementById("chat-list"),i=Math.round(a.scrollHeight),o=Math.round(a.scrollTop),r=Math.round(a.clientHeight);i<=o+r+1?this.handleScrollBottom():(a.addEventListener("scroll",this.handleOnScroll),this.isShowNewMsgTip=!0),this.chatBox.isShowBox||this.$store.dispatch("smallClass/updateChatboxHasNewMsg",!0)}},handleChangeIsStopChat:function(e){var t="";t=e?{role:"tip",msg:"classroom.chats.chats.teacherOn"}:{role:"tip",msg:"classroom.chats.chats.teacherOff"},this.handleSaveList(t),this.handleConditionScrollBottom()},handleChangeIsMutedByTeacher:function(e){var t="";t=e?{role:"tip",msg:"classroom.chats.chats.mutedByTeacher"}:{role:"tip",msg:"classroom.chats.chats.unmutedByTeacher"},this.handleSaveList(t),this.handleConditionScrollBottom()},handleChangeIsOnlyReadTeacher:function(e){var t="";t=e?{role:"tip",msg:"classroom.chats.chats.onlyteacher"}:{role:"tip",msg:"classroom.chats.chats.all"},this.handleSaveList(t),this.handleConditionScrollBottom()},handleSaveList:function(e){this.chatList.push(e),this.$store.dispatch("smallClass/updateChatBoxHistoryList",e)},handleScrollBottom:function(){var e=this;this.isShowNewMsgTip=!1,this.$nextTick((function(){var t=document.getElementById("chat-list");if(t){var n=Math.round(t.scrollHeight),s=Math.round(t.clientHeight);t.scrollTop=n-s+1,t.removeEventListener("scroll",e.handleOnScroll)}}))},handleConditionScrollBottom:function(){var e=document.getElementById("chat-list"),t=Math.round(e.scrollHeight),n=Math.round(e.scrollTop),s=Math.round(e.clientHeight);t<=n+s+1&&this.handleScrollBottom()},handleOnScroll:function(){var e=document.getElementById("chat-list");if(e){var t=Math.round(e.scrollHeight),n=Math.round(e.scrollTop),s=Math.round(e.clientHeight);t<=n+s+1&&(this.isShowNewMsgTip=!1,e.removeEventListener("scroll",this.handleOnScroll))}},sendLogger:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";c["a"].send({tag:"ChatBox",content:{msg:e,interactType:"ChatBox",params:t},level:n})},playBackList:function(e){try{e.content=JSON.parse(e.text)}catch(m){console.error(m)}if(e.sender.startsWith("t")?e.role="t":e.sender.startsWith("s")?e.role="s":e.sender.startsWith("f")&&(e.role="f"),e.content.path||(e.content.path=g),e.userId=e.sender.split("_").pop(),e.content.type&&130===Number(e.content.type)||139===Number(e.content.type)&&e.content.to_uid===this.baseData.stuInfo.id||139===Number(e.content.type)&&e.content.to_uid==this.baseData.teacherInfo.id&&e.sender.indexOf(this.baseData.stuInfo.id)>-1)e.status=p.SUCCESS,this.chatList.push(e);else{var t,n,s,a={},i={name:null===(t=e.content.from)||void 0===t?void 0:t.username,isMe:!1,msg:null===(n=e.content.data)||void 0===n?void 0:n.name,isNewEmoji:!0,path:(null===(s=e.content.from)||void 0===s?void 0:s.path)||""};if("send_emoji"==e.content.ircType&&1==e.content.data.type)a=i,this.chatList.push({role:"s",content:a,userId:e.userId});else if("animation_emoji"==e.content.ircType&&(2==e.content.data.type||3==e.content.data.type)){var r,c;a=Object(o["a"])(Object(o["a"])({},i),{},{lottieUrl:(null===(r=e.content.data.resource)||void 0===r?void 0:r.lottieUrl)||"",emojiId:(null===(c=e.content.data.resource)||void 0===c?void 0:c.emojiId)||0,emojiType:e.content.data.type}),this.chatList.push({role:"s",content:a,userId:e.userId})}}var l=document.getElementById("chat-list"),u=Math.round(l.scrollHeight),d=Math.round(l.scrollTop),h=Math.round(l.clientHeight);u<=d+h+1?this.handleScrollBottom():(l.addEventListener("scroll",this.handleOnScroll),this.isShowNewMsgTip=!0)},changeSendToValue:function(e){this.sendToReactive.id=e.id,this.sendToReactive.name=e.name,this.sendToReactive.isOpen=!1},toggleMemberPopup:function(e){e.stopPropagation(),!this.chatBox.isOpenChat||this.chatBox.isOnlyTeacher||this.isConnecting||this.chatBox.isMuted?this.sendToReactive.isOpen=!1:this.sendToReactive.isOpen=!this.sendToReactive.isOpen},handleDocumentClick:function(e){if(this.sendToReactive.isOpen){var t=document.getElementById("memberList");t.contains(e.target)||(this.sendToReactive.isOpen=!1)}}}},C=v,b=(n("98bd"),n("2877")),A=Object(b["a"])(C,s,a,!1,null,"1b09f81c",null);t["a"]=A.exports},e01f:function(e,t,n){"use strict";n("2f7b")},e0b7:function(e,t,n){"use strict";n("71b9")},e1f0:function(e,t,n){},e208:function(e,t,n){"use strict";n("9b23")},e240:function(e,t,n){},e2a1:function(e,t,n){e.exports=n.p+"static/img/submit_btn.cd39d68b.png"},e31c:function(e,t,n){},e32ca:function(e,t,n){"use strict";n("0cfe")},e35f:function(e,t,n){"use strict";n("ec9e")},e3b6:function(e,t,n){},e401:function(e,t,n){},e401a:function(e,t,n){},e562:function(e,t,n){"use strict";n("b5f9e")},e5ba:function(e,t,n){e.exports=n.p+"static/media/wall_spinner2.90fae3b9.mp3"},e5cc:function(e,t,n){},e637:function(e,t,n){},e71a:function(e,t,n){"use strict";n("03dd")},e758:function(e,t,n){"use strict";n("af67")},e80a:function(e,t,n){"use strict";n("f168")},e99d:function(e,t,n){e.exports=n.p+"static/media/interact-success.bd430e73.mp3"},ea26:function(e,t,n){},ea27:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAcBAMAAACJyGLdAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAhUExURUdwTKOruaGruaOrtaGpuZGjt6OruKKquaOruqOrt6OruU9IpHoAAAAKdFJOUwB+90LJDieXaOVc0UabAAAAhElEQVQY073QPQqDQBBA4RHROo0nCFhYiXeQgJWCBwg2uUCw8AR6A2sRhHdKZ39YA/aZah/fwMKI3OYzXu+42MoQFTwvgEAKgQwEsuDJgSeFDQpLBl7wtTTA3kHWQC4T1BE8ejg09tZE0mgM1GJCel1LZ3Eh89t+68LPvyLm51SyrPfDnrP1Rzr87URqAAAAAElFTkSuQmCC"},ea2f:function(e,t,n){"use strict";n("d168")},eb99:function(e,t,n){"use strict";n("3d34")},ebc2:function(e,t,n){},ec0d:function(e,t,n){"use strict";n("9cdb")},ec623:function(e,t,n){e.exports=n.p+"static/img/icon_flower_l.e1cd1cbd.png"},ec9e:function(e,t,n){},ecae:function(e,t,n){"use strict";n("e3b6")},ed42:function(e,t){e.exports="data:image/png;base64,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"},ed62:function(e,t){e.exports=require("https")},ee02:function(e,t,n){"use strict";n("77b24")},eea0:function(e,t,n){},ef37:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAkCAYAAACe0YppAAAAAXNSR0IArs4c6QAABPtJREFUWMPVl2tsFFUYhiEoolFj+KHd7fZOSTRBilQTExOEgJKQAJoYgzEQRYkaE4EowURjVJDqRlOKaAnQUilKi5eUIFBUhEKxoVcuYhtKu9vt3rq3btu9tN2dxx9zpp3dnd0uwh9P8vya8857zne++c4306b9XwbwALAMeBnYCLwHvAGsAHJvt9mDwAdABxAl9TADRiD/VgzvB74GwpPvlUJ4TSa66m00Vw7RUuWn+3Q/7q5epOiIagFjQClwz82aLgH6xUvGMTfaqF3bT0nWKNsfQpOSrDEOv2Sm54wdkIS2HdCla/oCMAqAq3OAiiUudmRAyU1waLWTgMcnzC8D901luhyIAHDlBxNGXRRjBhgz4IspiJ+3p9hHwK2Y70tlqgcG5ADt7+XLDGR0/5EMOLh0ABgXoS9KZlwNgO2ik536KKU6EtiZGaVurYW28mG6j9u5XD3IqU02ynJGNeeX6qDzF6vYdZWW6Rx5ZdIoB57wsEsHu/SxVBb78HUPaH5EI3YP+4sGKVPrdDKHFtnErCFgZrzxDgCu1znYrSeBPQVBAg6PeIEDKAFeA7YAnQD0nLTzjYZ2tx7Ghh1C+2S8cTMAJ9eZKdeTQNMnLiH8B5gdp10gf3QBq6a2XA/dR5VIbVAL75UzWQpTWRBibyYJOFvNQviKxjE9DUDY26ep3ZsJLcaQ0G9TCx8GIBKyU5EJFQZB5iSDN3qFcEWc6SygAYDOg84YjZrmT71CX6oWF8kr9vVRZYADcVQZoPM7JdTXgPXAanFBXJcXHRyk9rFBTf0Bg9q4TG2cLZfhiJ9qg8RBAwnUzvcTcHo1MzrkdnPsGa+mTqHDqNT7z9TG0wG5whxb7OD7LDSpnRuk7WM39tNWPB0mzHUumjbbqckfTapR6DmsLPqd+ATZB8CNQ05qsrjt+P42CeOV8cZFoqyF+WO1hyPZTPBj1hRkx3JEg+iYWxjnaVWvr+RECfg4+5yHn7NJm3NrXDRtMGk++22RUjzcyWr1nUC9nGhSGFO1nfrHfdTlIJMdy9FsiXPPW3GesQMRTi+2T85Vzb86UXxqUt1QdwBlqhYnQsjWR1+Nl67SMTqNIXr2B3A19hMddU9kdtBs5VgOmgTMyiWxLp1m4FHgCBAgnXFpo4MTOXAiB46raFylXBCBlM0AcDdQGFeZlgFvAR+Jy+RdYCsg79jf5uBUrkR9Lgk4flXOd+9Uu1SKebPoRmbEzdGJiiWfW9jqo2Ghn99zSeDiSheSNC4agbnJTO8CropOUt0tBsWN1CGaP2niib/ZQWOxnz/zSOBM4ThBs5JUxlS73S43pQNuLiwYxFzmZNxrTeyjo8MMtVm49rqVhnyJhjxoyBfkyZzNg/5KpWD0JG1xgYUiHBGuvOjifD4TNM0boX25hUurzLQ85eBC4XjMcy16PzeLyESApclMZ4r2EwZqLfyVzy1h3mFSRWlzqhC/L4fY46HlkRAXC0if/Ena5g/jO2tTncmHU32vjXIXVX6D1gJoLYCWOFpTURjBtNVOxK/cPmFgfTqFYtvEGgNX7Ji32Lg8L0B7AZPMiaVjjkTXqn4c33qIDLtUu2xP2jtrGM8QBcEX88MV8VoYuWDB+5MHV0UQT/UQ/noH4d5epIg/rm5dB16N/+bTXcBs4G3gvMjwqYZF3OHPAtNv1//wLKAYWAO8KXrnTaLXWgYYpv1fx7/obawTxKoqHgAAAABJRU5ErkJggg=="},eff9:function(e,t,n){},f004:function(e,t,n){e.exports=n.p+"static/media/wall_background.b9db467f.mp3"},f168:function(e,t,n){},f190:function(e,t,n){e.exports=n.p+"static/media/fail.0e533c1c.mp3"},f1b7:function(e,t,n){"use strict";n("5632")},f228:function(e,t,n){"use strict";var s=n("da2c"),a=n.n(s);t["default"]=a.a},f319:function(e,t){e.exports=require("querystring")},f3aa:function(e,t,n){},f442:function(e,t,n){},f58c:function(e,t,n){"use strict";n("88f0")},f68c:function(e,t,n){},f74c:function(e,t,n){"use strict";n("f68c")},f761:function(e,t,n){"use strict";n("ebc2")},f773:function(e,t,n){e.exports=n.p+"static/img/icon_1.1f993d2e.png"},f7e4:function(e,t,n){e.exports=n.p+"static/media/photowall-submit-success.ba915894.mp3"},f9ef:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAAAXNSR0IArs4c6QAAAjlJREFUSEvtlc2LjXEUxz/fxXgJRXnZSIlSEguzMsRGFt4pK6LYjCizIPkPsFEsiIiwsbAYNXkpjSyUbMxiymISkqQYJcrLV+f2u9O5d+6de2M2U3N2z+93ns9zzvmecx4xzqZx5jEJ/P+KTvAa2p4FbAU2AkuBecA34B3wGngI9En6XS1Ww5Rtx/kx4BQwt0Vl+yVtaAq0PR24BexsU6IeSefGAl4DDiTYD+AGcB94A0wFFgJbgPXAMknfGwJt7wDuJthgvChpqFG0tjsk/cx3NTW0/RzoLA5fgVWSovht2wjQ9gpgIL15WtLJtknFMQOPAOcToFPSi+qz7RlABzAsyc0+lIFXgIPFMfpqGrAOOApEW8wpdyHAM+CspL56cAaGGCFK2BfgNnC4Rcqh/F5Jn0apbPtxiaQR40OZjkXA/DqHiLZL0p84zxH2lt7K/qF6d10t1wKXgOXJcb+k6NUaYBzsS07vS9uMpJMEWlI6IqYqrFfStnrgceBMAl6U1N2shrafFNHCZVBSJeKcchfwNAFCxRNjAB+ULRQuA5JW1gMD/qqsqbh7CayW9KseajtaKMZxdrm7I2lPDTAebB8CLifA9VhjkqKNKmZ7ARDnm5LfLkmVHTBqH9q+B2xOzp+BUPtt2TJrgFi8VXskKRZwxRoBY0JuArub1S+d9wPbJQ03BabUYt/1ANF3UxIk5jjqewG4Wm3olsAEngksLr+CmOMhSR+bRT/Bf6NtiDLKZTLlf6la7Tt/AVUJsCXRSufNAAAAAElFTkSuQmCC"},fb38:function(e,t,n){},fbf6:function(e,t,n){},fc8f:function(e,t,n){"use strict";n("dad1")},fc9c:function(e,t,n){e.exports=n.p+"static/media/gift-select.3ae4d945.mp3"},fd36:function(e,t,n){},fe8e:function(e,t,n){"use strict";n("4a79")},fe9b:function(e,t,n){},ff4a:function(e,t){e.exports=require("events")}});
//# sourceMappingURL=smallClass.241a5493.js.map