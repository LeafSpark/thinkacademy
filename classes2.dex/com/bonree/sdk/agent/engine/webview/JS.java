package com.bonree.sdk.agent.engine.webview;

import android.text.TextUtils;
import com.bonree.sdk.d.a;

public class JS {
    private static final String a = "!function(){\"use strict\";var e=function(e){return e!==undefined&&null!==e},t=function(e){return\"function\"==typeof e},n=function(e){return\"string\"==typeof e},r=function(t){return e(t)&&t instanceof Array},i=function(){},o=window||{},a=function(t){return e(t)&&!s(t)},s=function(t){if(e(t)){if(u(t,\"length\"))return!t.length;if(u(t,\"size\"))return!t.size;for(var n in t)if(u(t,n))return!1}return!0},u=function(e,t){return e&&Object.prototype.hasOwnProperty.call(e,t)},c=function(t,n){if(e(t))for(var r in t){if(u(t,r))if(!1===n(t[r],r))break}},f=function(e,t){return r(e)?function(e,t){if(r(e))for(var n=0,i=e.length;n<i&&!1!==t(e[n],n);n++);}(e,t):c(e,t)},l=function(e){if(r(e)&&!s(e))return e[0]},d=function(e){if(r(e)&&!s(e))return e[e.length-1]},p=function(e,t){return e&&t&&c(t,(function(t,n){e[n]=t})),e},m=\"navigationStart\",v=\"startTime\",h=\"unloadEventStart\",g=\"unloadEventEnd\",w=\"redirectStart\",y=\"redirectEnd\",b=\"fetchStart\",E=\"domainLookupStart\",T=\"domainLookupEnd\",k=\"connectStart\",S=\"connectEnd\",C=\"secureConnectionStart\",P=\"requestStart\",x=\"responseStart\",I=\"responseEnd\",N=\"domLoading\",H=\"domInteractive\",M=\"domContentLoadedEventStart\",D=\"domContentLoadedEventEnd\",O=\"domComplete\",q=\"loadEventStart\",R=\"loadEventEnd\",L=\"duration\",$=\"nextHopProtocol\",B=\"transferSize\",W=\"encodedBodySize\",j=\"decodedBodySize\",A=\"uploadBodySize\",J=\"requestHeader\",V=\"responseHeader\",U=\"callbackStart\",K=\"callbackEnd\",X=\"userTime\",F=\"timestamp\",z=\"initiatorType\",_=\"data/page\",Q=\"page/ready\",G=\"page/invisible\",Z=\"page/visible\",Y=\"data/resource\",ee=\"data/flush\",te=\"data/error\",ne=\"data/request\",re=\"data/route\",ie=\"data/log\",oe=\"data/metric\",ae=\"data/event\",se=e(o.JSON)?o.JSON.stringify:function(e){var t,n=typeof e;if(\"undefined\"===n)return'\"undefined\"';if(\"boolean\"===n)return e?\"true\":\"false\";if(\"number\"===n)return e.toString();if(\"string\"===n)return'\"'+(t=e.replace(/([\"\\\\])/g,\"\\\\$1\").replace(/\\r/g,\"\\\\r\").replace(/\\n/g,\"\\\\n\"))+'\"';if(\"object\"===n){if(!e)return\"null\";if(e instanceof Array)return t=\"[\",f(e,(function(e,n){n>0&&(t+=\",\"),t+=se(e)})),t+=\"]\";t=\"{\";var r=0;return c(e,(function(e,n){r>0&&(t+=\",\"),t+=se(n)+\":\"+se(e),r++})),t+=\"}\"}return\"[none]\"},ue=!1,ce=e(o.console)&&t(o.console.log)?function(){return o.console.log}:i;e(o.console)&&t(o.console.error)&&o.console.error;var fe=function(t,n){if(ue){e(n)&&\": \"+se(n),ce()}},le=function(t,n){return t.$$original=!0,setTimeout(t,e(n)?n:0)},de=function(e,t){return function(){return e.apply(t,arguments)}};p(function(e,t){this.lastTimer=null,this.lastEvent=null,this.period=t||1e3,this.compare=function(){return!1},this.submit=e||i}.prototype,{$schedule:function(t){e(this.lastTimer)&&clearTimeout(this.lastTimer);var n=this;this.lastEvent=t,this.lastTimer=le((function(){n.submit(n.lastEvent),n.lastEvent=null}),this.period)},event:function(t){e(this.lastEvent)&&(this.compare(this.lastEvent,t)?(t.info[L]=t.info[v]-this.lastEvent.info[v],t.info[F]=this.lastEvent.info[F],t.info[v]=this.lastEvent.info[v],t.info.count=this.lastEvent.info.count+1):this.submit(this.lastEvent)),this.$schedule(t)},flush:function(){e(this.lastTimer)&&(clearTimeout(this.lastTimer),this.lastTimer=null),e(this.lastEvent)&&(this.submit(this.lastEvent),this.lastEvent=null)},equalsWith:function(e){\"apply\"in e&&(this.compare=e)}}),p(function(){this.listeners={}}.prototype,{on:function(n,i){if(e(n)&&t(i)){var o=n;r(o)||(o=[n]),f(o,de((function(t){var n=this.listeners[t];e(n)||(n=this.listeners[t]=[]),n.push(i)}),this))}},emit:function(t){if(e(t)&&e(t.t)){fe(t);var n=t.t,r=this.listeners[n];f(r,(function(e){e(t)}))}}});var pe=function(e,t){return!(!e||!e.indexOf)&&0===e.indexOf(t)};function me(){return Date.now?Date.now():(new Date).getTime()}var ve,he=(ve=me(),function(t){var n;return e(o.performance)&&e(o.performance.now)&&e(o.performance.timing)?[n=0===t?0:Math.round(o.performance.now()),n+o.performance.timing.navigationStart]:[(n=0===t?ve:me())-ve,n]}),ge=function(e){return he(e)[1]};function we(e){return e<0?NaN:e<=30?0|Math.random()*(1<<e):e<=53?(0|Math.random()*(1<<30))+(0|Math.random()*(1<<e-30))*(1<<30):NaN}function ye(e,t){for(var n=e.toString(16),r=t-n.length,i=\"0\";r>0;r>>>=1,i+=i)1&r&&(n=i+n);return n}function be(){return ye(we(32),8)+\"-\"+ye(we(16),4)+\"-\"+ye(16384|we(12),4)+\"-\"+ye(32768|we(14),4)+\"-\"+ye(we(48),12)}var Ee=function(e){return e!==undefined&&null!==e},Te=function(e){return\"function\"==typeof e},ke=function(e){return\"string\"==typeof e},Se=function(e){return Ee(e)&&e instanceof Array},Ce=function(){},Pe=window||{},xe=function(e){return Ee(e)&&!Ie(e)},Ie=function(e){if(Ee(e)){if(Ne(e,\"length\"))return!e.length;if(Ne(e,\"size\"))return!e.size;for(var t in e)if(Ne(e,t))return!1}return!0},Ne=function(e,t){return e&&Object.prototype.hasOwnProperty.call(e,t)},He=function(e,t){if(Ee(e))for(var n in e){if(Ne(e,n))if(!1===t(e[n],n))break}},Me=function(e,t){return Se(e)?function(e,t){if(Se(e))for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);}(e,t):He(e,t)},De=function(e){var t=[];if(!Ee(e)||!Ee(e.next))return t;for(var n=e.next();!n.done;)t.push(n.value),n=e.next();return t},Oe=function(e){if(Se(e)&&!Ie(e))return e[e.length-1]},qe=function(e,t){return e&&t&&He(t,(function(t,n){e[n]=t})),e},Re=function(e,t){var n=[];return Me(e,(function(e,r){var i=t&&t(e,r);Ee(i)&&n.push(i)})),n},Le=function(e,t){return Ee(e)&&Ne(e,t)?e[t]:null},$e=\"navigationStart\",Be=\"startTime\",We=\"unloadEventStart\",je=\"unloadEventEnd\",Ae=\"redirectStart\",Je=\"redirectEnd\",Ve=\"fetchStart\",Ue=\"domainLookupStart\",Ke=\"domainLookupEnd\",Xe=\"connectStart\",Fe=\"connectEnd\",ze=\"secureConnectionStart\",_e=\"requestStart\",Qe=\"responseStart\",Ge=\"responseEnd\",Ze=\"domLoading\",Ye=\"domInteractive\",et=\"domContentLoadedEventStart\",tt=\"domContentLoadedEventEnd\",nt=\"domComplete\",rt=\"loadEventStart\",it=\"loadEventEnd\",ot=\"redirectCount\",at=\"duration\",st=\"workerStart\",ut=\"nextHopProtocol\",ct=\"transferSize\",ft=\"encodedBodySize\",lt=\"decodedBodySize\",dt=\"uploadBodySize\",pt=\"requestHeader\",mt=\"responseHeader\",vt=\"callbackStart\",ht=\"callbackEnd\",gt=\"timestamp\",wt=\"initiatorType\",yt=\"xmlhttprequest\",bt=\"fetch\",Et=\"data/page\",Tt=\"page/ready\",kt=\"page/load\",St=\"page/invisible\",Ct=\"page/visible\",Pt=\"data/resource\",xt=\"resource/dump\",It=\"data/flush\",Nt=\"data/error\",Ht=\"request/init\",Mt=\"data/request\",Dt=\"data/route\",Ot=\"data/log\",qt=Ee(Pe.JSON)?Pe.JSON.stringify:function(e){var t,n=typeof e;if(\"undefined\"===n)return'\"undefined\"';if(\"boolean\"===n)return e?\"true\":\"false\";if(\"number\"===n)return e.toString();if(\"string\"===n)return'\"'+(t=e.replace(/([\"\\\\])/g,\"\\\\$1\").replace(/\\r/g,\"\\\\r\").replace(/\\n/g,\"\\\\n\"))+'\"';if(\"object\"===n){if(!e)return\"null\";if(e instanceof Array)return t=\"[\",Me(e,(function(e,n){n>0&&(t+=\",\"),t+=qt(e)})),t+=\"]\";t=\"{\";var r=0;return He(e,(function(e,n){r>0&&(t+=\",\"),t+=qt(n)+\":\"+qt(e),r++})),t+=\"}\"}return\"[none]\"},Rt=Ee(Pe.console)&&Te(Pe.console.log)?function(){return Pe.console.log}:Ce,Lt=Ee(Pe.console)&&Te(Pe.console.error)?Pe.console.error:Ce,$t=function(e,t){},Bt=function(e,t){Ee(t)&&qt(t),Rt()},Wt=function(e,t){return e.$$original=!0,setTimeout(e,Ee(t)?t:0)},jt=function(e,t){return function(){return e.apply(t,arguments)}},At=function(e){return Ee(e.length)?Array.prototype.slice.call(e):e},Jt=function(e,t,n,r){if(Ee(e)||(e=function(){}),e.$$original)return e;var i=function(){var i=At(arguments);Ee(t)&&t.apply(this,i);try{return e.apply(this,i)}catch(o){Ee(r)?r.apply(this,i.concat(o)):function(e){Lt(e)}(o)}finally{if(Ee(n)&&n.apply(this,i),i&&i[0]&&i[0]instanceof Error)throw i[0]}};return i.$$original=e,i};function Vt(e){return\"object\"==typeof e&&null!==e}var Ut=function(e,t){if(!Vt(e)||!Vt(t))return e===t;if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i in e){if(!Ut(e[i],t[i]))return!1}return!0};function Kt(e,t){this.lastTimer=null,this.lastEvent=null,this.period=t||1e3,this.compare=function(){return!1},this.submit=e||Ce}qe(Kt.prototype,{$schedule:function(e){Ee(this.lastTimer)&&clearTimeout(this.lastTimer);var t=this;this.lastEvent=e,this.lastTimer=Wt((function(){t.submit(t.lastEvent),t.lastEvent=null}),this.period)},event:function(e){Ee(this.lastEvent)&&(this.compare(this.lastEvent,e)?(e.info[at]=e.info[Be]-this.lastEvent.info[Be],e.info[gt]=this.lastEvent.info[gt],e.info[Be]=this.lastEvent.info[Be],e.info.count=this.lastEvent.info.count+1):this.submit(this.lastEvent)),this.$schedule(e)},flush:function(){Ee(this.lastTimer)&&(clearTimeout(this.lastTimer),this.lastTimer=null),Ee(this.lastEvent)&&(this.submit(this.lastEvent),this.lastEvent=null)},equalsWith:function(e){\"apply\"in e&&(this.compare=e)}});var Xt=function(e,t,n,r){if(e&&e.addEventListener)return e.addEventListener(t,n,r);e&&e.attachEvent&&e.attachEvent(\"on\"+t,n)},Ft=function(e,t,n,r){e&&e.addEventListener&&e.addEventListener(t,n,r)};function zt(){this.listeners={}}function _t(e){this.$i=qe({},e)}qe(zt.prototype,{on:function(e,t){if(Ee(e)&&Te(t)){var n=e;Se(n)||(n=[e]),Me(n,jt((function(e){var n=this.listeners[e];Ee(n)||(n=this.listeners[e]=[]),n.push(t)}),this))}},emit:function(e){if(Ee(e)&&Ee(e.t)){var t=e.t,n=this.listeners[t];Me(n,(function(t){t(e)}))}}}),_t.prototype.i=function(e,t){return Ee(e)?Ee(t)?void(this.$i[e]=t):this.$i[e]:this.$i};var Qt=function(e,t){return!(!e||!e.indexOf)&&0===e.indexOf(t)},Gt=function(e,t){return!!(e&&t&&e.length>=t.length)&&e.substring(e.length-t.length)===t},Zt=function(e,t){try{return e?e.length<=t?e:e.substr(0,t-3)+\"...\":\"\"}catch(vr){return\"The data cannot be parsed normally, please handle it manually\"}},Yt=function(e,t){return Ee(t)||(t=\"\"),e&&e.toUpperCase?e.toUpperCase():t},en=function(e,t){return Ee(t)||(t=\"\"),e&&e.toLowerCase?e.toLowerCase():t};function tn(){return Date.now?Date.now():(new Date).getTime()}var nn=function(){var e=tn();return function(t){var n;return Ee(Pe.performance)&&Ee(Pe.performance.now)&&Ee(Pe.performance.timing)?[n=0===t?0:Math.round(Pe.performance.now()),n+Pe.performance.timing.navigationStart]:[(n=0===t?e:tn())-e,n]}}(),rn=function(e){return nn(e)[1]},on=function(e){return nn(e)[0]};function an(e){return e<0?NaN:e<=30?0|Math.random()*(1<<e):e<=53?(0|Math.random()*(1<<30))+(0|Math.random()*(1<<e-30))*(1<<30):NaN}function sn(e,t){for(var n=e.toString(16),r=t-n.length,i=\"0\";r>0;r>>>=1,i+=i)1&r&&(n=i+n);return n}function un(){return sn(an(32),8)+\"-\"+sn(an(16),4)+\"-\"+sn(16384|an(12),4)+\"-\"+sn(32768|an(14),4)+\"-\"+sn(an(48),12)}var cn=\"1.3.0\";function fn(e){return fn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},fn(e)}function ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,pn(r.key),r)}}function dn(e,t,n){return(t=pn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pn(e){var t=function(e,t){if(\"object\"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||\"default\");if(\"object\"!=typeof r)return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"==typeof t?t:String(t)}var mn=new zt,vn=new _t,hn=jt(mn.on,mn),gn=jt(mn.emit,mn),wn=jt(vn.i,vn),yn=function(){var e=nn();return{startTime:e[0],fetchStart:e[0],timestamp:e[1]}},bn=function(){var e=Date.now?Date.now():(new Date).getTime(),t=Pe.performance.timing.navigationStart;return{startTime:e-t,timestamp:t}},En=function(e){if(!e)return\"\";var t=e.id;if(t)return'//*[@id=\"'+t+'\"]';for(var n=[],r=e;r;){var i=r.tagName&&r.tagName.toLowerCase&&r.tagName.toLowerCase()||null;if(!i)break;var o=r.parentElement&&r.parentElement.cloneNode(r.parentElement);if(!Ee(o)){n.unshift(i);break}for(var a=o.children,s=a.length,u=0,c=0,f=0;f<s;f++){var l=a[f];if(l.tagName.toLowerCase()===i&&(c++,u>0))break;l===r&&(u=c)}1===c?n.unshift(i):n.unshift(i+\"[\"+u+\"]\"),r=o}return\"/\"+n.join(\"/\")},Tn=function(){return!!wn(\"page:load\")},kn=function(e,t){var n=e[t];return Ee(n)&&n>0?Math.round(n):-1},Sn=function(e){return Ee(e)?window.ArrayBuffer&&e instanceof ArrayBuffer?e.byteLength:window.Blob&&e instanceof Blob?e.size:e.toJSON?qt(e.toJSON()).length:e.length?e.length:0:0},Cn=function(e){if(!Ee(e))return\"\";var t=\"\";if(\"string\"==typeof e)t=e;else if(window.FormData&&e instanceof FormData){var n={};try{Me(De(e.entries()),(function(e){var t=e[0],r=e[1];if(window.File&&r instanceof File){if(r.size>0){var i=r.name?\" \"+r.name:\"\";n[t]=\"[File]\"+i}}else n[t]=r}))}catch(r){n={}}t=\"[FormData] \"+qt(n)}else{if(window.Blob&&e instanceof Blob)return\"[Blob]\";if(window.ArrayBuffer&&e instanceof ArrayBuffer)return\"[ArrayBuffer]\";if(e.toJSON)t=qt(e.toJSON());else{if(!e.toString)return\"[unknown]\";t=e.toString()}}return Zt(t,2e3)},Pn=\"br-resp-key\",xn=\"\\r\\n\",In=function(e){return\"string\"==typeof e?e:JSON.stringify(e)};function Nn(e){return e<0?NaN:e<=30?0|Math.random()*(1<<e):e<=53?(0|Math.random()*(1<<30))+(0|Math.random()*(1<<e-30))*(1<<30):NaN}function Hn(e,t){for(var n=e.toString(16),r=t-n.length,i=\"0\";r>0;r>>>=1,i+=i)1&r&&(n=i+n);return n}function Mn(e){var t=arguments.length>1&&arguments[1]!==undefined&&arguments[1];return 16===e?\"\"+Hn(Nn(32),8)+Hn(Nn(32),8):32===e?t?\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return(\"x\"===e?t:3&t|8).toString(16)})):\"\"+Hn(Nn(32),8)+Hn(Nn(32),8)+Hn(Nn(32),8)+Hn(Nn(32),8):void 0}var Dn=function(e){return\"object\"===fn(e)};function On(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return!0;return!1}function qn(e){for(var t=[],n=0,r=(e=(new TextEncoder).encode(e)).length;n<r;n+=4096)t.push(String.fromCharCode.bind(String).apply(null,e.subarray(n,n+4096)));return btoa(t.join(\"\"))}var Rn,Ln=[],$n=[],Bn=[yt,bt,\"other\",\"beacon\"],Wn=function(e,t){return e[Be]-t[Be]};function jn(e){return(e.initiatorType===yt||e.initiatorType===bt||\"other\"===e.initiatorType||\"beacon\"===e.initiatorType)&&e[Be]>Rn}function An(e,t,n){return jn(e)&&Gt(e.name,t)&&e.initiatorType===n}function Jn(e){return e>0&&e<400}var Vn=function(e){if(e.info.crosDomain=!1,!window.performance||!window.performance.now)return e;var t=e.info;if(!Jn(t.status))return e;var n=function(e){var t,n=e.url,r=e[gt],i=Bn[e.type],o=Re($n,(function(e){if(e.url===n&&Bn[e.type]===i)return e}));o.sort(Wn);var a=-1;if(Me(o,(function(e,t){if(e[gt]===r)return a=t,!1})),a<0)return t;var s=Re(Ln,(function(e,t){if(An(e,n,i))return e}));if(a>=s.length){var u=[];if(window.performance.getEntriesByType){var c=window.performance.getEntriesByType(\"resource\");if(u=Re(c,(function(e){if(An(e,n,i))return e})),c&&c.length>=140){var f=window.performance.getEntriesByType(\"resource\");gn({t:xt,p:f}),\"clearResourceTimings\"in window.performance?window.performance.clearResourceTimings():\"webkitClearResourceTimings\"in window.performance&&window.performance.webkitClearResourceTimings()}}s=s.concat(u)}return s.sort(Wn),s.length<1||a>=s.length?t:s[a]}(t);if(i=t,!((r=n)&&i[Be]<=r[Be]+1))return e.info.crosDomain=!0,e;if(function(e){return e[Ge]>0&&0===e[_e]&&0===e[Qe]}(n))return e.info.crosDomain=!0,e;var r,i,o=e.metric;return t[Be]=kn(n,Be),t[gt]=t[Be]+window.performance.timing.navigationStart,t[at]=kn(n,at),o[Ae]=kn(n,Ae),o[Je]=kn(n,Je),o[Ve]=kn(n,Ve),o[Ue]=kn(n,Ue),o[Ke]=kn(n,Ke),o[Xe]=kn(n,Xe),o[Fe]=kn(n,Fe),o[ze]=kn(n,ze),o[_e]=kn(n,_e),o[Ge]=kn(n,Ge),o[Qe]=kn(n,Qe),Ee(n[lt])&&(t[ut]=n[ut],o[st]=kn(n,st),o[ct]=kn(n,ct),o[ft]=kn(n,ft),o[lt]=kn(n,lt)),e},Un=function(e){var t=e.info,n=e.metric;return Ee(t[at])||(t[at]=n[Ge]-t[Be]),Ee(t.callbackError)||(t.callbackError=0),e},Kn=function(e){if(Jn(e.info.status)){var t=e.info.url;window.location.origin&&Ee(t)&&!t.startsWith(\"http\")&&(t=window.location.origin+\"/\"+t.replace(/^.\\/|\\//,\"\"),e.info.url=t);var n=!1;Re($n,(function(t){Ut(t,e.info)&&(n=!0)})),n||$n.push(e.info)}},Xn=function(){return{block:Tn()?0:1,callbackError:0,base:(e=document.getElementsByTagName(\"base\")||[],t=Oe(e),t&&t.href||\"\")};var e,t};var Fn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.list={},this.isOpen=!1}var t,n,r;return t=e,n=[{key:\"checkIsOpen\",value:function(){Ee(Qn.enableNetworkTrace)&&Qn.enableNetworkTrace&&Ee(Qn.networkTraceConfig)&&\"{}\"!==JSON.stringify(Qn.networkTraceConfig)?this.isOpen=!0:this.isOpen=!1}},{key:\"getItem\",value:function(e,t){return Ee(e)&&this.list[e]?this.list[e]:this.setItem(e,t)}},{key:\"setItem\",value:function(e,t){var n=Qn.networkTraceConfig,r=n.utl,i=n.uwl,o=n.ubl,a={};if(Ee(r)&&r.length>0){r.length>200&&(r=r.slice(0,200));for(var s=0,u=r.length-1;s<=u;s++)qe(a,this.totalHead(r[s],e,t))}if(Ee(i)&&i.length>0){i.length>200&&(i=i.slice(0,200));for(var c=0,f=i.length-1;c<=f;c++)this.whiteCheck(e,i[c])&&qe(a,this.whiteHead(i[c],e,t))}if(Ee(o)&&o.length>0){o.length>200&&(o=o.slice(0,200));for(var l=0,d=o.length-1;l<=d;l++)this.black(e,o[l])&&qe(a,this.blackHead(o[l],e,t))}return Object.keys(a).length>200&&(a=function(e,t){if(!Dn(e))return{};var n={};return Object.keys(e).map((function(r,i){i<=t&&(n[r]=e[r])})),n}(a,200)),this.list[e]=a,a}},{key:\"totalHead\",value:function(e,t,n){var r={};return qe(r,this.constructData(e,t,n)),r}},{key:\"whiteCheck\",value:function(e,t){if(t.rhr&&t.rhr.length>0)switch(t.t){case 0:if(e===t.r)return!0;break;case 1:if(Qt(e,t.r))return!0;break;case 2:if(Gt(e,t.r))return!0;break;case 3:var n=new RegExp(t.r);if(n instanceof RegExp&&n.test(e))return!0;break;case 4:if(e.indexOf(t.r)>-1)return!0;break;default:return!1}return!1}},{key:\"whiteHead\",value:function(e,t,n){var r=e.rhr,i={};if(Ee(r)&&r.length>0)for(var o=0,a=r.length-1;o<=a;o++)qe(i,this.constructData(r[o],t,n));return i}},{key:\"black\",value:function(e,t){if(t.rhr&&t.rhr.length>0)switch(t.t){case 0:if(e===t.r)return!1;break;case 1:if(Qt(e,t.r))return!1;break;case 2:if(Gt(e,t.r))return!1;break;case 3:var n=new RegExp(t.r);if(n instanceof RegExp&&n.test(e))return!1;break;case 4:if(e.indexOf(t.r)>-1)return!1;break;default:return!0}return!0}},{key:\"blackHead\",value:function(e,t,n){var r=e.rhr,i={};if(Ee(r)&&r.length>0)for(var o=0,a=r.length-1;o<=a;o++)qe(i,this.constructData(r[o],t,n));return i}},{key:\"checkKey\",value:function(e,t){return!(!Ee(e)||e.length>t||(256===t?!/^[0-9a-zA-Z_-]{1,256}$/.test(e):\"\"===((n=e)?String.prototype.trim?String.prototype.trim.call(n):n.toString().replace(/(^\\s+)|(\\s+$)/g,\"\"):\"\")));var n}},{key:\"constructData\",value:function(e,t,n){var r={},i=function(){try{var e={Chrome:/Chrome/,IE:/MSIE/,Firefox:/Firefox/,Opera:/Presto/,Safari:/Version\\/([\\d.]+).*Safari/,360:/360SE/,QQBrowswe:/QQ/},t={iPhone:/iPhone/,iPad:/iPad/,Android:/Android/,Windows:/Windows/,Mac:/Macintosh/},n=navigator&&navigator.userAgent;if(!n)return null;var r={browserName:\"\",browserVersion:\"\",osName:\"\",osVersion:\"\",deviceName:\"\"};for(var i in e)e[i].test(n)&&(r.browserName=i,\"Chrome\"===i?r.browserVersion=n.split(\"Chrome/\")[1].split(\" \")[0]:\"IE\"===i?r.browserVersion=n.split(\"MSIE \")[1].split(\" \")[1]:\"Firefox\"===i?r.browserVersion=n.split(\"Firefox/\")[1]:\"Opera\"===i?r.browserVersion=n.split(\"Version/\")[1]:\"Safari\"===i?r.browserVersion=n.split(\"Version/\")[1].split(\" \")[0]:\"360\"===i?r.browserVersion=\"\":\"QQBrowswe\"===i&&(r.browserVersion=n.split(\"Version/\")[1].split(\" \")[0]));for(var o in t)t[o].test(n)&&(r.osName=o,\"Windows\"===o?r.osVersion=n.split(\"Windows NT \")[1].split(\";\")[0]:\"Mac\"===o?r.osVersion=n.split(\"Mac OS X \")[1].split(\")\")[0]:\"iPhone\"===o?r.osVersion=n.split(\"iPhone OS \")[1].split(\" \")[0]:\"iPad\"===o?r.osVersion=n.split(\"iPad; CPU OS \")[1].split(\" \")[0]:\"Android\"===o&&(r.osVersion=n.split(\"Android \")[1].split(\";\")[0],r.deviceName=n.split(\"(Linux; Android \")[1].split(\"; \")[1].split(\" Build\")[0]));return r}catch(vr){return undefined}}(),o=i&&i.osName+\"/\"+i.osVersion||Qn.osType&&Qn.typeArr[Qn.osType]||Qn.typeArr[1];if(Ee(e)&&Ee(e.rht)&&this.checkKey(e.rhk,256))switch(e.rht){case 1:Ee(e.rhv)&&this.checkKey(e.rhv,512)&&(r[e.rhk]=e.rhv);break;case 2:r[e.rhk]={uuidWithLength:Mn,length:16};break;case 3:r[e.rhk]={uuidWithLength:Mn,length:32};break;case 4:r[e.rhk]={uuidForSkyWorking:function(e,t){var n=String(qn(Mn(32,!0))),r=String(qn(Mn(32,!0))),i=String(qn(Qn.appName)),o=String(qn(Qn.appVersion)),a=String(qn(e)),s=String(qn(t));return\"1-\".concat(n,\"-\").concat(r,\"-0-\").concat(i,\"-\").concat(o,\"-\").concat(s,\"-\").concat(a)},url:t,pathname:n};break;case 5:r[e.rhk]=\"00-\"+Hn(Nn(32),8)+Hn(Nn(32),8)+Hn(Nn(32),8)+Hn(Nn(32),8)+\"-\"+Hn(Nn(32),8)+Hn(Nn(32),8)+\"-00\";break;case 6:r[e.rhk]=\"bnro=\"+o+\"_js/\"+Qn.version}return r}}],n&&ln(t.prototype,n),r&&ln(t,r),Object.defineProperty(t,\"prototype\",{writable:!1}),e}(),zn=new Fn;function _n(e){if(Ee(e.url)&&/(http|ftp|https):\\/\\/[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-\\.,@?^=%&:/~\\+#]*[\\w\\-\\@?^=%&/~\\+#])?/.test(e.url)){var t=e.url.split(\"/\")[2];t.includes(\":\")&&(t=t.split(\":\")[0]);var n=e.url.split(\"/\").slice(3).join(\"/\").split(\"?\")[0];if(Ee(t))return zn.getItem(t,n)}return undefined}var Qn={enable:!0,debounce:1e3,typeArr:[\"\",\"android\",\"ios\",\"pc\"],version:cn,appVersion:\"1.0.0\",appName:\"unKnown\"};function Gn(e){Ee(e.osType)&&(e={osType:e.osType,enableNetworkTrace:e.enableNetworkTrace,networkTraceConfig:e.networkTraceConfig}),qe(Qn,e),zn.checkIsOpen()}var Zn,Yn,er,tr=!1,nr=[];function rr(){wn(\"page:load\",!0),gn({t:kt}),Wt(ir,200)}function ir(e){tr||(tr=!0,gn({t:Et,p:ar()}),gn({t:Pt,p:sr()})),gn({t:It,p:!!e})}function or(e,t){return e>0?e-t:-1}function ar(){var e=window.screen||{},t=window&&window.location&&window.location.href&&window.location.href||\"\",n={timestamp:rn(0),title:document.title||\"\",referrer:\"\"===document.referrer&&t||document.referrer,charset:document.characterSet||document.charset||\"\",embed:window.top&&window.self&&window.top!==window.self?1:0,width:e.width||0,height:e.height||0,completed:Tn()?1:0},r=window.performance&&window.performance.timing;if(n.supported=Ee(r)?1:0,!r)return n.duration=on(),{info:n};var i={},o=window.performance.timing,a=o[$e]||o[Ve];if(i[$e]=a,i[We]=or(o[We],a),i[je]=or(o[je],a),i[Ae]=or(o[Ae],a),i[Je]=or(o[Je],a),i[Ve]=or(o[Ve],a),i[Ue]=or(o[Ue],a),i[Ke]=or(o[Ke],a),i[Xe]=or(o[Xe],a),i[Fe]=or(o[Fe],a),i[ze]=or(o[ze],a),i[_e]=or(o[_e],a),i[Qe]=or(o[Qe],a),i[Ge]=or(o[Ge],a),i[Ze]=or(o[Ze],a),i[Ye]=or(o[Ye],a),i[et]=or(o[et],a),i[tt]=or(o[tt],a),i[nt]=or(o[nt],a),i[rt]=or(o[rt],a),i[it]=or(o[it],a),n[at]=Tn()?Math.max(0,i[it],i[rt]):on(),window.performance.getEntriesByType){var s=Oe(window.performance.getEntriesByType(\"navigation\"));Ee(s)&&(n.type=s.type,n[ut]=s[ut],i[ot]=s[ot],i[ct]=s[ct],i[ft]=s[ft],i[lt]=s[lt])}return qe(i,function(e){if(!Tn())return $t();Ee(Zn)&&Ee(Yn)||window.performance.getEntriesByType&&Me(window.performance.getEntriesByType(\"paint\"),(function(e){\"first-paint\"===e.name&&(Zn=e.startTime),\"first-contentful-paint\"===e.name&&(Yn=e.startTime)}));if(!Ee(Zn)){var t=window.performance.timing,n=t[$e];if(t.msFirstPaint&&(Zn=t.msFirstPaint-n),window.chrome&&window.chrome.loadTimes){var r=window.chrome.loadTimes();r&&r.firstPaintTime&&(Zn=1e3*r.firstPaintTime-n)}}if(!Ee(Zn)&&document.querySelectorAll){var i=Re(document.querySelectorAll(\"head>script\"),(function(e){if(!e.defer&&!e.async&&Ee(e.src))return e.src}));if(window.performance.getEntriesByName){var o=0;Me(i,(function(e){var t=Oe(window.performance.getEntriesByName(e));Ee(t)&&(o=Math.max(o,t[Ge]))}));var a=e[Ze]||e[Ge],s=e[et]||e[nt];Zn=Math.max(a,o),Zn=Math.min(Zn,s)}}return{fp:Zn?Math.round(Zn):-1,fcp:Yn?Math.round(Yn):-1,lcp:er?Math.round(er):-1}}(i)),{info:n,metric:i}}function sr(){if(!window.performance||!window.performance.getEntriesByType)return[];var e=nr.concat(window.performance.getEntriesByType(\"resource\"));nr=[];var t=Re(e,(function(e){var t=e[wt],n=e.entryType;if(t!==yt&&t!==bt){var r={},i={};return r.name=e.name,r[Be]=kn(e,Be),r[wt]=t,r.entryType=n,i[st]=kn(e,st),i[Ae]=kn(e,Ae),i[Je]=kn(e,Je),i[Ve]=kn(e,Ve),i[Ue]=kn(e,Ue),i[Ke]=kn(e,Ke),i[Xe]=kn(e,Xe),i[Fe]=kn(e,Fe),i[ze]=kn(e,ze),i[_e]=kn(e,_e),i[Qe]=kn(e,Qe),i[Ge]=kn(e,Ge),r[at]=Ee(e[at])?kn(e,at):i[Ge]-i[Be],Ee(e[lt])&&(r[ut]=e[ut],i[ct]=e[ct],i[ft]=e[ft]>=Math.pow(2,64)?Math.pow(2,60):e[ft],i[lt]=e[lt]),{info:r,metric:i}}}));return t}function ur(){var e,t,n;\"complete\"!==document.readyState||tr?Xt(window,\"load\",rr,!1):(Bt(\"C04\",\"[WARN] 不推荐的探针注入时机，建议在页面完全加载之前注入探针。忽略webview欢迎页面采集\"),Qt(document.location.href,\"about:\")&&Qt(document.URL,\"about:\")||rr.call()),Ft(document,\"DOMContentLoaded\",(function(){gn({t:Tt})})),function(){if(!Ee(window.PerformanceObserver))return $t();var e=new PerformanceObserver((function(e){var t=e.getEntries();Me(t,(function(e){\"first-paint\"===e.name&&(Zn=e[Be]),\"first-contentful-paint\"===e.name&&(Yn=e[Be]),\"largest-contentful-paint\"===e.entryType&&(er=e.renderTime||e.loadTime)}))}));try{e.observe({entryTypes:[\"paint\",\"largest-contentful-paint\"]})}catch(t){}}(),function(){if(window.performance&&window.performance.getEntriesByType){var e=function(e){return function(){var t=window.performance.getEntriesByType(\"resource\");gn({t:xt,p:t}),tr||(nr=nr.concat(t));var n=e+\"learResourceTimings\";n in window.performance&&window.performance[n]()}};Ft(window.performance,\"resourcetimingbufferfull\",e(\"c\"),!1),Ft(window.performance,\"webkitresourcetimingbufferfull\",e(\"webkitC\"),!1)}}(),e=[!1,!1,!1],t=[Ce,Ce,Ce],n=function(n){e[n]||(t[n]=function(){gn({t:St,p:{info:yn()}}),ir(!0)},e[n]=!0),(0,t[n])()},Xt(window,\"beforeunload\",(function(){n(0)}),!1),Xt(window,\"pagehide\",(function(){n(1)}),!1),Ft(document,\"visibilitychange\",(function(){\"hidden\"===document.visibilityState?n(2):gn({t:Ct,p:{info:yn()}})})),Xt(window,\"pageshow\",(function(e){e.persisted&&gn({t:Ct,p:{info:bn()}})}))}function cr(e){return e.message+e.line+e.column}function fr(e){var t=Number(e);return isNaN(t)?0:t}function lr(e,t,n){if(!Ee(t))return e;var r=t.name||t.constructor&&t.constructor.name;return e.name=r&&In(r)||\"\",xe(e.message)||(e.message=(xe(r)?r+\": \":\"\")+t.message),xe(e.file)||(e.file=t.fileName),Ee(e.line)||(e.line=t.lineNumber,e.column=t.columnNumber),e.stack=t.stack,function(e,t,n){if(!xe(e.file)&&t){try{for(var r,i=/[@(\\s]+?([\\S]+):(\\d+):(\\d+)\\)?/,o=/[@(\\s]+?([\\S]+):(\\d+)\\)?/,a=/([^@(\\s)]+):(\\d+):(\\d+)/,s=/([^@(\\s)]+):(\\d+)/,u=t.split(\"\\n\"),c=!0,f=0;f<u.length;f++)if(r=u[f],i.test(r)||o.test(r)){if(!c||!n){var l=Oe(r.split(/\\s+/)),d=a.exec(l)||s.exec(l);e.file=d[1].replace(/^\\(/,\"\"),e.line=fr(d[2]),e.column=fr(d[3]);break}c=!1,u[f]=\"\"}n&&(e.stack=u.join(\"\\n\").replace(/\\n+/g,\"\\n\").replace(/^\\n/,\"\"))}catch(p){}}}(e,e.stack,n),e}function dr(e,t){var n={info:qe(e,{message:Zt(e.message,200),duration:0,type:Ee(e.type)?e.type:0,count:1,file:Zt(e.file,200)||\"<anonymous>\",stack:Zt(e.stack,5e3)})};Ee(t)&&(n.ext=t),pr.event(n)}var pr=new Kt((function(e){gn({t:Nt,p:e})}),Qn.debounce);function mr(){window.onerror=Jt(window.onerror,(function(e,t,n,r,i){var o=qe({message:e,line:n,column:r,file:t},yn());lr(o,i),dr(o)}))}pr.equalsWith((function(e,t){return cr(e.info)===cr(t.info)})),hn(It,(function(){pr.flush()}));var vr=function(e){if(!Ee(e))return $t();var t,n=yn();\"string\"==typeof e?(n.message=e,lr(n,e=new Error(e),!0)):window.ErrorEvent&&e instanceof ErrorEvent?(qe(n,{message:e.message,line:e.lineno,column:e.colno,file:e.filename}),lr(n,e.error),xe(n.file)||e.target&&(n.file=e.target.baseURI)):(lr(n,e),\"number\"==typeof e.type&&(n.type=e.type),t=e.ext),dr(n,t)};function hr(e,t,n){if(e.$metric){var r=e.$metric.metric;Ee(r[t])&&!n||(r[t]=on())}}function gr(e,t,n,r,i){if(e.$metric){var o=e.$metric.info;o[t]=n,o.message=i,o.eType=r}}function wr(e,t){this.$$inner||(this.$metric={info:{url:t,method:Yt(e),type:0}})}function yr(){if(this.$metric&&!this.$$done){this.$$done=!0;var e=this.$metric,t=e.info,n=e.metric;Vn(e),Un(e);try{var r;if(t.statusText=this.statusText,!Ee(n[lt])||n[lt]<=0)r=\"\"===this.responseType||\"text\"===this.responseType?Sn(this.responseText):Sn(this.response),n[lt]=r;if(this.getAllResponseHeaders){var i=this.getAllResponseHeaders();t.guid=en(i).indexOf(Pn)>-1?this.getResponseHeader(Pn):t.requestId||\"\",t[mt]=Zt(i,2e3)}}catch(o){}gn({t:Mt,p:e})}}function br(e){return Te(Le(e.onreadystatechange,\"$$original\"))}function Er(e){return 0===e.readyState||4===e.readyState}function Tr(){Ee(this)&&(kr.call(this),br(this)||(Er(this)?Sr.call(this):this.onreadystatechange=Jt(this.onreadystatechange,kr,Sr,Cr)))}function kr(){Ee(this)&&(2===this.readyState&&hr(this,Qe),Ee(this)&&Er(this)&&(hr(this,Qe),hr(this,Ge),hr(this,vt)))}function Sr(){if(Er(this)){hr(this,ht);var e=this;if(this.$metric){var t=0;try{t=this.status,this.$metric.info.eType=\"HTTP\"}catch(n){}0===t&&(this.$metric.info.eType=\"XHR\",this.$metric.info.message=\"XHR internal services not available or Cross domain request\"),this.$metric.info.status=t,Kn(this.$metric),Wt((function(){yr.call(e)}))}}}function Cr(){var e=Oe(At(arguments));vr(e),gr(this,\"callbackError\",1,\"XHR\",\"XHR callback throws an exception\")}function Pr(e){if(!this.$$inner&&Ee(this.$metric)){var t=this;if(Ee(this.$metric.info)&&zn.isOpen){var n=_n(this.$metric.info);Ee(n)&&Dn(n)&&He(n,(function(e,n){\"string\"==typeof e&&e.indexOf(\"bnro=\")>-1&&(e+=\"_XMLHttpRequest\"),\"object\"===fn(e)&&e.hasOwnProperty(\"length\")?t.setRequestHeader(n,e.uuidWithLength(e.length)):\"object\"===fn(e)&&e.hasOwnProperty(\"uuidForSkyWorking\")?t.setRequestHeader(n,e.uuidForSkyWorking(e.url,e.pathname)):t.setRequestHeader(n,e),function(e,t,n){Ee(Qn.reqhtk)&&On(Qn.reqhtk,e)&&(n.info[e]=t)}(n,e,t.$metric)}))}if(Te(this.addEventListener))Me([\"abort\",\"timeout\",\"error\"],(function(e,n){var r=[\"User terminates XHR request\",\"XHR request timeout\",\"XHR request exception\"];Ft(t,e,(function(){gr(t,\"status\",600+Number(n),\"XHR\",r[n])}),!1)})),Ft(this,\"readystatechange\",Tr,!1);else{var r=3;!function e(){Wt((function(){if(Er(t)&&!br(t))return Sr.call(t);Er(t)||(t.onreadystatechange=Jt(t.onreadystatechange,kr,Sr,Cr),--r>=0&&e())}))}()}this.onreadystatechange=Jt(this.onreadystatechange,kr,Sr,Cr);var i=this.$metric.info;qe(i,yn()),gn({t:Ht,p:this.$metric}),qe(i,Xn());var o=this.$metric.metric={};try{i.requestBody=Cn(e),o[dt]=Sn(e)}catch(s){}if(Qn.enableAutoTrace)try{var a=un();i.requestId=a,this.setRequestHeader&&this.setRequestHeader(\"x-trace-id\",a)}catch(u){}}}function xr(e,t){if(Ee(this.$metric)){var n=this.$metric.info;Ee(n.requestHeaderAll)||(n.requestHeaderAll={}),n.requestHeaderAll[e]=t;var r=e+\": \"+t;Ee(n.userHeaders)?n[pt]=n.userHeaders+xn+r:n[pt]=r}}function Ir(e){return window.Headers&&e instanceof Headers}function Nr(e){return Ee(e)&&\"string\"!=typeof e}function Hr(e,t,n){return Nr(e)?e[n]:t?t[n]:null}function Mr(e){if(e){Vn(e),Un(e);var t=e.metric;if(!Ee(t[lt])||t[lt]<=0){var n=e.ext||{};t[lt]=n.originalResponseSize||0}gn({t:Mt,p:e})}}function Dr(){var e=window.fetch;window.fetch=function(t,n){var r=function(e,t){return{url:Nr(e)?e.url:e,method:Yt(Hr(e,t,\"method\"))||\"GET\"}}(t,n);if(zn.isOpen){var i=_n(r);Ee(i)&&Dn(i)&&He(i,(function(e,t){(\"string\"==typeof e&&e.indexOf(\"bnro=\")>-1&&(e+=\"_fetch\"),\"object\"===fn(e)&&e.hasOwnProperty(\"length\")&&(e=e.uuidWithLength(e.length)),\"object\"===fn(e)&&e.hasOwnProperty(\"uuidForSkyWorking\")&&(e=e.uuidForSkyWorking(e.url,e.pathname)),Ee(n))?Ee(n.headers)?qe(n.headers,dn({},t,e)):qe(n,{headers:{key:e}}):n={headers:dn({},t,e)};Ee(Qn.reqhtk)&&On(Qn.reqhtk,t)&&(r[t]=e)}))}if(r.type=1,qe(r,yn()),Qn.enableAutoTrace){var o=\"x-trace-id\";try{var a,s=un();r.requestId=s,Nr(t)?a=t.headers:(n||(n={}),n.headers||(n.headers={}),a=n.headers),Ir(a)?a.append&&a.append(o,s):a[o]=s}catch(d){}}var u=e(t,n);gn({t:Ht,p:{info:r}}),qe(r,Xn()),qe(r,function(e,t){return{requestBody:(n=Hr(e,t,\"body\"),Cn(n)),requestHeaderAll:Hr(e,t,\"headers\")};var n}(t,n));var c,f={info:r},l=f.metric={};return l[dt]=(c=Hr(t,n,\"body\"),Sn(c)),u.then((function(e){r.status=e.status,r.statusText=e.statusText;var t=l[Ge]=on();l[Qe]=l[vt]=t,Kn(f);var n=function(t){if(!Ee(t))return\"\";var n=\"\";try{if(Ir(t)){var r=t.entries?De(t.entries()):[];n=Re(r,(function(e){return e.join(\": \")})).join(xn)}else{var i=[];He(t,(function(e,t){i.push(t+\": \"+e)})),n=i.join(xn)}}catch(e){n=\"\"}return n}(e.headers);return r.guid=en(n).indexOf(Pn)>-1?e.headers.get(Pn):r.requestId||\"\",r[mt]=Zt(n,2e3),e.$metric=f,e}),(function(e){var t=l[Ge]=on();throw l[Qe]=l[vt]=l[ht]=t,r.status=window.TypeError&&e instanceof TypeError?602:600,Mr(f),e}))}}function Or(){if(!Te(window.fetch))return $t();!function(){if(!Ee(window.Response))return $t();var e=Response.prototype;Me([\"arrayBuffer\",\"blob\",\"formData\",\"json\",\"text\"],(function(t){var n=e[t];e[t]=function(){var e=this.$metric,t=this;return n.apply(t).then((function(n){return e&&(e.ext={originalResponseSize:Sn(n)},e.metric[ht]=on(),Wt((function(){Mr(e)}))),Ee(n)&&204!=t.statusCode?n:Promise.resolve(null)}),(function(e){}))}}))}(),Dr()}function qr(){!function(){if(!window.XMLHttpRequest)return $t();if(XMLHttpRequest.prototype)XMLHttpRequest.prototype.open=Jt(XMLHttpRequest.prototype.open,wr),XMLHttpRequest.prototype.send=Jt(XMLHttpRequest.prototype.send,Pr),XMLHttpRequest.prototype.setRequestHeader=Jt(XMLHttpRequest.prototype.setRequestHeader,xr);else{var e=window.XMLHttpRequest;window.XMLHttpRequest=function(){var t=new e;return t.open=Jt(t.open,wr),t.send=Jt(t.send,Pr),t.setRequestHeader=Jt(t.setRequestHeader,xr),t}}}(),Or(),window.performance&&window.performance.now&&(Rn=on(),hn(xt,(function(e){var t=e.p,n=Re(t,(function(e){if(jn(e))return e}));Ln=Ln.concat(n)})))}var Rr=\"\";function Lr(e){var t=e.url,n=yn();Me([Be,gt,at,\"status\",\"framework\",\"version\",\"path\",\"alias\",\"mode\",\"root\",\"pattern\",\"fullUrl\"],(function(t){var r=e[t];Ee(r)&&(n[t]=r)})),n.url=t,n.referrer=Rr,Rr=t;var r={info:n};xe(e.ext)&&(r.ext=e.ext),gn({t:Dt,p:r})}function $r(e){if(!Ee(e))return\"\";if(e.$xpath)return e.$xpath;var t=En(e);return t.length>200?e.$xpath=\"[Error: Overflow with more than 200 characters.]\":e.$xpath=t,e.$xpath}var Br=new Kt((function(e){gn({t:\"data/event\",p:e})}),Qn.debounce);function Wr(e){return qe(yn(),{count:1,type:e,namespace:0,duration:0})}Br.equalsWith((function(e,t){return e.info.namespace===t.info.namespace&&e.info.type===t.info.type})),hn(It,(function(){Br.flush()}));var jr=function(e){if(e&&e.target){var t=e.target,n=t.tagName,r=Wr(1);r.target=$r(t),r.tagName=n;var i=t.value||\"\";if(\"INPUT\"===n){var o=t.type;\"password\"===o&&(i=\"******\"),\"radio\"!==o&&\"checkbox\"!==o||xe(i)||(i=t.checked||\"\")}var a={className:t.className||\"\",id:t.id||\"\",name:t.name||\"\",value:i,outerHTML:Zt(t.outerHTML,200),placeholder:t.placeholder||\"\"};Br.event({info:r,ext:a})}},Ar=function(e){if(e&&e.target){var t=e.target,n=o(t.tagName)||t.name||\"\";if(\"INPUT\"===n||\"TEXTAREA\"===n||\"SELECT\"===n||\"\"===n)return $t();var r=Wr(0);r.target=$r(t),r.tagName=n;var i={className:t.className||\"\",id:t.id||\"\",name:o(t.tagName)||t.name||\"\",innerText:Zt(t.innerText,200),outerHTML:Zt(t.outerHTML,200)};\"A\"===n&&(i.value=t.href||\"\"),Br.event({info:r,ext:i})}function o(e){return\"string\"==typeof e?e:null}};function Jr(e,t,n){if(!Ee(e)||!ke(e))return Jr(\"C500\");Ee(n)||Ee(t)&&ke(t)||(n=t,t=e,e=\"\");var r=yn();r.name=e,r.message=t;var i={info:r};Ee(n)&&(i.ext=n),gn({t:Ot,p:i})}var Vr={},Ur=function(e){return ke(e)?window.performance&&Te(window.performance.mark)?window.performance.mark(e):void(Vr[e]=on()):$t()};function Kr(e,t){if(!Ee(e))return t;var n=Vr[e];return Ee(n)?n:t}var Xr=function(e,t,n){if(!ke(e))return $t();var r;if(window.performance&&Te(window.performance.measure)){window.performance.measure(e,t,n);var i=Oe(window.performance.getEntriesByName(e));Ee(i)&&((r={name:e})[Be]=Math.round(i[Be]),r[at]=Math.round(i[at]))}else{var o=Kr(t,0),a=Kr(n,on());(r={name:e})[Be]=o,r[at]=a-o}Ee(r)&&gn({t:\"data/metric\",p:{info:r}})},Fr={config:Ce,log:Ce,error:Ce,route:Ce,on:Ce,mark:Ce,measure:Ce,core:cn};var zr=function(){if(String.prototype.startsWith||Object.defineProperty(String.prototype,\"startsWith\",{value:function(e,t){return t=!t||t<0?0:+t,this.substring(t,t+e.length)===e}}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(t===undefined||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e}),\"undefined\"==typeof document)return Fr;if(window.bonreeRUM)return window.bonreeRUM;if(!(/BonreeRUM=0/.test(window.location.search)&&(Qn.enable=!1),Qn.enable))return window.bonreeRUM=Fr,Fr;mr(),hn(Tt,(function(){mr()})),Ft(window,\"error\",(function(e){var t=e.target;Ee(t)&&t.src&&gn({t:Nt,p:{info:qe({message:En(t),duration:0,type:1,count:1,file:Zt(t.src,200),line:0,column:0,stack:\"\"},yn())}})}),!0),Ft(window,\"unhandledrejection\",(function(e){if(Ee(e)){var t,n=qe({type:2,line:0,column:0},yn());if(window.Error&&e.reason instanceof Error){var r=e.reason;n.message=r.message,lr(n,r)}else{n.message=\"[Promise] rejection\";try{t=Zt(qt(e.reason),200)}catch(vr){}}dr(n,t)}})),ur(),qr(),Xt(window,\"input\",jr,!1),Xt(window,\"click\",Ar,!1);var e,t,n=(t={config:Gn,error:vr,on:hn,route:Lr,log:Jr,mark:Ur,measure:Xr},(e=Fr)&&t&&He(t,(function(t,n){Ne(e,n)&&(e[n]=t)})),e);return window.bonreeRUM=n,n}(),_r=0;zr.on([Q,\"page/load\"],(function(e){_r=e.t===Q?1:2}));var Qr=function(){return _r>1},Gr=1e3,Zr={probability:Gr,enableLogger:!1,isDebug:!1,sessionPeriod:18e5,sessionTimeout:3e5,sessionEvents:2e3,sessionDomain:!1,ignoreRequestParams:!1,ignoreRequestHeaders:!1,ignoreResources:!1,ignoreUserEvents:!1},Yr={id:\"sdk\",mode:\"production\",pageViewId:\"00000000-0000-0000-0000-000000000000\",pageUrl:document.URL,osType:1,reqBodyKey:null,webviewID:-1},ei=p(Yr,Zr),ti=function(){if(ei.probability===Gr)return Gr;if(ei.enable&&Math.random()*Gr*Gr%Gr<=ei.probability)return ei.probability;throw Gr};function ni(e){return 2===e}function ri(e){return 4===e}function ii(e){return ii=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},ii(e)}var oi=\"error\",ai=\"page\",si=\"resource\",ui=\"net\",ci=\"action\",fi=\"webViewData\",li=\"logJS\",di=\"route\",pi=\"pageEvent\",mi=\"title\",vi=\"name\",hi=\"message\",gi=\"file\",wi=\"line\",yi=\"column\",bi=\"stack\",Ei=\"type\",Ti=\"status\",ki=\"pageViewId\",Si=\"pageUrl\",Ci=\"method\",Pi=\"base\",xi=\"callbackTime\",Ii=\"url\",Ni=\"onloadEvent\",Hi=\"isMainDocument\",Mi=\"model\",Di=\"tagName\",Oi=\"errorCode\",qi=\"requestBodyByKey\",Ri=\"correlationId\";function Li(e,t){this.d_type=t,this.data=e||{},this.$metric={}}function $i(t,n){var r=this.formatData(t);e(r)&&(this.$metric[r]=n)}Li.prototype.i=function(t,n){var r=this.data.info;if(!e(r))return this;var i=r[t];return e(i)||(i=n),$i.call(this,t,i),this},Li.prototype.m=function(t,n){var r=this.data.metric;if(!e(r))return this;var i=r[t];return e(i)||(i=e(n)?n:-1),$i.call(this,t,i),this},Li.prototype.proto=function(){var t=this.$metric;if(e(this.data.ext))switch(this.d_type){case ci:t.i=e(this.data.ext)?this.data.ext:{},p(t.i,{xpath:this.data.info.target});break;case ui:case oi:case li:case di:t.p=e(this.data.ext)?this.data.ext:{};break;default:t.ext=this.data.ext}return t},Li.prototype.formatData=function(e){if(this.d_type===oi)switch(e){case Ei:return\"et\";case vi:return\"en\";case mi:return\"t\";case gi:return\"n\";case hi:return\"m\";case wi:return\"l\";case yi:return\"col\";case bi:return\"sta\";case ki:return\"pvid\";case Si:return\"url\";default:return e}if(this.d_type===ai)switch(e){case ki:return\"pvid\";case Si:return\"url\";case m:return\"ns\";case h:return\"ues\";case g:return\"uee\";case w:return\"rds\";case y:return\"rde\";case b:return\"fs\";case E:return\"dls\";case T:return\"dle\";case k:return\"cs\";case S:return\"ce\";case C:return\"scs\";case P:return\"reqs\";case x:return\"rsps\";case I:return\"rspe\";case N:return\"dl\";case H:return\"di\";case M:return\"dcles\";case D:return\"dclee\";case O:return\"dc\";case q:return\"les\";case R:return\"lee\";case v:return\"st\";case Hi:return\"imd\";default:return e}if(this.d_type===si)switch(e){case v:return\"st\";case z:return\"rt\";case vi:return\"name\";case L:return\"dura\";case $:return\"pr\";case b:return\"fs\";case E:return\"dls\";case T:return\"dle\";case k:return\"cs\";case S:return\"ce\";case C:return\"scs\";case P:return\"reqs\";case x:return\"rsps\";case I:return\"rspe\";case B:return\"ts\";case W:return\"ebs\";case j:return\"dbs\";case Oi:return\"ec\";default:return e}if(this.d_type===ui)switch(e){case ki:return\"pvid\";case Si:return\"pu\";case Pi:return\"bu\";case Ii:return\"au\";case Ci:return\"m\";case $:return\"pr\";case Ti:return\"sc\";case v:return\"st\";case A:return\"req\";case j:return\"res\";case I:return\"e\";case x:return\"fb\";case L:return\"d\";case xi:return\"cb\";case\"requestHeaderAll\":return\"reqh\";case V:return\"resh\";case qi:return\"rb\";case Ni:return\"oe\";case E:return\"ds\";case T:return\"de\";case k:return\"cs\";case S:return\"ce\";case C:return\"ssl\";case\"eType\":return\"et\";case\"message\":return\"em\";case\"traceparent\":return\"tpar\";default:return e}if(this.d_type===ci)switch(e){case ki:return\"pvid\";case Si:return\"vn\";case L:return\"lt\";case Di:return\"n\";case Ei:return\"t\";case F:return\"ent\";default:return e}if(this.d_type===pi)switch(e){case ki:return\"pvid\";case L:return\"lt\";case Si:return\"vn\";case Mi:return\"m\";case F:return\"ent\";case Hi:return\"imd\";case Ri:return\"ci\";default:return e}if(this.d_type===di)switch(e){case Si:return\"pu\";case F:return\"ent\";case L:return\"d\";case Ti:return\"sta\";case Ii:return\"tu\";case\"referrer\":return\"fu\";case\"framework\":return\"fw\";case\"fullUrl\":return\"rt\";case\"path\":return\"pt\";case\"alias\":return\"al\";default:return e}};var Bi={page:function(e){var t=new Li(e,ai);return t.m(b,0).m(m,0).m(h,0).m(g,0).m(w,0).m(y,0).m(E,0).m(T,0).m(k,0).m(S,0).m(C,0).m(P,0).m(x,0).m(I,0).m(N,0).m(H,0).m(M,0).m(D,0).m(O,0).m(q,0).m(R,0).i(ki,\"\").i(Si,ei.pageUrl).i(Hi).m(\"fp\").m(\"fcp\").m(\"lcp\"),t.proto()},resource:function(t){return s(t)?[]:(n=function(e){var t=new Li(e,si);return t.i(v,0).i(z,\"\").i(Oi,200).i(vi,\"\").i(L,0).i($,\"\").m(b,0).m(E,0).m(T,0).m(k,0).m(S,0).m(C,0).m(P,0).m(x,0).m(I,0).m(B,0).m(W,0).m(j,0),t.proto()},r=[],f(t,(function(t,i){var o=n&&n(t,i);e(o)&&r.push(o)})),r);var n,r},request:function(t){var n=new Li(t,ui);return n.i(ki,\"\").i(Si,\"\").i(Pi,\"\").i(Ii,\"\").i(Ci,\"\").i($,\"\").i(Ti).i(v,0).i(L,0).i(xi,0).i(\"requestHeaderAll\",\"\").i(V,\"\").i(qi,\"\").i(Ni,1).i(\"message\",\"\").i(\"eType\").m(E,0).m(T,0).m(k,0).m(S,0).m(x,0).m(I,0).m(C,0).m(j,0).m(A,0),e(t.info.traceparent)&&n.i(\"traceparent\",\"\",\"tpar\"),n.proto()},error:function(e){var t=new Li(e,oi);return t.i(Ei).i(\"count\").i(gi,\"\").i(vi,\"\").i(wi,0).i(yi,0).i(mi,\"\").i(bi,\"\").i(hi,\"\").i(ki,\"\").i(Si,\"\"),t.proto()},event:function(e){var t=new Li(e,ci);return t.i(ki,\"\").i(Si,\"\").i(L,1).i(Di,\"\").i(F).i(Ei),t.proto()},route:function(e){var t=new Li(e,di);return t.i(Si,ei.pageUrl).i(F).i(L).i(Ti).i(Ii,\"\").i(\"referrer\",\"\").i(\"framework\",\"\").i(\"fullUrl\",\"\").i(\"path\",\"\").i(\"alias\"),t.proto()},pageEvent:function(e){var t=new Li(e,pi);return t.i(ki,\"\").i(Si,\"\").i(L,1).i(Mi).i(F).i(Hi).i(Ri),t.proto()},metric:function(e){return new Li(e,ci).proto()},log:function(e){var t=new Li(e,li);return t.i(v).i(vi).i(hi),t.proto()}},Wi=function(e,n){var r=Bi[e];if(t(r))return r(n)},ji={log:function(e){try{if(ei.enableLogger){if(ni(ei.osType))return void window.webkit.messageHandlers.brsWKLog.postMessage(e);if(ri(ei.osType)){var t={logInfo:JSON.parse(e)};return void window.bonreePrivateInterface.call(se(t))}window.bonreePrivateInterface.log(e)}}catch(n){}},webviewPerformanceTimingEvent:function(e){this.log(\"webviewPerformanceTimingEvent\");try{if(ni(ei.osType))return void window.webkit.messageHandlers.brsWKWebviewPerformanceTimingEvent.postMessage(e);if(ri(ei.osType)){var t={webviewPerformanceTimingEvent:JSON.parse(e)};return void window.bonreePrivateInterface.call(se(t))}window.bonreePrivateInterface.webviewPerformanceTimingEvent(e,ei.webviewID)}catch(n){}},webviewJSErrorEvent:function(e){this.log(\"webviewJSErrorEvent\");try{if(ni(ei.osType))return void window.webkit.messageHandlers.brsWKWebviewJSErrorEvent.postMessage(e);if(ri(ei.osType)){var t={webviewJSErrorEvent:JSON.parse(e)};return void window.bonreePrivateInterface.call(se(t))}window.bonreePrivateInterface.webviewJSErrorEvent(e,ei.webviewID)}catch(n){}},ajaxPerformanceTimingEvent:function(e){this.log(\"ajaxPerformanceTimingEvent\");try{if(ni(ei.osType))return void window.webkit.messageHandlers.brsWKAjaxPerformanceTimingEvent.postMessage(e);if(ri(ei.osType)){var t={ajaxPerformanceTimingEvent:JSON.parse(e)};return void window.bonreePrivateInterface.call(se(t))}window.bonreePrivateInterface.ajaxPerformanceTimingEvent(e)}catch(n){}},actionEvent:function(e){this.log(\"webviewActionEvent\");try{if(ni(ei.osType))return void window.webkit.messageHandlers.brsWKWebviewActionEvent.postMessage(e);if(ri(ei.osType)){var t={webviewActionEvent:JSON.parse(e)};return void window.bonreePrivateInterface.call(se(t))}window.bonreePrivateInterface.webviewActionEvent(e)}catch(n){}},actionPage:function(e){this.log(\"webviewPageEvent\");try{if(ni(ei.osType))return void window.webkit.messageHandlers.brsWKWebviewPageEvent.postMessage(e);if(ri(ei.osType)){var t={webviewPageEvent:JSON.parse(e)};return void window.bonreePrivateInterface.call(se(t))}window.bonreePrivateInterface.webviewPageEvent(e)}catch(n){}},routeChangeData:function(e){this.log(\"routeChangeData\");try{if(ni(ei.osType))return void window.webkit.messageHandlers.brsWKRouteChangeEvent.postMessage(e);if(ri(ei.osType)){var t={routeChangeData:JSON.parse(e)};return void window.bonreePrivateInterface.call(se(t))}window.bonreePrivateInterface.routeChangeData(e)}catch(n){}}};function Ai(t,n){try{!function(t,n,r){var i=t+\"=\"+n;r||(r={}),e(r.domain)&&(i+=\";domain=\"+r.domain),e(r.path)&&(i+=\";path=\"+r.path),e(r.expires)&&(\"string\"==typeof r.expires?i+=\";expires=\"+r.expires:i+=\";expires=\"+r.expires.toUTCString()),document.cookie=i}(t,n,(r={path:\"/\"},ei.sessionDomain&&(r.domain=ei.sessionDomain),r))}catch(i){fe(\"Failed to write cookie property\")}var r}var Ji,Vi=function(t){var n=\"br-session-js-\"+ei.id,r=e(t)?t:ge(),i=be();fe(\"C07\",i);var o=[i,r,r,1];return Ai(n,o.join(\"|\")),o},Ui=function(e){var t=\"br-session-js-\"+ei.id,n=ge(e?0:null),r=\"\";try{r=function(e){for(var t=document.cookie.split(/;\\s?/),n=0,r=t.length;n<r;n++){var i=t[n].split(\"=\"),o=i[0],a=i[1];if(o===e)return a.replace(/['\"]/g,\"\")}}(t)}catch(vr){fe(\"Failed to read cookie property\")}if(!a(r))return Vi(n);var i=r.split(\"|\"),o=i[0],s=parseInt(i[1]),u=parseInt(i[2]),c=parseInt(i[3]),f=c<ei.sessionEvents;if(f=(f=f&&!isNaN(s)&&n-s<=ei.sessionPeriod)&&!isNaN(u)&&n-u<ei.sessionTimeout){var l=[o,s,n,c+1];return Ai(t,l.join(\"|\")),l}return Vi(n)},Ki=Ui(!0),Xi=function(){return Ki},Fi=de(zr.on,zr),zi=[],_i=10,Qi=5e3,Gi=!1,Zi=\"00000000\",Yi={};function eo(){this.retry=0}eo.prototype.push=function(e,t){if(this.retry>=3)return fe(\"C10\");var n=this;a(e.body)&&function(e,t,n){try{f(e,(function(e,n){ei.isDebug&&fe(n+\"==>\"+se(e)),n===fi&&ji.webviewPerformanceTimingEvent(se(e)),n===oi&&f(e,(function(e){ji.webviewJSErrorEvent(se(e))})),n===ui&&f(e,(function(e){ji.ajaxPerformanceTimingEvent(se(e))})),n===ci&&f(e,(function(e){ji.actionEvent(se(e))})),n===pi&&f(e,(function(e){ji.actionPage(se(e))})),n===di&&f(e,(function(e){ji.routeChangeData(se(e))})),n===li&&f(e,(function(e){t?ji.log(se(e)):le((function(){ji.log(se(e))}))}))})),n&&n(!0)}catch(r){n&&n(!1)}}(e.body,t,(function(r){r?n.retry>0&&(n.retry=0):(n.retry=n.retry+1,t||le((function(){n.push([e])}),Qi/10))}))};var to=new eo;function no(t){if(Zi=Date.now().toString(36)+Math.ceil(1e3*Math.random()).toString(16),e(Yi[ei.pageViewId])){var n=Yi[ei.pageViewId];1===t&&(n.correlationId=Zi,n.isExit=!1),2===t&&(n.isExit=!0)}else{var r={model:t,correlationId:Zi,isExit:!1};Yi[ei.pageViewId]=r}}function ro(t,n,r){var i=t[n];e(i)||(i=t[n]=[]),e(r)&&i.push(r)}function io(t,n){var r=t.info,i=window.top&&window.self&&window.top===window.self?1:0;if(e(r)){var o={timestamp:r.timestamp,duration:r.duration,model:n,isMainDocument:i,correlationId:Yi[ei.pageViewId].correlationId};return o[ki]=ei.pageViewId,o[Si]=ei.pageUrl,{info:o}}return{}}function oo(t,r,i){var o={sid:r,sed:i},a=o.body={},s=0;return f(t,(function(t){e(t.p)&&e(t.p.info)&&(t.p.info[ki]=ei.pageViewId,t.p.info[Si]=ei.pageUrl);var r=t.t;r!==_&&r!==Y||e(a[fi])||(a[fi]={pt:{},rt:[]}),r!==ae&&r!==re||e(t.p.info[L])&&0===t.p.info[L]&&(t.p.info[L]=1);var i=r.replace(/^data\\//,\"\");switch(r){case _:t.p.info[Hi]=window.top&&window.self&&window.top===window.self?1:0,a[fi].pt=Wi(i,t.p),no(1),ro(a,pi,Wi(pi,io(t.p,1)));break;case Y:a[fi].rt=Wi(i,t.p);break;case ne:if(t.p.info.crosDomain){var o=t.p.info.pageUrl,u=t.p.info.url;ji.log(\"跨域请求-页面-\".concat(o,\"-请求接口-\").concat(u));break}if(Qr||(t.p.metric[Ni]=0),e(ei.reqBodyKey)){var c={};if(function(e){if(n(e))try{var t=JSON.parse(e);return!(\"object\"!=ii(t)||!t)}catch(r){return!1}}(t.p.info.requestBody))try{var l=new Function(\"\",\"return \"+t.p.info.requestBody)();f(ei.reqBodyKey,(function(t){e(l[t])&&(c[t]=l[t])}))}catch(h){}else if(n(t.p.info.requestBody))try{var d=t.p.info.requestBody.split(\"&\");f(d,(function(e){f(ei.reqBodyKey,(function(t){var n=t+\"=\";-1!==e.indexOf(n)&&(c[t]=e.substring(n.length))}))}))}catch(vr){}t.p.info[qi]=c}var p=t.p[V];if(e(p)&&pe(p,\"\\n\")&&(t.p[V]=p.substring(p.indexOf(\"\\n\")+1)),e(t.p.metric)&&e(t.p.metric[K])&&e(t.p.metric[U])&&(t.p.metric[xi]=t.p.metric[K]-t.p.metric[U]),e(t.p.info)&&e(t.p.info.requestHeaderAll)){var m=\"\";f(t.p.info.requestHeaderAll,(function(e,t){m+=t+\":\"+e+\"\\r\\n\"})),t.p.info.requestHeaderAll=m}ro(a,ui,Wi(i,t.p));break;case te:t.p.info[mi]=document.title,ro(a,oi,Wi(i,t.p));break;case ae:ro(a,ci,Wi(i,t.p));break;case re:ro(a,di,Wi(i,t.p));break;case ie:case oe:ro(a,i,Wi(i,t.p));break;case G:e(Yi[ei.pageViewId])&&!Yi[ei.pageViewId].isExit&&(no(2),ro(a,pi,Wi(pi,io(t.p,2))));break;case Z:no(1),ro(a,pi,Wi(pi,io(t.p,1)));break;default:fe(\"C08\")}try{var v=t.p.info;e(v)&&e(v[X])&&(s=Math.max(v[X],s))}catch(g){}})),o.sessionLastTime=s,o}function ao(t){s(zi)||(!function(t,n){var r,i=[],o=function(e,t){s(i)||(e||i.length===_i)&&(to.push(oo(i,r,1===e),n),i=[],r=1===e?t:null)};f(t,(function(t){var n=t.e;if(!e(n))return i.push(t),o();var a=n[0],s=n[1],u=t.p.info;u[X]=Math.max(0,u[F]-s),e(r)||(r=a),r!==a&&o(1,a),i.push(t),o()})),o(2)}(zi,t),zi=[])}function so(t,n){e(t)&&e(zi)&&(n?zi.unshift(t):zi.push(t),e(Ji)||(Ji=setInterval(ao,Qi)),(Gi||zi.length>=_i)&&ao())}function uo(t){e(zi)&&(t.p.info.target=\"document\",!function(t,n){if(!e(n))return!1;var r=n.p.info,i=t.t===Z&&n.t===ae&&3===r.type,o=t.t===G&&n.t===ae&&2===r.type;return!(!i&&!o)&&t.p.info[F]-r[F]<=ei.debounce}(t,d(zi))?zi.push(function(e,t,n){var r=e.p.info,i={t:e.t,p:{info:p(r,{namespace:t,type:n,tagName:\"HTML\"})}};return 0===t&&(i.e=Ui()),i}(t,0,t.t===Z?2:3)):zi.pop())}function co(){Fi([_,Y,ne,te,ie,ae,re,oe],(function(t){if(!e(t.p))return fe(\"C12\");if(function(e){var t=e.t;if(ei.ignoreResources&&t===Y)return!0;if(ei.ignoreUserEvents&&t===ae)return!0;if(t===ne){var n=e.p.info;ei.ignoreRequestParams&&(n.requestBody=\"\"),ei.ignoreRequestHeaders&&(n[J]=\"\")}}(t))return fe(\"C13\");var n=t.t;if(n===_){try{var r=ti();t.p.info.rate=r}catch(i){fe(\"C11\"),zi=null}so(p({e:Xi()},t),!0)}else n===Y||n===oe?function(t){if(e(zi)){var n=l(zi);e(n)&&n.t===_?zi.splice(1,0,t):zi.unshift(t)}}(t):so(p({e:Ui()},t))})),Fi(ee,(function(t){Qr()&&!e(Ji)&&(Ji=setInterval(ao,Qi)),ao(t.p),Gi=!0})),Fi(G,(function(t){e(t)&&e(t.p)&&e(t.p.info)&&(t.p.info[L]=0),uo(t),ao(),e(Ji)&&(clearInterval(Ji),Ji=null)})),Fi(Z,(function(t){uo(t),e(t)&&e(t.p)&&e(t.p.info)&&(t.p.info[L]=0),ao(),Qr()&&!e(Ji)&&(Ji=setInterval(ao,Qi))}))}var fo=function(e,t,n,r,i){return e!==undefined&&(t===undefined||null===t||\"\"===t?(ji.log(n+\" Parameter has a value or key [\"+e+\"] that does not exist!\"),!0):null!==r&&t.length>r?(ji.log(n+\" Parameter has a value or key [\"+e+\"] that the value length exceeds \"+length+\"!\"),!0):!(!i||!isNaN(t))&&(ji.log(n+\" Parameter has a value or key [\"+e+\"] value is not a valid number!\"),!0))};var lo=2083,po=256,mo={setExtraInfo:function(e){ji.log(\"setExtraInfo\");try{if(ni(ei.osType))return void window.webkit.messageHandlers.brsWKSetExtraInfo.postMessage(arguments[0]);if(ri(ei.osType)){var t={setExtraInfo:arguments[0]};return void window.bonreePrivateInterface.call(se(t))}window.bonreePrivateInterface.setExtraInfo(e)}catch(n){}},setUserID:function(e){if(ji.log(\"setUserID\"),!fo(\"userId\",e,\"setUserID\",null,!1))try{if(ni(ei.osType))return void window.webkit.messageHandlers.brsWKSetUserId.postMessage(arguments[0]);if(ri(ei.osType)){var t={setUserID:arguments[0]};return void window.bonreePrivateInterface.call(se(t))}window.bonreePrivateInterface.setUserID(e)}catch(n){}},setCustomEventWithLabel:function(e,t,n,r){if(arguments.length<1||arguments.length>4)ji.log(\"setCustomEventWithLabel自定义事件参数个数错误\");else if(!fo(\"eventId\",e,\"setCustomEvent\",null,!1)&&arguments[0]){var i='{\"eventId\":\"'+e;arguments[1]?i+='\",\"eventName\":\"'+t:t=\"\",arguments[2]?i+='\",\"eventLabel\":\"'+n:n=\"\",arguments[3]?i+='\",\"eventParam\":\"'+r:r=\"\",i+='\"}',ji.log(i);try{if(ni(ei.osType))return void window.webkit.messageHandlers.brsWKOnEvent.postMessage(i);if(ri(ei.osType)){var o={setCustomEventWithLabel:JSON.parse(i)};return void window.bonreePrivateInterface.call(se(o))}window.bonreePrivateInterface.setCustomEventWithLabel(e,t,n,r)}catch(a){}}},setCustomEvent:function(e,t,n){if(ji.log(\"setCustomEvent\"),arguments.length<1||arguments.length>3)ji.log(\"setCustomEvent自定义事件参数个数错误\");else if(!fo(\"eventId\",e,\"setCustomEvent\",null,!1)&&arguments[0]){var r='{\"eventId\":\"'+e;arguments[1]?r+='\",\"eventName\":\"'+t:t=\"\",arguments[2]?r+='\",\"eventParam\":\"'+n:n=\"\",r+='\"}',ji.log(r);try{if(ni(ei.osType))return void window.webkit.messageHandlers.brsWKOnEvent.postMessage(r);if(ri(ei.osType)){var i={setCustomEvent:JSON.parse(r)};return void window.bonreePrivateInterface.call(se(i))}window.bonreePrivateInterface.setCustomEvent(e,t,n)}catch(o){}}},setCustomLog:function(e,t){if(ji.log(\"setCustomLog\"),arguments.length<1||arguments.length>2)ji.log(\"setCustomLog自定义日志参数个数错误\");else if(!fo(\"logInfo\",e,\"setCustomLog\",null,!1)&&arguments[0]){var n='{\"logInfo\":\"'+e;arguments[1]?n+='\",\"logParam\":\"'+t:t=\"\",n+='\"}',ji.log(n);try{if(ni(ei.osType))return void window.webkit.messageHandlers.brsWKSetCustomLog.postMessage(n);if(ri(ei.osType)){var r={setCustomLog:JSON.parse(n)};return void window.bonreePrivateInterface.call(se(r))}window.bonreePrivateInterface.setCustomLog(e,t)}catch(i){}}},setCustomMetric:function(e,t,n){if(ji.log(\"setCustomMetric\"),arguments.length<1||arguments.length>3)ji.log(\"setCustomMetric自定义指标参数个数错误\");else if(!fo(\"metricName\",e,\"setCustomMetric\",null,!1)&&!fo(\"metricValue\",t,\"setCustomMetric\",null,!1)&&arguments[0]&&arguments[1]){var r='{\"metricName\":\"'+e+'\",\"metricValue\":\"'+t;arguments[2]?r+='\",\"metricParam\":\"'+n:n=\"\",r+='\"}',ji.log(r);try{if(ni(ei.osType))return void window.webkit.messageHandlers.brsWKSetCustomMetric.postMessage(r);if(ri(ei.osType)){var i={setCustomMetric:JSON.parse(r)};return void window.bonreePrivateInterface.call(se(i))}window.bonreePrivateInterface.setCustomMetric(e,t,n)}catch(o){}}},setCustomException:function(e,t,n){if(ji.log(\"setCustomException\"),arguments.length<1||arguments.length>3)ji.log(\"onEvent自定义事件参数个数错误\");else if(!fo(\"exceptionType\",e,\"setCustomException\",null,!1)&&arguments[0]){var r='{\"exceptionType\":\"'+e;arguments[1]?r+='\",\"causedBy\":\"'+t:t=\"\",arguments[2]?r+='\",\"errorDump\":\"'+function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"\";return\"\"===e?e:/\\r|\\n/g.test(e)?e.replace(/\\r/g,\"\\\\\\\\r\").replace(/\\n/g,\"\\\\\\\\n\"):e}(n):n=\"\",r+='\"}',ji.log(r);try{if(ni(ei.osType))return void window.webkit.messageHandlers.brsWKSetCustomException.postMessage(r);if(ri(ei.osType)){var i={setCustomException:JSON.parse(r)};return void window.bonreePrivateInterface.call(se(i))}window.bonreePrivateInterface.setCustomException(e,t,n)}catch(o){}}},setCustomPageStart:function(e,t){if(ji.log(\"setCustomPageStart\"),arguments.length<1||arguments.length>2)this.log(\"onPageStart自定义事件参数个数错误\");else if(!fo(\"pageName\",e,\"setCustomPageStart\",null,!1)&&arguments[0]){var n='{\"pageName\":\"'+e;arguments[1]?n+='\",\"param\":\"'+t+'\"}':(n+='\"}',t=\"\"),ji.log(n);try{if(ni(ei.osType))return void window.webkit.messageHandlers.brsWKOnPageStart.postMessage(n);if(ri(ei.osType)){var r={setCustomPageStart:JSON.parse(n)};return void window.bonreePrivateInterface.call(se(r))}window.bonreePrivateInterface.setCustomPageStart(e,t)}catch(i){}}},setCustomPageEnd:function(e,t){if(ji.log(\"setCustomPageEnd\"),arguments.length<1||arguments.length>2)this.log(\"onPageEnd自定义事件参数个数错误\");else if(!fo(\"pageName\",e,\"setCustomPageEnd\",null,!1)&&arguments[0]){var n='{\"pageName\":\"'+e;arguments[1]?n+='\",\"param\":\"'+t+'\"}':(n+='\"}',t=\"\"),ji.log(n);try{if(ni(ei.osType))return void window.webkit.messageHandlers.brsWKOnPageEnd.postMessage(n);if(ri(ei.osType)){var r={setCustomPageEnd:JSON.parse(n)};return void window.bonreePrivateInterface.call(se(r))}window.bonreePrivateInterface.setCustomPageEnd(e,t)}catch(i){}}},setCustomH5performanceData:function(e){ji.log(\"setCustomH5performanceData\");var t={};try{t=JSON.parse(e)}catch(i){return void ji.log(\"setCustomH5performanceData has error! ==>\"+i)}var n=!0;if(n&&f([\"url\"],(function(e){if(fo(e,t[e],\"setCustomH5performanceData\",lo,!1))return n=!1})),n&&f([\"imd\",\"ns\",\"ues\",\"uee\",\"rds\",\"rde\",\"fs\",\"dls\",\"dle\",\"cs\",\"scs\",\"ce\",\"reqs\",\"rsps\",\"rspe\",\"dl\",\"di\",\"dcles\",\"dclee\",\"dc\",\"les\",\"lee\",\"fp\",\"fcp\",\"lcp\"],(function(e){if(fo(e,t[e],\"setCustomH5performanceData\",null,!0))return n=!1})),n){(t.pvid===undefined||null===t.pvid||\"\"===t.pvid||t.pvid.length>po)&&(t.pvid=be());try{if(ni(ei.osType))return void window.webkit.messageHandlers.brsWKSetCustomH5performanceData.postMessage(se(t));if(ri(ei.osType)){var r={setCustomH5performanceData:t};return void window.bonreePrivateInterface.call(se(r))}window.bonreePrivateInterface.setCustomH5performanceData(se(t))}catch(o){}}},setCustomRouteChangeData:function(e){ji.log(\"setCustomRouteChangeData\");var t={};try{t=JSON.parse(e)}catch(i){return void ji.log(\"setCustomRouteChangeData has error! ==>\"+i)}var n=!0;if(n&&f([\"tu\",\"rt\",\"pu\"],(function(e){if(fo(e,t[e],\"setCustomRouteChangeData\",lo,!1))return n=!1})),n&&f([\"pt\",\"fw\"],(function(e){if(fo(e,t[e],\"setCustomRouteChangeData\",po,!1))return n=!1})),n&&f([\"d\",\"sta\"],(function(e){if(fo(e,t[e],\"setCustomRouteChangeData\",null,!0))return n=!1})),n)if(t.fu!==undefined||null!==t.fu){t.al!==undefined&&null!==t.al&&t.al.length>po&&(ji.log(\"setCustomRouteChangeData Parameter has a value or key [al] that the value length exceeds 256!\"),t.al=\"\"),t.ent=(new Date).getTime();try{if(ni(ei.osType))return void window.webkit.messageHandlers.brsWKSetCustomRouteChangeData.postMessage(se(t));if(ri(ei.osType)){var r={setCustomRouteChangeData:t};return void window.bonreePrivateInterface.call(se(r))}window.bonreePrivateInterface.setCustomRouteChangeData(se(t))}catch(o){}}else ji.log(\"setCustomRouteChangeData Parameter has a value or key [fu] that does not exist!\")},setPcPrivatebridgeData:function(e){ji.log(\"setPcPrivatebridgeData\");var t={};try{t=JSON.parse(e)}catch(i){return void ji.log(\"setPcPrivatebridgeData has error! ==>\"+i)}var n=!0;if(n&&f([\"tu\",\"rt\",\"pu\"],(function(e){if(fo(e,t[e],\"setPcPrivatebridgeData\",lo,!1))return n=!1})),n&&f([\"pt\",\"fw\"],(function(e){if(fo(e,t[e],\"setPcPrivatebridgeData\",po,!1))return n=!1})),n&&f([\"d\",\"sta\"],(function(e){if(fo(e,t[e],\"setPcPrivatebridgeData\",null,!0))return n=!1})),n)if(t.fu!==undefined||null!==t.fu){t.al!==undefined&&null!==t.al&&t.al.length>po&&(ji.log(\"setPcPrivatebridgeData Parameter has a value or key [al] that the value length exceeds 256!\"),t.al=\"\"),t.ent=(new Date).getTime();try{if(ni(ei.osType))return void window.webkit.messageHandlers.brsWKSetPcPrivatebridgeData.postMessage(se(t));if(ri(ei.osType)){var r={setPcPrivatebridgeData:t};return void window.bonreePrivateInterface.call(se(r))}window.bonreePrivateInterface.setPcPrivatebridgeData(se(t))}catch(o){}}else ji.log(\"setPcPrivatebridgeData Parameter has a value or key [fu] that does not exist!\")},setCustomEventStart:function(e,t,n,r){if(ji.log(\"setCustomEventStart\"),arguments.length<1||arguments.length>4)ji.log(\"setCustomEventStart自定义事件参数个数错误\");else if(!fo(\"eventId\",e,\"setCustomEventStart\",null,!1)&&arguments[0]){var i='{\"eventId\":\"'+e;arguments[1]?i+='\",\"eventName\":\"'+t:t=\"\",arguments[2]?i+='\",\"eventLabel\":\"'+n:n=\"\",arguments[3]?i+='\",\"eventParam\":\"'+r:r=\"\",i+='\"}',ji.log(i);try{if(ni(ei.osType))return void window.webkit.messageHandlers.brsWKOnEventStart.postMessage(i);if(ri(ei.osType)){var o={setCustomEventStart:JSON.parse(i)};return void window.bonreePrivateInterface.call(se(o))}window.bonreePrivateInterface.setCustomEventStart(e,t,n,r)}catch(a){}}},setCustomEventEnd:function(e,t,n,r){if(ji.log(\"setCustomEventEnd\"),arguments.length<1||arguments.length>4)ji.log(\"setCustomEventEnd自定义事件参数个数错误\");else if(!fo(\"eventId\",e,\"setCustomEventEnd\",null,!1)&&arguments[0]){var i='{\"eventId\":\"'+e;arguments[1]?i+='\",\"eventName\":\"'+t:t=\"\",arguments[2]?i+='\",\"eventLabel\":\"'+n:n=\"\",arguments[3]?i+='\",\"eventParam\":\"'+r:r=\"\",i+='\"}',ji.log(i);try{if(ni(ei.osType))return void window.webkit.messageHandlers.brsWKOnEventEnd.postMessage(i);if(ri(ei.osType)){var o={setCustomEventEnd:JSON.parse(i)};return void window.bonreePrivateInterface.call(se(o))}window.bonreePrivateInterface.setCustomEventEnd(e,t,n,r)}catch(a){}}}};window.setJsBridge=function(e){window.bonreePrivateInterface=e},zr.$$standard?fe(\"C02\"):(co(),zr.version=\"2.3.0\",window.bonreePrivateInterface===undefined&&(window.bonreePrivateInterface={log:function(e){},webviewPerformanceTimingEvent:function(e){},webviewJSErrorEvent:function(e){},ajaxPerformanceTimingEvent:function(e){},actionEvent:function(e){},actionPage:function(e){},routeChangeData:function(e){},setExtraInfo:function(e){},setUserID:function(e){},setCustomEventWithLabel:function(e,t,n,r){},setCustomEvent:function(e,t,n){},setCustomEventStart:function(e,t,n,r){},setCustomEventEnd:function(e,t,n,r){},setCustomLog:function(e,t){},setCustomMetric:function(e,t,n){},setCustomException:function(e,t,n){},setCustomPageStart:function(e,t){},setCustomPageEnd:function(e,t){},setCustomH5performanceData:function(e){},setCustomRouteChangeData:function(e){}}),zr.sdkConfig=function(e){!function(e){e.pageViewId=be(),p(ei,e)}(e),null!=e&&e.enableNetworkTrace&&e.networkTraceConfig&&zr.config({osType:e.osType,enableNetworkTrace:e.enableNetworkTrace,networkTraceConfig:e.networkTraceConfig}),ei.isDebug&&(ue=!0),window.bonreeJsBridge=mo,ei.isDebug&&fe(\"Bonree javaScript plugin is running by time [\"+(new Date).getTime()+\"]\")},zr.$$standard=!0)}();\nbonreeRUM.sdkConfig({'osType':";
    private static final String b = ",'pageUrl':'";
    private static final String c = ",'reqBodyKey':";
    private static final String d = ",'networkTraceConfig':";
    private static final String e = ",'enableNetworkTrace':";
    private static final String f = ",'webviewID':";
    private static final String g = ",'enableLogger':false});";

    public static String getJs(String str, int i) {
        return getJs(str, 1, i);
    }

    public static String getJs(String str, int i, int i2) {
        String str2;
        String X = a.k().X();
        String R = a.k().R();
        boolean Q = a.k().Q();
        StringBuilder sb = new StringBuilder(a);
        sb.append(i);
        sb.append(b);
        sb.append(str);
        sb.append("'");
        String str3 = "";
        if (TextUtils.isEmpty(X)) {
            str2 = str3;
        } else {
            str2 = c + X;
        }
        sb.append(str2);
        sb.append(e);
        sb.append(Q);
        sb.append(f);
        sb.append(i2);
        if (!TextUtils.isEmpty(R)) {
            str3 = d + R;
        }
        sb.append(str3);
        sb.append(g);
        return sb.toString();
    }
}
